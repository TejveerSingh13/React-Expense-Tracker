/*! For license information please see 2.562354e1.chunk.js.LICENSE.txt */
(this["webpackJsonppractice-project"]=this["webpackJsonppractice-project"]||[]).push([[2],[function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return g})),n.d(t,"b",(function(){return C})),n.d(t,"c",(function(){return T})),n.d(t,"d",(function(){return F})),n.d(t,"e",(function(){return s})),n.d(t,"f",(function(){return u})),n.d(t,"g",(function(){return l})),n.d(t,"h",(function(){return h})),n.d(t,"i",(function(){return R})),n.d(t,"j",(function(){return y})),n.d(t,"k",(function(){return U})),n.d(t,"l",(function(){return p})),n.d(t,"m",(function(){return v})),n.d(t,"n",(function(){return W})),n.d(t,"o",(function(){return Q})),n.d(t,"p",(function(){return A})),n.d(t,"q",(function(){return w})),n.d(t,"r",(function(){return j})),n.d(t,"s",(function(){return b})),n.d(t,"t",(function(){return _})),n.d(t,"u",(function(){return S})),n.d(t,"v",(function(){return E})),n.d(t,"w",(function(){return N})),n.d(t,"x",(function(){return O})),n.d(t,"y",(function(){return L})),n.d(t,"z",(function(){return M})),n.d(t,"A",(function(){return D})),n.d(t,"B",(function(){return G})),n.d(t,"C",(function(){return K})),n.d(t,"D",(function(){return x})),n.d(t,"E",(function(){return V})),n.d(t,"F",(function(){return z})),n.d(t,"G",(function(){return H}));var r=n(3),i=!1,o=!1,a="${JSCORE_VERSION}",s=function(e,t){if(!e)throw u(t)},u=function(e){return new Error("Firebase Database ("+a+") INTERNAL ASSERT FAILED: "+e)},c=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},l={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var o=e[i],a=i+1<e.length,s=a?e[i+1]:0,u=i+2<e.length,c=u?e[i+2]:0,l=o>>2,h=(3&o)<<4|s>>4,f=(15&s)<<2|c>>6,d=63&c;u||(d=64,a||(f=64)),r.push(n[l],n[h],n[f],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(c(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){var a=((7&i)<<18|(63&(o=e[n++]))<<12|(63&(s=e[n++]))<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(a>>10)),t[r++]=String.fromCharCode(56320+(1023&a))}else{o=e[n++];var s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var o=n[e.charAt(i++)],a=i<e.length?n[e.charAt(i)]:0,s=++i<e.length?n[e.charAt(i)]:64,u=++i<e.length?n[e.charAt(i)]:64;if(++i,null==o||null==a||null==s||null==u)throw Error();var c=o<<2|a>>4;if(r.push(c),64!==s){var l=a<<4&240|s>>2;if(r.push(l),64!==u){var h=s<<6&192|u;r.push(h)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},h=function(e){var t=c(e);return l.encodeByteArray(t,!0)},f=function(e){return h(e).replace(/\./g,"")},d=function(e){try{return l.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function p(e){return v(void 0,e)}function v(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=v(e[n],t[n]));return e}var g=function(){function e(){var e=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(t,n){e.resolve=t,e.reject=n}))}return e.prototype.wrapCallback=function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}},e}();function y(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",i=e.iat||0,o=e.sub||e.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object(r.a)({iss:"https://securetoken.google.com/"+n,aud:n,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},e);return[f(JSON.stringify({alg:"none",type:"JWT"})),f(JSON.stringify(a)),""].join(".")}function m(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function b(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(m())}function _(){try{return"[object process]"===Object.prototype.toString.call(e.process)}catch(t){return!1}}function w(){return"object"===typeof self&&self.self===self}function E(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function S(){return!0===i||!0===o}var T=function(e){function t(n,r,i){var o=e.call(this,r)||this;return o.code=n,o.customData=i,o.name="FirebaseError",Object.setPrototypeOf(o,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,C.prototype.create),o}return Object(r.c)(t,e),t}(Error),C=function(){function e(e,t,n){this.service=e,this.serviceName=t,this.errors=n}return e.prototype.create=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=t[0]||{},i=this.service+"/"+e,o=this.errors[e],a=o?I(o,r):"Error",s=this.serviceName+": "+a+" ("+i+").",u=new T(i,s,r);return u},e}();function I(e,t){return e.replace(k,(function(e,n){var r=t[n];return null!=r?String(r):"<"+n+"?>"}))}var k=/\{\$([^}]+)}/g;function O(e){return JSON.parse(e)}function x(e){return JSON.stringify(e)}var P=function(e){var t={},n={},r={},i="";try{var o=e.split(".");t=O(d(o[0])||""),n=O(d(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch(a){}return{header:t,claims:n,data:r,signature:i}},N=function(e){var t=P(e).claims;return!!t&&"object"===typeof t&&t.hasOwnProperty("iat")},A=function(e){var t=P(e).claims;return"object"===typeof t&&!0===t.admin};function R(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function D(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0}function j(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function L(e,t,n){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r}function M(e){for(var t=[],n=function(e,n){Array.isArray(n)?n.forEach((function(n){t.push(encodeURIComponent(e)+"="+encodeURIComponent(n))})):t.push(encodeURIComponent(e)+"="+encodeURIComponent(n))},r=0,i=Object.entries(e);r<i.length;r++){var o=i[r];n(o[0],o[1])}return t.length?"&"+t.join("&"):""}var F=function(){function e(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}return e.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},e.prototype.compress_=function(e,t){t||(t=0);var n=this.W_;if("string"===typeof e)for(var r=0;r<16;r++)n[r]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(r=0;r<16;r++)n[r]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(r=16;r<80;r++){var i=n[r-3]^n[r-8]^n[r-14]^n[r-16];n[r]=4294967295&(i<<1|i>>>31)}var o,a,s=this.chain_[0],u=this.chain_[1],c=this.chain_[2],l=this.chain_[3],h=this.chain_[4];for(r=0;r<80;r++){r<40?r<20?(o=l^u&(c^l),a=1518500249):(o=u^c^l,a=1859775393):r<60?(o=u&c|l&(u|c),a=2400959708):(o=u^c^l,a=3395469782);i=(s<<5|s>>>27)+o+h+a+n[r]&4294967295;h=l,l=c,c=4294967295&(u<<30|u>>>2),u=s,s=i}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+u&4294967295,this.chain_[2]=this.chain_[2]+c&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+h&4294967295},e.prototype.update=function(e,t){if(null!=e){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;r<t;){if(0===o)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"===typeof e){for(;r<t;)if(i[o]=e.charCodeAt(r),++r,++o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<t;)if(i[o]=e[r],++r,++o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=t}},e.prototype.digest=function(){var e=[],t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&t,t/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var i=24;i>=0;i-=8)e[r]=this.chain_[n]>>i&255,++r;return e},e}();function U(e,t){var n=new q(e,t);return n.subscribe.bind(n)}var q=function(){function e(e,t){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((function(){e(n)})).catch((function(e){n.error(e)}))}return e.prototype.next=function(e){this.forEachObserver((function(t){t.next(e)}))},e.prototype.error=function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)},e.prototype.complete=function(){this.forEachObserver((function(e){e.complete()})),this.close()},e.prototype.subscribe=function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;for(var n=0,r=t;n<r.length;n++){var i=r[n];if(i in e&&"function"===typeof e[i])return!0}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=B),void 0===r.error&&(r.error=B),void 0===r.complete&&(r.complete=B);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),o},e.prototype.unsubscribeOne=function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},e.prototype.forEachObserver=function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)},e.prototype.sendOne=function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))},e.prototype.close=function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))},e}();function B(){}var V=function(e,t,n,r){var i;if(r<t?i="at least "+t:r>n&&(i=0===n?"none":"no more than "+n),i)throw new Error(e+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".")};function W(e,t){return e+" failed: "+t+" argument "}function z(e,t,n,r){if((!r||n)&&"function"!==typeof n)throw new Error(W(e,t)+"must be a valid function.")}function H(e,t,n,r){if((!r||n)&&("object"!==typeof n||null===n))throw new Error(W(e,t)+"must be a valid context object.")}var K=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);if(i>=55296&&i<=56319){var o=i-55296;r++,s(r<e.length,"Surrogate pair missing trail surrogate."),i=65536+(o<<10)+(e.charCodeAt(r)-56320)}i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):i<65536?(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},G=function(e){for(var t=0,n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t};function Q(e){return e&&e._delegate?e._delegate:e}}).call(this,n(33))},function(e,t,n){"use strict";e.exports=n(53)},function(e,t,n){"use strict";e.exports=n(61)},function(e,t,n){"use strict";n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return a})),n.d(t,"d",(function(){return s})),n.d(t,"g",(function(){return u})),n.d(t,"e",(function(){return c})),n.d(t,"f",(function(){return l}));var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)};function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var o=function(){return o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},o.apply(this,arguments)};function a(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(t){o(t)}}function s(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function s(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(s){return function(u){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===s[0]||2===s[0])){a=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){a.label=s[1];break}if(6===s[0]&&a.label<i[1]){a.label=i[1],i=s;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(s);break}i[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(u){s=[6,u],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,u])}}}Object.create;function u(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function c(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function l(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}Object.create},function(e,t,n){"use strict";function r(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";(function(e){n.d(t,"b",(function(){return Ae}));var r=n(34),i=n(1),o=n.n(i),a=n(49),s=n.n(a),u=n(50),c=n(51),l=n(36),h=n(24),f=n.n(h);function d(){return(d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var p=function(e,t){for(var n=[e[0]],r=0,i=t.length;r<i;r+=1)n.push(t[r],e[r+1]);return n},v=function(e){return null!==e&&"object"==typeof e&&"[object Object]"===(e.toString?e.toString():Object.prototype.toString.call(e))&&!Object(r.typeOf)(e)},g=Object.freeze([]),y=Object.freeze({});function m(e){return"function"==typeof e}function b(e){return e.displayName||e.name||"Component"}function _(e){return e&&"string"==typeof e.styledComponentId}var w="undefined"!=typeof e&&(Object({NODE_ENV:"production",PUBLIC_URL:"/React-Forms-Project",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_SC_ATTR||Object({NODE_ENV:"production",PUBLIC_URL:"/React-Forms-Project",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).SC_ATTR)||"data-styled",E="undefined"!=typeof window&&"HTMLElement"in window,S=Boolean("boolean"==typeof SC_DISABLE_SPEEDY?SC_DISABLE_SPEEDY:"undefined"!=typeof e&&void 0!==Object({NODE_ENV:"production",PUBLIC_URL:"/React-Forms-Project",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_SC_DISABLE_SPEEDY&&""!==Object({NODE_ENV:"production",PUBLIC_URL:"/React-Forms-Project",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_SC_DISABLE_SPEEDY?"false"!==Object({NODE_ENV:"production",PUBLIC_URL:"/React-Forms-Project",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_SC_DISABLE_SPEEDY&&Object({NODE_ENV:"production",PUBLIC_URL:"/React-Forms-Project",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_SC_DISABLE_SPEEDY:"undefined"!=typeof e&&void 0!==Object({NODE_ENV:"production",PUBLIC_URL:"/React-Forms-Project",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).SC_DISABLE_SPEEDY&&""!==Object({NODE_ENV:"production",PUBLIC_URL:"/React-Forms-Project",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).SC_DISABLE_SPEEDY&&("false"!==Object({NODE_ENV:"production",PUBLIC_URL:"/React-Forms-Project",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).SC_DISABLE_SPEEDY&&Object({NODE_ENV:"production",PUBLIC_URL:"/React-Forms-Project",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).SC_DISABLE_SPEEDY));function T(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw new Error("An error occurred. See https://git.io/JUIaE#"+e+" for more information."+(n.length>0?" Args: "+n.join(", "):""))}var C=function(){function e(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}var t=e.prototype;return t.indexOfGroup=function(e){for(var t=0,n=0;n<e;n++)t+=this.groupSizes[n];return t},t.insertRules=function(e,t){if(e>=this.groupSizes.length){for(var n=this.groupSizes,r=n.length,i=r;e>=i;)(i<<=1)<0&&T(16,""+e);this.groupSizes=new Uint32Array(i),this.groupSizes.set(n),this.length=i;for(var o=r;o<i;o++)this.groupSizes[o]=0}for(var a=this.indexOfGroup(e+1),s=0,u=t.length;s<u;s++)this.tag.insertRule(a,t[s])&&(this.groupSizes[e]++,a++)},t.clearGroup=function(e){if(e<this.length){var t=this.groupSizes[e],n=this.indexOfGroup(e),r=n+t;this.groupSizes[e]=0;for(var i=n;i<r;i++)this.tag.deleteRule(n)}},t.getGroup=function(e){var t="";if(e>=this.length||0===this.groupSizes[e])return t;for(var n=this.groupSizes[e],r=this.indexOfGroup(e),i=r+n,o=r;o<i;o++)t+=this.tag.getRule(o)+"/*!sc*/\n";return t},e}(),I=new Map,k=new Map,O=1,x=function(e){if(I.has(e))return I.get(e);for(;k.has(O);)O++;var t=O++;return I.set(e,t),k.set(t,e),t},P=function(e){return k.get(e)},N=function(e,t){t>=O&&(O=t+1),I.set(e,t),k.set(t,e)},A="style["+w+'][data-styled-version="5.3.6"]',R=new RegExp("^"+w+'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)'),D=function(e,t,n){for(var r,i=n.split(","),o=0,a=i.length;o<a;o++)(r=i[o])&&e.registerName(t,r)},j=function(e,t){for(var n=(t.textContent||"").split("/*!sc*/\n"),r=[],i=0,o=n.length;i<o;i++){var a=n[i].trim();if(a){var s=a.match(R);if(s){var u=0|parseInt(s[1],10),c=s[2];0!==u&&(N(c,u),D(e,c,s[3]),e.getTag().insertRules(u,r)),r.length=0}else r.push(a)}}},L=function(){return n.nc},M=function(e){var t=document.head,n=e||t,r=document.createElement("style"),i=function(e){for(var t=e.childNodes,n=t.length;n>=0;n--){var r=t[n];if(r&&1===r.nodeType&&r.hasAttribute(w))return r}}(n),o=void 0!==i?i.nextSibling:null;r.setAttribute(w,"active"),r.setAttribute("data-styled-version","5.3.6");var a=L();return a&&r.setAttribute("nonce",a),n.insertBefore(r,o),r},F=function(){function e(e){var t=this.element=M(e);t.appendChild(document.createTextNode("")),this.sheet=function(e){if(e.sheet)return e.sheet;for(var t=document.styleSheets,n=0,r=t.length;n<r;n++){var i=t[n];if(i.ownerNode===e)return i}T(17)}(t),this.length=0}var t=e.prototype;return t.insertRule=function(e,t){try{return this.sheet.insertRule(t,e),this.length++,!0}catch(e){return!1}},t.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},t.getRule=function(e){var t=this.sheet.cssRules[e];return void 0!==t&&"string"==typeof t.cssText?t.cssText:""},e}(),U=function(){function e(e){var t=this.element=M(e);this.nodes=t.childNodes,this.length=0}var t=e.prototype;return t.insertRule=function(e,t){if(e<=this.length&&e>=0){var n=document.createTextNode(t),r=this.nodes[e];return this.element.insertBefore(n,r||null),this.length++,!0}return!1},t.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},t.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},e}(),q=function(){function e(e){this.rules=[],this.length=0}var t=e.prototype;return t.insertRule=function(e,t){return e<=this.length&&(this.rules.splice(e,0,t),this.length++,!0)},t.deleteRule=function(e){this.rules.splice(e,1),this.length--},t.getRule=function(e){return e<this.length?this.rules[e]:""},e}(),B=E,V={isServer:!E,useCSSOMInjection:!S},W=function(){function e(e,t,n){void 0===e&&(e=y),void 0===t&&(t={}),this.options=d({},V,{},e),this.gs=t,this.names=new Map(n),this.server=!!e.isServer,!this.server&&E&&B&&(B=!1,function(e){for(var t=document.querySelectorAll(A),n=0,r=t.length;n<r;n++){var i=t[n];i&&"active"!==i.getAttribute(w)&&(j(e,i),i.parentNode&&i.parentNode.removeChild(i))}}(this))}e.registerId=function(e){return x(e)};var t=e.prototype;return t.reconstructWithOptions=function(t,n){return void 0===n&&(n=!0),new e(d({},this.options,{},t),this.gs,n&&this.names||void 0)},t.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},t.getTag=function(){return this.tag||(this.tag=(n=(t=this.options).isServer,r=t.useCSSOMInjection,i=t.target,e=n?new q(i):r?new F(i):new U(i),new C(e)));var e,t,n,r,i},t.hasNameForId=function(e,t){return this.names.has(e)&&this.names.get(e).has(t)},t.registerName=function(e,t){if(x(e),this.names.has(e))this.names.get(e).add(t);else{var n=new Set;n.add(t),this.names.set(e,n)}},t.insertRules=function(e,t,n){this.registerName(e,t),this.getTag().insertRules(x(e),n)},t.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},t.clearRules=function(e){this.getTag().clearGroup(x(e)),this.clearNames(e)},t.clearTag=function(){this.tag=void 0},t.toString=function(){return function(e){for(var t=e.getTag(),n=t.length,r="",i=0;i<n;i++){var o=P(i);if(void 0!==o){var a=e.names.get(o),s=t.getGroup(i);if(a&&s&&a.size){var u=w+".g"+i+'[id="'+o+'"]',c="";void 0!==a&&a.forEach((function(e){e.length>0&&(c+=e+",")})),r+=""+s+u+'{content:"'+c+'"}/*!sc*/\n'}}}return r}(this)},e}(),z=/(a)(d)/gi,H=function(e){return String.fromCharCode(e+(e>25?39:97))};function K(e){var t,n="";for(t=Math.abs(e);t>52;t=t/52|0)n=H(t%52)+n;return(H(t%52)+n).replace(z,"$1-$2")}var G=function(e,t){for(var n=t.length;n;)e=33*e^t.charCodeAt(--n);return e},Q=function(e){return G(5381,e)};function $(e){for(var t=0;t<e.length;t+=1){var n=e[t];if(m(n)&&!_(n))return!1}return!0}var Y=Q("5.3.6"),X=function(){function e(e,t,n){this.rules=e,this.staticRulesId="",this.isStatic=(void 0===n||n.isStatic)&&$(e),this.componentId=t,this.baseHash=G(Y,t),this.baseStyle=n,W.registerId(t)}return e.prototype.generateAndInjectStyles=function(e,t,n){var r=this.componentId,i=[];if(this.baseStyle&&i.push(this.baseStyle.generateAndInjectStyles(e,t,n)),this.isStatic&&!n.hash)if(this.staticRulesId&&t.hasNameForId(r,this.staticRulesId))i.push(this.staticRulesId);else{var o=ve(this.rules,e,t,n).join(""),a=K(G(this.baseHash,o)>>>0);if(!t.hasNameForId(r,a)){var s=n(o,"."+a,void 0,r);t.insertRules(r,a,s)}i.push(a),this.staticRulesId=a}else{for(var u=this.rules.length,c=G(this.baseHash,n.hash),l="",h=0;h<u;h++){var f=this.rules[h];if("string"==typeof f)l+=f;else if(f){var d=ve(f,e,t,n),p=Array.isArray(d)?d.join(""):d;c=G(c,p+h),l+=p}}if(l){var v=K(c>>>0);if(!t.hasNameForId(r,v)){var g=n(l,"."+v,void 0,r);t.insertRules(r,v,g)}i.push(v)}}return i.join(" ")},e}(),J=/^\s*\/\/.*$/gm,Z=[":","[",".","#"];function ee(e){var t,n,r,i,o=void 0===e?y:e,a=o.options,s=void 0===a?y:a,c=o.plugins,l=void 0===c?g:c,h=new u.a(s),f=[],d=function(e){function t(t){if(t)try{e(t+"}")}catch(e){}}return function(n,r,i,o,a,s,u,c,l,h){switch(n){case 1:if(0===l&&64===r.charCodeAt(0))return e(r+";"),"";break;case 2:if(0===c)return r+"/*|*/";break;case 3:switch(c){case 102:case 112:return e(i[0]+r),"";default:return r+(0===h?"/*|*/":"")}case-2:r.split("/*|*/}").forEach(t)}}}((function(e){f.push(e)})),p=function(e,r,o){return 0===r&&-1!==Z.indexOf(o[n.length])||o.match(i)?e:"."+t};function v(e,o,a,s){void 0===s&&(s="&");var u=e.replace(J,""),c=o&&a?a+" "+o+" { "+u+" }":u;return t=s,n=o,r=new RegExp("\\"+n+"\\b","g"),i=new RegExp("(\\"+n+"\\b){2,}"),h(a||!o?"":o,c)}return h.use([].concat(l,[function(e,t,i){2===e&&i.length&&i[0].lastIndexOf(n)>0&&(i[0]=i[0].replace(r,p))},d,function(e){if(-2===e){var t=f;return f=[],t}}])),v.hash=l.length?l.reduce((function(e,t){return t.name||T(15),G(e,t.name)}),5381).toString():"",v}var te=o.a.createContext(),ne=(te.Consumer,o.a.createContext()),re=(ne.Consumer,new W),ie=ee();function oe(){return Object(i.useContext)(te)||re}function ae(){return Object(i.useContext)(ne)||ie}function se(e){var t=Object(i.useState)(e.stylisPlugins),n=t[0],r=t[1],a=oe(),u=Object(i.useMemo)((function(){var t=a;return e.sheet?t=e.sheet:e.target&&(t=t.reconstructWithOptions({target:e.target},!1)),e.disableCSSOMInjection&&(t=t.reconstructWithOptions({useCSSOMInjection:!1})),t}),[e.disableCSSOMInjection,e.sheet,e.target]),c=Object(i.useMemo)((function(){return ee({options:{prefix:!e.disableVendorPrefixes},plugins:n})}),[e.disableVendorPrefixes,n]);return Object(i.useEffect)((function(){s()(n,e.stylisPlugins)||r(e.stylisPlugins)}),[e.stylisPlugins]),o.a.createElement(te.Provider,{value:u},o.a.createElement(ne.Provider,{value:c},e.children))}var ue=function(){function e(e,t){var n=this;this.inject=function(e,t){void 0===t&&(t=ie);var r=n.name+t.hash;e.hasNameForId(n.id,r)||e.insertRules(n.id,r,t(n.rules,r,"@keyframes"))},this.toString=function(){return T(12,String(n.name))},this.name=e,this.id="sc-keyframes-"+e,this.rules=t}return e.prototype.getName=function(e){return void 0===e&&(e=ie),this.name+e.hash},e}(),ce=/([A-Z])/,le=/([A-Z])/g,he=/^ms-/,fe=function(e){return"-"+e.toLowerCase()};function de(e){return ce.test(e)?e.replace(le,fe).replace(he,"-ms-"):e}var pe=function(e){return null==e||!1===e||""===e};function ve(e,t,n,r){if(Array.isArray(e)){for(var i,o=[],a=0,s=e.length;a<s;a+=1)""!==(i=ve(e[a],t,n,r))&&(Array.isArray(i)?o.push.apply(o,i):o.push(i));return o}return pe(e)?"":_(e)?"."+e.styledComponentId:m(e)?"function"!=typeof(u=e)||u.prototype&&u.prototype.isReactComponent||!t?e:ve(e(t),t,n,r):e instanceof ue?n?(e.inject(n,r),e.getName(r)):e:v(e)?function e(t,n){var r,i,o=[];for(var a in t)t.hasOwnProperty(a)&&!pe(t[a])&&(Array.isArray(t[a])&&t[a].isCss||m(t[a])?o.push(de(a)+":",t[a],";"):v(t[a])?o.push.apply(o,e(t[a],a)):o.push(de(a)+": "+(r=a,(null==(i=t[a])||"boolean"==typeof i||""===i?"":"number"!=typeof i||0===i||r in c.a?String(i).trim():i+"px")+";")));return n?[n+" {"].concat(o,["}"]):o}(e):e.toString();var u}var ge=function(e){return Array.isArray(e)&&(e.isCss=!0),e};function ye(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return m(e)||v(e)?ge(ve(p(g,[e].concat(n)))):0===n.length&&1===e.length&&"string"==typeof e[0]?e:ge(ve(p(e,n)))}new Set;var me=function(e,t,n){return void 0===n&&(n=y),e.theme!==n.theme&&e.theme||t||n.theme},be=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,_e=/(^-|-$)/g;function we(e){return e.replace(be,"-").replace(_e,"")}var Ee=function(e){return K(Q(e)>>>0)};function Se(e){return"string"==typeof e&&!0}var Te=function(e){return"function"==typeof e||"object"==typeof e&&null!==e&&!Array.isArray(e)},Ce=function(e){return"__proto__"!==e&&"constructor"!==e&&"prototype"!==e};function Ie(e,t,n){var r=e[n];Te(t)&&Te(r)?ke(r,t):e[n]=t}function ke(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,o=n;i<o.length;i++){var a=o[i];if(Te(a))for(var s in a)Ce(s)&&Ie(e,a[s],s)}return e}var Oe=o.a.createContext();Oe.Consumer;var xe={};function Pe(e,t,n){var r=_(e),a=!Se(e),s=t.attrs,u=void 0===s?g:s,c=t.componentId,h=void 0===c?function(e,t){var n="string"!=typeof e?"sc":we(e);xe[n]=(xe[n]||0)+1;var r=n+"-"+Ee("5.3.6"+n+xe[n]);return t?t+"-"+r:r}(t.displayName,t.parentComponentId):c,p=t.displayName,v=void 0===p?function(e){return Se(e)?"styled."+e:"Styled("+b(e)+")"}(e):p,w=t.displayName&&t.componentId?we(t.displayName)+"-"+t.componentId:t.componentId||h,E=r&&e.attrs?Array.prototype.concat(e.attrs,u).filter(Boolean):u,S=t.shouldForwardProp;r&&e.shouldForwardProp&&(S=t.shouldForwardProp?function(n,r,i){return e.shouldForwardProp(n,r,i)&&t.shouldForwardProp(n,r,i)}:e.shouldForwardProp);var T,C=new X(n,w,r?e.componentStyle:void 0),I=C.isStatic&&0===u.length,k=function(e,t){return function(e,t,n,r){var o=e.attrs,a=e.componentStyle,s=e.defaultProps,u=e.foldedComponentIds,c=e.shouldForwardProp,h=e.styledComponentId,f=e.target,p=function(e,t,n){void 0===e&&(e=y);var r=d({},t,{theme:e}),i={};return n.forEach((function(e){var t,n,o,a=e;for(t in m(a)&&(a=a(r)),a)r[t]=i[t]="className"===t?(n=i[t],o=a[t],n&&o?n+" "+o:n||o):a[t]})),[r,i]}(me(t,Object(i.useContext)(Oe),s)||y,t,o),v=p[0],g=p[1],b=function(e,t,n,r){var i=oe(),o=ae();return t?e.generateAndInjectStyles(y,i,o):e.generateAndInjectStyles(n,i,o)}(a,r,v),_=n,w=g.$as||t.$as||g.as||t.as||f,E=Se(w),S=g!==t?d({},t,{},g):t,T={};for(var C in S)"$"!==C[0]&&"as"!==C&&("forwardedAs"===C?T.as=S[C]:(c?c(C,l.a,w):!E||Object(l.a)(C))&&(T[C]=S[C]));return t.style&&g.style!==t.style&&(T.style=d({},t.style,{},g.style)),T.className=Array.prototype.concat(u,h,b!==h?b:null,t.className,g.className).filter(Boolean).join(" "),T.ref=_,Object(i.createElement)(w,T)}(T,e,t,I)};return k.displayName=v,(T=o.a.forwardRef(k)).attrs=E,T.componentStyle=C,T.displayName=v,T.shouldForwardProp=S,T.foldedComponentIds=r?Array.prototype.concat(e.foldedComponentIds,e.styledComponentId):g,T.styledComponentId=w,T.target=r?e.target:e,T.withComponent=function(e){var r=t.componentId,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(t,["componentId"]),o=r&&r+"-"+(Se(e)?e:we(b(e)));return Pe(e,d({},i,{attrs:E,componentId:o}),n)},Object.defineProperty(T,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(t){this._foldedDefaultProps=r?ke({},e.defaultProps,t):t}}),T.toString=function(){return"."+T.styledComponentId},a&&f()(T,e,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0,withComponent:!0}),T}var Ne=function(e){return function e(t,n,i){if(void 0===i&&(i=y),!Object(r.isValidElementType)(n))return T(1,String(n));var o=function(){return t(n,i,ye.apply(void 0,arguments))};return o.withConfig=function(r){return e(t,n,d({},i,{},r))},o.attrs=function(r){return e(t,n,d({},i,{attrs:Array.prototype.concat(i.attrs,r).filter(Boolean)}))},o}(Pe,e)};["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","textPath","tspan"].forEach((function(e){Ne[e]=Ne(e)}));!function(){function e(e,t){this.rules=e,this.componentId=t,this.isStatic=$(e),W.registerId(this.componentId+1)}var t=e.prototype;t.createStyles=function(e,t,n,r){var i=r(ve(this.rules,t,n,r).join(""),""),o=this.componentId+e;n.insertRules(o,o,i)},t.removeStyles=function(e,t){t.clearRules(this.componentId+e)},t.renderStyles=function(e,t,n,r){e>2&&W.registerId(this.componentId+e),this.removeStyles(e,n),this.createStyles(e,t,n,r)}}();function Ae(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=ye.apply(void 0,[e].concat(n)).join(""),o=Ee(i);return new ue(o,i)}!function(){function e(){var e=this;this._emitSheetCSS=function(){var t=e.instance.toString();if(!t)return"";var n=L();return"<style "+[n&&'nonce="'+n+'"',w+'="true"','data-styled-version="5.3.6"'].filter(Boolean).join(" ")+">"+t+"</style>"},this.getStyleTags=function(){return e.sealed?T(2):e._emitSheetCSS()},this.getStyleElement=function(){var t;if(e.sealed)return T(2);var n=((t={})[w]="",t["data-styled-version"]="5.3.6",t.dangerouslySetInnerHTML={__html:e.instance.toString()},t),r=L();return r&&(n.nonce=r),[o.a.createElement("style",d({},n,{key:"sc-0-0"}))]},this.seal=function(){e.sealed=!0},this.instance=new W({isServer:!0}),this.sealed=!1}var t=e.prototype;t.collectStyles=function(e){return this.sealed?T(2):o.a.createElement(se,{sheet:this.instance},e)},t.interleaveWithNodeStream=function(e){return T(3)}}();t.a=Ne}).call(this,n(26))},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(28);function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],u=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(l){c=!0,i=l}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(e,t)||Object(r.a)(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function i(e){var t=function(e,t){if("object"!==r(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===r(t)?t:String(t)}function o(e,t,n){return(t=i(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}n.d(t,"a",(function(){return s}))},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return C})),n.d(t,"b",(function(){return w})),n.d(t,"c",(function(){return N})),n.d(t,"d",(function(){return _})),n.d(t,"e",(function(){return T})),n.d(t,"f",(function(){return R}));var r=n(16),i=n(1),o=n.n(i),a=n(14),s=n.n(a),u=n(10),c=n(12),l=n(9),h=n(35),f=n.n(h),d=(n(96),n(17)),p=(n(24),1073741823),v="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof e?e:{};function g(e){var t=[];return{on:function(e){t.push(e)},off:function(e){t=t.filter((function(t){return t!==e}))},get:function(){return e},set:function(n,r){e=n,t.forEach((function(t){return t(e,r)}))}}}var y=o.a.createContext||function(e,t){var n,i,a="__create-react-context-"+function(){var e="__global_unique_id__";return v[e]=(v[e]||0)+1}()+"__",u=function(e){function n(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).emitter=g(t.props.value),t}Object(r.a)(n,e);var i=n.prototype;return i.getChildContext=function(){var e;return(e={})[a]=this.emitter,e},i.componentWillReceiveProps=function(e){if(this.props.value!==e.value){var n,r=this.props.value,i=e.value;((o=r)===(a=i)?0!==o||1/o===1/a:o!==o&&a!==a)?n=0:(n="function"===typeof t?t(r,i):p,0!==(n|=0)&&this.emitter.set(e.value,n))}var o,a},i.render=function(){return this.props.children},n}(o.a.Component);u.childContextTypes=((n={})[a]=s.a.object.isRequired,n);var c=function(t){function n(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))||this).observedBits=void 0,e.state={value:e.getValue()},e.onUpdate=function(t,n){0!==((0|e.observedBits)&n)&&e.setState({value:e.getValue()})},e}Object(r.a)(n,t);var i=n.prototype;return i.componentWillReceiveProps=function(e){var t=e.observedBits;this.observedBits=void 0===t||null===t?p:t},i.componentDidMount=function(){this.context[a]&&this.context[a].on(this.onUpdate);var e=this.props.observedBits;this.observedBits=void 0===e||null===e?p:e},i.componentWillUnmount=function(){this.context[a]&&this.context[a].off(this.onUpdate)},i.getValue=function(){return this.context[a]?this.context[a].get():e},i.render=function(){return(e=this.props.children,Array.isArray(e)?e[0]:e)(this.state.value);var e},n}(o.a.Component);return c.contextTypes=((i={})[a]=s.a.object,i),{Provider:u,Consumer:c}},m=function(e){var t=y();return t.displayName=e,t},b=m("Router-History"),_=m("Router"),w=function(e){function t(t){var n;return(n=e.call(this,t)||this).state={location:t.history.location},n._isMounted=!1,n._pendingLocation=null,t.staticContext||(n.unlisten=t.history.listen((function(e){n._pendingLocation=e}))),n}Object(r.a)(t,e),t.computeRootMatch=function(e){return{path:"/",url:"/",params:{},isExact:"/"===e}};var n=t.prototype;return n.componentDidMount=function(){var e=this;this._isMounted=!0,this.unlisten&&this.unlisten(),this.props.staticContext||(this.unlisten=this.props.history.listen((function(t){e._isMounted&&e.setState({location:t})}))),this._pendingLocation&&this.setState({location:this._pendingLocation})},n.componentWillUnmount=function(){this.unlisten&&(this.unlisten(),this._isMounted=!1,this._pendingLocation=null)},n.render=function(){return o.a.createElement(_.Provider,{value:{history:this.props.history,location:this.state.location,match:t.computeRootMatch(this.state.location.pathname),staticContext:this.props.staticContext}},o.a.createElement(b.Provider,{children:this.props.children||null,value:this.props.history}))},t}(o.a.Component);o.a.Component;o.a.Component;var E={},S=0;function T(e,t){void 0===t&&(t={}),("string"===typeof t||Array.isArray(t))&&(t={path:t});var n=t,r=n.path,i=n.exact,o=void 0!==i&&i,a=n.strict,s=void 0!==a&&a,u=n.sensitive,c=void 0!==u&&u;return[].concat(r).reduce((function(t,n){if(!n&&""!==n)return null;if(t)return t;var r=function(e,t){var n=""+t.end+t.strict+t.sensitive,r=E[n]||(E[n]={});if(r[e])return r[e];var i=[],o={regexp:f()(e,i,t),keys:i};return S<1e4&&(r[e]=o,S++),o}(n,{end:o,strict:s,sensitive:c}),i=r.regexp,a=r.keys,u=i.exec(e);if(!u)return null;var l=u[0],h=u.slice(1),d=e===l;return o&&!d?null:{path:n,url:"/"===n&&""===l?"/":l,isExact:d,params:a.reduce((function(e,t,n){return e[t.name]=h[n],e}),{})}}),null)}var C=function(e){function t(){return e.apply(this,arguments)||this}return Object(r.a)(t,e),t.prototype.render=function(){var e=this;return o.a.createElement(_.Consumer,null,(function(t){t||Object(c.a)(!1);var n=e.props.location||t.location,r=e.props.computedMatch?e.props.computedMatch:e.props.path?T(n.pathname,e.props):t.match,i=Object(l.a)({},t,{location:n,match:r}),a=e.props,s=a.children,u=a.component,h=a.render;return Array.isArray(s)&&function(e){return 0===o.a.Children.count(e)}(s)&&(s=null),o.a.createElement(_.Provider,{value:i},i.match?s?"function"===typeof s?s(i):s:u?o.a.createElement(u,i):h?h(i):null:"function"===typeof s?s(i):null)}))},t}(o.a.Component);function I(e){return"/"===e.charAt(0)?e:"/"+e}function k(e,t){if(!e)return t;var n=I(e);return 0!==t.pathname.indexOf(n)?t:Object(l.a)({},t,{pathname:t.pathname.substr(n.length)})}function O(e){return"string"===typeof e?e:Object(u.e)(e)}function x(e){return function(){Object(c.a)(!1)}}function P(){}o.a.Component;var N=function(e){function t(){return e.apply(this,arguments)||this}return Object(r.a)(t,e),t.prototype.render=function(){var e=this;return o.a.createElement(_.Consumer,null,(function(t){t||Object(c.a)(!1);var n,r,i=e.props.location||t.location;return o.a.Children.forEach(e.props.children,(function(e){if(null==r&&o.a.isValidElement(e)){n=e;var a=e.props.path||e.props.from;r=a?T(i.pathname,Object(l.a)({},e.props,{path:a})):t.match}})),r?o.a.cloneElement(n,{location:i,computedMatch:r}):null}))},t}(o.a.Component);var A=o.a.useContext;function R(){return A(b)}}).call(this,n(33))},function(e,t,n){"use strict";function r(){return r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(this,arguments)}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return S})),n.d(t,"b",(function(){return x})),n.d(t,"d",(function(){return N})),n.d(t,"c",(function(){return v})),n.d(t,"f",(function(){return g})),n.d(t,"e",(function(){return p}));var r=n(9);function i(e){return"/"===e.charAt(0)}function o(e,t){for(var n=t,r=n+1,i=e.length;r<i;n+=1,r+=1)e[n]=e[r];e.pop()}var a=function(e,t){void 0===t&&(t="");var n,r=e&&e.split("/")||[],a=t&&t.split("/")||[],s=e&&i(e),u=t&&i(t),c=s||u;if(e&&i(e)?a=r:r.length&&(a.pop(),a=a.concat(r)),!a.length)return"/";if(a.length){var l=a[a.length-1];n="."===l||".."===l||""===l}else n=!1;for(var h=0,f=a.length;f>=0;f--){var d=a[f];"."===d?o(a,f):".."===d?(o(a,f),h++):h&&(o(a,f),h--)}if(!c)for(;h--;h)a.unshift("..");!c||""===a[0]||a[0]&&i(a[0])||a.unshift("");var p=a.join("/");return n&&"/"!==p.substr(-1)&&(p+="/"),p};function s(e){return e.valueOf?e.valueOf():Object.prototype.valueOf.call(e)}var u=function e(t,n){if(t===n)return!0;if(null==t||null==n)return!1;if(Array.isArray(t))return Array.isArray(n)&&t.length===n.length&&t.every((function(t,r){return e(t,n[r])}));if("object"===typeof t||"object"===typeof n){var r=s(t),i=s(n);return r!==t||i!==n?e(r,i):Object.keys(Object.assign({},t,n)).every((function(r){return e(t[r],n[r])}))}return!1},c=n(12);function l(e){return"/"===e.charAt(0)?e:"/"+e}function h(e){return"/"===e.charAt(0)?e.substr(1):e}function f(e,t){return function(e,t){return 0===e.toLowerCase().indexOf(t.toLowerCase())&&-1!=="/?#".indexOf(e.charAt(t.length))}(e,t)?e.substr(t.length):e}function d(e){return"/"===e.charAt(e.length-1)?e.slice(0,-1):e}function p(e){var t=e.pathname,n=e.search,r=e.hash,i=t||"/";return n&&"?"!==n&&(i+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(i+="#"===r.charAt(0)?r:"#"+r),i}function v(e,t,n,i){var o;"string"===typeof e?(o=function(e){var t=e||"/",n="",r="",i=t.indexOf("#");-1!==i&&(r=t.substr(i),t=t.substr(0,i));var o=t.indexOf("?");return-1!==o&&(n=t.substr(o),t=t.substr(0,o)),{pathname:t,search:"?"===n?"":n,hash:"#"===r?"":r}}(e),o.state=t):(void 0===(o=Object(r.a)({},e)).pathname&&(o.pathname=""),o.search?"?"!==o.search.charAt(0)&&(o.search="?"+o.search):o.search="",o.hash?"#"!==o.hash.charAt(0)&&(o.hash="#"+o.hash):o.hash="",void 0!==t&&void 0===o.state&&(o.state=t));try{o.pathname=decodeURI(o.pathname)}catch(s){throw s instanceof URIError?new URIError('Pathname "'+o.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):s}return n&&(o.key=n),i?o.pathname?"/"!==o.pathname.charAt(0)&&(o.pathname=a(o.pathname,i.pathname)):o.pathname=i.pathname:o.pathname||(o.pathname="/"),o}function g(e,t){return e.pathname===t.pathname&&e.search===t.search&&e.hash===t.hash&&e.key===t.key&&u(e.state,t.state)}function y(){var e=null;var t=[];return{setPrompt:function(t){return e=t,function(){e===t&&(e=null)}},confirmTransitionTo:function(t,n,r,i){if(null!=e){var o="function"===typeof e?e(t,n):e;"string"===typeof o?"function"===typeof r?r(o,i):i(!0):i(!1!==o)}else i(!0)},appendListener:function(e){var n=!0;function r(){n&&e.apply(void 0,arguments)}return t.push(r),function(){n=!1,t=t.filter((function(e){return e!==r}))}},notifyListeners:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.forEach((function(e){return e.apply(void 0,n)}))}}}var m=!("undefined"===typeof window||!window.document||!window.document.createElement);function b(e,t){t(window.confirm(e))}var _="popstate",w="hashchange";function E(){try{return window.history.state||{}}catch(e){return{}}}function S(e){void 0===e&&(e={}),m||Object(c.a)(!1);var t=window.history,n=function(){var e=window.navigator.userAgent;return(-1===e.indexOf("Android 2.")&&-1===e.indexOf("Android 4.0")||-1===e.indexOf("Mobile Safari")||-1!==e.indexOf("Chrome")||-1!==e.indexOf("Windows Phone"))&&window.history&&"pushState"in window.history}(),i=!(-1===window.navigator.userAgent.indexOf("Trident")),o=e,a=o.forceRefresh,s=void 0!==a&&a,u=o.getUserConfirmation,h=void 0===u?b:u,g=o.keyLength,S=void 0===g?6:g,T=e.basename?d(l(e.basename)):"";function C(e){var t=e||{},n=t.key,r=t.state,i=window.location,o=i.pathname+i.search+i.hash;return T&&(o=f(o,T)),v(o,r,n)}function I(){return Math.random().toString(36).substr(2,S)}var k=y();function O(e){Object(r.a)(q,e),q.length=t.length,k.notifyListeners(q.location,q.action)}function x(e){(function(e){return void 0===e.state&&-1===navigator.userAgent.indexOf("CriOS")})(e)||A(C(e.state))}function P(){A(C(E()))}var N=!1;function A(e){if(N)N=!1,O();else{k.confirmTransitionTo(e,"POP",h,(function(t){t?O({action:"POP",location:e}):function(e){var t=q.location,n=D.indexOf(t.key);-1===n&&(n=0);var r=D.indexOf(e.key);-1===r&&(r=0);var i=n-r;i&&(N=!0,L(i))}(e)}))}}var R=C(E()),D=[R.key];function j(e){return T+p(e)}function L(e){t.go(e)}var M=0;function F(e){1===(M+=e)&&1===e?(window.addEventListener(_,x),i&&window.addEventListener(w,P)):0===M&&(window.removeEventListener(_,x),i&&window.removeEventListener(w,P))}var U=!1;var q={length:t.length,action:"POP",location:R,createHref:j,push:function(e,r){var i="PUSH",o=v(e,r,I(),q.location);k.confirmTransitionTo(o,i,h,(function(e){if(e){var r=j(o),a=o.key,u=o.state;if(n)if(t.pushState({key:a,state:u},null,r),s)window.location.href=r;else{var c=D.indexOf(q.location.key),l=D.slice(0,c+1);l.push(o.key),D=l,O({action:i,location:o})}else window.location.href=r}}))},replace:function(e,r){var i="REPLACE",o=v(e,r,I(),q.location);k.confirmTransitionTo(o,i,h,(function(e){if(e){var r=j(o),a=o.key,u=o.state;if(n)if(t.replaceState({key:a,state:u},null,r),s)window.location.replace(r);else{var c=D.indexOf(q.location.key);-1!==c&&(D[c]=o.key),O({action:i,location:o})}else window.location.replace(r)}}))},go:L,goBack:function(){L(-1)},goForward:function(){L(1)},block:function(e){void 0===e&&(e=!1);var t=k.setPrompt(e);return U||(F(1),U=!0),function(){return U&&(U=!1,F(-1)),t()}},listen:function(e){var t=k.appendListener(e);return F(1),function(){F(-1),t()}}};return q}var T="hashchange",C={hashbang:{encodePath:function(e){return"!"===e.charAt(0)?e:"!/"+h(e)},decodePath:function(e){return"!"===e.charAt(0)?e.substr(1):e}},noslash:{encodePath:h,decodePath:l},slash:{encodePath:l,decodePath:l}};function I(e){var t=e.indexOf("#");return-1===t?e:e.slice(0,t)}function k(){var e=window.location.href,t=e.indexOf("#");return-1===t?"":e.substring(t+1)}function O(e){window.location.replace(I(window.location.href)+"#"+e)}function x(e){void 0===e&&(e={}),m||Object(c.a)(!1);var t=window.history,n=(window.navigator.userAgent.indexOf("Firefox"),e),i=n.getUserConfirmation,o=void 0===i?b:i,a=n.hashType,s=void 0===a?"slash":a,u=e.basename?d(l(e.basename)):"",h=C[s],g=h.encodePath,_=h.decodePath;function w(){var e=_(k());return u&&(e=f(e,u)),v(e)}var E=y();function S(e){Object(r.a)(q,e),q.length=t.length,E.notifyListeners(q.location,q.action)}var x=!1,P=null;function N(){var e,t,n=k(),r=g(n);if(n!==r)O(r);else{var i=w(),a=q.location;if(!x&&(t=i,(e=a).pathname===t.pathname&&e.search===t.search&&e.hash===t.hash))return;if(P===p(i))return;P=null,function(e){if(x)x=!1,S();else{var t="POP";E.confirmTransitionTo(e,t,o,(function(n){n?S({action:t,location:e}):function(e){var t=q.location,n=j.lastIndexOf(p(t));-1===n&&(n=0);var r=j.lastIndexOf(p(e));-1===r&&(r=0);var i=n-r;i&&(x=!0,L(i))}(e)}))}}(i)}}var A=k(),R=g(A);A!==R&&O(R);var D=w(),j=[p(D)];function L(e){t.go(e)}var M=0;function F(e){1===(M+=e)&&1===e?window.addEventListener(T,N):0===M&&window.removeEventListener(T,N)}var U=!1;var q={length:t.length,action:"POP",location:D,createHref:function(e){var t=document.querySelector("base"),n="";return t&&t.getAttribute("href")&&(n=I(window.location.href)),n+"#"+g(u+p(e))},push:function(e,t){var n="PUSH",r=v(e,void 0,void 0,q.location);E.confirmTransitionTo(r,n,o,(function(e){if(e){var t=p(r),i=g(u+t);if(k()!==i){P=t,function(e){window.location.hash=e}(i);var o=j.lastIndexOf(p(q.location)),a=j.slice(0,o+1);a.push(t),j=a,S({action:n,location:r})}else S()}}))},replace:function(e,t){var n="REPLACE",r=v(e,void 0,void 0,q.location);E.confirmTransitionTo(r,n,o,(function(e){if(e){var t=p(r),i=g(u+t);k()!==i&&(P=t,O(i));var o=j.indexOf(p(q.location));-1!==o&&(j[o]=t),S({action:n,location:r})}}))},go:L,goBack:function(){L(-1)},goForward:function(){L(1)},block:function(e){void 0===e&&(e=!1);var t=E.setPrompt(e);return U||(F(1),U=!0),function(){return U&&(U=!1,F(-1)),t()}},listen:function(e){var t=E.appendListener(e);return F(1),function(){F(-1),t()}}};return q}function P(e,t,n){return Math.min(Math.max(e,t),n)}function N(e){void 0===e&&(e={});var t=e,n=t.getUserConfirmation,i=t.initialEntries,o=void 0===i?["/"]:i,a=t.initialIndex,s=void 0===a?0:a,u=t.keyLength,c=void 0===u?6:u,l=y();function h(e){Object(r.a)(_,e),_.length=_.entries.length,l.notifyListeners(_.location,_.action)}function f(){return Math.random().toString(36).substr(2,c)}var d=P(s,0,o.length-1),g=o.map((function(e){return v(e,void 0,"string"===typeof e?f():e.key||f())})),m=p;function b(e){var t=P(_.index+e,0,_.entries.length-1),r=_.entries[t];l.confirmTransitionTo(r,"POP",n,(function(e){e?h({action:"POP",location:r,index:t}):h()}))}var _={length:g.length,action:"POP",location:g[d],index:d,entries:g,createHref:m,push:function(e,t){var r="PUSH",i=v(e,t,f(),_.location);l.confirmTransitionTo(i,r,n,(function(e){if(e){var t=_.index+1,n=_.entries.slice(0);n.length>t?n.splice(t,n.length-t,i):n.push(i),h({action:r,location:i,index:t,entries:n})}}))},replace:function(e,t){var r="REPLACE",i=v(e,t,f(),_.location);l.confirmTransitionTo(i,r,n,(function(e){e&&(_.entries[_.index]=i,h({action:r,location:i}))}))},go:b,goBack:function(){b(-1)},goForward:function(){b(1)},canGo:function(e){var t=_.index+e;return t>=0&&t<_.entries.length},block:function(e){return void 0===e&&(e=!1),l.setPrompt(e)},listen:function(e){return l.appendListener(e)}};return _}},function(e,t,n){"use strict";var r=n(40),i=Object.prototype.toString;function o(e){return"[object Array]"===i.call(e)}function a(e){return"undefined"===typeof e}function s(e){return null!==e&&"object"===typeof e}function u(e){if("[object Object]"!==i.call(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}function c(e){return"[object Function]"===i.call(e)}function l(e,t){if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),o(e))for(var n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.call(null,e[i],i,e)}e.exports={isArray:o,isArrayBuffer:function(e){return"[object ArrayBuffer]"===i.call(e)},isBuffer:function(e){return null!==e&&!a(e)&&null!==e.constructor&&!a(e.constructor)&&"function"===typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){return"undefined"!==typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"===typeof e},isNumber:function(e){return"number"===typeof e},isObject:s,isPlainObject:u,isUndefined:a,isDate:function(e){return"[object Date]"===i.call(e)},isFile:function(e){return"[object File]"===i.call(e)},isBlob:function(e){return"[object Blob]"===i.call(e)},isFunction:c,isStream:function(e){return s(e)&&c(e.pipe)},isURLSearchParams:function(e){return"undefined"!==typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"===typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!==typeof window&&"undefined"!==typeof document)},forEach:l,merge:function e(){var t={};function n(n,r){u(t[r])&&u(n)?t[r]=e(t[r],n):u(n)?t[r]=e({},n):o(n)?t[r]=n.slice():t[r]=n}for(var r=0,i=arguments.length;r<i;r++)l(arguments[r],n);return t},extend:function(e,t,n){return l(t,(function(t,i){e[i]=n&&"function"===typeof t?r(t,n):t})),e},trim:function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r="Invariant failed";function i(e,t){if(!e)throw new Error(r)}},function(e,t,n){"use strict";function r(e){return r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"Col",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(t,"Container",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"Hidden",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(t,"Row",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(t,"ScreenClassContext",{enumerable:!0,get:function(){return l.ScreenClassContext}}),Object.defineProperty(t,"ScreenClassProvider",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(t,"ScreenClassRender",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(t,"Visible",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(t,"setConfiguration",{enumerable:!0,get:function(){return h.setConfiguration}}),Object.defineProperty(t,"useScreenClass",{enumerable:!0,get:function(){return f.useScreenClass}});var i=p(n(62)),o=p(n(70)),a=p(n(38)),s=p(n(72)),u=p(n(74)),c=p(n(76)),l=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=o?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(i,a,s):i[a]=e[a]}i.default=e,n&&n.set(e,i);return i}(n(39)),h=n(19),f=n(31);function d(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function p(e){return e&&e.__esModule?e:{default:e}}},function(e,t,n){e.exports=n(63)()},function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return u})),n.d(t,"c",(function(){return s}));var r=n(3),i=n(0),o=function(){function e(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return e.prototype.setInstantiationMode=function(e){return this.instantiationMode=e,this},e.prototype.setMultipleInstances=function(e){return this.multipleInstances=e,this},e.prototype.setServiceProps=function(e){return this.serviceProps=e,this},e.prototype.setInstanceCreatedCallback=function(e){return this.onInstanceCreated=e,this},e}(),a="[DEFAULT]",s=function(){function e(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return e.prototype.get=function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new i.a;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(o){}}return this.instancesDeferred.get(t).promise},e.prototype.getImmediate=function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}},e.prototype.getComponent=function(){return this.component},e.prototype.setComponent=function(e){var t,n;if(e.name!==this.name)throw Error("Mismatching Component "+e.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:a})}catch(f){}try{for(var i=Object(r.g)(this.instancesDeferred.entries()),o=i.next();!o.done;o=i.next()){var s=Object(r.e)(o.value,2),u=s[0],c=s[1],l=this.normalizeInstanceIdentifier(u);try{var h=this.getOrInitializeService({instanceIdentifier:l});c.resolve(h)}catch(f){}}}catch(d){t={error:d}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}}},e.prototype.clearInstance=function(e){void 0===e&&(e=a),this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)},e.prototype.delete=function(){return Object(r.b)(this,void 0,void 0,(function(){var e;return Object(r.d)(this,(function(t){switch(t.label){case 0:return e=Array.from(this.instances.values()),[4,Promise.all(Object(r.f)(Object(r.f)([],Object(r.e)(e.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()})))),Object(r.e)(e.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))))];case 1:return t.sent(),[2]}}))}))},e.prototype.isComponentSet=function(){return null!=this.component},e.prototype.isInitialized=function(e){return void 0===e&&(e=a),this.instances.has(e)},e.prototype.getOptions=function(e){return void 0===e&&(e=a),this.instancesOptions.get(e)||{}},e.prototype.initialize=function(e){var t,n;void 0===e&&(e={});var i=e.options,o=void 0===i?{}:i,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(this.name+"("+a+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var s=this.getOrInitializeService({instanceIdentifier:a,options:o});try{for(var u=Object(r.g)(this.instancesDeferred.entries()),c=u.next();!c.done;c=u.next()){var l=Object(r.e)(c.value,2),h=l[0],f=l[1];a===this.normalizeInstanceIdentifier(h)&&f.resolve(s)}}catch(d){t={error:d}}finally{try{c&&!c.done&&(n=u.return)&&n.call(u)}finally{if(t)throw t.error}}return s},e.prototype.onInit=function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var o=this.instances.get(r);return o&&e(o,r),function(){i.delete(e)}},e.prototype.invokeOnInitCallbacks=function(e,t){var n,i,o=this.onInitCallbacks.get(t);if(o)try{for(var a=Object(r.g)(o),s=a.next();!s.done;s=a.next()){var u=s.value;try{u(e,t)}catch(c){}}}catch(l){n={error:l}}finally{try{s&&!s.done&&(i=a.return)&&i.call(a)}finally{if(n)throw n.error}}},e.prototype.getOrInitializeService=function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,o=this.instances.get(n);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===a?void 0:t),options:i}),this.instances.set(n,o),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(o,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,o)}catch(s){}return o||null},e.prototype.normalizeInstanceIdentifier=function(e){return void 0===e&&(e=a),this.component?this.component.multipleInstances?e:a:e},e.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},e}();var u=function(){function e(e){this.name=e,this.providers=new Map}return e.prototype.addComponent=function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component "+e.name+" has already been registered with "+this.name);t.setComponent(e)},e.prototype.addOrOverwriteComponent=function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)},e.prototype.getProvider=function(e){if(this.providers.has(e))return this.providers.get(e);var t=new s(e,this);return this.providers.set(e,t),t},e.prototype.getProviders=function(){return Array.from(this.providers.values())},e}()},function(e,t,n){"use strict";function r(e,t){return r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},r(e,t)}function i(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,r(e,t)}n.d(t,"a",(function(){return i}))},function(e,t,n){"use strict";function r(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";function r(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}var i;n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return h})),n.d(t,"c",(function(){return f})),n.d(t,"d",(function(){return d}));var o,a=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(o||(o={}));var s={debug:o.DEBUG,verbose:o.VERBOSE,info:o.INFO,warn:o.WARN,error:o.ERROR,silent:o.SILENT},u=o.INFO,c=((i={})[o.DEBUG]="log",i[o.VERBOSE]="log",i[o.INFO]="info",i[o.WARN]="warn",i[o.ERROR]="error",i),l=function(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(t<e.logLevel)){var o=(new Date).toISOString(),a=c[t];if(!a)throw new Error("Attempted to log a message with an invalid logType (value: "+t+")");console[a].apply(console,r(["["+o+"]  "+e.name+":"],n))}},h=function(){function e(e){this.name=e,this._logLevel=u,this._logHandler=l,this._userLogHandler=null,a.push(this)}return Object.defineProperty(e.prototype,"logLevel",{get:function(){return this._logLevel},set:function(e){if(!(e in o))throw new TypeError('Invalid value "'+e+'" assigned to `logLevel`');this._logLevel=e},enumerable:!1,configurable:!0}),e.prototype.setLogLevel=function(e){this._logLevel="string"===typeof e?s[e]:e},Object.defineProperty(e.prototype,"logHandler",{get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e},enumerable:!1,configurable:!0}),e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.DEBUG],e)),this._logHandler.apply(this,r([this,o.DEBUG],e))},e.prototype.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.VERBOSE],e)),this._logHandler.apply(this,r([this,o.VERBOSE],e))},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.INFO],e)),this._logHandler.apply(this,r([this,o.INFO],e))},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.WARN],e)),this._logHandler.apply(this,r([this,o.WARN],e))},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.ERROR],e)),this._logHandler.apply(this,r([this,o.ERROR],e))},e}();function f(e){a.forEach((function(t){t.setLogLevel(e)}))}function d(e,t){for(var n=function(n){var r=null;t&&t.level&&(r=s[t.level]),n.userLogHandler=null===e?null:function(t,n){for(var i=[],a=2;a<arguments.length;a++)i[a-2]=arguments[a];var s=i.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==r&&void 0!==r?r:t.logLevel)&&e({level:o[n].toLowerCase(),message:s,args:i,type:t.name})}},r=0,i=a;r<i.length;r++){n(i[r])}}},function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0}),t.setConfiguration=t.getConfiguration=void 0;var a={breakpoints:[576,768,992,1200,1600],containerWidths:[540,750,960,1140,1540],gutterWidth:30,gridColumns:12,defaultScreenClass:"xxl",maxScreenClass:"xxl"};t.getConfiguration=function(){return a};t.setConfiguration=function(e){a=i(i({},a),e)}},function(e,t,n){e.exports=n(77)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"Div",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(t,"Span",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(t,"Window",{enumerable:!0,get:function(){return o.default}});var r=a(n(66)),i=a(n(67)),o=a(n(68));function a(e){return e&&e.__esModule?e:{default:e}}},function(e,t,n){"use strict";function r(e){return r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=u(n(1)),o=u(n(14)),a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var u=o?Object.getOwnPropertyDescriptor(e,a):null;u&&(u.get||u.set)?Object.defineProperty(i,a,u):i[a]=e[a]}i.default=e,n&&n.set(e,i);return i}(n(39));function s(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function u(e){return e&&e.__esModule?e:{default:e}}var c=function(e){var t=e.children;return i.default.createElement(a.ScreenClassContext.Consumer,null,(function(e){return e===a.NO_PROVIDER_FLAG?i.default.createElement(a.default,null,i.default.createElement(a.ScreenClassContext.Consumer,null,(function(e){return t(e)}))):t(e)}))};c.propTypes={children:o.default.func.isRequired};var l=c;t.default=l},function(e,t,n){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";var r=n(59),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function u(e){return r.isMemo(e)?a:s[e.$$typeof]||i}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[r.Memo]=a;var c=Object.defineProperty,l=Object.getOwnPropertyNames,h=Object.getOwnPropertySymbols,f=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=d(n);i&&i!==p&&e(t,i,r)}var a=l(n);h&&(a=a.concat(h(n)));for(var s=u(t),v=u(n),g=0;g<a.length;++g){var y=a[g];if(!o[y]&&(!r||!r[y])&&(!v||!v[y])&&(!s||!s[y])){var m=f(n,y);try{c(t,y,m)}catch(b){}}}}return t}},function(e,t,n){"use strict";var r,i,o=n(3),a=n(0),s=n(15),u=n(18),c=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r["invalid-log-argument"]="First argument to `onLog` must be null or a function.",r),l=new a.b("app","Firebase",c),h="@firebase/app",f="[DEFAULT]",d=((i={})[h]="fire-core",i["@firebase/analytics"]="fire-analytics",i["@firebase/app-check"]="fire-app-check",i["@firebase/auth"]="fire-auth",i["@firebase/database"]="fire-rtdb",i["@firebase/functions"]="fire-fn",i["@firebase/installations"]="fire-iid",i["@firebase/messaging"]="fire-fcm",i["@firebase/performance"]="fire-perf",i["@firebase/remote-config"]="fire-rc",i["@firebase/storage"]="fire-gcs",i["@firebase/firestore"]="fire-fst",i["fire-js"]="fire-js",i["firebase-wrapper"]="fire-js-all",i),p=new u.b("@firebase/app"),v=function(){function e(e,t,n){var r=this;this.firebase_=n,this.isDeleted_=!1,this.name_=t.name,this.automaticDataCollectionEnabled_=t.automaticDataCollectionEnabled||!1,this.options_=Object(a.l)(e),this.container=new s.b(t.name),this._addComponent(new s.a("app",(function(){return r}),"PUBLIC")),this.firebase_.INTERNAL.components.forEach((function(e){return r._addComponent(e)}))}return Object.defineProperty(e.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(e){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),e.prototype.delete=function(){var e=this;return new Promise((function(t){e.checkDestroyed_(),t()})).then((function(){return e.firebase_.INTERNAL.removeApp(e.name_),Promise.all(e.container.getProviders().map((function(e){return e.delete()})))})).then((function(){e.isDeleted_=!0}))},e.prototype._getService=function(e,t){var n;void 0===t&&(t=f),this.checkDestroyed_();var r=this.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(n=r.getComponent())||void 0===n?void 0:n.instantiationMode)||r.initialize(),r.getImmediate({identifier:t})},e.prototype._removeServiceInstance=function(e,t){void 0===t&&(t=f),this.container.getProvider(e).clearInstance(t)},e.prototype._addComponent=function(e){try{this.container.addComponent(e)}catch(t){p.debug("Component "+e.name+" failed to register with FirebaseApp "+this.name,t)}},e.prototype._addOrOverwriteComponent=function(e){this.container.addOrOverwriteComponent(e)},e.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},e.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw l.create("app-deleted",{appName:this.name_})},e}();v.prototype.name&&v.prototype.options||v.prototype.delete||console.log("dc");var g=function e(){var t=function(e){var t={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"===typeof i&&null!==i||(i={name:i});var o=i;void 0===o.name&&(o.name=f);var s=o.name;if("string"!==typeof s||!s)throw l.create("bad-app-name",{appName:String(s)});if(Object(a.i)(t,s))throw l.create("duplicate-app",{appName:s});var u=new e(n,o,r);return t[s]=u,u},app:i,registerVersion:function(e,t,n){var r,i=null!==(r=d[e])&&void 0!==r?r:e;n&&(i+="-"+n);var a=i.match(/\s|\//),u=t.match(/\s|\//);if(a||u){var c=['Unable to register library "'+i+'" with version "'+t+'":'];return a&&c.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),a&&u&&c.push("and"),u&&c.push('version name "'+t+'" contains illegal characters (whitespace or "/")'),void p.warn(c.join(" "))}o(new s.a(i+"-version",(function(){return{library:i,version:t}}),"VERSION"))},setLogLevel:u.c,onLog:function(e,t){if(null!==e&&"function"!==typeof e)throw l.create("invalid-log-argument");Object(u.d)(e,t)},apps:null,SDK_VERSION:"8.10.0",INTERNAL:{registerComponent:o,removeApp:function(e){delete t[e]},components:n,useAsService:function(e,t){return"serverAuth"===t?null:t}}};function i(e){if(e=e||f,!Object(a.i)(t,e))throw l.create("no-app",{appName:e});return t[e]}function o(o){var s=o.name;if(n.has(s))return p.debug("There were multiple attempts to register component "+s+"."),"PUBLIC"===o.type?r[s]:null;if(n.set(s,o),"PUBLIC"===o.type){var u=function(e){if(void 0===e&&(e=i()),"function"!==typeof e[s])throw l.create("invalid-app-argument",{appName:s});return e[s]()};void 0!==o.serviceProps&&Object(a.m)(u,o.serviceProps),r[s]=u,e.prototype[s]=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this._getService.bind(this,s).apply(this,o.multipleInstances?e:[])}}for(var c=0,h=Object.keys(t);c<h.length;c++){var f=h[c];t[f]._addComponent(o)}return"PUBLIC"===o.type?r[s]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(t).map((function(e){return t[e]}))}}),i.App=e,r}(v);return t.INTERNAL=Object(o.a)(Object(o.a)({},t.INTERNAL),{createFirebaseNamespace:e,extendNamespace:function(e){Object(a.m)(t,e)},createSubscribe:a.k,ErrorFactory:a.b,deepExtend:a.m}),t}(),y=function(){function e(e){this.container=e}return e.prototype.getPlatformInfoString=function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return t.library+"/"+t.version}return null})).filter((function(e){return e})).join(" ")},e}();if(Object(a.q)()&&void 0!==self.firebase){p.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var m=self.firebase.SDK_VERSION;m&&m.indexOf("LITE")>=0&&p.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var b=g.initializeApp;g.initializeApp=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Object(a.t)()&&p.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),b.apply(void 0,e)};var _=g;!function(e,t){e.INTERNAL.registerComponent(new s.a("platform-logger",(function(e){return new y(e)}),"PRIVATE")),e.registerVersion(h,"0.6.30",t),e.registerVersion("fire-js","")}(_),t.a=_},function(e,t){var n,r,i=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(e){if(n===setTimeout)return setTimeout(e,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"===typeof setTimeout?setTimeout:o}catch(e){n=o}try{r="function"===typeof clearTimeout?clearTimeout:a}catch(e){r=a}}();var u,c=[],l=!1,h=-1;function f(){l&&u&&(l=!1,u.length?c=u.concat(c):h=-1,c.length&&d())}function d(){if(!l){var e=s(f);l=!0;for(var t=c.length;t;){for(u=c,c=[];++h<t;)u&&u[h].run();h=-1,t=c.length}u=null,l=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function v(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new p(e,t)),1!==c.length||l||s(d)},p.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=v,i.addListener=v,i.once=v,i.off=v,i.removeListener=v,i.removeAllListeners=v,i.emit=v,i.prependListener=v,i.prependOnceListener=v,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var r=n(8),i=n(16),o=n(1),a=n.n(o),s=n(10),u=n(9),c=n(17),l=n(12);a.a.Component;var h=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).history=Object(s.b)(t.props),t}return Object(i.a)(t,e),t.prototype.render=function(){return a.a.createElement(r.b,{history:this.history,children:this.props.children})},t}(a.a.Component);var f=function(e,t){return"function"===typeof e?e(t):e},d=function(e,t){return"string"===typeof e?Object(s.c)(e,null,null,t):e},p=function(e){return e},v=a.a.forwardRef;"undefined"===typeof v&&(v=p);var g=v((function(e,t){var n=e.innerRef,r=e.navigate,i=e.onClick,o=Object(c.a)(e,["innerRef","navigate","onClick"]),s=o.target,l=Object(u.a)({},o,{onClick:function(e){try{i&&i(e)}catch(t){throw e.preventDefault(),t}e.defaultPrevented||0!==e.button||s&&"_self"!==s||function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)||(e.preventDefault(),r())}});return l.ref=p!==v&&t||n,a.a.createElement("a",l)}));var y=v((function(e,t){var n=e.component,i=void 0===n?g:n,o=e.replace,h=e.to,y=e.innerRef,m=Object(c.a)(e,["component","replace","to","innerRef"]);return a.a.createElement(r.d.Consumer,null,(function(e){e||Object(l.a)(!1);var n=e.history,r=d(f(h,e.location),e.location),c=r?n.createHref(r):"",g=Object(u.a)({},m,{href:c,navigate:function(){var t=f(h,e.location),r=Object(s.e)(e.location)===Object(s.e)(d(t));(o||r?n.replace:n.push)(t)}});return p!==v?g.ref=t||y:g.innerRef=y,a.a.createElement(i,g)}))})),m=function(e){return e},b=a.a.forwardRef;"undefined"===typeof b&&(b=m);b((function(e,t){var n=e["aria-current"],i=void 0===n?"page":n,o=e.activeClassName,s=void 0===o?"active":o,h=e.activeStyle,p=e.className,v=e.exact,g=e.isActive,_=e.location,w=e.sensitive,E=e.strict,S=e.style,T=e.to,C=e.innerRef,I=Object(c.a)(e,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","sensitive","strict","style","to","innerRef"]);return a.a.createElement(r.d.Consumer,null,(function(e){e||Object(l.a)(!1);var n=_||e.location,o=d(f(T,n),n),c=o.pathname,k=c&&c.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),O=k?Object(r.e)(n.pathname,{path:k,exact:v,sensitive:w,strict:E}):null,x=!!(g?g(O,n):O),P="function"===typeof p?p(x):p,N="function"===typeof S?S(x):S;x&&(P=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((function(e){return e})).join(" ")}(P,s),N=Object(u.a)({},N,h));var A=Object(u.a)({"aria-current":x&&i||null,className:P,style:N,to:o},I);return m!==b?A.ref=t||C:A.innerRef=C,a.a.createElement(y,A)}))}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(23);function i(e,t){if(e){if("string"===typeof e)return Object(r.a)(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Object(r.a)(e,t):void 0}}},function(e,t,n){(function(t,n){e.exports=function(){"use strict";!function(e){var t,n,r,i,o,a,s,u,c,l;function h(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function f(e){return"string"!=typeof e?String(e):e}function d(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return n&&(t[Symbol.iterator]=function(){return t}),t}function p(e){this.map={},e instanceof p?e.forEach((function(e,t){this.append(t,e)}),this):Array.isArray(e)?e.forEach((function(e){this.append(e[0],e[1])}),this):e&&Object.getOwnPropertyNames(e).forEach((function(t){this.append(t,e[t])}),this)}function v(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function g(e){return new Promise((function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}}))}function y(e){var t=new FileReader,n=g(t);return t.readAsArrayBuffer(e),n}function m(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function b(){return this.bodyUsed=!1,this._initBody=function(e){if(this._bodyInit=e)if("string"==typeof e)this._bodyText=e;else if(r&&Blob.prototype.isPrototypeOf(e))this._bodyBlob=e;else if(i&&FormData.prototype.isPrototypeOf(e))this._bodyFormData=e;else if(t&&URLSearchParams.prototype.isPrototypeOf(e))this._bodyText=e.toString();else if(o&&r&&s(e))this._bodyArrayBuffer=m(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!o||!ArrayBuffer.prototype.isPrototypeOf(e)&&!u(e))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=m(e)}else this._bodyText="";this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):t&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},r&&(this.blob=function(){var e=v(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?v(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(y)}),this.text=function(){var e,t,n=v(this);if(n)return n;if(this._bodyBlob)return e=this._bodyBlob,n=g(t=new FileReader),t.readAsText(e),n;if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),n=new Array(t.length),r=0;r<t.length;r++)n[r]=String.fromCharCode(t[r]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},i&&(this.formData=function(){return this.text().then(w)}),this.json=function(){return this.text().then(JSON.parse)},this}function _(e,t){var n,r=(t=t||{}).body;if(e instanceof _){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new p(e.headers)),this.method=e.method,this.mode=e.mode,r||null==e._bodyInit||(r=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"omit",!t.headers&&this.headers||(this.headers=new p(t.headers)),this.method=(e=(n=t.method||this.method||"GET").toUpperCase(),-1<c.indexOf(e)?e:n),this.mode=t.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&r)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(r)}function w(e){var t=new FormData;return e.trim().split("&").forEach((function(e){var n;e&&(e=(n=e.split("=")).shift().replace(/\+/g," "),n=n.join("=").replace(/\+/g," "),t.append(decodeURIComponent(e),decodeURIComponent(n)))})),t}function E(e,t){t=t||{},this.type="default",this.status=void 0===t.status?200:t.status,this.ok=200<=this.status&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new p(t.headers),this.url=t.url||"",this._initBody(e)}e.fetch||(t="URLSearchParams"in e,n="Symbol"in e&&"iterator"in Symbol,r="FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),i="FormData"in e,(o="ArrayBuffer"in e)&&(a=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],s=function(e){return e&&DataView.prototype.isPrototypeOf(e)},u=ArrayBuffer.isView||function(e){return e&&-1<a.indexOf(Object.prototype.toString.call(e))}),p.prototype.append=function(e,t){e=h(e),t=f(t);var n=this.map[e];this.map[e]=n?n+","+t:t},p.prototype.delete=function(e){delete this.map[h(e)]},p.prototype.get=function(e){return e=h(e),this.has(e)?this.map[e]:null},p.prototype.has=function(e){return this.map.hasOwnProperty(h(e))},p.prototype.set=function(e,t){this.map[h(e)]=f(t)},p.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},p.prototype.keys=function(){var e=[];return this.forEach((function(t,n){e.push(n)})),d(e)},p.prototype.values=function(){var e=[];return this.forEach((function(t){e.push(t)})),d(e)},p.prototype.entries=function(){var e=[];return this.forEach((function(t,n){e.push([n,t])})),d(e)},n&&(p.prototype[Symbol.iterator]=p.prototype.entries),c=["DELETE","GET","HEAD","OPTIONS","POST","PUT"],_.prototype.clone=function(){return new _(this,{body:this._bodyInit})},b.call(_.prototype),b.call(E.prototype),E.prototype.clone=function(){return new E(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new p(this.headers),url:this.url})},E.error=function(){var e=new E(null,{status:0,statusText:""});return e.type="error",e},l=[301,302,303,307,308],E.redirect=function(e,t){if(-1===l.indexOf(t))throw new RangeError("Invalid status code");return new E(null,{status:t,headers:{location:e}})},e.Headers=p,e.Request=_,e.Response=E,e.fetch=function(e,t){return new Promise((function(n,i){var o=new _(e,t),a=new XMLHttpRequest;a.onload=function(){var e,t={status:a.status,statusText:a.statusText,headers:(r=a.getAllResponseHeaders()||"",e=new p,r.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach((function(t){var n=t.split(":");(t=n.shift().trim())&&(n=n.join(":").trim(),e.append(t,n))})),e)};t.url="responseURL"in a?a.responseURL:t.headers.get("X-Request-URL");var r="response"in a?a.response:a.responseText;n(new E(r,t))},a.onerror=function(){i(new TypeError("Network request failed"))},a.ontimeout=function(){i(new TypeError("Network request failed"))},a.open(o.method,o.url,!0),"include"===o.credentials?a.withCredentials=!0:"omit"===o.credentials&&(a.withCredentials=!1),"responseType"in a&&r&&(a.responseType="blob"),o.headers.forEach((function(e,t){a.setRequestHeader(t,e)})),a.send(void 0===o._bodyInit?null:o._bodyInit)}))},e.fetch.polyfill=!0)}("undefined"!=typeof self?self:void 0);var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof t?t:"undefined"!=typeof self?self:{};function r(e){var t={exports:{}};return e(t,t.exports),t.exports}function i(e){try{return!!e()}catch(e){return!0}}function o(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}function a(e){return w.call(e).slice(8,-1)}function s(e){if(null==e)throw TypeError("Can't call method on "+e);return e}function u(e){return S(s(e))}function c(e){return"object"==typeof e?null!==e:"function"==typeof e}function l(e,t){if(!c(e))return e;var n,r;if(t&&"function"==typeof(n=e.toString)&&!c(r=n.call(e)))return r;if("function"==typeof(n=e.valueOf)&&!c(r=n.call(e)))return r;if(!t&&"function"==typeof(n=e.toString)&&!c(r=n.call(e)))return r;throw TypeError("Can't convert object to primitive value")}function h(e){return Object(s(e))}function f(e){return k?I.createElement(e):{}}function d(e){if(!c(e))throw TypeError(String(e)+" is not an object");return e}function p(t,n){try{R(g,t,n)}catch(e){g[t]=n}return n}var v=function(e){return e&&e.Math==Math&&e},g=v("object"==typeof globalThis&&globalThis)||v("object"==typeof window&&window)||v("object"==typeof self&&self)||v("object"==typeof e&&e)||function(){return this}()||Function("return this")(),y=!i((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})),m={}.propertyIsEnumerable,b=Object.getOwnPropertyDescriptor,_={f:b&&!m.call({1:2},1)?function(e){return!!(e=b(this,e))&&e.enumerable}:m},w={}.toString,E="".split,S=i((function(){return!Object("z").propertyIsEnumerable(0)}))?function(e){return"String"==a(e)?E.call(e,""):Object(e)}:Object,T={}.hasOwnProperty,C=Object.hasOwn||function(e,t){return T.call(h(e),t)},I=g.document,k=c(I)&&c(I.createElement),O=!y&&!i((function(){return 7!=Object.defineProperty(f("div"),"a",{get:function(){return 7}}).a})),x=Object.getOwnPropertyDescriptor,P={f:y?x:function(e,t){if(e=u(e),t=l(t,!0),O)try{return x(e,t)}catch(e){}if(C(e,t))return o(!_.f.call(e,t),e[t])}},N=Object.defineProperty,A={f:y?N:function(e,t,n){if(d(e),t=l(t,!0),d(n),O)try{return N(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},R=y?function(e,t,n){return A.f(e,t,o(1,n))}:function(e,t,n){return e[t]=n,e},D=g[Ce="__core-js_shared__"]||p(Ce,{}),j=Function.toString;function L(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++$+Y).toString(36)}"function"!=typeof D.inspectSource&&(D.inspectSource=function(e){return j.call(e)});var M,F,U,q,B,V,W,z,H=D.inspectSource,K="function"==typeof(Ae=g.WeakMap)&&/native code/.test(H(Ae)),G=!1,Q=r((function(e){(e.exports=function(e,t){return D[e]||(D[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.15.1",mode:"global",copyright:"\xa9 2021 Denis Pushkarev (zloirock.ru)"})})),$=0,Y=Math.random(),X=Q("keys"),J=(v=function(e){return X[e]||(X[e]=L(e))},{}),Z="Object already initialized";function ee(e){return"function"==typeof e?e:void 0}function te(e,t){return arguments.length<2?ee(fe[e])||ee(g[e]):fe[e]&&fe[e][t]||g[e]&&g[e][t]}function ne(e){return isNaN(e=+e)?0:(0<e?pe:de)(e)}function re(e){return 0<e?ve(ne(e),9007199254740991):0}function ie(e,t){var n,r=u(e),i=0,o=[];for(n in r)!C(J,n)&&C(r,n)&&o.push(n);for(;t.length>i;)C(r,n=t[i++])&&(~me(o,n)||o.push(n));return o}function oe(e,t){for(var n=Se(t),r=A.f,i=P.f,o=0;o<n.length;o++){var a=n[o];C(e,a)||r(e,a,i(t,a))}}function ae(e,t){var n,r,i,o=e.target,a=e.global,s=e.stat,u=a?g:s?g[o]||p(o,{}):(g[o]||{}).prototype;if(u)for(n in t){if(r=t[n],i=e.noTargetGet?(i=Ne(u,n))&&i.value:u[n],!Pe(a?n:o+(s?".":"#")+n,e.forced)&&void 0!==i){if(typeof r==typeof i)continue;oe(r,i)}(e.sham||i&&i.sham)&&R(r,"sham",!0),he(u,n,r,e)}}function se(){}function ue(e){return"<script>"+e+"</"+Be+">"}e=g.WeakMap,W=K||D.state?(M=D.state||(D.state=new e),F=M.get,U=M.has,q=M.set,B=function(e,t){if(U.call(M,e))throw new TypeError(Z);return t.facade=e,q.call(M,e,t),t},V=function(e){return F.call(M,e)||{}},function(e){return U.call(M,e)}):(z=v("state"),J[z]=!0,B=function(e,t){if(C(e,z))throw new TypeError(Z);return t.facade=e,R(e,z,t),t},V=function(e){return C(e,z)?e[z]:{}},function(e){return C(e,z)});var ce,le={set:B,get:V,has:W,enforce:function(e){return W(e)?V(e):B(e,{})},getterFor:function(e){return function(t){var n;if(!c(t)||(n=V(t)).type!==e)throw TypeError("Incompatible receiver, "+e+" required");return n}}},he=r((function(e){var t=le.get,n=le.enforce,r=String(String).split("String");(e.exports=function(e,t,i,o){var a=!!o&&!!o.unsafe,s=!!o&&!!o.enumerable,u=!!o&&!!o.noTargetGet;"function"==typeof i&&("string"!=typeof t||C(i,"name")||R(i,"name",t),(o=n(i)).source||(o.source=r.join("string"==typeof t?t:""))),e!==g?(a?!u&&e[t]&&(s=!0):delete e[t],s?e[t]=i:R(e,t,i)):s?e[t]=i:p(t,i)})(Function.prototype,"toString",(function(){return"function"==typeof this&&t(this).source||H(this)}))})),fe=g,de=Math.ceil,pe=Math.floor,ve=Math.min,ge=Math.max,ye=Math.min,me=(m=function(e){return function(t,n,r){var i,o=u(t),a=re(o.length),s=function(e,t){return(e=ne(e))<0?ge(e+t,0):ye(e,t)}(r,a);if(e&&n!=n){for(;s<a;)if((i=o[s++])!=i)return!0}else for(;s<a;s++)if((e||s in o)&&o[s]===n)return e||s||0;return!e&&-1}},m(!0),m(!1)),be=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],_e=be.concat("length","prototype"),we={f:Object.getOwnPropertyNames||function(e){return ie(e,_e)}},Ee={f:Object.getOwnPropertySymbols},Se=te("Reflect","ownKeys")||function(e){var t=we.f(d(e)),n=Ee.f;return n?t.concat(n(e)):t},Te=/#|\.prototype\./,Ce=function(e,t){return(e=ke[Ie(e)])==xe||e!=Oe&&("function"==typeof t?i(t):!!t)},Ie=Ce.normalize=function(e){return String(e).replace(Te,".").toLowerCase()},ke=Ce.data={},Oe=Ce.NATIVE="N",xe=Ce.POLYFILL="P",Pe=Ce,Ne=P.f,Ae=!i((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype})),Re=v("IE_PROTO"),De=Object.prototype,je=Ae?Object.getPrototypeOf:function(e){return e=h(e),C(e,Re)?e[Re]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?De:null},Le=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{(e=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(n,[]),t=n instanceof Array}catch(n){}return function(n,r){return d(n),function(e){if(!c(e)&&null!==e)throw TypeError("Can't set "+String(e)+" as a prototype")}(r),t?e.call(n,r):n.__proto__=r,n}}():void 0),Me=Object.keys||function(e){return ie(e,be)},Fe=y?Object.defineProperties:function(e,t){d(e);for(var n,r=Me(t),i=r.length,o=0;o<i;)A.f(e,n=r[o++],t[n]);return e},Ue=te("document","documentElement"),qe="prototype",Be="script",Ve=v("IE_PROTO"),We=function(){try{ce=document.domain&&new ActiveXObject("htmlfile")}catch(e){}var e;We=ce?function(e){e.write(ue("")),e.close();var t=e.parentWindow.Object;return e=null,t}(ce):((e=f("iframe")).style.display="none",Ue.appendChild(e),e.src=String("javascript:"),(e=e.contentWindow.document).open(),e.write(ue("document.F=Object")),e.close(),e.F);for(var t=be.length;t--;)delete We[qe][be[t]];return We()};J[Ve]=!0;var ze=Object.create||function(e,t){var n;return null!==e?(se[qe]=d(e),n=new se,se[qe]=null,n[Ve]=e):n=We(),void 0===t?n:Fe(n,t)};function He(e){return C(Xe,e)&&(Ye||"string"==typeof Xe[e])||(Ye&&C(Je,e)?Xe[e]=Je[e]:Xe[e]=Ze("Symbol."+e)),Xe[e]}function Ke(e){return void 0!==e&&(et.Array===e||nt[tt]===e)}function Ge(e){if("function"!=typeof e)throw TypeError(String(e)+" is not a function");return e}function Qe(e,t,n){if(Ge(e),void 0===t)return e;switch(n){case 0:return function(){return e.call(t)};case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)}}return function(){return e.apply(t,arguments)}}K=te("navigator","userAgent")||"",e=g.process,m=e&&e.versions,(Ce=m&&m.v8)?At=(Nt=Ce.split("."))[0]<4?1:Nt[0]+Nt[1]:K&&(!(Nt=K.match(/Edge\/(\d+)/))||74<=Nt[1])&&(Nt=K.match(/Chrome\/(\d+)/))&&(At=Nt[1]);var $e=At&&+At,Ye=!!Object.getOwnPropertySymbols&&!i((function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&$e&&$e<41})),Xe=(Ae=Ye&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,Q("wks")),Je=g.Symbol,Ze=Ae?Je:Je&&Je.withoutSetter||L,et={},tt=He("iterator"),nt=Array.prototype;function rt(e){if(null!=e)return e[lt]||e["@@iterator"]||et[ct(e)]}function it(e){var t=e.return;return void 0!==t&&d(t.call(e)).value}function ot(e,t){this.stopped=e,this.result=t}function at(e,t,n){function r(e){return o&&it(o),new ot(!0,e)}function i(e){return f?(d(e),v?g(e[0],e[1],r):g(e[0],e[1])):v?g(e,r):g(e)}var o,a,s,u,c,l,h=n&&n.that,f=!(!n||!n.AS_ENTRIES),p=!(!n||!n.IS_ITERATOR),v=!(!n||!n.INTERRUPTED),g=Qe(t,h,1+f+v);if(p)o=e;else{if("function"!=typeof(p=rt(e)))throw TypeError("Target is not iterable");if(Ke(p)){for(a=0,s=re(e.length);a<s;a++)if((u=i(e[a]))&&u instanceof ot)return u;return new ot(!1)}o=p.call(e)}for(c=o.next;!(l=c.call(o)).done;){try{u=i(l.value)}catch(e){throw it(o),e}if("object"==typeof u&&u&&u instanceof ot)return u}return new ot(!1)}(e={})[He("toStringTag")]="z",m="[object z]"===String(e);var st=He("toStringTag"),ut="Arguments"==a(function(){return arguments}()),ct=m?a:function(e){var t;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(e=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),st))?e:ut?a(t):"Object"==(e=a(t))&&"function"==typeof t.callee?"Arguments":e},lt=He("iterator"),ht=function e(t,n){var r=this;return r instanceof e?(Le&&(r=Le(new Error(void 0),je(r))),void 0!==n&&R(r,"message",String(n)),at(t,(n=[]).push,{that:n}),R(r,"errors",n),r):new e(t,n)};function ft(e,t,n){for(var r in t)he(e,r,t[r],n);return e}function dt(e,t,n){e&&!C(e=n?e:e.prototype,mt)&&yt(e,mt,{configurable:!0,value:t})}function pt(e){var t=te(e);e=A.f,y&&t&&!t[bt]&&e(t,bt,{configurable:!0,get:function(){return this}})}function vt(e,t,n){if(!(e instanceof t))throw TypeError("Incorrect "+(n?n+" ":"")+"invocation");return e}ht.prototype=ze(Error.prototype,{constructor:o(5,ht),message:o(5,""),name:o(5,"AggregateError")}),ae({global:!0},{AggregateError:ht}),m||he(Object.prototype,"toString",m?{}.toString:function(){return"[object "+ct(this)+"]"},{unsafe:!0});var gt=g.Promise,yt=A.f,mt=He("toStringTag"),bt=He("species"),_t=He("iterator"),wt=!1;try{var Et=0;(Ft={next:function(){return{done:!!Et++}},return:function(){wt=!0}})[_t]=function(){return this},Array.from(Ft,(function(){throw 2}))}catch(Wa){}function St(e,t){if(!t&&!wt)return!1;var n=!1;try{var r={};r[_t]=function(){return{next:function(){return{done:n=!0}}}},e(r)}catch(e){}return n}function Tt(e,t){var n;return void 0===(e=d(e).constructor)||null==(n=d(e)[Ot])?t:Ge(n)}function Ct(e){var t;Lt.hasOwnProperty(e)&&(t=Lt[e],delete Lt[e],t())}function It(e){return function(){Ct(e)}}var kt,Ot=He("species"),xt=(Ce=/(?:iphone|ipod|ipad).*applewebkit/i.test(K),"process"==a(g.process)),Pt=g.location,Nt=g.setImmediate,At=g.clearImmediate,Rt=g.process,Dt=(e=g.MessageChannel,g.Dispatch),jt=0,Lt={},Mt="onreadystatechange",Ft=(m=function(e){Ct(e.data)},function(e){g.postMessage(e+"",Pt.protocol+"//"+Pt.host)});Nt&&At||(Nt=function(e){for(var t=[],n=1;n<arguments.length;)t.push(arguments[n++]);return Lt[++jt]=function(){("function"==typeof e?e:Function(e)).apply(void 0,t)},kt(jt),jt},At=function(e){delete Lt[e]},xt?kt=function(e){Rt.nextTick(It(e))}:Dt&&Dt.now?kt=function(e){Dt.now(It(e))}:e&&!Ce?(Gt=(e=new e).port2,e.port1.onmessage=m,kt=Qe(Gt.postMessage,Gt,1)):g.addEventListener&&"function"==typeof postMessage&&!g.importScripts&&Pt&&"file:"!==Pt.protocol&&!i(Ft)?(kt=Ft,g.addEventListener("message",m,!1)):kt=Mt in f("script")?function(e){Ue.appendChild(f("script"))[Mt]=function(){Ue.removeChild(this),Ct(e)}}:function(e){setTimeout(It(e),0)});var Ut,qt,Bt,Vt,Wt,zt,Ht,Kt,Gt={set:Nt,clear:At},Qt=(Ft=/web0s(?!.*chrome)/i.test(K),m=P.f,Gt.set),$t=(Nt=g.MutationObserver||g.WebKitMutationObserver,At=g.document,g.process);function Yt(e){var t,n;this.promise=new e((function(e,r){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=r})),this.resolve=Ge(t),this.reject=Ge(n)}function Xt(e,t){return d(e),c(t)&&t.constructor===e?t:((0,(e=ln.f(e)).resolve)(t),e.promise)}function Jt(e){try{return{error:!1,value:e()}}catch(e){return{error:!0,value:e}}}function Zt(e){var t;return!(!c(e)||"function"!=typeof(t=e.then))&&t}function en(e,t){var n;e.notified||(e.notified=!0,n=e.reactions,cn((function(){for(var r=e.value,i=1==e.state,o=0;n.length>o;){var a,s,u,c=n[o++],l=i?c.ok:c.fail,h=c.resolve,f=c.reject,d=c.domain;try{l?(i||(2===e.rejection&&Pn(e),e.rejection=1),!0===l?a=r:(d&&d.enter(),a=l(r),d&&(d.exit(),u=!0)),a===c.promise?f(bn("Promise-chain cycle")):(s=Zt(a))?s.call(a,h,f):h(a)):f(r)}catch(r){d&&!u&&d.exit(),f(r)}}e.reactions=[],e.notified=!1,t&&!e.rejection&&On(e)})))}function tn(e,t,n){var r,i;Tn?((r=_n.createEvent("Event")).promise=t,r.reason=n,r.initEvent(e,!1,!0),g.dispatchEvent(r)):r={promise:t,reason:n},!Cn&&(i=g["on"+e])?i(r):e===In&&function(e,t){var n=g.console;n&&n.error&&(1===arguments.length?n.error(e):n.error(e,t))}("Unhandled promise rejection",n)}function nn(e,t,n){return function(r){e(t,r,n)}}function rn(e,t,n){e.done||(e.done=!0,(e=n||e).value=t,e.state=2,en(e,!0))}K=g.Promise,(m=(m=m(g,"queueMicrotask"))&&m.value)||(Ut=function(){var e,t;for(xt&&(e=$t.domain)&&e.exit();qt;){t=qt.fn,qt=qt.next;try{t()}catch(e){throw qt?Vt():Bt=void 0,e}}Bt=void 0,e&&e.enter()},Vt=Ce||xt||Ft||!Nt||!At?K&&K.resolve?((Ht=K.resolve(void 0)).constructor=K,Kt=Ht.then,function(){Kt.call(Ht,Ut)}):xt?function(){$t.nextTick(Ut)}:function(){Qt.call(g,Ut)}:(Wt=!0,zt=At.createTextNode(""),new Nt(Ut).observe(zt,{characterData:!0}),function(){zt.data=Wt=!Wt}));var on,an,sn,un,cn=m||function(e){e={fn:e,next:void 0},Bt&&(Bt.next=e),qt||(qt=e,Vt()),Bt=e},ln={f:function(e){return new Yt(e)}},hn="object"==typeof window,fn=Gt.set,dn=He("species"),pn="Promise",vn=le.get,gn=le.set,yn=le.getterFor(pn),mn=(At=gt&&gt.prototype,gt),bn=(Nt=At,g.TypeError),_n=g.document,wn=g.process,En=ln.f,Sn=En,Tn=!!(_n&&_n.createEvent&&g.dispatchEvent),Cn="function"==typeof PromiseRejectionEvent,In="unhandledrejection",kn=!1,On=(m=Pe(pn,(function(){var e=H(mn)!==String(mn);if(!e&&66===$e)return!0;if(51<=$e&&/native code/.test(mn))return!1;function t(e){e((function(){}),(function(){}))}var n=new mn((function(e){e(1)}));return(n.constructor={})[dn]=t,!(kn=n.then((function(){}))instanceof t)||!e&&hn&&!Cn})),Gt=m||!St((function(e){mn.all(e).catch((function(){}))})),function(e){fn.call(g,(function(){var t,n=e.facade,r=e.value;if(xn(e)&&(t=Jt((function(){xt?wn.emit("unhandledRejection",r,n):tn(In,n,r)})),e.rejection=xt||xn(e)?2:1,t.error))throw t.value}))}),xn=function(e){return 1!==e.rejection&&!e.parent},Pn=function(e){fn.call(g,(function(){var t=e.facade;xt?wn.emit("rejectionHandled",t):tn("rejectionhandled",t,e.value)}))},Nn=function e(t,n,r){if(!t.done){t.done=!0,r&&(t=r);try{if(t.facade===n)throw bn("Promise can't be resolved itself");var i=Zt(n);i?cn((function(){var r={done:!1};try{i.call(n,nn(e,r,t),nn(rn,r,t))}catch(n){rn(r,n,t)}})):(t.value=n,t.state=1,en(t,!1))}catch(n){rn({done:!1},n,t)}}};if(m&&(Nt=(mn=function(e){vt(this,mn,pn),Ge(e),on.call(this);var t=vn(this);try{e(nn(Nn,t),nn(rn,t))}catch(e){rn(t,e)}}).prototype,(on=function(e){gn(this,{type:pn,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=ft(Nt,{then:function(e,t){var n=yn(this),r=En(Tt(this,mn));return r.ok="function"!=typeof e||e,r.fail="function"==typeof t&&t,r.domain=xt?wn.domain:void 0,n.parent=!0,n.reactions.push(r),0!=n.state&&en(n,!1),r.promise},catch:function(e){return this.then(void 0,e)}}),an=function(){var e=new on,t=vn(e);this.promise=e,this.resolve=nn(Nn,t),this.reject=nn(rn,t)},ln.f=En=function(e){return e===mn||e===sn?new an:Sn(e)},"function"==typeof gt&&At!==Object.prototype)){un=At.then,kn||(he(At,"then",(function(e,t){var n=this;return new mn((function(e,t){un.call(n,e,t)})).then(e,t)}),{unsafe:!0}),he(At,"catch",Nt.catch,{unsafe:!0}));try{delete At.constructor}catch(Wa){}Le&&Le(At,Nt)}ae({global:!0,wrap:!0,forced:m},{Promise:mn}),dt(mn,pn,!1),pt(pn),sn=te(pn),ae({target:pn,stat:!0,forced:m},{reject:function(e){var t=En(this);return t.reject.call(void 0,e),t.promise}}),ae({target:pn,stat:!0,forced:m},{resolve:function(e){return Xt(this,e)}}),ae({target:pn,stat:!0,forced:Gt},{all:function(e){var t=this,n=En(t),r=n.resolve,i=n.reject,o=Jt((function(){var n=Ge(t.resolve),o=[],a=0,s=1;at(e,(function(e){var u=a++,c=!1;o.push(void 0),s++,n.call(t,e).then((function(e){c||(c=!0,o[u]=e,--s||r(o))}),i)})),--s||r(o)}));return o.error&&i(o.value),n.promise},race:function(e){var t=this,n=En(t),r=n.reject,i=Jt((function(){var i=Ge(t.resolve);at(e,(function(e){i.call(t,e).then(n.resolve,r)}))}));return i.error&&r(i.value),n.promise}}),ae({target:"Promise",stat:!0},{allSettled:function(e){var t=this,n=ln.f(t),r=n.resolve,i=n.reject,o=Jt((function(){var n=Ge(t.resolve),i=[],o=0,a=1;at(e,(function(e){var s=o++,u=!1;i.push(void 0),a++,n.call(t,e).then((function(e){u||(u=!0,i[s]={status:"fulfilled",value:e},--a||r(i))}),(function(e){u||(u=!0,i[s]={status:"rejected",reason:e},--a||r(i))}))})),--a||r(i)}));return o.error&&i(o.value),n.promise}});var An="No one promise resolved";ae({target:"Promise",stat:!0},{any:function(e){var t=this,n=ln.f(t),r=n.resolve,i=n.reject,o=Jt((function(){var n=Ge(t.resolve),o=[],a=0,s=1,u=!1;at(e,(function(e){var c=a++,l=!1;o.push(void 0),s++,n.call(t,e).then((function(e){l||u||(u=!0,r(e))}),(function(e){l||u||(l=!0,o[c]=e,--s||i(new(te("AggregateError"))(o,An)))}))})),--s||i(new(te("AggregateError"))(o,An))}));return o.error&&i(o.value),n.promise}}),ae({target:"Promise",proto:!0,real:!0,forced:At=!!gt&&i((function(){gt.prototype.finally.call({then:function(){}},(function(){}))}))},{finally:function(e){var t=Tt(this,te("Promise")),n="function"==typeof e;return this.then(n?function(n){return Xt(t,e()).then((function(){return n}))}:e,n?function(n){return Xt(t,e()).then((function(){throw n}))}:e)}}),"function"==typeof gt&&(kr=te("Promise").prototype.finally,gt.prototype.finally!==kr&&he(gt.prototype,"finally",kr,{unsafe:!0})),Nt=function(e){return function(t,n){var r,i=String(s(t)),o=ne(n);return t=i.length,o<0||t<=o?e?"":void 0:(n=i.charCodeAt(o))<55296||56319<n||o+1===t||(r=i.charCodeAt(o+1))<56320||57343<r?e?i.charAt(o):n:e?i.slice(o,o+2):r-56320+(n-55296<<10)+65536}},m={codeAt:Nt(!1),charAt:Nt(!0)};var Rn,Dn=He("iterator");function jn(){return this}function Ln(){return this}function Mn(e,t,n,r,i,a,s){function u(e){if(e===i&&v)return v;if(!qn&&e in d)return d[e];switch(e){case"keys":case Vn:case Wn:return function(){return new n(this,e)}}return function(){return new n(this)}}!function(e,t,n){t+=" Iterator",e.prototype=ze(Fn,{next:o(1,n)}),dt(e,t,!1),et[t]=jn}(n,t,r);var c,l,h=t+" Iterator",f=!1,d=e.prototype,p=d[Bn]||d["@@iterator"]||i&&d[i],v=!qn&&p||u(i);if((r="Array"==t&&d.entries||p)&&(e=je(r.call(new e)),Un!==Object.prototype&&e.next&&(je(e)!==Un&&(Le?Le(e,Un):"function"!=typeof e[Bn]&&R(e,Bn,Ln)),dt(e,h,!0))),i==Vn&&p&&p.name!==Vn&&(f=!0,v=function(){return p.call(this)}),d[Bn]!==v&&R(d,Bn,v),et[t]=v,i)if(c={values:u(Vn),keys:a?v:u("keys"),entries:u(Wn)},s)for(l in c)!qn&&!f&&l in d||he(d,l,c[l]);else ae({target:t,proto:!0,forced:qn||f},c);return c}Gt=!1,[].keys&&("next"in(fr=[].keys())?(li=je(je(fr)))!==Object.prototype&&(Rn=li):Gt=!0),At=null==Rn||i((function(){var e={};return Rn[Dn].call(e)!==e})),C(Rn=At?{}:Rn,Dn)||R(Rn,Dn,(function(){return this}));var Fn=(kr={IteratorPrototype:Rn,BUGGY_SAFARI_ITERATORS:Gt}).IteratorPrototype,Un=kr.IteratorPrototype,qn=kr.BUGGY_SAFARI_ITERATORS,Bn=He("iterator"),Vn="values",Wn="entries",zn=m.charAt,Hn="String Iterator",Kn=le.set,Gn=le.getterFor(Hn);Mn(String,"String",(function(e){Kn(this,{type:Hn,string:String(e),index:0})}),(function(){var e=Gn(this),t=e.string,n=e.index;return n>=t.length?{value:void 0,done:!0}:(n=zn(t,n),e.index+=n.length,{value:n,done:!1})}));var Qn={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},$n=He("unscopables"),Yn=Array.prototype;null==Yn[$n]&&A.f(Yn,$n,{configurable:!0,value:ze(null)}),Nt=function(e){Yn[$n][e]=!0};var Xn="Array Iterator",Jn=le.set,Zn=le.getterFor(Xn),er=Mn(Array,"Array",(function(e,t){Jn(this,{type:Xn,target:u(e),index:0,kind:t})}),(function(){var e=Zn(this),t=e.target,n=e.kind,r=e.index++;return!t||r>=t.length?{value:e.target=void 0,done:!0}:"keys"==n?{value:r,done:!1}:"values"==n?{value:t[r],done:!1}:{value:[r,t[r]],done:!1}}),"values");et.Arguments=et.Array,Nt("keys"),Nt("values"),Nt("entries");var tr,nr=He("iterator"),rr=He("toStringTag"),ir=er.values;for(tr in Qn){var or=g[tr],ar=or&&or.prototype;if(ar){if(ar[nr]!==ir)try{R(ar,nr,ir)}catch(Wa){ar[nr]=ir}if(ar[rr]||R(ar,rr,tr),Qn[tr])for(var sr in er)if(ar[sr]!==er[sr])try{R(ar,sr,er[sr])}catch(Wa){ar[sr]=er[sr]}}}function ur(e,t){var n;return new(void 0===(n=cr(e)&&("function"==typeof(n=e.constructor)&&(n===Array||cr(n.prototype))||c(n)&&null===(n=n[lr]))?void 0:n)?Array:n)(0===t?0:t)}fe.Promise,ae({target:"Promise",stat:!0},{try:function(e){var t=ln.f(this);return((e=Jt(e)).error?t.reject:t.resolve)(e.value),t.promise}});var cr=Array.isArray||function(e){return"Array"==a(e)},lr=He("species"),hr=[].push,fr=function(e){var t=1==e,n=2==e,r=3==e,i=4==e,o=6==e,a=7==e,s=5==e||o;return function(u,c,l,f){for(var d,p,v=h(u),g=S(v),y=Qe(c,l,3),m=re(g.length),b=0,_=(f=f||ur,t?f(u,m):n||a?f(u,0):void 0);b<m;b++)if((s||b in g)&&(p=y(d=g[b],b,v),e))if(t)_[b]=p;else if(p)switch(e){case 3:return!0;case 5:return d;case 6:return b;case 2:hr.call(_,d)}else switch(e){case 4:return!1;case 7:hr.call(_,d)}return o?-1:r||i?i:_}},dr=(li={forEach:fr(0),map:fr(1),filter:fr(2),some:fr(3),every:fr(4),find:fr(5),findIndex:fr(6),filterOut:fr(7)}).find,pr=!0;(At="find")in[]&&Array(1)[At]((function(){pr=!1})),ae({target:"Array",proto:!0,forced:pr},{find:function(e){return dr(this,e,1<arguments.length?arguments[1]:void 0)}}),Nt(At);var vr=Function.call;Gt=function(e,t,n){return Qe(vr,g[e].prototype[t],n)},Gt("Array","find");var gr=li.findIndex,yr=!0;function mr(e,t,n){(t=l(t))in e?A.f(e,t,o(0,n)):e[t]=n}(kr="findIndex")in[]&&Array(1)[kr]((function(){yr=!1})),ae({target:"Array",proto:!0,forced:yr},{findIndex:function(e){return gr(this,e,1<arguments.length?arguments[1]:void 0)}}),Nt(kr),Gt("Array","findIndex"),m=!St((function(e){Array.from(e)})),ae({target:"Array",stat:!0,forced:m},{from:function(e){var t,n,r,i,o,a,s=h(e),u="function"==typeof this?this:Array,c=arguments.length,l=1<c?arguments[1]:void 0,f=void 0!==l,p=(e=rt(s),0);if(f&&(l=Qe(l,2<c?arguments[2]:void 0,2)),null==e||u==Array&&Ke(e))for(n=new u(t=re(s.length));p<t;p++)mr(n,p,a=f?l(s[p],p):s[p]);else for(o=(i=e.call(s)).next,n=new u;!(r=o.call(i)).done;p++)a=f?function(e,t,n,r){try{return r?t(d(n)[0],n[1]):t(n)}catch(t){throw it(e),t}}(i,l,[r.value,p],!0):r.value,mr(n,p,a);return n.length=p,n}}),fe.Array.from;var br,_r,wr=li.some;function Er(e){return!!c(e)&&(e=ct(e),C(Pr,e)||C(Nr,e))}ae({target:"Array",proto:!0,forced:!(fr=!!(_r=[].some)&&i((function(){_r.call(null,br||function(){throw 1},1)})))},{some:function(e){return wr(this,e,1<arguments.length?arguments[1]:void 0)}}),Gt("Array","some"),At="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView,Nt=A.f;var Sr,Tr=(kr=g.Int8Array)&&kr.prototype,Cr=(fr=(m=g.Uint8ClampedArray)&&m.prototype,kr&&je(kr)),Ir=Tr&&je(Tr),kr=((m=Object.prototype).isPrototypeOf,He("toStringTag")),Or=L("TYPED_ARRAY_TAG"),xr=At&&!!Le&&"Opera"!==ct(g.opera),Pr=(At=!1,{Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8}),Nr={BigInt64Array:8,BigUint64Array:8};for(Sr in Pr)g[Sr]||(xr=!1);if((!xr||"function"!=typeof Cr||Cr===Function.prototype)&&(Cr=function(){throw TypeError("Incorrect invocation")},xr))for(Sr in Pr)g[Sr]&&Le(g[Sr],Cr);if((!xr||!Ir||Ir===m)&&(Ir=Cr.prototype,xr))for(Sr in Pr)g[Sr]&&Le(g[Sr].prototype,Ir);if(xr&&je(fr)!==Ir&&Le(fr,Ir),y&&!C(Ir,kr))for(Sr in At=!0,Nt(Ir,kr,{get:function(){return c(this)?this[Or]:void 0}}),Pr)g[Sr]&&R(g[Sr],Or,Sr);fr=function(e){if(Er(e))return e;throw TypeError("Target is not a typed array")},Nt=function(e,t,n){if(y){if(n)for(var r in Pr)if((r=g[r])&&C(r.prototype,e))try{delete r.prototype[e]}catch(e){}Ir[e]&&!n||he(Ir,e,!n&&xr&&Tr[e]||t)}},kr=He("iterator"),At=g.Uint8Array;var Ar=er.values,Rr=er.keys,Dr=er.entries,jr=fr;fr=Nt,At=!!(Nt=At&&At.prototype[kr])&&("values"==Nt.name||null==Nt.name),Nt=function(){return Ar.call(jr(this))},fr("entries",(function(){return Dr.call(jr(this))})),fr("keys",(function(){return Rr.call(jr(this))})),fr("values",Nt,!At),fr(kr,Nt,!At);var Lr=Object.assign,Mr=Object.defineProperty;Nt=!Lr||i((function(){if(y&&1!==Lr({b:1},Lr(Mr({},"a",{enumerable:!0,get:function(){Mr(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return 1;var e={},t={},n=Symbol(),r="abcdefghijklmnopqrst";return e[n]=7,r.split("").forEach((function(e){t[e]=e})),7!=Lr({},e)[n]||Me(Lr({},t)).join("")!=r}))?function(e,t){for(var n=h(e),r=arguments.length,i=1,o=Ee.f,a=_.f;i<r;)for(var s,u=S(arguments[i++]),c=o?Me(u).concat(o(u)):Me(u),l=c.length,f=0;f<l;)s=c[f++],y&&!a.call(u,s)||(n[s]=u[s]);return n}:Lr,ae({target:"Object",stat:!0,forced:Object.assign!==Nt},{assign:Nt}),fe.Object.assign;var Fr=_.f,Ur=(At=function(e){return function(t){for(var n,r=u(t),i=Me(r),o=i.length,a=0,s=[];a<o;)n=i[a++],y&&!Fr.call(r,n)||s.push(e?[n,r[n]]:r[n]);return s}},(Nt={entries:At(!0),values:At(!1)}).entries);ae({target:"Object",stat:!0},{entries:function(e){return Ur(e)}}),fe.Object.entries;var qr=Nt.values;function Br(e){if(c(t=e)&&(void 0!==(n=t[Vr])?n:"RegExp"==a(t)))throw TypeError("The method doesn't accept regular expressions");var t,n;return e}ae({target:"Object",stat:!0},{values:function(e){return qr(e)}}),fe.Object.values;var Vr=He("match"),Wr=He("match");At=function(t){var n=/./;try{"/./"[t](n)}catch(e){try{return n[Wr]=!1,"/./"[t](n)}catch(e){}}return!1},ae({target:"String",proto:!0,forced:!At("includes")},{includes:function(e){return!!~String(s(this)).indexOf(Br(e),1<arguments.length?arguments[1]:void 0)}}),Gt("String","includes"),Nt=P.f;var zr,Hr="".startsWith,Kr=Math.min;At=At("startsWith"),ae({target:"String",proto:!0,forced:!(zr=!(At||!(zr=Nt(String.prototype,"startsWith"))||zr.writable))&&!At},{startsWith:function(e){var t=String(s(this));Br(e);var n=re(Kr(1<arguments.length?arguments[1]:void 0,t.length));return e=String(e),Hr?Hr.call(t,e,n):t.slice(n,n+e.length)===e}}),Gt("String","startsWith"),ae({target:"String",proto:!0},{repeat:function(e){var t=String(s(this)),n="",r=ne(e);if(r<0||r==1/0)throw RangeError("Wrong number of repetitions");for(;0<r;(r>>>=1)&&(t+=t))1&r&&(n+=t);return n}}),Gt("String","repeat");var Gr,Qr=He("species"),$r=He("isConcatSpreadable"),Yr=9007199254740991,Xr="Maximum allowed index exceeded";function Jr(e){var t=fe.Symbol||(fe.Symbol={});C(t,e)||oi(t,e,{value:ii.f(e)})}function Zr(e,t){var n=_i[e]=ze(pi[ci]);return hi(n,{type:ui,tag:e,description:t}),y||(n.description=t),n}function ei(e,t){d(e);var n=u(t);return t=Me(n).concat(xi(n)),ai(t,(function(t){y&&!Oi.call(n,t)||ki(e,t,n[t])})),e}At=51<=$e||!i((function(){var e=[];return e[$r]=!1,e.concat()[0]!==e})),Gr="concat",Gt=51<=$e||!i((function(){var e=[];return(e.constructor={})[Qr]=function(){return{foo:1}},1!==e[Gr](Boolean).foo})),ae({target:"Array",proto:!0,forced:!At||!Gt},{concat:function(e){for(var t,n,r,i=h(this),o=ur(i,0),a=0,s=-1,u=arguments.length;s<u;s++)if(function(e){if(!c(e))return!1;var t=e[$r];return void 0!==t?!!t:cr(e)}(r=-1===s?i:arguments[s])){if(n=re(r.length),Yr<a+n)throw TypeError(Xr);for(t=0;t<n;t++,a++)t in r&&mr(o,a,r[t])}else{if(Yr<=a)throw TypeError(Xr);mr(o,a++,r)}return o.length=a,o}});var ti=we.f,ni={}.toString,ri="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],ii=(Gt={f:function(e){return ri&&"[object Window]"==ni.call(e)?function(e){try{return ti(e)}catch(e){return ri.slice()}}(e):ti(u(e))}},{f:He}),oi=A.f,ai=li.forEach,si=v("hidden"),ui="Symbol",ci="prototype",li=He("toPrimitive"),hi=le.set,fi=le.getterFor(ui),di=Object[ci],pi=g.Symbol,vi=te("JSON","stringify"),gi=P.f,yi=A.f,mi=Gt.f,bi=_.f,_i=Q("symbols"),wi=Q("op-symbols"),Ei=Q("string-to-symbol-registry"),Si=Q("symbol-to-string-registry"),Ti=(v=Q("wks"),!(Q=g.QObject)||!Q[ci]||!Q[ci].findChild),Ci=y&&i((function(){return 7!=ze(yi({},"a",{get:function(){return yi(this,"a",{value:7}).a}})).a}))?function(e,t,n){var r=gi(di,t);r&&delete di[t],yi(e,t,n),r&&e!==di&&yi(di,t,r)}:yi,Ii=Ae?function(e){return"symbol"==typeof e}:function(e){return Object(e)instanceof pi},ki=function e(t,n,r){return t===di&&e(wi,n,r),d(t),n=l(n,!0),d(r),C(_i,n)?(r.enumerable?(C(t,si)&&t[si][n]&&(t[si][n]=!1),r=ze(r,{enumerable:o(0,!1)})):(C(t,si)||yi(t,si,o(1,{})),t[si][n]=!0),Ci(t,n,r)):yi(t,n,r)},Oi=function(e){var t=l(e,!0);return e=bi.call(this,t),!(this===di&&C(_i,t)&&!C(wi,t))&&(!(e||!C(this,t)||!C(_i,t)||C(this,si)&&this[si][t])||e)},xi=(Q=function(e,t){var n=u(e);if(e=l(t,!0),n!==di||!C(_i,e)||C(wi,e))return!(t=gi(n,e))||!C(_i,e)||C(n,si)&&n[si][e]||(t.enumerable=!0),t},Ae=function(e){e=mi(u(e));var t=[];return ai(e,(function(e){C(_i,e)||C(J,e)||t.push(e)})),t},function(e){var t=e===di,n=(e=mi(t?wi:u(e)),[]);return ai(e,(function(e){!C(_i,e)||t&&!C(di,e)||n.push(_i[e])})),n});Ye||(he((pi=function(){if(this instanceof pi)throw TypeError("Symbol is not a constructor");var e=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,t=L(e),n=function e(n){this===di&&e.call(wi,n),C(this,si)&&C(this[si],t)&&(this[si][t]=!1),Ci(this,t,o(1,n))};return y&&Ti&&Ci(di,t,{configurable:!0,set:n}),Zr(t,e)})[ci],"toString",(function(){return fi(this).tag})),he(pi,"withoutSetter",(function(e){return Zr(L(e),e)})),_.f=Oi,A.f=ki,P.f=Q,we.f=Gt.f=Ae,Ee.f=xi,ii.f=function(e){return Zr(He(e),e)},y&&(yi(pi[ci],"description",{configurable:!0,get:function(){return fi(this).description}}),he(di,"propertyIsEnumerable",Oi,{unsafe:!0}))),ae({global:!0,wrap:!0,forced:!Ye,sham:!Ye},{Symbol:pi}),ai(Me(v),(function(e){Jr(e)})),ae({target:ui,stat:!0,forced:!Ye},{for:function(e){var t=String(e);return C(Ei,t)?Ei[t]:(e=pi(t),Ei[t]=e,Si[e]=t,e)},keyFor:function(e){if(!Ii(e))throw TypeError(e+" is not a symbol");if(C(Si,e))return Si[e]},useSetter:function(){Ti=!0},useSimple:function(){Ti=!1}}),ae({target:"Object",stat:!0,forced:!Ye,sham:!y},{create:function(e,t){return void 0===t?ze(e):ei(ze(e),t)},defineProperty:ki,defineProperties:ei,getOwnPropertyDescriptor:Q}),ae({target:"Object",stat:!0,forced:!Ye},{getOwnPropertyNames:Ae,getOwnPropertySymbols:xi}),ae({target:"Object",stat:!0,forced:i((function(){Ee.f(1)}))},{getOwnPropertySymbols:function(e){return Ee.f(h(e))}}),vi&&(Vi=!Ye||i((function(){var e=pi();return"[null]"!=vi([e])||"{}"!=vi({a:e})||"{}"!=vi(Object(e))})),ae({target:"JSON",stat:!0,forced:Vi},{stringify:function(e,t,n){for(var r,i=[e],o=1;o<arguments.length;)i.push(arguments[o++]);if((c(r=t)||void 0!==e)&&!Ii(e))return cr(t)||(t=function(e,t){if("function"==typeof r&&(t=r.call(this,e,t)),!Ii(t))return t}),i[1]=t,vi.apply(null,i)}})),pi[ci][li]||R(pi[ci],li,pi[ci].valueOf),dt(pi,ui),J[si]=!0,Jr("asyncIterator"),Q=A.f;var Pi,Ni,Ai,Ri,Di,ji=g.Symbol;!y||"function"!=typeof ji||"description"in ji.prototype&&void 0===ji().description||(Pi={},oe(Ni=function(){var e=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),t=this instanceof Ni?new ji(e):void 0===e?ji():ji(e);return""===e&&(Pi[t]=!0),t},ji),(Hi=Ni.prototype=ji.prototype).constructor=Ni,Ai=Hi.toString,Ri="Symbol(test)"==String(ji("test")),Di=/^Symbol\((.*)\)[^)]+$/,Q(Hi,"description",{configurable:!0,get:function(){var e=c(this)?this.valueOf():this,t=Ai.call(e);return C(Pi,e)?"":""===(t=Ri?t.slice(7,-1):t.replace(Di,"$1"))?void 0:t}}),ae({global:!0,forced:!0},{Symbol:Ni})),Jr("hasInstance"),Jr("isConcatSpreadable"),Jr("iterator"),Jr("match"),Jr("matchAll"),Jr("replace"),Jr("search"),Jr("species"),Jr("split"),Jr("toPrimitive"),Jr("toStringTag"),Jr("unscopables"),dt(g.JSON,"JSON",!0),dt(Math,"Math",!0),ae({global:!0},{Reflect:{}}),dt(g.Reflect,"Reflect",!0),fe.Symbol,Jr("asyncDispose"),Jr("dispose"),Jr("matcher"),Jr("metadata"),Jr("observable"),Jr("patternMatch"),Jr("replaceAll"),ii.f("iterator");var Li=!i((function(){return Object.isExtensible(Object.preventExtensions({}))})),Mi=r((function(e){function t(e){n(e,r,{value:{objectID:"O"+ ++i,weakData:{}}})}var n=A.f,r=L("meta"),i=0,o=Object.isExtensible||function(){return!0},a=e.exports={REQUIRED:!1,fastKey:function(e,n){if(!c(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!C(e,r)){if(!o(e))return"F";if(!n)return"E";t(e)}return e[r].objectID},getWeakData:function(e,n){if(!C(e,r)){if(!o(e))return!0;if(!n)return!1;t(e)}return e[r].weakData},onFreeze:function(e){return Li&&a.REQUIRED&&o(e)&&!C(e,r)&&t(e),e}};J[r]=!0})),Fi=(Ae=function(e,t,n){function r(e){var t=v[e];he(v,e,"add"==e?function(e){return t.call(this,0===e?0:e),this}:"delete"==e?function(e){return!(f&&!c(e))&&t.call(this,0===e?0:e)}:"get"==e?function(e){return f&&!c(e)?void 0:t.call(this,0===e?0:e)}:"has"==e?function(e){return!(f&&!c(e))&&t.call(this,0===e?0:e)}:function(e,n){return t.call(this,0===e?0:e,n),this})}var o,a,s,u,l,h=-1!==e.indexOf("Map"),f=-1!==e.indexOf("Weak"),d=h?"set":"add",p=g[e],v=p&&p.prototype,y=p,m={};return Pe(e,"function"!=typeof p||!(f||v.forEach&&!i((function(){(new p).entries().next()}))))?(y=n.getConstructor(t,e,h,d),Mi.REQUIRED=!0):Pe(e,!0)&&(a=(o=new y)[d](f?{}:-0,1)!=o,s=i((function(){o.has(1)})),u=St((function(e){new p(e)})),l=!f&&i((function(){for(var e=new p,t=5;t--;)e[d](t,t);return!e.has(-0)})),u||(((y=t((function(t,n){vt(t,y,e);var r,i,o,a=(a=new p,r=t,t=y,Le&&"function"==typeof(i=r.constructor)&&i!==t&&c(o=i.prototype)&&o!==t.prototype&&Le(a,o),a);return null!=n&&at(n,a[d],{that:a,AS_ENTRIES:h}),a}))).prototype=v).constructor=y),(s||l)&&(r("delete"),r("has"),h&&r("get")),(l||a)&&r(d),f&&v.clear&&delete v.clear),m[e]=y,ae({global:!0,forced:y!=p},m),dt(y,e),f||n.setStrong(y,e,h),y},A.f),Ui=Mi.fastKey,qi=le.set,Bi=le.getterFor,Vi={getConstructor:function(e,t,n,r){function i(e,t,n){var r,i=a(e),o=s(e,t);return o?o.value=n:(i.last=o={index:r=Ui(t,!0),key:t,value:n,previous:n=i.last,next:void 0,removed:!1},i.first||(i.first=o),n&&(n.next=o),y?i.size++:e.size++,"F"!==r&&(i.index[r]=o)),e}var o=e((function(e,i){vt(e,o,t),qi(e,{type:t,index:ze(null),first:void 0,last:void 0,size:0}),y||(e.size=0),null!=i&&at(i,e[r],{that:e,AS_ENTRIES:n})})),a=Bi(t),s=function(e,t){var n,r=a(e);if("F"!==(e=Ui(t)))return r.index[e];for(n=r.first;n;n=n.next)if(n.key==t)return n};return ft(o.prototype,{clear:function(){for(var e=a(this),t=e.index,n=e.first;n;)n.removed=!0,n.previous&&(n.previous=n.previous.next=void 0),delete t[n.index],n=n.next;e.first=e.last=void 0,y?e.size=0:this.size=0},delete:function(e){var t,n=a(this),r=s(this,e);return r&&(t=r.next,e=r.previous,delete n.index[r.index],r.removed=!0,e&&(e.next=t),t&&(t.previous=e),n.first==r&&(n.first=t),n.last==r&&(n.last=e),y?n.size--:this.size--),!!r},forEach:function(e){for(var t,n=a(this),r=Qe(e,1<arguments.length?arguments[1]:void 0,3);t=t?t.next:n.first;)for(r(t.value,t.key,this);t&&t.removed;)t=t.previous},has:function(e){return!!s(this,e)}}),ft(o.prototype,n?{get:function(e){return(e=s(this,e))&&e.value},set:function(e,t){return i(this,0===e?0:e,t)}}:{add:function(e){return i(this,e=0===e?0:e,e)}}),y&&Fi(o.prototype,"size",{get:function(){return a(this).size}}),o},setStrong:function(e,t,n){var r=t+" Iterator",i=Bi(t),o=Bi(r);Mn(e,t,(function(e,t){qi(this,{type:r,target:e,state:i(e),kind:t,last:void 0})}),(function(){for(var e=o(this),t=e.kind,n=e.last;n&&n.removed;)n=n.previous;return e.target&&(e.last=n=n?n.next:e.state.first)?"keys"==t?{value:n.key,done:!1}:"values"==t?{value:n.value,done:!1}:{value:[n.key,n.value],done:!1}:{value:e.target=void 0,done:!0}}),n?"entries":"values",!n,!0),pt(t)}};function Wi(){for(var e,t=d(this),n=Ge(t.delete),r=!0,i=0,o=arguments.length;i<o;i++)e=n.call(t,arguments[i]),r=r&&e;return!!r}function zi(e){return Map.prototype.entries.call(e)}Ae("Map",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),Vi),fe.Map,li=function(e){var t,n,r,i,o=arguments.length,a=1<o?arguments[1]:void 0;return Ge(this),(t=void 0!==a)&&Ge(a),null==e?new this:(n=[],t?(r=0,i=Qe(a,2<o?arguments[2]:void 0,2),at(e,(function(e){n.push(i(e,r++))}))):at(e,n.push,{that:n}),new this(n))},ae({target:"Map",stat:!0},{from:li}),Q=function(){for(var e=arguments.length,t=new Array(e);e--;)t[e]=arguments[e];return new this(t)},ae({target:"Map",stat:!0},{of:Q}),ae({target:"Map",proto:!0,real:!0,forced:G},{deleteAll:function(){return Wi.apply(this,arguments)}}),ae({target:"Map",proto:!0,real:!0,forced:G},{emplace:function(e,t){var n=d(this);return t=n.has(e)&&"update"in t?t.update(n.get(e),e,n):t.insert(e,n),n.set(e,t),t}}),ae({target:"Map",proto:!0,real:!0,forced:G},{every:function(e){var t=d(this),n=zi(t),r=Qe(e,1<arguments.length?arguments[1]:void 0,3);return!at(n,(function(e,n,i){if(!r(n,e,t))return i()}),{AS_ENTRIES:!0,IS_ITERATOR:!0,INTERRUPTED:!0}).stopped}}),ae({target:"Map",proto:!0,real:!0,forced:G},{filter:function(e){var t=d(this),n=zi(t),r=Qe(e,1<arguments.length?arguments[1]:void 0,3),i=new(Tt(t,te("Map"))),o=Ge(i.set);return at(n,(function(e,n){r(n,e,t)&&o.call(i,e,n)}),{AS_ENTRIES:!0,IS_ITERATOR:!0}),i}}),ae({target:"Map",proto:!0,real:!0,forced:G},{find:function(e){var t=d(this),n=zi(t),r=Qe(e,1<arguments.length?arguments[1]:void 0,3);return at(n,(function(e,n,i){if(r(n,e,t))return i(n)}),{AS_ENTRIES:!0,IS_ITERATOR:!0,INTERRUPTED:!0}).result}}),ae({target:"Map",proto:!0,real:!0,forced:G},{findKey:function(e){var t=d(this),n=zi(t),r=Qe(e,1<arguments.length?arguments[1]:void 0,3);return at(n,(function(e,n,i){if(r(n,e,t))return i(e)}),{AS_ENTRIES:!0,IS_ITERATOR:!0,INTERRUPTED:!0}).result}}),ae({target:"Map",stat:!0},{groupBy:function(e,t){var n=new this;Ge(t);var r=Ge(n.has),i=Ge(n.get),o=Ge(n.set);return at(e,(function(e){var a=t(e);r.call(n,a)?i.call(n,a).push(e):o.call(n,a,[e])})),n}}),ae({target:"Map",proto:!0,real:!0,forced:G},{includes:function(e){return at(zi(d(this)),(function(t,n,r){if((i=n)===(n=e)||i!=i&&n!=n)return r();var i}),{AS_ENTRIES:!0,IS_ITERATOR:!0,INTERRUPTED:!0}).stopped}}),ae({target:"Map",stat:!0},{keyBy:function(e,t){var n=new this;Ge(t);var r=Ge(n.set);return at(e,(function(e){r.call(n,t(e),e)})),n}}),ae({target:"Map",proto:!0,real:!0,forced:G},{keyOf:function(e){return at(zi(d(this)),(function(t,n,r){if(n===e)return r(t)}),{AS_ENTRIES:!0,IS_ITERATOR:!0,INTERRUPTED:!0}).result}}),ae({target:"Map",proto:!0,real:!0,forced:G},{mapKeys:function(e){var t=d(this),n=zi(t),r=Qe(e,1<arguments.length?arguments[1]:void 0,3),i=new(Tt(t,te("Map"))),o=Ge(i.set);return at(n,(function(e,n){o.call(i,r(n,e,t),n)}),{AS_ENTRIES:!0,IS_ITERATOR:!0}),i}}),ae({target:"Map",proto:!0,real:!0,forced:G},{mapValues:function(e){var t=d(this),n=zi(t),r=Qe(e,1<arguments.length?arguments[1]:void 0,3),i=new(Tt(t,te("Map"))),o=Ge(i.set);return at(n,(function(e,n){o.call(i,e,r(n,e,t))}),{AS_ENTRIES:!0,IS_ITERATOR:!0}),i}}),ae({target:"Map",proto:!0,real:!0,forced:G},{merge:function(e){for(var t=d(this),n=Ge(t.set),r=0;r<arguments.length;)at(arguments[r++],n,{that:t,AS_ENTRIES:!0});return t}}),ae({target:"Map",proto:!0,real:!0,forced:G},{reduce:function(e){var t=d(this),n=zi(t),r=arguments.length<2,i=r?void 0:arguments[1];if(Ge(e),at(n,(function(n,o){i=r?(r=!1,o):e(i,o,n,t)}),{AS_ENTRIES:!0,IS_ITERATOR:!0}),r)throw TypeError("Reduce of empty map with no initial value");return i}}),ae({target:"Map",proto:!0,real:!0,forced:G},{some:function(e){var t=d(this),n=zi(t),r=Qe(e,1<arguments.length?arguments[1]:void 0,3);return at(n,(function(e,n,i){if(r(n,e,t))return i()}),{AS_ENTRIES:!0,IS_ITERATOR:!0,INTERRUPTED:!0}).stopped}}),ae({target:"Map",proto:!0,real:!0,forced:G},{update:function(e,t){var n=d(this),r=arguments.length;Ge(t);var i=n.has(e);if(!i&&r<3)throw TypeError("Updating absent value");return r=i?n.get(e):Ge(2<r?arguments[2]:void 0)(e,n),n.set(e,t(r,e,n)),n}});var Hi=function(e,t){var n,r=d(this),i=2<arguments.length?arguments[2]:void 0;if("function"!=typeof t&&"function"!=typeof i)throw TypeError("At least one callback required");return r.has(e)?(n=r.get(e),"function"==typeof t&&(n=t(n),r.set(e,n))):"function"==typeof i&&(n=i(),r.set(e,n)),n};function Ki(e){return Set.prototype.values.call(e)}ae({target:"Map",proto:!0,real:!0,forced:G},{upsert:Hi}),ae({target:"Map",proto:!0,real:!0,forced:G},{updateOrInsert:Hi}),Ae("Set",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),Vi),fe.Set,ae({target:"Set",stat:!0},{from:li}),ae({target:"Set",stat:!0},{of:Q}),ae({target:"Set",proto:!0,real:!0,forced:G},{addAll:function(){return function(){for(var e=d(this),t=Ge(e.add),n=0,r=arguments.length;n<r;n++)t.call(e,arguments[n]);return e}.apply(this,arguments)}}),ae({target:"Set",proto:!0,real:!0,forced:G},{deleteAll:function(){return Wi.apply(this,arguments)}}),ae({target:"Set",proto:!0,real:!0,forced:G},{every:function(e){var t=d(this),n=Ki(t),r=Qe(e,1<arguments.length?arguments[1]:void 0,3);return!at(n,(function(e,n){if(!r(e,e,t))return n()}),{IS_ITERATOR:!0,INTERRUPTED:!0}).stopped}}),ae({target:"Set",proto:!0,real:!0,forced:G},{difference:function(e){var t=d(this),n=new(Tt(t,te("Set")))(t),r=Ge(n.delete);return at(e,(function(e){r.call(n,e)})),n}}),ae({target:"Set",proto:!0,real:!0,forced:G},{filter:function(e){var t=d(this),n=Ki(t),r=Qe(e,1<arguments.length?arguments[1]:void 0,3),i=new(Tt(t,te("Set"))),o=Ge(i.add);return at(n,(function(e){r(e,e,t)&&o.call(i,e)}),{IS_ITERATOR:!0}),i}}),ae({target:"Set",proto:!0,real:!0,forced:G},{find:function(e){var t=d(this),n=Ki(t),r=Qe(e,1<arguments.length?arguments[1]:void 0,3);return at(n,(function(e,n){if(r(e,e,t))return n(e)}),{IS_ITERATOR:!0,INTERRUPTED:!0}).result}}),ae({target:"Set",proto:!0,real:!0,forced:G},{intersection:function(e){var t=d(this),n=new(Tt(t,te("Set"))),r=Ge(t.has),i=Ge(n.add);return at(e,(function(e){r.call(t,e)&&i.call(n,e)})),n}}),ae({target:"Set",proto:!0,real:!0,forced:G},{isDisjointFrom:function(e){var t=d(this),n=Ge(t.has);return!at(e,(function(e,r){if(!0===n.call(t,e))return r()}),{INTERRUPTED:!0}).stopped}}),ae({target:"Set",proto:!0,real:!0,forced:G},{isSubsetOf:function(e){var t=function(e){var t=rt(e);if("function"!=typeof t)throw TypeError(String(e)+" is not iterable");return d(t.call(e))}(this),n=d(e),r=n.has;return"function"!=typeof r&&(n=new(te("Set"))(e),r=Ge(n.has)),!at(t,(function(e,t){if(!1===r.call(n,e))return t()}),{IS_ITERATOR:!0,INTERRUPTED:!0}).stopped}}),ae({target:"Set",proto:!0,real:!0,forced:G},{isSupersetOf:function(e){var t=d(this),n=Ge(t.has);return!at(e,(function(e,r){if(!1===n.call(t,e))return r()}),{INTERRUPTED:!0}).stopped}}),ae({target:"Set",proto:!0,real:!0,forced:G},{join:function(e){var t=Ki(n=d(this)),n=void 0===e?",":String(e);return at(t,(e=[]).push,{that:e,IS_ITERATOR:!0}),e.join(n)}}),ae({target:"Set",proto:!0,real:!0,forced:G},{map:function(e){var t=d(this),n=Ki(t),r=Qe(e,1<arguments.length?arguments[1]:void 0,3),i=new(Tt(t,te("Set"))),o=Ge(i.add);return at(n,(function(e){o.call(i,r(e,e,t))}),{IS_ITERATOR:!0}),i}}),ae({target:"Set",proto:!0,real:!0,forced:G},{reduce:function(e){var t=d(this),n=Ki(t),r=arguments.length<2,i=r?void 0:arguments[1];if(Ge(e),at(n,(function(n){i=r?(r=!1,n):e(i,n,n,t)}),{IS_ITERATOR:!0}),r)throw TypeError("Reduce of empty set with no initial value");return i}}),ae({target:"Set",proto:!0,real:!0,forced:G},{some:function(e){var t=d(this),n=Ki(t),r=Qe(e,1<arguments.length?arguments[1]:void 0,3);return at(n,(function(e,n){if(r(e,e,t))return n()}),{IS_ITERATOR:!0,INTERRUPTED:!0}).stopped}}),ae({target:"Set",proto:!0,real:!0,forced:G},{symmetricDifference:function(e){var t=d(this),n=new(Tt(t,te("Set")))(t),r=Ge(n.delete),i=Ge(n.add);return at(e,(function(e){r.call(n,e)||i.call(n,e)})),n}}),ae({target:"Set",proto:!0,real:!0,forced:G},{union:function(e){var t;return at(e,Ge((t=new(Tt(t=d(this),te("Set")))(t)).add),{that:t}),t}});var Gi=Math.floor;ae({target:"Number",stat:!0},{isInteger:function(e){return!c(e)&&isFinite(e)&&Gi(e)===e}}),fe.Number.isInteger,ae({target:"Number",stat:!0},{isNaN:function(e){return e!=e}}),fe.Number.isNaN;var Qi=function(e,t){return(Qi=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function $i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}Qi(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var Yi=function(){return(Yi=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function Xi(e,t,n,r){return new(n=n||Promise)((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):((t=e.value)instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function Ji(e,t){var n,r,i,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},a={next:s(0),throw:s(1),return:s(2)};return"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,(a=i?[2&a[0],i.value]:a)[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=0<(i=o.trys).length&&i[i.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(s){a=[6,s],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}}function Zi(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return{value:(e=e&&r>=e.length?void 0:e)&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function eo(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||0<t--)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function to(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e}function no(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:(i<2048?t[n++]=i>>6|192:(55296==(64512&i)&&r+1<e.length&&56320==(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128):t[n++]=i>>12|224,t[n++]=i>>6&63|128),t[n++]=63&i|128)}return t}function ro(e){return e=no(e),uo.encodeByteArray(e,!0)}function io(e){try{return uo.decodeString(e,!0)}catch(e){console.error("base64Decode failed: ",e)}return null}var oo={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},ao=function(e,t){if(!e)throw so(t)},so=function(e){return new Error("Firebase Database ("+oo.SDK_VERSION+") INTERNAL ASSERT FAILED: "+e)},uo={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var o=e[i],a=i+1<e.length,s=a?e[i+1]:0,u=i+2<e.length,c=(15&s)<<2|(l=u?e[i+2]:0)>>6,l=63&l;u||(l=64,a||(c=64)),r.push(n[o>>2],n[(3&o)<<4|s>>4],n[c],n[l])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(no(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i,o,a,s=e[n++];s<128?t[r++]=String.fromCharCode(s):191<s&&s<224?(o=e[n++],t[r++]=String.fromCharCode((31&s)<<6|63&o)):239<s&&s<365?(i=((7&s)<<18|(63&(o=e[n++]))<<12|(63&(a=e[n++]))<<6|63&e[n++])-65536,t[r++]=String.fromCharCode(55296+(i>>10)),t[r++]=String.fromCharCode(56320+(1023&i))):(o=e[n++],a=e[n++],t[r++]=String.fromCharCode((15&s)<<12|(63&o)<<6|63&a))}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var o=n[e.charAt(i++)],a=i<e.length?n[e.charAt(i)]:0,s=++i<e.length?n[e.charAt(i)]:64,u=++i<e.length?n[e.charAt(i)]:64;if(++i,null==o||null==a||null==s||null==u)throw Error();r.push(o<<2|a>>4),64!==s&&(r.push(a<<4&240|s>>2),64!==u&&r.push(s<<6&192|u))}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),(this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e)>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},co=function(e){return ro(e).replace(/\./g,"")};function lo(e){return ho(void 0,e)}function ho(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=ho(e[n],t[n]));return e}var fo=(po.prototype.wrapCallback=function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"==typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}},po);function po(){var e=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(t,n){e.resolve=t,e.reject=n}))}function vo(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0;if(!(t=e.sub||e.user_id))throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");return e=Yi({iss:"https://securetoken.google.com/"+n,aud:n,iat:r,exp:r+3600,auth_time:r,sub:t,user_id:t,firebase:{sign_in_provider:"custom",identities:{}}},e),[co(JSON.stringify({alg:"none",type:"JWT"})),co(JSON.stringify(e)),""].join(".")}function go(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function yo(){return"undefined"!=typeof window&&(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(go())}function mo(){try{return"[object process]"===Object.prototype.toString.call(t.process)}catch(e){return}}function bo(){var e="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof e&&void 0!==e.id}function _o(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function wo(){return!0===oo.NODE_ADMIN}function Eo(){return"indexedDB"in self&&null!=indexedDB}function So(){return new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(e){t(e)}}))}function To(){return!(!navigator||!navigator.cookieEnabled)}var Co,Io="FirebaseError",ko=($i(Oo,Co=Error),Oo);function Oo(e,t,n){return(t=Co.call(this,t)||this).code=e,t.customData=n,t.name=Io,Object.setPrototypeOf(t,Oo.prototype),Error.captureStackTrace&&Error.captureStackTrace(t,xo.prototype.create),t}var xo=(Po.prototype.create=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r,i=t[0]||{},o=this.service+"/"+e;return e=(e=this.errors[e])?(r=i,e.replace(No,(function(e,t){var n=r[t];return null!=n?String(n):"<"+t+"?>"}))):"Error",e=this.serviceName+": "+e+" ("+o+").",new ko(o,e,i)},Po);function Po(e,t,n){this.service=e,this.serviceName=t,this.errors=n}var No=/\{\$([^}]+)}/g;function Ao(e){return JSON.parse(e)}function Ro(e){return JSON.stringify(e)}function Do(e){var t={},n={},r={},i="";try{var o=e.split(".");t=Ao(io(o[0])||""),n=Ao(io(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch(e){}return{header:t,claims:n,data:r,signature:i}}function jo(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Lo(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]}function Mo(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Fo(e,t,n){var r,i={};for(r in e)Object.prototype.hasOwnProperty.call(e,r)&&(i[r]=t.call(n,e[r],r,e));return i}function Uo(e){for(var t=[],n=0,r=Object.entries(e);n<r.length;n++){var i=r[n];!function(e,n){Array.isArray(n)?n.forEach((function(n){t.push(encodeURIComponent(e)+"="+encodeURIComponent(n))})):t.push(encodeURIComponent(e)+"="+encodeURIComponent(n))}(i[0],i[1])}return t.length?"&"+t.join("&"):""}var qo=(Bo.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},Bo.prototype.compress_=function(e,t){t=t||0;var n=this.W_;if("string"==typeof e)for(var r=0;r<16;r++)n[r]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(r=0;r<16;r++)n[r]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(r=16;r<80;r++){var i=n[r-3]^n[r-8]^n[r-14]^n[r-16];n[r]=4294967295&(i<<1|i>>>31)}var o,a=this.chain_[0],s=this.chain_[1],u=this.chain_[2],c=this.chain_[3],l=this.chain_[4];for(r=0;r<80;r++){var h=r<40?r<20?(o=c^s&(u^c),1518500249):(o=s^u^c,1859775393):r<60?(o=s&u|c&(s|u),2400959708):(o=s^u^c,3395469782);i=(a<<5|a>>>27)+o+l+h+n[r]&4294967295,l=c,c=u,u=4294967295&(s<<30|s>>>2),s=a,a=i}this.chain_[0]=this.chain_[0]+a&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+u&4294967295,this.chain_[3]=this.chain_[3]+c&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295},Bo.prototype.update=function(e,t){if(null!=e){for(var n=(t=void 0===t?e.length:t)-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;r<t;){if(0===o)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"==typeof e){for(;r<t;)if(i[o]=e.charCodeAt(r),++r,++o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<t;)if(i[o]=e[r],++r,++o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=t}},Bo.prototype.digest=function(){var e=[],t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;56<=n;n--)this.buf_[n]=255&t,t/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var i=24;0<=i;i-=8)e[r]=this.chain_[n]>>i&255,++r;return e},Bo);function Bo(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}function Vo(e,t){return(t=new Wo(e,t)).subscribe.bind(t)}var Wo=(zo.prototype.next=function(e){this.forEachObserver((function(t){t.next(e)}))},zo.prototype.error=function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)},zo.prototype.complete=function(){this.forEachObserver((function(e){e.complete()})),this.close()},zo.prototype.subscribe=function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");return void 0===(r=function(e,t){if("object"!=typeof e||null===e)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in e&&"function"==typeof e[i])return!0}return!1}(e)?e:{next:e,error:t,complete:n}).next&&(r.next=Ho),void 0===r.error&&(r.error=Ho),void 0===r.complete&&(r.complete=Ho),n=this.unsubscribeOne.bind(this,this.observers.length),this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),n},zo.prototype.unsubscribeOne=function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],--this.observerCount,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},zo.prototype.forEachObserver=function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)},zo.prototype.sendOne=function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(e){"undefined"!=typeof console&&console.error&&console.error(e)}}))},zo.prototype.close=function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))},zo);function zo(e,t){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((function(){e(n)})).catch((function(e){n.error(e)}))}function Ho(){}function Ko(e,t,n,r){var i;if(r<t?i="at least "+t:n<r&&(i=0===n?"none":"no more than "+n),i)throw new Error(e+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".")}function Go(e,t){return e+" failed: "+t+" argument "}function Qo(e,t,n,r){if((!r||n)&&"function"!=typeof n)throw new Error(Go(e,t)+"must be a valid function.")}function $o(e,t,n,r){if((!r||n)&&("object"!=typeof n||null===n))throw new Error(Go(e,t)+"must be a valid context object.")}function Yo(e){for(var t=0,n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:55296<=r&&r<=56319?(t+=4,n++):t+=3}return t}var Xo=1e3,Jo=2,Zo=144e5,ea=.5;function ta(e,t,n){return void 0===n&&(n=Jo),n=(t=void 0===t?Xo:t)*Math.pow(n,e),e=Math.round(ea*n*(Math.random()-.5)*2),Math.min(Zo,n+e)}function na(e){return e&&e._delegate?e._delegate:e}var ra=(ia.prototype.setInstantiationMode=function(e){return this.instantiationMode=e,this},ia.prototype.setMultipleInstances=function(e){return this.multipleInstances=e,this},ia.prototype.setServiceProps=function(e){return this.serviceProps=e,this},ia.prototype.setInstanceCreatedCallback=function(e){return this.onInstanceCreated=e,this},ia);function ia(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}var oa="[DEFAULT]",aa=(sa.prototype.get=function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)&&(e=new fo,this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize()))try{var n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(e){}return this.instancesDeferred.get(t).promise},sa.prototype.getImmediate=function(e){var t=this.normalizeInstanceIdentifier(null==e?void 0:e.identifier);if(e=null!==(e=null==e?void 0:e.optional)&&void 0!==e&&e,!this.isInitialized(t)&&!this.shouldAutoInitialize()){if(e)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:t})}catch(t){if(e)return null;throw t}},sa.prototype.getComponent=function(){return this.component},sa.prototype.setComponent=function(e){var t,n;if(e.name!==this.name)throw Error("Mismatching Component "+e.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=e,this.shouldAutoInitialize()){if("EAGER"===e.instantiationMode)try{this.getOrInitializeService({instanceIdentifier:oa})}catch(e){}try{for(var r=Zi(this.instancesDeferred.entries()),i=r.next();!i.done;i=r.next()){var o=eo(i.value,2),a=o[0],s=o[1],u=this.normalizeInstanceIdentifier(a);try{var c=this.getOrInitializeService({instanceIdentifier:u});s.resolve(c)}catch(e){}}}catch(e){t={error:e}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}}},sa.prototype.clearInstance=function(e){this.instancesDeferred.delete(e=void 0===e?oa:e),this.instancesOptions.delete(e),this.instances.delete(e)},sa.prototype.delete=function(){return Xi(this,void 0,void 0,(function(){var e;return Ji(this,(function(t){switch(t.label){case 0:return e=Array.from(this.instances.values()),[4,Promise.all(to(to([],eo(e.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()})))),eo(e.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))))];case 1:return t.sent(),[2]}}))}))},sa.prototype.isComponentSet=function(){return null!=this.component},sa.prototype.isInitialized=function(e){return this.instances.has(e=void 0===e?oa:e)},sa.prototype.getOptions=function(e){return this.instancesOptions.get(e=void 0===e?oa:e)||{}},sa.prototype.initialize=function(e){var t,n,r=void 0===(r=(e=void 0===e?{}:e).options)?{}:r,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(this.name+"("+i+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var o=this.getOrInitializeService({instanceIdentifier:i,options:r});try{for(var a=Zi(this.instancesDeferred.entries()),s=a.next();!s.done;s=a.next()){var u=eo(s.value,2),c=u[0],l=u[1];i===this.normalizeInstanceIdentifier(c)&&l.resolve(o)}}catch(e){t={error:e}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}return o},sa.prototype.onInit=function(e,t){var n=this.normalizeInstanceIdentifier(t),r=null!==(t=this.onInitCallbacks.get(n))&&void 0!==t?t:new Set;return r.add(e),this.onInitCallbacks.set(n,r),(t=this.instances.get(n))&&e(t,n),function(){r.delete(e)}},sa.prototype.invokeOnInitCallbacks=function(e,t){var n,r,i=this.onInitCallbacks.get(t);if(i)try{for(var o=Zi(i),a=o.next();!a.done;a=o.next()){var s=a.value;try{s(e,t)}catch(e){}}}catch(e){n={error:e}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}},sa.prototype.getOrInitializeService=function(e){var t=e.instanceIdentifier,n=e.options,r=void 0===n?{}:n;if(!(e=this.instances.get(t))&&this.component&&(e=this.component.instanceFactory(this.container,{instanceIdentifier:(n=t)===oa?void 0:n,options:r}),this.instances.set(t,e),this.instancesOptions.set(t,r),this.invokeOnInitCallbacks(e,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,e)}catch(e){}return e||null},sa.prototype.normalizeInstanceIdentifier=function(e){return void 0===e&&(e=oa),!this.component||this.component.multipleInstances?e:oa},sa.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},sa);function sa(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}var ua=(ca.prototype.addComponent=function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component "+e.name+" has already been registered with "+this.name);t.setComponent(e)},ca.prototype.addOrOverwriteComponent=function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)},ca.prototype.getProvider=function(e){if(this.providers.has(e))return this.providers.get(e);var t=new aa(e,this);return this.providers.set(e,t),t},ca.prototype.getProviders=function(){return Array.from(this.providers.values())},ca);function ca(e){this.name=e,this.providers=new Map}var la,ha=[];function fa(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!(t<e.logLevel)){var i=(new Date).toISOString(),o=va[t];if(!o)throw new Error("Attempted to log a message with an invalid logType (value: "+t+")");console[o].apply(console,to(["["+i+"]  "+e.name+":"],n))}}(li=la=la||{})[li.DEBUG=0]="DEBUG",li[li.VERBOSE=1]="VERBOSE",li[li.INFO=2]="INFO",li[li.WARN=3]="WARN",li[li.ERROR=4]="ERROR",li[li.SILENT=5]="SILENT";var da={debug:la.DEBUG,verbose:la.VERBOSE,info:la.INFO,warn:la.WARN,error:la.ERROR,silent:la.SILENT},pa=la.INFO,va=((Q={})[la.DEBUG]="log",Q[la.VERBOSE]="log",Q[la.INFO]="info",Q[la.WARN]="warn",Q[la.ERROR]="error",Q),ga=(Object.defineProperty(ya.prototype,"logLevel",{get:function(){return this._logLevel},set:function(e){if(!(e in la))throw new TypeError('Invalid value "'+e+'" assigned to `logLevel`');this._logLevel=e},enumerable:!1,configurable:!0}),ya.prototype.setLogLevel=function(e){this._logLevel="string"==typeof e?da[e]:e},Object.defineProperty(ya.prototype,"logHandler",{get:function(){return this._logHandler},set:function(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e},enumerable:!1,configurable:!0}),Object.defineProperty(ya.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e},enumerable:!1,configurable:!0}),ya.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,to([this,la.DEBUG],e)),this._logHandler.apply(this,to([this,la.DEBUG],e))},ya.prototype.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,to([this,la.VERBOSE],e)),this._logHandler.apply(this,to([this,la.VERBOSE],e))},ya.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,to([this,la.INFO],e)),this._logHandler.apply(this,to([this,la.INFO],e))},ya.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,to([this,la.WARN],e)),this._logHandler.apply(this,to([this,la.WARN],e))},ya.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,to([this,la.ERROR],e)),this._logHandler.apply(this,to([this,la.ERROR],e))},ya);function ya(e){this.name=e,this._logLevel=pa,this._logHandler=fa,this._userLogHandler=null,ha.push(this)}function ma(e){ha.forEach((function(t){t.setLogLevel(e)}))}function ba(e,t){for(var n=0,r=ha;n<r.length;n++)!function(n){var r=null;t&&t.level&&(r=da[t.level]),n.userLogHandler=null===e?null:function(t,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];var a=i.map((function(e){if(null==e)return null;if("string"==typeof e)return e;if("number"==typeof e||"boolean"==typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(e){return null}})).filter((function(e){return e})).join(" ");n>=(null!=r?r:t.logLevel)&&e({level:la[n].toLowerCase(),message:a,args:i,type:t.name})}}(r[n])}(G={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",G["bad-app-name"]="Illegal App name: '{$appName}",G["duplicate-app"]="Firebase App named '{$appName}' already exists",G["app-deleted"]="Firebase App named '{$appName}' already deleted",G["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",G["invalid-log-argument"]="First argument to `onLog` must be null or a function.";var _a=new xo("app","Firebase",li=G),wa="@firebase/app",Ea="[DEFAULT]",Sa=((Q={})[wa]="fire-core",Q["@firebase/analytics"]="fire-analytics",Q["@firebase/app-check"]="fire-app-check",Q["@firebase/auth"]="fire-auth",Q["@firebase/database"]="fire-rtdb",Q["@firebase/functions"]="fire-fn",Q["@firebase/installations"]="fire-iid",Q["@firebase/messaging"]="fire-fcm",Q["@firebase/performance"]="fire-perf",Q["@firebase/remote-config"]="fire-rc",Q["@firebase/storage"]="fire-gcs",Q["@firebase/firestore"]="fire-fst",Q["fire-js"]="fire-js",Q["firebase-wrapper"]="fire-js-all",Q),Ta=new ga("@firebase/app"),Ca=(Object.defineProperty(Ia.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(e){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=e},enumerable:!1,configurable:!0}),Object.defineProperty(Ia.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(Ia.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),Ia.prototype.delete=function(){var e=this;return new Promise((function(t){e.checkDestroyed_(),t()})).then((function(){return e.firebase_.INTERNAL.removeApp(e.name_),Promise.all(e.container.getProviders().map((function(e){return e.delete()})))})).then((function(){e.isDeleted_=!0}))},Ia.prototype._getService=function(e,t){void 0===t&&(t=Ea),this.checkDestroyed_();var n=this.container.getProvider(e);return n.isInitialized()||"EXPLICIT"!==(null===(e=n.getComponent())||void 0===e?void 0:e.instantiationMode)||n.initialize(),n.getImmediate({identifier:t})},Ia.prototype._removeServiceInstance=function(e,t){void 0===t&&(t=Ea),this.container.getProvider(e).clearInstance(t)},Ia.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){Ta.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},Ia.prototype._addOrOverwriteComponent=function(e){this.container.addOrOverwriteComponent(e)},Ia.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},Ia.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw _a.create("app-deleted",{appName:this.name_})},Ia);function Ia(e,t,n){var r=this;this.firebase_=n,this.isDeleted_=!1,this.name_=t.name,this.automaticDataCollectionEnabled_=t.automaticDataCollectionEnabled||!1,this.options_=lo(e),this.container=new ua(t.name),this._addComponent(new ra("app",(function(){return r}),"PUBLIC")),this.firebase_.INTERNAL.components.forEach((function(e){return r._addComponent(e)}))}Ca.prototype.name&&Ca.prototype.options||Ca.prototype.delete||console.log("dc");var ka="8.10.1";function Oa(e){var t={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"==typeof i&&null!==i||(i={name:i});var o=i;if(void 0===o.name&&(o.name=Ea),"string"!=typeof(i=o.name)||!i)throw _a.create("bad-app-name",{appName:String(i)});if(jo(t,i))throw _a.create("duplicate-app",{appName:i});return o=new e(n,o,r),t[i]=o},app:i,registerVersion:function(e,t,n){var r=null!==(i=Sa[e])&&void 0!==i?i:e;n&&(r+="-"+n);var i=r.match(/\s|\//);e=t.match(/\s|\//),i||e?(n=['Unable to register library "'+r+'" with version "'+t+'":'],i&&n.push('library name "'+r+'" contains illegal characters (whitespace or "/")'),i&&e&&n.push("and"),e&&n.push('version name "'+t+'" contains illegal characters (whitespace or "/")'),Ta.warn(n.join(" "))):o(new ra(r+"-version",(function(){return{library:r,version:t}}),"VERSION"))},setLogLevel:ma,onLog:function(e,t){if(null!==e&&"function"!=typeof e)throw _a.create("invalid-log-argument");ba(e,t)},apps:null,SDK_VERSION:ka,INTERNAL:{registerComponent:o,removeApp:function(e){delete t[e]},components:n,useAsService:function(e,t){return"serverAuth"!==t?t:null}}};function i(e){if(!jo(t,e=e||Ea))throw _a.create("no-app",{appName:e});return t[e]}function o(o){var a,s=o.name;if(n.has(s))return Ta.debug("There were multiple attempts to register component "+s+"."),"PUBLIC"===o.type?r[s]:null;n.set(s,o),"PUBLIC"===o.type&&(a=function(e){if("function"!=typeof(e=void 0===e?i():e)[s])throw _a.create("invalid-app-argument",{appName:s});return e[s]()},void 0!==o.serviceProps&&ho(a,o.serviceProps),r[s]=a,e.prototype[s]=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this._getService.bind(this,s).apply(this,o.multipleInstances?e:[])});for(var u=0,c=Object.keys(t);u<c.length;u++){var l=c[u];t[l]._addComponent(o)}return"PUBLIC"===o.type?r[s]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(t).map((function(e){return t[e]}))}}),i.App=e,r}G=function e(){var t=Oa(Ca);return t.INTERNAL=Yi(Yi({},t.INTERNAL),{createFirebaseNamespace:e,extendNamespace:function(e){ho(t,e)},createSubscribe:Vo,ErrorFactory:xo,deepExtend:ho}),t}();var xa=(Pa.prototype.getPlatformInfoString=function(){return this.container.getProviders().map((function(e){return function(e){return"VERSION"===(null==(e=e.getComponent())?void 0:e.type)}(e)?(e=e.getImmediate()).library+"/"+e.version:null})).filter((function(e){return e})).join(" ")},Pa);function Pa(e){this.container=e}"object"==typeof self&&self.self===self&&void 0!==self.firebase&&(Ta.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  "),(Xs=self.firebase.SDK_VERSION)&&0<=Xs.indexOf("LITE")&&Ta.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    "));var Na=G.initializeApp;G.initializeApp=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return mo()&&Ta.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),Na.apply(void 0,e)};var Aa,Ra,Da=G;(Aa=Da).INTERNAL.registerComponent(new ra("platform-logger",(function(e){return new xa(e)}),"PRIVATE")),Aa.registerVersion(wa,"0.6.30",Ra),Aa.registerVersion("fire-js",""),Da.registerVersion("firebase","8.10.1","app"),Da.SDK_VERSION="8.10.1",function(){var e,n="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){e!=Array.prototype&&e!=Object.prototype&&(e[t]=n.value)},r=function(e){e=["object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof t&&t,e];for(var n=0;n<e.length;++n){var r=e[n];if(r&&r.Math==Math)return r}return globalThis}(this);function i(e){var t,n,r="undefined"!=typeof Symbol&&Symbol.iterator&&e[Symbol.iterator];return r?r.call(e):{next:(t=e,n=0,function(){return n<t.length?{done:!1,value:t[n++]}:{done:!0}})}}!function(e,t){if(t){var i=r;e=e.split(".");for(var o=0;o<e.length-1;o++){var a=e[o];a in i||(i[a]={}),i=i[a]}(t=t(o=i[e=e[e.length-1]]))!=o&&null!=t&&n(i,e,{configurable:!0,writable:!0,value:t})}}("Promise",(function(e){function t(e){this.b=0,this.c=void 0,this.a=[];var t=this.f();try{e(t.resolve,t.reject)}catch(e){t.reject(e)}}function n(){this.a=null}function o(e){return e instanceof t?e:new t((function(t){t(e)}))}if(e)return e;n.prototype.b=function(e){var t;null==this.a&&(this.a=[],(t=this).c((function(){t.g()}))),this.a.push(e)};var a=r.setTimeout;n.prototype.c=function(e){a(e,0)},n.prototype.g=function(){for(;this.a&&this.a.length;){var e=this.a;this.a=[];for(var t=0;t<e.length;++t){var n=e[t];e[t]=null;try{n()}catch(e){this.f(e)}}}this.a=null},n.prototype.f=function(e){this.c((function(){throw e}))},t.prototype.f=function(){function e(e){return function(r){n||(n=!0,e.call(t,r))}}var t=this,n=!1;return{resolve:e(this.m),reject:e(this.g)}},t.prototype.m=function(e){if(e===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(e instanceof t)this.s(e);else{e:switch(typeof e){case"object":var n=null!=e;break e;case"function":n=!0;break e;default:n=!1}n?this.v(e):this.h(e)}},t.prototype.v=function(e){var t=void 0;try{t=e.then}catch(e){return void this.g(e)}"function"==typeof t?this.u(t,e):this.h(e)},t.prototype.g=function(e){this.i(2,e)},t.prototype.h=function(e){this.i(1,e)},t.prototype.i=function(e,t){if(0!=this.b)throw Error("Cannot settle("+e+", "+t+"): Promise already settled in state"+this.b);this.b=e,this.c=t,this.l()},t.prototype.l=function(){if(null!=this.a){for(var e=0;e<this.a.length;++e)s.b(this.a[e]);this.a=null}};var s=new n;return t.prototype.s=function(e){var t=this.f();e.Ra(t.resolve,t.reject)},t.prototype.u=function(e,t){var n=this.f();try{e.call(t,n.resolve,n.reject)}catch(e){n.reject(e)}},t.prototype.then=function(e,n){function r(e,t){return"function"==typeof e?function(t){try{i(e(t))}catch(t){o(t)}}:t}var i,o,a=new t((function(e,t){i=e,o=t}));return this.Ra(r(e,i),r(n,o)),a},t.prototype.catch=function(e){return this.then(void 0,e)},t.prototype.Ra=function(e,t){function n(){switch(r.b){case 1:e(r.c);break;case 2:t(r.c);break;default:throw Error("Unexpected state: "+r.b)}}var r=this;null==this.a?s.b(n):this.a.push(n)},t.resolve=o,t.reject=function(e){return new t((function(t,n){n(e)}))},t.race=function(e){return new t((function(t,n){for(var r=i(e),a=r.next();!a.done;a=r.next())o(a.value).Ra(t,n)}))},t.all=function(e){var n=i(e),r=n.next();return r.done?o([]):new t((function(e,t){for(var i=[],a=0;i.push(void 0),a++,o(r.value).Ra(function(t){return function(n){i[t]=n,0==--a&&e(i)}}(i.length-1),t),!(r=n.next()).done;);}))},t}));var o=o||{},a=this||self,s=/^[\w+/_-]+[=]{0,2}$/,u=null;function c(e){return(e=e.querySelector&&e.querySelector("script[nonce]"))&&(e=e.nonce||e.getAttribute("nonce"))&&s.test(e)?e:""}function l(){}function h(e){var t=typeof e;return"object"!=t?t:e?Array.isArray(e)?"array":t:"null"}function f(e){var t=h(e);return"array"==t||"object"==t&&"number"==typeof e.length}function d(e){return"function"==h(e)}function p(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var v="closure_uid_"+(1e9*Math.random()>>>0),g=0;function y(e,t,n){return e.call.apply(e.bind,arguments)}function m(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function b(e,t,n){return(b=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?y:m).apply(null,arguments)}function _(e){var t=Array.prototype.slice.call(arguments,1);return function(){var n=t.slice();return n.push.apply(n,arguments),e.apply(this,n)}}function w(e,t){function n(){}n.prototype=t.prototype,e.bb=t.prototype,e.prototype=new n,e.prototype.constructor=e}function E(e){return e}function S(e,t,n){this.code=I+e,this.message=t||k[e]||"",this.a=n||null}function T(e){var t=e&&e.code;return t?new S(t.substring(I.length),e.message,e.serverResponse):null}w(S,Error),S.prototype.w=function(){var e={code:this.code,message:this.message};return this.a&&(e.serverResponse=this.a),e},S.prototype.toJSON=function(){return this.w()};var C,I="auth/",k={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},O={ld:{Ua:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},sd:{Ua:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://securetoken.googleapis.com/v1/token",Xa:"https://identitytoolkit.googleapis.com/v2/",id:"p"},ud:{Ua:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},vd:{Ua:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",$a:"https://test-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function x(e){for(var t in O)if(O[t].id===e)return{firebaseEndpoint:(e=O[t]).Ua,secureTokenEndpoint:e.$a,identityPlatformEndpoint:e.Xa};return null}function P(e){if(e)try{return e.$goog_Thenable}catch(e){return}}function N(e){var t;Error.captureStackTrace?Error.captureStackTrace(this,N):(t=Error().stack)&&(this.stack=t),e&&(this.message=String(e))}function A(e,t){for(var n="",r=(e=e.split("%s")).length-1,i=0;i<r;i++)n+=e[i]+(i<t.length?t[i]:"%s");N.call(this,n+e[r])}function R(e){throw new A("Failure"+(e?": "+e:""),Array.prototype.slice.call(arguments,1))}function D(e,t){this.c=e,this.f=t,this.b=0,this.a=null}function j(e,t){e.f(t),e.b<100&&(e.b++,t.next=e.a,e.a=t)}function L(){this.b=this.a=null}C=x("__EID__")?"__EID__":void 0,w(N,Error),N.prototype.name="CustomError",w(A,N),A.prototype.name="AssertionError",D.prototype.get=function(){var e;return 0<this.b?(this.b--,e=this.a,this.a=e.next,e.next=null):e=this.c(),e};var M=new D((function(){return new F}),(function(e){e.reset()}));function F(){this.next=this.b=this.a=null}L.prototype.add=function(e,t){var n=M.get();n.set(e,t),this.b?this.b.next=n:this.a=n,this.b=n},F.prototype.set=function(e,t){this.a=e,this.b=t,this.next=null},F.prototype.reset=function(){this.next=this.b=this.a=null};var U=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"==typeof e)return"string"!=typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},q=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"==typeof e?e.split(""):e,o=0;o<r;o++)o in i&&t.call(n,i[o],o,e)},B=Array.prototype.filter?function(e,t){return Array.prototype.filter.call(e,t,void 0)}:function(e,t){for(var n,r=e.length,i=[],o=0,a="string"==typeof e?e.split(""):e,s=0;s<r;s++)s in a&&(n=a[s],t.call(void 0,n,s,e)&&(i[o++]=n));return i},V=Array.prototype.map?function(e,t){return Array.prototype.map.call(e,t,void 0)}:function(e,t){for(var n=e.length,r=Array(n),i="string"==typeof e?e.split(""):e,o=0;o<n;o++)o in i&&(r[o]=t.call(void 0,i[o],o,e));return r},W=Array.prototype.some?function(e,t){return Array.prototype.some.call(e,t,void 0)}:function(e,t){for(var n=e.length,r="string"==typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e))return!0;return!1};function z(e,t){return 0<=U(e,t)}function H(e,t){var n;return(n=0<=(t=U(e,t)))&&Array.prototype.splice.call(e,t,1),n}function K(e,t){!function(e,t){for(var n="string"==typeof e?e.split(""):e,r=e.length-1;0<=r;--r)r in n&&t.call(void 0,n[r],r,e)}(e,(function(n,r){t.call(void 0,n,r,e)&&Array.prototype.splice.call(e,r,1).length}))}function G(){return Array.prototype.concat.apply([],arguments)}function Q(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}var $,Y=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]},X=/&/g,J=/</g,Z=/>/g,ee=/"/g,te=/'/g,ne=/\x00/g,re=/[\x00&<>"']/;function ie(e,t){return-1!=e.indexOf(t)}function oe(e,t){return e<t?-1:t<e?1:0}var ae=a.navigator;function se(e){return ie($,e)}function ue(e,t){for(var n in e)t.call(void 0,e[n],n,e)}function ce(e){for(var t in e)return;return 1}function le(e){var t,n={};for(t in e)n[t]=e[t];return n}$=ae&&(ae=ae.userAgent)?ae:"";var he="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function fe(e){for(var t,n,r=1;r<arguments.length;r++){for(t in n=arguments[r])e[t]=n[t];for(var i=0;i<he.length;i++)t=he[i],Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t])}}function de(e,t){e:{try{var n,r=e&&e.ownerDocument;if((n=(n=r&&(r.defaultView||r.parentWindow))||a).Element&&n.Location){var i=n;break e}}catch(e){}i=null}if(i&&void 0!==i[t]&&(!e||!(e instanceof i[t])&&(e instanceof i.Location||e instanceof i.Element))){if(p(e))try{var o=e.constructor.displayName||e.constructor.name||Object.prototype.toString.call(e)}catch(e){o="<object could not be stringified>"}else o=void 0===e?"undefined":null===e?"null":typeof e;R("Argument is not a %s (or a non-Element, non-Location mock); got: %s",t,o)}}function pe(e,t){this.a=e===me&&t||"",this.b=ye}function ve(e){return e instanceof pe&&e.constructor===pe&&e.b===ye?e.a:(R("expected object of type Const, got '"+e+"'"),"type_error:Const")}pe.prototype.ta=!0,pe.prototype.sa=function(){return this.a},pe.prototype.toString=function(){return"Const{"+this.a+"}"};var ge,ye={},me={};function be(){if(void 0===ge){var e=null,t=a.trustedTypes;if(t&&t.createPolicy){try{e=t.createPolicy("goog#html",{createHTML:E,createScript:E,createScriptURL:E})}catch(e){a.console&&a.console.error(e.message)}ge=e}else ge=e}return ge}function _e(e,t){this.a=t===Ce?e:""}function we(e){return e instanceof _e&&e.constructor===_e?e.a:(R("expected object of type TrustedResourceUrl, got '"+e+"' of type "+h(e)),"type_error:TrustedResourceUrl")}function Ee(e,t){var n,r=ve(e);if(!Te.test(r))throw Error("Invalid TrustedResourceUrl format: "+r);return e=r.replace(Se,(function(e,n){if(!Object.prototype.hasOwnProperty.call(t,n))throw Error('Found marker, "'+n+'", in format string, "'+r+'", but no valid label mapping found in args: '+JSON.stringify(t));return(e=t[n])instanceof pe?ve(e):encodeURIComponent(String(e))})),n=e,new _e(n=(e=be())?e.createScriptURL(n):n,Ce)}_e.prototype.ta=!0,_e.prototype.sa=function(){return this.a.toString()},_e.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var Se=/%{(\w+)}/g,Te=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,Ce={};function Ie(e,t){this.a=t===Re?e:""}function ke(e){return e instanceof Ie&&e.constructor===Ie?e.a:(R("expected object of type SafeUrl, got '"+e+"' of type "+h(e)),"type_error:SafeUrl")}Ie.prototype.ta=!0,Ie.prototype.sa=function(){return this.a.toString()},Ie.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var Oe=/^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-matroska|x-wav|wav|webm)|font\/\w+|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime|x-matroska))(?:;\w+=(?:\w+|"[\w;,= ]+"))*$/i,xe=/^data:(.*);base64,[a-z0-9+\/]+=*$/i,Pe=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function Ne(e){return e instanceof Ie?e:(e="object"==typeof e&&e.ta?e.sa():String(e),e=Pe.test(e)||(t=(e=(e=String(e)).replace(/(%0A|%0D)/g,"")).match(xe))&&Oe.test(t[1])?new Ie(e,Re):null);var t}function Ae(e){return e instanceof Ie?e:(e="object"==typeof e&&e.ta?e.sa():String(e),new Ie(e=Pe.test(e)?e:"about:invalid#zClosurez",Re))}var Re={},De=new Ie("about:invalid#zClosurez",Re);function je(e,t,n){this.a=n===Le?e:""}je.prototype.ta=!0,je.prototype.sa=function(){return this.a.toString()},je.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var Le={};function Me(e,t,n,r){return e=e instanceof Ie?e:Ae(e),t=t||a,n=n instanceof pe?ve(n):n||"",t.open(ke(e),n,r,void 0)}function Fe(e){for(var t=e.split("%s"),n="",r=Array.prototype.slice.call(arguments,1);r.length&&1<t.length;)n+=t.shift()+r.shift();return n+t.join("%s")}function Ue(e){return re.test(e)&&-1!=(e=-1!=(e=-1!=(e=-1!=(e=-1!=(e=-1!=e.indexOf("&")?e.replace(X,"&amp;"):e).indexOf("<")?e.replace(J,"&lt;"):e).indexOf(">")?e.replace(Z,"&gt;"):e).indexOf('"')?e.replace(ee,"&quot;"):e).indexOf("'")?e.replace(te,"&#39;"):e).indexOf("\0")&&(e=e.replace(ne,"&#0;")),e}function qe(e){return qe[" "](e),e}qe[" "]=l;var Be,Ve=se("Opera"),We=se("Trident")||se("MSIE"),ze=se("Edge"),He=ze||We,Ke=se("Gecko")&&!(ie($.toLowerCase(),"webkit")&&!se("Edge"))&&!(se("Trident")||se("MSIE"))&&!se("Edge"),Ge=ie($.toLowerCase(),"webkit")&&!se("Edge");function Qe(){var e=a.document;return e?e.documentMode:void 0}var $e="",Ye=(Ye=$,Ke?/rv:([^\);]+)(\)|;)/.exec(Ye):ze?/Edge\/([\d\.]+)/.exec(Ye):We?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(Ye):Ge?/WebKit\/(\S+)/.exec(Ye):Ve?/(?:Version)[ \/]?(\S+)/.exec(Ye):void 0);Ye&&($e=Ye?Ye[1]:""),Be=We&&null!=(Ye=Qe())&&Ye>parseFloat($e)?String(Ye):$e;var Xe={};function Je(e){return t=e,n=function(){for(var t=0,n=Y(String(Be)).split("."),r=Y(String(e)).split("."),i=Math.max(n.length,r.length),o=0;0==t&&o<i;o++)for(var a=n[o]||"",s=r[o]||"";a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],(0!=a[0].length||0!=s[0].length)&&(t=oe(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||oe(0==a[2].length,0==s[2].length)||oe(a[2],s[2]),a=a[3],s=s[3],0==t););return 0<=t},r=Xe,Object.prototype.hasOwnProperty.call(r,t)?r[t]:r[t]=n(t);var t,n,r}var Ze=a.document&&We&&(Qe()||parseInt(Be,10))||void 0;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch(e){}var et=!We||9<=Number(Ze);function tt(e){var t=document;return"string"==typeof e?t.getElementById(e):e}function nt(e,t){ue(t,(function(t,n){t&&"object"==typeof t&&t.ta&&(t=t.sa()),"style"==n?e.style.cssText=t:"class"==n?e.className=t:"for"==n?e.htmlFor=t:ot.hasOwnProperty(n)?e.setAttribute(ot[n],t):0==n.lastIndexOf("aria-",0)||0==n.lastIndexOf("data-",0)?e.setAttribute(n,t):e[n]=t}))}var rt,it,ot={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function at(){var e,t=arguments,n=document,r=String(t[0]),i=t[1];return!et&&i&&(i.name||i.type)&&(r=["<",r],i.name&&r.push(' name="',Ue(i.name),'"'),i.type&&(r.push(' type="',Ue(i.type),'"'),fe(e={},i),delete e.type,i=e),r.push(">"),r=r.join("")),r=st(n,r),i&&("string"==typeof i?r.className=i:Array.isArray(i)?r.className=i.join(" "):nt(r,i)),2<t.length&&function(e,t,n){function r(n){n&&t.appendChild("string"==typeof n?e.createTextNode(n):n)}for(var i=2;i<n.length;i++){var o=n[i];if(!f(o)||p(o)&&0<o.nodeType)r(o);else{e:{if(o&&"number"==typeof o.length){if(p(o)){var a="function"==typeof o.item||"string"==typeof o.item;break e}if(d(o)){a="function"==typeof o.item;break e}}a=!1}q(a?Q(o):o,r)}}}(n,r,t),r}function st(e,t){return t=String(t),"application/xhtml+xml"===e.contentType&&(t=t.toLowerCase()),e.createElement(t)}function ut(e){a.setTimeout((function(){throw e}),0)}function ct(e,t){it||function(){var e;it=a.Promise&&a.Promise.resolve?(e=a.Promise.resolve(void 0),function(){e.then(ft)}):function(){var e=ft;!d(a.setImmediate)||a.Window&&a.Window.prototype&&!se("Edge")&&a.Window.prototype.setImmediate==a.setImmediate?(rt=rt||function(){var e=a.MessageChannel;if(void 0===(e=void 0===e&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&!se("Presto")?function(){var e=st(document,"IFRAME");e.style.display="none",document.documentElement.appendChild(e);var t=e.contentWindow;(e=t.document).open(),e.close();var n="callImmediate"+Math.random(),r="file:"==t.location.protocol?"*":t.location.protocol+"//"+t.location.host;e=b((function(e){"*"!=r&&e.origin!=r||e.data!=n||this.port1.onmessage()}),this),t.addEventListener("message",e,!1),this.port1={},this.port2={postMessage:function(){t.postMessage(n,r)}}}:e)||se("Trident")||se("MSIE"))return function(e){a.setTimeout(e,0)};var t=new e,n={},r=n;return t.port1.onmessage=function(){var e;void 0!==n.next&&(e=(n=n.next).Hb,n.Hb=null,e())},function(e){r.next={Hb:e},r=r.next,t.port2.postMessage(0)}}())(e):a.setImmediate(e)}}(),lt||(it(),lt=!0),ht.add(e,t)}var lt=!1,ht=new L;function ft(){for(var e,t;t=e=void 0,t=null,(e=ht).a&&(t=e.a,e.a=e.a.next,e.a||(e.b=null),t.next=null),t;){try{t.a.call(t.b)}catch(e){ut(e)}j(M,t)}lt=!1}function dt(e,t){if(this.a=pt,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,e!=l)try{var n=this;e.call(t,(function(e){It(n,vt,e)}),(function(e){if(!(e instanceof Rt))try{if(e instanceof Error)throw e;throw Error("Promise rejected.")}catch(e){}It(n,gt,e)}))}catch(e){It(this,gt,e)}}var pt=0,vt=2,gt=3;function yt(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}yt.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var mt=new D((function(){return new yt}),(function(e){e.reset()}));function bt(e,t,n){var r=mt.get();return r.g=e,r.b=t,r.f=n,r}function _t(e){if(e instanceof dt)return e;var t=new dt(l);return It(t,vt,e),t}function wt(e){return new dt((function(t,n){n(e)}))}function Et(e,t,n){kt(e,t,n,null)||ct(_(t,e))}function St(e){return new dt((function(t){var n=e.length,r=[];if(n)for(var i=function(e,i,o){n--,r[e]=i?{Qb:!0,value:o}:{Qb:!1,reason:o},0==n&&t(r)},o=0;o<e.length;o++)Et(e[o],_(i,o,!0),_(i,o,!1));else t(r)}))}function Tt(e,t){e.b||e.a!=vt&&e.a!=gt||Ot(e),e.f?e.f.next=t:e.b=t,e.f=t}function Ct(e,t,n,r){var i=bt(null,null,null);return i.a=new dt((function(e,o){i.g=t?function(n){try{var i=t.call(r,n);e(i)}catch(n){o(n)}}:e,i.b=n?function(t){try{var i=n.call(r,t);void 0===i&&t instanceof Rt?o(t):e(i)}catch(t){o(t)}}:o})),Tt(i.a.c=e,i),i.a}function It(e,t,n){var r,i;e.a==pt&&(e===n&&(t=gt,n=new TypeError("Promise cannot resolve to itself")),e.a=1,kt(n,e.$c,e.ad,e)||(e.i=n,e.a=t,e.c=null,Ot(e),t!=gt||n instanceof Rt||(i=n,(r=e).g=!0,ct((function(){r.g&&At.call(null,i)})))))}function kt(e,t,n,r){if(e instanceof dt)return Tt(e,bt(t||l,n||null,r)),1;if(P(e))return e.then(t,n,r),1;if(p(e))try{var i=e.then;if(d(i))return function(e,t,n,r,i){function o(e){a||(a=!0,r.call(i,e))}var a=!1;try{t.call(e,(function(e){a||(a=!0,n.call(i,e))}),o)}catch(e){o(e)}}(e,i,t,n,r),1}catch(e){return n.call(r,e),1}}function Ot(e){e.h||(e.h=!0,ct(e.gc,e))}function xt(e){var t=null;return e.b&&(t=e.b,e.b=t.next,t.next=null),e.b||(e.f=null),t}function Pt(e,t,n,r){if(n==gt&&t.b&&!t.c)for(;e&&e.g;e=e.c)e.g=!1;if(t.a)t.a.c=null,Nt(t,n,r);else try{t.c?t.g.call(t.f):Nt(t,n,r)}catch(e){At.call(null,e)}j(mt,t)}function Nt(e,t,n){t==vt?e.g.call(e.f,n):e.b&&e.b.call(e.f,n)}dt.prototype.then=function(e,t,n){return Ct(this,d(e)?e:null,d(t)?t:null,n)},dt.prototype.$goog_Thenable=!0,(e=dt.prototype).oa=function(e,t){return(e=bt(e,e,t)).c=!0,Tt(this,e),this},e.o=function(e,t){return Ct(this,null,e,t)},e.cancel=function(e){var t;this.a==pt&&(t=new Rt(e),ct((function(){!function e(t,n){if(t.a==pt)if(t.c){var r=t.c;if(r.b){for(var i=0,o=null,a=null,s=r.b;s&&(s.c||(i++,!((o=s.a==t?s:o)&&1<i)));s=s.next)o||(a=s);o&&(r.a==pt&&1==i?e(r,n):(a?((i=a).next==r.f&&(r.f=i),i.next=i.next.next):xt(r),Pt(r,o,gt,n)))}t.c=null}else It(t,gt,n)}(this,t)}),this))},e.$c=function(e){this.a=pt,It(this,vt,e)},e.ad=function(e){this.a=pt,It(this,gt,e)},e.gc=function(){for(var e;e=xt(this);)Pt(this,e,this.a,this.i);this.h=!1};var At=ut;function Rt(e){N.call(this,e)}function Dt(){this.ya=this.ya,this.pa=this.pa}w(Rt,N);var jt=0,Lt={};function Mt(e){e.ya||(e.ya=!0,e.Da(),0==jt)||(e=Object.prototype.hasOwnProperty.call(e,v)&&e[v]||(e[v]=++g),delete Lt[e])}Dt.prototype.ya=!(Rt.prototype.name="cancel"),Dt.prototype.Da=function(){if(this.pa)for(;this.pa.length;)this.pa.shift()()};var Ft=Object.freeze||function(e){return e},Ut=!We||9<=Number(Ze),qt=We&&!Je("9"),Bt=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{a.addEventListener("test",l,t),a.removeEventListener("test",l,t)}catch(e){}return e}();function Vt(e,t){this.type=e,this.b=this.target=t,this.defaultPrevented=!1}function Wt(e,t){if(Vt.call(this,e?e.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.b=t,t=e.relatedTarget){if(Ke){e:{try{qe(t.nodeName);var i=!0;break e}catch(e){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"==typeof e.pointerType?e.pointerType:zt[e.pointerType]||"",(this.a=e).defaultPrevented&&this.preventDefault()}}Vt.prototype.preventDefault=function(){this.defaultPrevented=!0},w(Wt,Vt);var zt=Ft({2:"touch",3:"pen",4:"mouse"});Wt.prototype.preventDefault=function(){Wt.bb.preventDefault.call(this);var e=this.a;if(e.preventDefault)e.preventDefault();else if(e.returnValue=!1,qt)try{(e.ctrlKey||112<=e.keyCode&&e.keyCode<=123)&&(e.keyCode=-1)}catch(e){}},Wt.prototype.g=function(){return this.a};var Ht="closure_listenable_"+(1e6*Math.random()|0),Kt=0;function Gt(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.Wa=i,this.key=++Kt,this.wa=this.Qa=!1}function Qt(e){e.wa=!0,e.listener=null,e.proxy=null,e.src=null,e.Wa=null}function $t(e){this.src=e,this.a={},this.b=0}function Yt(e,t){var n=t.type;n in e.a&&H(e.a[n],t)&&(Qt(t),0==e.a[n].length&&(delete e.a[n],e.b--))}function Xt(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.wa&&o.listener==t&&o.capture==!!n&&o.Wa==r)return i}return-1}$t.prototype.add=function(e,t,n,r,i){var o=e.toString();(e=this.a[o])||(e=this.a[o]=[],this.b++);var a=Xt(e,t,r,i);return-1<a?(t=e[a],n||(t.Qa=!1)):((t=new Gt(t,this.src,o,!!r,i)).Qa=n,e.push(t)),t};var Jt="closure_lm_"+(1e6*Math.random()|0),Zt={};function en(e,t,n,r,i){if(r&&r.once)nn(e,t,n,r,i);else if(Array.isArray(t))for(var o=0;o<t.length;o++)en(e,t[o],n,r,i);else n=fn(n),e&&e[Ht]?pn(e,t,n,p(r)?!!r.capture:!!r,i):tn(e,t,n,!1,r,i)}function tn(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var a,s,u=p(i)?!!i.capture:!!i,c=ln(e);if(c||(e[Jt]=c=new $t(e)),!(n=c.add(t,n,r,u,o)).proxy)if(a=cn,s=Ut?function(e){return a.call(s.src,s.listener,e)}:function(e){if(!(e=a.call(s.src,s.listener,e)))return e},(n.proxy=r=s).src=e,r.listener=n,e.addEventListener)void 0===(i=Bt?i:u)&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(an(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}}function nn(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)nn(e,t[o],n,r,i);else n=fn(n),e&&e[Ht]?vn(e,t,n,p(r)?!!r.capture:!!r,i):tn(e,t,n,!0,r,i)}function rn(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)rn(e,t[o],n,r,i);else r=p(r)?!!r.capture:!!r,n=fn(n),e&&e[Ht]?(e=e.v,(t=String(t).toString())in e.a&&-1<(n=Xt(o=e.a[t],n,r,i))&&(Qt(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete e.a[t],e.b--))):(e=e&&ln(e))&&(t=e.a[t.toString()],(n=(e=-1)<(e=t?Xt(t,n,r,i):e)?t[e]:null)&&on(n))}function on(e){var t,n,r;"number"!=typeof e&&e&&!e.wa&&((t=e.src)&&t[Ht]?Yt(t.v,e):(n=e.type,r=e.proxy,t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(an(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=ln(t))?(Yt(n,e),0==n.b&&(n.src=null,t[Jt]=null)):Qt(e)))}function an(e){return e in Zt?Zt[e]:Zt[e]="on"+e}function sn(e,t,n,r){var i=!0;if((e=ln(e))&&(t=e.a[t.toString()]))for(t=t.concat(),e=0;e<t.length;e++){var o=t[e];o&&o.capture==n&&!o.wa&&(o=un(o,r),i=i&&!1!==o)}return i}function un(e,t){var n=e.listener,r=e.Wa||e.src;return e.Qa&&on(e),n.call(r,t)}function cn(e,t){if(e.wa)return!0;if(Ut)return un(e,new Wt(t,this));if(!t)e:{t=["window","event"];for(var n=a,r=0;r<t.length;r++)if(null==(n=n[t[r]])){t=null;break e}t=n}if(t=new Wt(r=t,this),n=!0,!(r.keyCode<0||null!=r.returnValue)){e:{var i=!1;if(0==r.keyCode)try{r.keyCode=-1;break e}catch(e){i=!0}!i&&null!=r.returnValue||(r.returnValue=!0)}for(r=[],i=t.b;i;i=i.parentNode)r.push(i);for(e=e.type,i=r.length-1;0<=i;i--){t.b=r[i];var o=sn(r[i],e,!0,t);n=n&&o}for(i=0;i<r.length;i++)t.b=r[i],o=sn(r[i],e,!1,t),n=n&&o}return n}function ln(e){return(e=e[Jt])instanceof $t?e:null}var hn="__closure_events_fn_"+(1e9*Math.random()>>>0);function fn(e){return d(e)?e:(e[hn]||(e[hn]=function(t){return e.handleEvent(t)}),e[hn])}function dn(){Dt.call(this),this.v=new $t(this),(this.bc=this).hb=null}function pn(e,t,n,r,i){e.v.add(String(t),n,!1,r,i)}function vn(e,t,n,r,i){e.v.add(String(t),n,!0,r,i)}function gn(e,t,n,r){if(!(t=e.v.a[String(t)]))return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var a,s,u=t[o];u&&!u.wa&&u.capture==n&&(a=u.listener,s=u.Wa||u.src,u.Qa&&Yt(e.v,u),i=!1!==a.call(s,r)&&i)}return i&&!r.defaultPrevented}function yn(e,t,n){if(d(e))n&&(e=b(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=b(e.handleEvent,e)}return 2147483647<Number(t)?-1:a.setTimeout(e,t||0)}function mn(e){var t=null;return new dt((function(n,r){-1==(t=yn((function(){n(void 0)}),e))&&r(Error("Failed to schedule timer."))})).o((function(e){throw a.clearTimeout(t),e}))}function bn(e){if(e.X&&"function"==typeof e.X)return e.X();if("string"==typeof e)return e.split("");if(f(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}function _n(e){if(e.Y&&"function"==typeof e.Y)return e.Y();if(!e.X||"function"!=typeof e.X){if(f(e)||"string"==typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}for(var r in t=[],n=0,e)t[n++]=r;return t}}function wn(e,t){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof wn)for(n=e.Y(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function En(e){if(e.c!=e.a.length){for(var t=0,n=0;t<e.a.length;){var r=e.a[t];Sn(e.b,r)&&(e.a[n++]=r),t++}e.a.length=n}if(e.c!=e.a.length){var i={};for(n=t=0;t<e.a.length;)Sn(i,r=e.a[t])||(i[e.a[n++]=r]=1),t++;e.a.length=n}}function Sn(e,t){return Object.prototype.hasOwnProperty.call(e,t)}w(dn,Dt),dn.prototype[Ht]=!0,dn.prototype.addEventListener=function(e,t,n,r){en(this,e,t,n,r)},dn.prototype.removeEventListener=function(e,t,n,r){rn(this,e,t,n,r)},dn.prototype.dispatchEvent=function(e){var t;if(n=this.hb)for(t=[];n;n=n.hb)t.push(n);var n=this.bc,r=e.type||e;if("string"==typeof e?e=new Vt(e,n):e instanceof Vt?e.target=e.target||n:(a=e,fe(e=new Vt(r,n),a)),a=!0,t)for(var i=t.length-1;0<=i;i--)var o=e.b=t[i],a=gn(o,r,!0,e)&&a;if(a=gn(o=e.b=n,r,!0,e)&&a,a=gn(o,r,!1,e)&&a,t)for(i=0;i<t.length;i++)a=gn(o=e.b=t[i],r,!1,e)&&a;return a},dn.prototype.Da=function(){if(dn.bb.Da.call(this),this.v){var e,t=this.v;for(e in t.a){for(var n=t.a[e],r=0;r<n.length;r++)Qt(n[r]);delete t.a[e],t.b--}}this.hb=null},(e=wn.prototype).X=function(){En(this);for(var e=[],t=0;t<this.a.length;t++)e.push(this.b[this.a[t]]);return e},e.Y=function(){return En(this),this.a.concat()},e.clear=function(){this.b={},this.c=this.a.length=0},e.get=function(e,t){return Sn(this.b,e)?this.b[e]:t},e.set=function(e,t){Sn(this.b,e)||(this.c++,this.a.push(e)),this.b[e]=t},e.forEach=function(e,t){for(var n=this.Y(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);e.call(t,o,i,this)}};var Tn=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Cn(e,t){var n;this.a=this.l=this.c="",this.g=null,this.h=this.f="",this.i=!1,e instanceof Cn?(this.i=void 0!==t?t:e.i,In(this,e.c),this.l=e.l,this.a=e.a,kn(this,e.g),this.f=e.f,On(this,Gn(e.b)),this.h=e.h):e&&(n=String(e).match(Tn))?(this.i=!!t,In(this,n[1]||"",!0),this.l=Rn(n[2]||""),this.a=Rn(n[3]||"",!0),kn(this,n[4]),this.f=Rn(n[5]||"",!0),On(this,n[6]||"",!0),this.h=Rn(n[7]||"")):(this.i=!!t,this.b=new Bn(null,this.i))}function In(e,t,n){e.c=n?Rn(t,!0):t,e.c&&(e.c=e.c.replace(/:$/,""))}function kn(e,t){if(t){if(t=Number(t),isNaN(t)||t<0)throw Error("Bad port number "+t);e.g=t}else e.g=null}function On(e,t,n){var r,i;t instanceof Bn?(e.b=t,r=e.b,(i=e.i)&&!r.f&&(Vn(r),r.c=null,r.a.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(zn(this,t),Kn(this,n,e))}),r)),r.f=i):(n||(t=Dn(t,Un)),e.b=new Bn(t,e.i))}function xn(e,t,n){e.b.set(t,n)}function Pn(e,t){return e.b.get(t)}function Nn(e){return e instanceof Cn?new Cn(e):new Cn(e,void 0)}function An(e,t,n,r){var i=new Cn(null,void 0);return e&&In(i,e),t&&(i.a=t),n&&kn(i,n),r&&(i.f=r),i}function Rn(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Dn(e,t,n){return"string"==typeof e?(e=encodeURI(e).replace(t,jn),e=n?e.replace(/%25([0-9a-fA-F]{2})/g,"%$1"):e):null}function jn(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Cn.prototype.toString=function(){var e=[],t=this.c;t&&e.push(Dn(t,Ln,!0),":");var n=this.a;return!n&&"file"!=t||(e.push("//"),(t=this.l)&&e.push(Dn(t,Ln,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.g)&&e.push(":",String(n))),(n=this.f)&&(this.a&&"/"!=n.charAt(0)&&e.push("/"),e.push(Dn(n,"/"==n.charAt(0)?Fn:Mn,!0))),(n=this.b.toString())&&e.push("?",n),(n=this.h)&&e.push("#",Dn(n,qn)),e.join("")},Cn.prototype.resolve=function(e){var t=new Cn(this),n=!!e.c;n?In(t,e.c):n=!!e.l,n?t.l=e.l:n=!!e.a,n?t.a=e.a:n=null!=e.g;var r=e.f;if(n)kn(t,e.g);else if(n=!!e.f)if("/"!=r.charAt(0)&&(this.a&&!this.f?r="/"+r:-1!=(i=t.f.lastIndexOf("/"))&&(r=t.f.substr(0,i+1)+r)),".."==(i=r)||"."==i)r="";else if(ie(i,"./")||ie(i,"/.")){r=0==i.lastIndexOf("/",0);for(var i=i.split("/"),o=[],a=0;a<i.length;){var s=i[a++];"."==s?r&&a==i.length&&o.push(""):".."==s?((1<o.length||1==o.length&&""!=o[0])&&o.pop(),r&&a==i.length&&o.push("")):(o.push(s),r=!0)}r=o.join("/")}else r=i;return n?t.f=r:n=""!==e.b.toString(),n?On(t,Gn(e.b)):n=!!e.h,n&&(t.h=e.h),t};var Ln=/[#\/\?@]/g,Mn=/[#\?:]/g,Fn=/[#\?]/g,Un=/[#\?@]/g,qn=/#/g;function Bn(e,t){this.b=this.a=null,this.c=e||null,this.f=!!t}function Vn(e){e.a||(e.a=new wn,e.b=0,e.c&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r,i=e[n].indexOf("="),o=null;0<=i?(r=e[n].substring(0,i),o=e[n].substring(i+1)):r=e[n],t(r,o?decodeURIComponent(o.replace(/\+/g," ")):"")}}}(e.c,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Wn(e){var t=_n(e);if(void 0===t)throw Error("Keys are undefined");var n=new Bn(null,void 0);e=bn(e);for(var r=0;r<t.length;r++){var i=t[r],o=e[r];Array.isArray(o)?Kn(n,i,o):n.add(i,o)}return n}function zn(e,t){Vn(e),t=Qn(e,t),Sn(e.a.b,t)&&(e.c=null,e.b-=e.a.get(t).length,Sn((e=e.a).b,t)&&(delete e.b[t],e.c--,e.a.length>2*e.c&&En(e)))}function Hn(e,t){return Vn(e),t=Qn(e,t),Sn(e.a.b,t)}function Kn(e,t,n){zn(e,t),0<n.length&&(e.c=null,e.a.set(Qn(e,t),Q(n)),e.b+=n.length)}function Gn(e){var t=new Bn;return t.c=e.c,e.a&&(t.a=new wn(e.a),t.b=e.b),t}function Qn(e,t){return t=String(t),e.f?t.toLowerCase():t}function $n(e){var t=[];return function e(t,n,r){if(null==n)r.push("null");else{if("object"==typeof n){if(Array.isArray(n)){var i=n;n=i.length,r.push("[");for(var o="",a=0;a<n;a++)r.push(o),e(t,i[a],r),o=",";return void r.push("]")}if(!(n instanceof String||n instanceof Number||n instanceof Boolean)){for(i in r.push("{"),o="",n)Object.prototype.hasOwnProperty.call(n,i)&&"function"!=typeof(a=n[i])&&(r.push(o),Zn(i,r),r.push(":"),e(t,a,r),o=",");return void r.push("}")}n=n.valueOf()}switch(typeof n){case"string":Zn(n,r);break;case"number":r.push(isFinite(n)&&!isNaN(n)?String(n):"null");break;case"boolean":r.push(String(n));break;case"function":r.push("null");break;default:throw Error("Unknown type: "+typeof n)}}}(new Yn,e,t),t.join("")}function Yn(){}(e=Bn.prototype).add=function(e,t){Vn(this),this.c=null,e=Qn(this,e);var n=this.a.get(e);return n||this.a.set(e,n=[]),n.push(t),this.b+=1,this},e.clear=function(){this.a=this.c=null,this.b=0},e.forEach=function(e,t){Vn(this),this.a.forEach((function(n,r){q(n,(function(n){e.call(t,n,r,this)}),this)}),this)},e.Y=function(){Vn(this);for(var e=this.a.X(),t=this.a.Y(),n=[],r=0;r<t.length;r++)for(var i=e[r],o=0;o<i.length;o++)n.push(t[r]);return n},e.X=function(e){Vn(this);var t=[];if("string"==typeof e)Hn(this,e)&&(t=G(t,this.a.get(Qn(this,e))));else{e=this.a.X();for(var n=0;n<e.length;n++)t=G(t,e[n])}return t},e.set=function(e,t){return Vn(this),this.c=null,Hn(this,e=Qn(this,e))&&(this.b-=this.a.get(e).length),this.a.set(e,[t]),this.b+=1,this},e.get=function(e,t){return e&&0<(e=this.X(e)).length?String(e[0]):t},e.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var e=[],t=this.a.Y(),n=0;n<t.length;n++)for(var r=t[n],i=encodeURIComponent(String(r)),o=(r=this.X(r),0);o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),e.push(a)}return this.c=e.join("&")};var Xn={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},Jn=/\uffff/.test("\uffff")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function Zn(e,t){t.push('"',e.replace(Jn,(function(e){var t=Xn[e];return t||(t="\\u"+(65536|e.charCodeAt(0)).toString(16).substr(1),Xn[e]=t),t})),'"')}function er(){var e=br();return We&&Ze&&11==Ze||/Edge\/\d+/.test(e)}function tr(){return a.window&&a.window.location.href||self&&self.location&&self.location.href||""}function nr(e,t){t=t||a.window;var n="about:blank";e&&(n=ke(Ne(e)||De)),t.location.href=n}function rr(e){return!!((e=(e||br()).toLowerCase()).match(/android/)||e.match(/webos/)||e.match(/iphone|ipad|ipod/)||e.match(/blackberry/)||e.match(/windows phone/)||e.match(/iemobile/))}function ir(e){e=e||a.window;try{e.close()}catch(e){}}function or(e,t,n){var r=Math.floor(1e9*Math.random()).toString();t=t||500,n=n||600;var i=(window.screen.availHeight-n)/2,o=(window.screen.availWidth-t)/2;for(a in t={width:t,height:n,top:0<i?i:0,left:0<o?o:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},n=br().toLowerCase(),r&&(t.target=r,ie(n,"crios/")&&(t.target="_blank")),gr(br())==pr&&(e=e||"http://localhost",t.scrollbars=!0),n=e||"",(e=t)||(e={}),r=window,t=n instanceof Ie?n:Ne(void 0!==n.href?n.href:String(n))||De,n=e.target||n.target,i=[],e)switch(a){case"width":case"height":case"top":case"left":i.push(a+"="+e[a]);break;case"target":case"noopener":case"noreferrer":break;default:i.push(a+"="+(e[a]?1:0))}var a=i.join(",");if((se("iPhone")&&!se("iPod")&&!se("iPad")||se("iPad")||se("iPod"))&&r.navigator&&r.navigator.standalone&&n&&"_self"!=n?(de(a=st(document,"A"),"HTMLAnchorElement"),t=t instanceof Ie?t:Ae(t),a.href=ke(t),a.setAttribute("target",n),e.noreferrer&&a.setAttribute("rel","noreferrer"),(e=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,r,1),a.dispatchEvent(e),a={}):e.noreferrer?(a=Me("",r,n,a),e=ke(t),a&&(He&&ie(e,";")&&(e="'"+e.replace(/'/g,"%27")+"'"),a.opener=null,e='<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+Ue(e)+'">',e=new je(e=(r=be())?r.createHTML(e):e,0,Le),r=a.document)&&(r.write((o=e)instanceof je&&o.constructor===je?o.a:(R("expected object of type SafeHtml, got '"+o+"' of type "+h(o)),"type_error:SafeHtml")),r.close())):(a=Me(t,r,n,a))&&e.noopener&&(a.opener=null),a)try{a.focus()}catch(e){}return a}var ar=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,sr=/^[^@]+@[^@]+$/;function ur(){var e=null;return new dt((function(t){"complete"==a.document.readyState?t():(e=function(){t()},nn(window,"load",e))})).o((function(t){throw rn(window,"load",e),t}))}function cr(e){return e=e||br(),!("file:"!==Tr()&&"ionic:"!==Tr()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function lr(){var e=a.window;try{return e&&e!=e.top}catch(e){return}}function hr(){return void 0!==a.WorkerGlobalScope&&"function"==typeof a.importScripts}function fr(){return Da.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":Da.INTERNAL.hasOwnProperty("node")?"Node":hr()?"Worker":"Browser"}function dr(){var e=fr();return"ReactNative"===e||"Node"===e}var pr="Firefox",vr="Chrome";function gr(e){var t=e.toLowerCase();return ie(t,"opera/")||ie(t,"opr/")||ie(t,"opios/")?"Opera":ie(t,"iemobile")?"IEMobile":ie(t,"msie")||ie(t,"trident/")?"IE":ie(t,"edge/")?"Edge":ie(t,"firefox/")?pr:ie(t,"silk/")?"Silk":ie(t,"blackberry")?"Blackberry":ie(t,"webos")?"Webos":!ie(t,"safari/")||ie(t,"chrome/")||ie(t,"crios/")||ie(t,"android")?!ie(t,"chrome/")&&!ie(t,"crios/")||ie(t,"edge/")?ie(t,"android")?"Android":(e=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==e.length?e[1]:"Other":vr:"Safari"}var yr={md:"FirebaseCore-web",od:"FirebaseUI-web"};function mr(e,t){t=t||[];var n,r=[],i={};for(n in yr)i[yr[n]]=!0;for(n=0;n<t.length;n++)void 0!==i[t[n]]&&(delete i[t[n]],r.push(t[n]));return r.sort(),(t=r).length||(t=["FirebaseCore-web"]),"Browser"===(r=fr())?r=gr(i=br()):"Worker"===r&&(r=gr(i=br())+"-"+r),r+"/JsCore/"+e+"/"+t.join(",")}function br(){return a.navigator&&a.navigator.userAgent||""}function _r(e,t){e=e.split("."),t=t||a;for(var n=0;n<e.length&&"object"==typeof t&&null!=t;n++)t=t[e[n]];return n!=e.length?void 0:t}function wr(){try{var e=a.localStorage,t=xr();if(e)return e.setItem(t,"1"),e.removeItem(t),!er()||!!a.indexedDB}catch(e){return hr()&&!!a.indexedDB}return!1}function Er(){return(Sr()||"chrome-extension:"===Tr()||cr())&&!dr()&&wr()&&!hr()}function Sr(){return"http:"===Tr()||"https:"===Tr()}function Tr(){return a.location&&a.location.protocol||null}function Cr(e){return!rr(e=e||br())&&gr(e)!=pr}function Ir(e){return void 0===e?null:$n(e)}function kr(e){var t,n={};for(t in e)e.hasOwnProperty(t)&&null!==e[t]&&void 0!==e[t]&&(n[t]=e[t]);return n}function Or(e){if(null!==e)return JSON.parse(e)}function xr(e){return e||Math.floor(1e9*Math.random()).toString()}function Pr(e){return"Safari"!=gr(e=e||br())&&!e.toLowerCase().match(/iphone|ipad|ipod/)}function Nr(){var e=a.___jsl;if(e&&e.H)for(var t in e.H)if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=e.H[t].L.concat(),e.CP)for(var n=0;n<e.CP.length;n++)e.CP[n]=null}function Ar(e,t){if(t<e)throw Error("Short delay should be less than long delay!");this.a=e,this.c=t,e=br(),t=fr(),this.b=rr(e)||"ReactNative"===t}function Rr(){var e=a.document;return!e||void 0===e.visibilityState||"visible"==e.visibilityState}function Dr(){var e=a.document,t=null;return Rr()||!e?_t():new dt((function(n){t=function(){Rr()&&(e.removeEventListener("visibilitychange",t,!1),n())},e.addEventListener("visibilitychange",t,!1)})).o((function(n){throw e.removeEventListener("visibilitychange",t,!1),n}))}function jr(e){try{var t=new Date(parseInt(e,10));if(!isNaN(t.getTime())&&!/[^0-9]/.test(e))return t.toUTCString()}catch(e){}return null}function Lr(){return _r("fireauth.oauthhelper",a)||_r("fireauth.iframe",a)}Ar.prototype.get=function(){var e=a.navigator;return!e||"boolean"!=typeof e.onLine||!Sr()&&"chrome-extension:"!==Tr()&&void 0===e.connection||e.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};var Mr,Fr={};function Ur(e){Fr[e]||(Fr[e]=!0,"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn(e))}try{var qr={};Object.defineProperty(qr,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(qr,"abcd",{configurable:!0,enumerable:!0,value:2}),Mr=2==qr.abcd}catch(e){Mr=!1}function Br(e,t,n){Mr?Object.defineProperty(e,t,{configurable:!0,enumerable:!0,value:n}):e[t]=n}function Vr(e,t){if(t)for(var n in t)t.hasOwnProperty(n)&&Br(e,n,t[n])}function Wr(e){var t={};return Vr(t,e),t}function zr(e){var t=e;if("object"==typeof e&&null!=e)for(var n in t="length"in e?[]:{},e)Br(t,n,zr(e[n]));return t}function Hr(e){var t=e&&(e[Yr]?"phone":null);if(!(t&&e&&e[$r]))throw new S("internal-error","Internal assert: invalid MultiFactorInfo object");Br(this,"uid",e[$r]),Br(this,"displayName",e[Gr]||null);var n=null;Br(this,"enrollmentTime",n=e[Qr]?new Date(e[Qr]).toUTCString():n),Br(this,"factorId",t)}function Kr(e){try{var t=new Xr(e)}catch(e){t=null}return t}Hr.prototype.w=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};var Gr="displayName",Qr="enrolledAt",$r="mfaEnrollmentId",Yr="phoneInfo";function Xr(e){Hr.call(this,e),Br(this,"phoneNumber",e[Yr])}function Jr(e){var t={},n=e[ni],r=e[ii],i=e[oi];if(e=Kr(e[ri]),!i||i!=ei&&i!=ti&&!n||i==ti&&!r||i==Zr&&!e)throw Error("Invalid checkActionCode response!");i==ti?(t[si]=n||null,t[ci]=n||null,t[ai]=r):(t[si]=r||null,t[ci]=r||null,t[ai]=n||null),t[ui]=e||null,Br(this,hi,i),Br(this,li,zr(t))}w(Xr,Hr),Xr.prototype.w=function(){var e=Xr.bb.w.call(this);return e.phoneNumber=this.phoneNumber,e};var Zr="REVERT_SECOND_FACTOR_ADDITION",ei="EMAIL_SIGNIN",ti="VERIFY_AND_CHANGE_EMAIL",ni="email",ri="mfaInfo",ii="newEmail",oi="requestType",ai="email",si="fromEmail",ui="multiFactorInfo",ci="previousEmail",li="data",hi="operation";function fi(e){var t=Pn(e=Nn(e),di)||null,n=Pn(e,pi)||null,r=(r=Pn(e,yi)||null)&&bi[r]||null;if(!t||!n||!r)throw new S("argument-error",di+", "+pi+"and "+yi+" are required in a valid action code URL.");Vr(this,{apiKey:t,operation:r,code:n,continueUrl:Pn(e,vi)||null,languageCode:Pn(e,gi)||null,tenantId:Pn(e,mi)||null})}var di="apiKey",pi="oobCode",vi="continueUrl",gi="languageCode",yi="mode",mi="tenantId",bi={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:Zr,signIn:ei,verifyAndChangeEmail:ti,verifyEmail:"VERIFY_EMAIL"};function _i(e){try{return new fi(e)}catch(e){return null}}function wi(e){if(void 0===(t=e[Ii]))throw new S("missing-continue-uri");if("string"!=typeof t||"string"==typeof t&&!t.length)throw new S("invalid-continue-uri");if(this.h=t,this.b=this.a=null,this.g=!1,(r=e[Ei])&&"object"==typeof r){var t=r[xi],n=r[ki],r=r[Oi];if("string"==typeof t&&t.length){if(this.a=t,void 0!==n&&"boolean"!=typeof n)throw new S("argument-error",ki+" property must be a boolean when specified.");if(this.g=!!n,void 0!==r&&("string"!=typeof r||"string"==typeof r&&!r.length))throw new S("argument-error",Oi+" property must be a non empty string when specified.");this.b=r||null}else{if(void 0!==t)throw new S("argument-error",xi+" property must be a non empty string when specified.");if(void 0!==n||void 0!==r)throw new S("missing-android-pkg-name")}}else if(void 0!==r)throw new S("argument-error",Ei+" property must be a non null object when specified.");if(this.f=null,(t=e[Ci])&&"object"==typeof t){if("string"==typeof(t=t[Pi])&&t.length)this.f=t;else if(void 0!==t)throw new S("argument-error",Pi+" property must be a non empty string when specified.")}else if(void 0!==t)throw new S("argument-error",Ci+" property must be a non null object when specified.");if(void 0!==(t=e[Ti])&&"boolean"!=typeof t)throw new S("argument-error",Ti+" property must be a boolean when specified.");if(this.c=!!t,void 0!==(e=e[Si])&&("string"!=typeof e||"string"==typeof e&&!e.length))throw new S("argument-error",Si+" property must be a non empty string when specified.");this.i=e||null}var Ei="android",Si="dynamicLinkDomain",Ti="handleCodeInApp",Ci="iOS",Ii="url",ki="installApp",Oi="minimumVersion",xi="packageName",Pi="bundleId";function Ni(e){var t,n={};for(t in n.continueUrl=e.h,n.canHandleCodeInApp=e.c,(n.androidPackageName=e.a)&&(n.androidMinimumVersion=e.b,n.androidInstallApp=e.g),n.iOSBundleId=e.f,n.dynamicLinkDomain=e.i,n)null===n[t]&&delete n[t];return n}var Ai=null;function Ri(e){var t=[];return function(e,t){function n(t){for(;r<e.length;){var n=e.charAt(r++),i=Ai[n];if(null!=i)return i;if(!/^[\s\xa0]*$/.test(n))throw Error("Unknown base64 encoding at char: "+n)}return t}!function(){if(!Ai){Ai={};for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),t=["+/=","+/","-_=","-_.","-_"],n=0;n<5;n++)for(var r=e.concat(t[n].split("")),i=0;i<r.length;i++){var o=r[i];void 0===Ai[o]&&(Ai[o]=i)}}}();for(var r=0;;){var i=n(-1),o=n(0),a=n(64),s=n(64);if(64===s&&-1===i)break;t(i<<2|o>>4),64!=a&&(t(o<<4&240|a>>2),64!=s&&t(a<<6&192|s))}}(e,(function(e){t.push(e)})),t}function Di(e){var t=Li(e);if(!(t&&t.sub&&t.iss&&t.aud&&t.exp))throw Error("Invalid JWT");this.h=e,this.a=t.exp,this.i=t.sub,e=Date.now()/1e3,this.g=t.iat||(e>this.a?this.a:e),this.b=t.provider_id||t.firebase&&t.firebase.sign_in_provider||null,this.f=t.firebase&&t.firebase.tenant||null,this.c=!!t.is_anonymous||"anonymous"==this.b}function ji(e){try{return new Di(e)}catch(e){return null}}function Li(e){if(!e)return null;if(3!=(e=e.split(".")).length)return null;for(var t=(4-(e=e[1]).length%4)%4,n=0;n<t;n++)e+=".";try{var r=Ri(e);for(e=[],n=t=0;t<r.length;){var i,o,a,s=r[t++];s<128?e[n++]=String.fromCharCode(s):191<s&&s<224?(i=r[t++],e[n++]=String.fromCharCode((31&s)<<6|63&i)):239<s&&s<365?(a=((7&s)<<18|(63&(i=r[t++]))<<12|(63&(o=r[t++]))<<6|63&r[t++])-65536,e[n++]=String.fromCharCode(55296+(a>>10)),e[n++]=String.fromCharCode(56320+(1023&a))):(i=r[t++],o=r[t++],e[n++]=String.fromCharCode((15&s)<<12|(63&i)<<6|63&o))}return JSON.parse(e.join(""))}catch(e){}return null}Di.prototype.T=function(){return this.f},Di.prototype.l=function(){return this.c},Di.prototype.toString=function(){return this.h};var Mi="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),Fi=["client_id","response_type","scope","redirect_uri","state"],Ui={nd:{Ja:"locale",va:700,ua:600,fa:"facebook.com",Ya:Fi},pd:{Ja:null,va:500,ua:750,fa:"github.com",Ya:Fi},qd:{Ja:"hl",va:515,ua:680,fa:"google.com",Ya:Fi},wd:{Ja:"lang",va:485,ua:705,fa:"twitter.com",Ya:Mi},kd:{Ja:"locale",va:640,ua:600,fa:"apple.com",Ya:[]}};function qi(e){for(var t in Ui)if(Ui[t].fa==e)return Ui[t];return null}function Bi(e){var t={};t["facebook.com"]=Ki,t["google.com"]=Qi,t["github.com"]=Gi,t["twitter.com"]=$i;var n=e&&e[Wi];try{if(n)return new(t[n]||Hi)(e);if(void 0!==e[Vi])return new zi(e)}catch(e){}return null}var Vi="idToken",Wi="providerId";function zi(e){var t,n=e[Wi];if(n||!e[Vi]||(t=ji(e[Vi]))&&t.b&&(n=t.b),!n)throw Error("Invalid additional user info!");t=!1,void 0!==e.isNewUser?t=!!e.isNewUser:"identitytoolkit#SignupNewUserResponse"===e.kind&&(t=!0),Br(this,"providerId",n="anonymous"==n||"custom"==n?null:n),Br(this,"isNewUser",t)}function Hi(e){zi.call(this,e),Br(this,"profile",zr((e=Or(e.rawUserInfo||"{}"))||{}))}function Ki(e){if(Hi.call(this,e),"facebook.com"!=this.providerId)throw Error("Invalid provider ID!")}function Gi(e){if(Hi.call(this,e),"github.com"!=this.providerId)throw Error("Invalid provider ID!");Br(this,"username",this.profile&&this.profile.login||null)}function Qi(e){if(Hi.call(this,e),"google.com"!=this.providerId)throw Error("Invalid provider ID!")}function $i(e){if(Hi.call(this,e),"twitter.com"!=this.providerId)throw Error("Invalid provider ID!");Br(this,"username",e.screenName||null)}function Yi(e){var t=Pn(r=Nn(e),"link"),n=Pn(Nn(t),"link"),r=Pn(r,"deep_link_id");return Pn(Nn(r),"link")||r||n||t||e}function Xi(e,t){if(!e&&!t)throw new S("internal-error","Internal assert: no raw session string available");if(e&&t)throw new S("internal-error","Internal assert: unable to determine the session type");this.a=e||null,this.b=t||null,this.type=this.a?Ji:Zi}w(Hi,zi),w(Ki,Hi),w(Gi,Hi),w(Qi,Hi),w($i,Hi);var Ji="enroll",Zi="signin";function eo(){}function to(e,t){return e.then((function(e){if(e[Ha]){var n=ji(e[Ha]);if(!n||t!=n.i)throw new S("user-mismatch");return e}throw new S("user-mismatch")})).o((function(e){throw e&&e.code&&e.code==I+"user-not-found"?new S("user-mismatch"):e}))}function no(e,t){if(!t)throw new S("internal-error","failed to construct a credential");this.a=t,Br(this,"providerId",e),Br(this,"signInMethod",e)}function ro(e){return{pendingToken:e.a,requestUri:"http://localhost"}}function io(e){if(e&&e.providerId&&e.signInMethod&&0==e.providerId.indexOf("saml.")&&e.pendingToken)try{return new no(e.providerId,e.pendingToken)}catch(e){}return null}function oo(e,t,n){if(this.a=null,t.idToken||t.accessToken)t.idToken&&Br(this,"idToken",t.idToken),t.accessToken&&Br(this,"accessToken",t.accessToken),t.nonce&&!t.pendingToken&&Br(this,"nonce",t.nonce),t.pendingToken&&(this.a=t.pendingToken);else{if(!t.oauthToken||!t.oauthTokenSecret)throw new S("internal-error","failed to construct a credential");Br(this,"accessToken",t.oauthToken),Br(this,"secret",t.oauthTokenSecret)}Br(this,"providerId",e),Br(this,"signInMethod",n)}function ao(e){var t={};return e.idToken&&(t.id_token=e.idToken),e.accessToken&&(t.access_token=e.accessToken),e.secret&&(t.oauth_token_secret=e.secret),t.providerId=e.providerId,e.nonce&&!e.a&&(t.nonce=e.nonce),t={postBody:Wn(t).toString(),requestUri:"http://localhost"},e.a&&(delete t.postBody,t.pendingToken=e.a),t}function so(e){if(e&&e.providerId&&e.signInMethod){var t={idToken:e.oauthIdToken,accessToken:e.oauthTokenSecret?null:e.oauthAccessToken,oauthTokenSecret:e.oauthTokenSecret,oauthToken:e.oauthTokenSecret&&e.oauthAccessToken,nonce:e.nonce,pendingToken:e.pendingToken};try{return new oo(e.providerId,t,e.signInMethod)}catch(e){}}return null}function uo(e,t){this.Qc=t||[],Vr(this,{providerId:e,isOAuthProvider:!0}),this.Jb={},this.qb=(qi(e)||{}).Ja||null,this.pb=null}function co(e){if("string"!=typeof e||0!=e.indexOf("saml."))throw new S("argument-error",'SAML provider IDs must be prefixed with "saml."');uo.call(this,e,[])}function lo(e){uo.call(this,e,Fi),this.a=[]}function ho(){lo.call(this,"facebook.com")}function fo(e){if(!e)throw new S("argument-error","credential failed: expected 1 argument (the OAuth access token).");var t=e;return p(e)&&(t=e.accessToken),(new ho).credential({accessToken:t})}function po(){lo.call(this,"github.com")}function vo(e){if(!e)throw new S("argument-error","credential failed: expected 1 argument (the OAuth access token).");var t=e;return p(e)&&(t=e.accessToken),(new po).credential({accessToken:t})}function go(){lo.call(this,"google.com"),this.Ca("profile")}function yo(e,t){var n=e;return p(e)&&(n=e.idToken,t=e.accessToken),(new go).credential({idToken:n,accessToken:t})}function mo(){uo.call(this,"twitter.com",Mi)}function bo(e,t){var n=e;if(!(n=p(n)?n:{oauthToken:e,oauthTokenSecret:t}).oauthToken||!n.oauthTokenSecret)throw new S("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new oo("twitter.com",n,"twitter.com")}function _o(e,t,n){this.a=e,this.f=t,Br(this,"providerId","password"),Br(this,"signInMethod",n===Eo.EMAIL_LINK_SIGN_IN_METHOD?Eo.EMAIL_LINK_SIGN_IN_METHOD:Eo.EMAIL_PASSWORD_SIGN_IN_METHOD)}function wo(e){return e&&e.email&&e.password?new _o(e.email,e.password,e.signInMethod):null}function Eo(){Vr(this,{providerId:"password",isOAuthProvider:!1})}function So(e,t){if(!(t=To(t)))throw new S("argument-error","Invalid email link!");return new _o(e,t.code,Eo.EMAIL_LINK_SIGN_IN_METHOD)}function To(e){return(e=_i(e=Yi(e)))&&e.operation===ei?e:null}function Co(e){if(!(e.fb&&e.eb||e.La&&e.ea))throw new S("internal-error");this.a=e,Br(this,"providerId","phone"),this.fa="phone",Br(this,"signInMethod","phone")}function Io(e){if(e&&"phone"===e.providerId&&(e.verificationId&&e.verificationCode||e.temporaryProof&&e.phoneNumber)){var t={};return q(["verificationId","verificationCode","temporaryProof","phoneNumber"],(function(n){e[n]&&(t[n]=e[n])})),new Co(t)}return null}function ko(e){return e.a.La&&e.a.ea?{temporaryProof:e.a.La,phoneNumber:e.a.ea}:{sessionInfo:e.a.fb,code:e.a.eb}}function Oo(e){try{this.a=e||Da.auth()}catch(e){throw new S("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}Vr(this,{providerId:"phone",isOAuthProvider:!1})}function xo(e,t){if(!e)throw new S("missing-verification-id");if(!t)throw new S("missing-verification-code");return new Co({fb:e,eb:t})}function Po(e){if(e.temporaryProof&&e.phoneNumber)return new Co({La:e.temporaryProof,ea:e.phoneNumber});var t=e&&e.providerId;if(!t||"password"===t)return null;var n=e&&e.oauthAccessToken,r=e&&e.oauthTokenSecret,i=e&&e.nonce,o=e&&e.oauthIdToken,a=e&&e.pendingToken;try{switch(t){case"google.com":return yo(o,n);case"facebook.com":return fo(n);case"github.com":return vo(n);case"twitter.com":return bo(n,r);default:return n||r||o||a?a?0==t.indexOf("saml.")?new no(t,a):new oo(t,{pendingToken:a,idToken:e.oauthIdToken,accessToken:e.oauthAccessToken},t):new lo(t).credential({idToken:o,accessToken:n,rawNonce:i}):null}}catch(e){return null}}function No(e){if(!e.isOAuthProvider)throw new S("invalid-oauth-provider")}function Ao(e,t,n,r,i,o,a){if(this.c=e,this.b=t||null,this.g=n||null,this.f=r||null,this.i=o||null,this.h=a||null,this.a=i||null,!this.g&&!this.a)throw new S("invalid-auth-event");if(this.g&&this.a)throw new S("invalid-auth-event");if(this.g&&!this.f)throw new S("invalid-auth-event")}function Ro(e){return(e=e||{}).type?new Ao(e.type,e.eventId,e.urlResponse,e.sessionId,e.error&&T(e.error),e.postBody,e.tenantId):null}function Do(){this.b=null,this.a=[]}Xi.prototype.Ha=function(){return this.a?_t(this.a):_t(this.b)},Xi.prototype.w=function(){return this.type==Ji?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}},eo.prototype.ka=function(){},eo.prototype.b=function(){},eo.prototype.c=function(){},eo.prototype.w=function(){},no.prototype.ka=function(e){return ds(e,ro(this))},no.prototype.b=function(e,t){var n=ro(this);return n.idToken=t,ps(e,n)},no.prototype.c=function(e,t){return to(vs(e,ro(this)),t)},no.prototype.w=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}},oo.prototype.ka=function(e){return ds(e,ao(this))},oo.prototype.b=function(e,t){var n=ao(this);return n.idToken=t,ps(e,n)},oo.prototype.c=function(e,t){return to(vs(e,ao(this)),t)},oo.prototype.w=function(){var e={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(e.oauthIdToken=this.idToken),this.accessToken&&(e.oauthAccessToken=this.accessToken),this.secret&&(e.oauthTokenSecret=this.secret),this.nonce&&(e.nonce=this.nonce),this.a&&(e.pendingToken=this.a),e},uo.prototype.Ka=function(e){return this.Jb=le(e),this},w(co,uo),w(lo,uo),lo.prototype.Ca=function(e){return z(this.a,e)||this.a.push(e),this},lo.prototype.Rb=function(){return Q(this.a)},lo.prototype.credential=function(e,t){if(!(t=p(e)?{idToken:e.idToken||null,accessToken:e.accessToken||null,nonce:e.rawNonce||null}:{idToken:e||null,accessToken:t||null}).idToken&&!t.accessToken)throw new S("argument-error","credential failed: must provide the ID token and/or the access token.");return new oo(this.providerId,t,this.providerId)},w(ho,lo),Br(ho,"PROVIDER_ID","facebook.com"),Br(ho,"FACEBOOK_SIGN_IN_METHOD","facebook.com"),w(po,lo),Br(po,"PROVIDER_ID","github.com"),Br(po,"GITHUB_SIGN_IN_METHOD","github.com"),w(go,lo),Br(go,"PROVIDER_ID","google.com"),Br(go,"GOOGLE_SIGN_IN_METHOD","google.com"),w(mo,uo),Br(mo,"PROVIDER_ID","twitter.com"),Br(mo,"TWITTER_SIGN_IN_METHOD","twitter.com"),_o.prototype.ka=function(e){return this.signInMethod==Eo.EMAIL_LINK_SIGN_IN_METHOD?Ys(e,Ss,{email:this.a,oobCode:this.f}):Ys(e,Hs,{email:this.a,password:this.f})},_o.prototype.b=function(e,t){return this.signInMethod==Eo.EMAIL_LINK_SIGN_IN_METHOD?Ys(e,Ts,{idToken:t,email:this.a,oobCode:this.f}):Ys(e,Ms,{idToken:t,email:this.a,password:this.f})},_o.prototype.c=function(e,t){return to(this.ka(e),t)},_o.prototype.w=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}},Vr(Eo,{PROVIDER_ID:"password"}),Vr(Eo,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),Vr(Eo,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"}),Co.prototype.ka=function(e){return e.gb(ko(this))},Co.prototype.b=function(e,t){var n=ko(this);return n.idToken=t,Ys(e,Gs,n)},Co.prototype.c=function(e,t){var n=ko(this);return n.operation="REAUTH",to(e=Ys(e,Qs,n),t)},Co.prototype.w=function(){var e={providerId:"phone"};return this.a.fb&&(e.verificationId=this.a.fb),this.a.eb&&(e.verificationCode=this.a.eb),this.a.La&&(e.temporaryProof=this.a.La),this.a.ea&&(e.phoneNumber=this.a.ea),e},Oo.prototype.gb=function(e,t){var n=this.a.a;return _t(t.verify()).then((function(r){if("string"!=typeof r)throw new S("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");if("recaptcha"!==t.type)throw new S("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.');var i=p(e)?e.session:null,o=p(e)?e.phoneNumber:e;return(i=i&&i.type==Ji?i.Ha().then((function(e){return Ys(n,Us,{idToken:e,phoneEnrollmentInfo:{phoneNumber:o,recaptchaToken:r}}).then((function(e){return e.phoneSessionInfo.sessionInfo}))})):i&&i.type==Zi?i.Ha().then((function(t){return t={mfaPendingCredential:t,mfaEnrollmentId:e.multiFactorHint&&e.multiFactorHint.uid||e.multiFactorUid,phoneSignInInfo:{recaptchaToken:r}},Ys(n,qs,t).then((function(e){return e.phoneResponseInfo.sessionInfo}))})):Ys(n,js,{phoneNumber:o,recaptchaToken:r})).then((function(e){return"function"==typeof t.reset&&t.reset(),e}),(function(e){throw"function"==typeof t.reset&&t.reset(),e}))}))},Vr(Oo,{PROVIDER_ID:"phone"}),Vr(Oo,{PHONE_SIGN_IN_METHOD:"phone"}),Ao.prototype.getUid=function(){var e=[];return e.push(this.c),this.b&&e.push(this.b),this.f&&e.push(this.f),this.h&&e.push(this.h),e.join("-")},Ao.prototype.T=function(){return this.h},Ao.prototype.w=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.w()}};var jo,Lo=null;function Mo(e){var t="unauthorized-domain",n=void 0,r=Nn(e);e=r.a,"chrome-extension"==(r=r.c)?n=Fe("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",e):"http"==r||"https"==r?n=Fe("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",e):t="operation-not-supported-in-this-environment",S.call(this,t,n)}function Fo(e,t,n){S.call(this,e,n),(e=t||{}).Kb&&Br(this,"email",e.Kb),e.ea&&Br(this,"phoneNumber",e.ea),e.credential&&Br(this,"credential",e.credential),e.$b&&Br(this,"tenantId",e.$b)}function Uo(e){if(e.code){var t=e.code||"";0==t.indexOf(I)&&(t=t.substring(I.length));var n={credential:Po(e),$b:e.tenantId};if(e.email)n.Kb=e.email;else if(e.phoneNumber)n.ea=e.phoneNumber;else if(!n.credential)return new S(t,e.message||void 0);return new Fo(t,n,e.message)}return null}function qo(){}function Bo(e){return e.c||(e.c=e.b())}function Vo(){}function Wo(e){if(e.f||"undefined"!=typeof XMLHttpRequest||"undefined"==typeof ActiveXObject)return e.f;for(var t=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],n=0;n<t.length;n++){var r=t[n];try{return new ActiveXObject(r),e.f=r}catch(e){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}function zo(){}function Ho(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=b(this.qc,this),this.a.onerror=b(this.Tb,this),this.a.onprogress=b(this.rc,this),this.a.ontimeout=b(this.vc,this)}function Ko(e,t){e.readyState=t,e.onreadystatechange&&e.onreadystatechange()}function Go(e,t,n){this.reset(e,t,n,void 0,void 0)}function Qo(e){this.f=e,this.b=this.c=this.a=null}function $o(e,t){this.name=e,this.value=t}w(Mo,S),w(Fo,S),Fo.prototype.w=function(){var e={code:this.code,message:this.message};this.email&&(e.email=this.email),this.phoneNumber&&(e.phoneNumber=this.phoneNumber),this.tenantId&&(e.tenantId=this.tenantId);var t=this.credential&&this.credential.w();return t&&fe(e,t),e},Fo.prototype.toJSON=function(){return this.w()},qo.prototype.c=null,w(Vo,qo),Vo.prototype.a=function(){var e=Wo(this);return e?new ActiveXObject(e):new XMLHttpRequest},Vo.prototype.b=function(){var e={};return Wo(this)&&(e[0]=!0,e[1]=!0),e},jo=new Vo,w(zo,qo),zo.prototype.a=function(){var e=new XMLHttpRequest;if("withCredentials"in e)return e;if("undefined"!=typeof XDomainRequest)return new Ho;throw Error("Unsupported browser")},zo.prototype.b=function(){return{}},(e=Ho.prototype).open=function(e,t,n){if(null!=n&&!n)throw Error("Only async requests are supported.");this.a.open(e,t)},e.send=function(e){if(e){if("string"!=typeof e)throw Error("Only string data is supported");this.a.send(e)}else this.a.send()},e.abort=function(){this.a.abort()},e.setRequestHeader=function(){},e.getResponseHeader=function(e){return"content-type"==e.toLowerCase()?this.a.contentType:""},e.qc=function(){this.status=200,this.response=this.responseText=this.a.responseText,Ko(this,4)},e.Tb=function(){this.status=500,this.response=this.responseText="",Ko(this,4)},e.vc=function(){this.Tb()},e.rc=function(){this.status=200,Ko(this,1)},e.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType},Go.prototype.a=null,Go.prototype.reset=function(e,t,n,r,i){delete this.a},$o.prototype.toString=function(){return this.name};var Yo=new $o("SEVERE",1e3),Xo=new $o("WARNING",900),Jo=new $o("CONFIG",700),Zo=new $o("FINE",500);Qo.prototype.log=function(e,t,n){if(e.value>=function e(t){return t.c||(t.a?e(t.a):(R("Root logger has no level set."),null))}(this).value)for(d(t)&&(t=t()),e=new Go(e,String(t),this.f),n&&(e.a=n),n=this;n;)n=n.a};var ea,ta={},na=null;function ra(e){var t,n,r;return na||(na=new Qo(""),(ta[""]=na).c=Jo),(t=ta[e])||(t=new Qo(e),r=e.lastIndexOf("."),n=e.substr(r+1),(r=ra(e.substr(0,r))).b||(r.b={}),(r.b[n]=t).a=r,ta[e]=t),t}function ia(e,t){e&&e.log(Zo,t,void 0)}function oa(e){this.f=e}function aa(e){dn.call(this),this.u=e,this.h=void 0,this.readyState=sa,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.l=new Headers,this.b=null,this.s="GET",this.f="",this.a=!1,this.i=ra("goog.net.FetchXmlHttp"),this.m=this.c=this.g=null}w(oa,qo),oa.prototype.a=function(){return new aa(this.f)},oa.prototype.b=(ea={},function(){return ea}),w(aa,dn);var sa=0;function ua(e){e.c.read().then(e.pc.bind(e)).catch(e.Va.bind(e))}function ca(e){e.readyState=4,e.g=null,e.c=null,e.m=null,la(e)}function la(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function ha(e){dn.call(this),this.headers=new wn,this.D=e||null,this.c=!1,this.C=this.a=null,this.h=this.P=this.l="",this.f=this.N=this.i=this.J=!1,this.g=0,this.s=null,this.m=fa,this.u=this.S=!1}(e=aa.prototype).open=function(e,t){if(this.readyState!=sa)throw this.abort(),Error("Error reopening a connection");this.s=e,this.f=t,this.readyState=1,la(this)},e.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var t={headers:this.l,method:this.s,credentials:this.h,cache:void 0};e&&(t.body=e),this.u.fetch(new Request(this.f,t)).then(this.uc.bind(this),this.Va.bind(this))},e.abort=function(){this.response=this.responseText="",this.l=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&4!=this.readyState&&(this.a=!1,ca(this)),this.readyState=sa},e.uc=function(e){this.a&&(this.g=e,this.b||(this.status=this.g.status,this.statusText=this.g.statusText,this.b=e.headers,this.readyState=2,la(this)),this.a&&(this.readyState=3,la(this),this.a&&("arraybuffer"===this.responseType?e.arrayBuffer().then(this.sc.bind(this),this.Va.bind(this)):void 0!==a.ReadableStream&&"body"in e?(this.response=this.responseText="",this.c=e.body.getReader(),this.m=new TextDecoder,ua(this)):e.text().then(this.tc.bind(this),this.Va.bind(this)))))},e.pc=function(e){var t;this.a&&((t=this.m.decode(e.value||new Uint8Array(0),{stream:!e.done}))&&(this.response=this.responseText+=t),(e.done?ca:la)(this),3==this.readyState&&ua(this))},e.tc=function(e){this.a&&(this.response=this.responseText=e,ca(this))},e.sc=function(e){this.a&&(this.response=e,ca(this))},e.Va=function(e){var t=this.i;t&&t.log(Xo,"Failed to fetch url "+this.f,e instanceof Error?e:Error(e)),this.a&&ca(this)},e.setRequestHeader=function(e,t){this.l.append(e,t)},e.getResponseHeader=function(e){return this.b?this.b.get(e.toLowerCase())||"":((e=this.i)&&e.log(Xo,"Attempting to get response header but no headers have been received for url: "+this.f,void 0),"")},e.getAllResponseHeaders=function(){if(!this.b)return(e=this.i)&&e.log(Xo,"Attempting to get all response headers but no headers have been received for url: "+this.f,void 0),"";for(var e=[],t=this.b.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(aa.prototype,"withCredentials",{get:function(){return"include"===this.h},set:function(e){this.h=e?"include":"same-origin"}}),w(ha,dn);var fa="";ha.prototype.b=ra("goog.net.XhrIo");var da=/^https?$/i,pa=["POST","PUT"];function va(e,t,n,r,i){if(e.a)throw Error("[goog.net.XhrIo] Object is active with another request="+e.l+"; newUri="+t);n=n?n.toUpperCase():"GET",e.l=t,e.h="",e.P=n,e.J=!1,e.c=!0,e.a=(e.D||jo).a(),e.C=e.D?Bo(e.D):Bo(jo),e.a.onreadystatechange=b(e.Wb,e);try{ia(e.b,Ta(e,"Opening Xhr")),e.N=!0,e.a.open(n,String(t),!0),e.N=!1}catch(t){return ia(e.b,Ta(e,"Error opening Xhr: "+t.message)),void ya(e,t)}t=r||"";var o,s=new wn(e.headers);i&&function(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(f(e)||"string"==typeof e)q(e,t,void 0);else for(var n=_n(e),r=bn(e),i=r.length,o=0;o<i;o++)t.call(void 0,r[o],n&&n[o],e)}(i,(function(e,t){s.set(t,e)})),i=function(e){e:{for(var t=ga,n=e.length,r="string"==typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return t<0?null:"string"==typeof e?e.charAt(t):e[t]}(s.Y()),r=a.FormData&&t instanceof a.FormData,!z(pa,n)||i||r||s.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),s.forEach((function(e,t){this.a.setRequestHeader(t,e)}),e),e.m&&(e.a.responseType=e.m),"withCredentials"in e.a&&e.a.withCredentials!==e.S&&(e.a.withCredentials=e.S);try{wa(e),0<e.g&&(e.u=(o=e.a,We&&Je(9)&&"number"==typeof o.timeout&&void 0!==o.ontimeout),ia(e.b,Ta(e,"Will abort after "+e.g+"ms if incomplete, xhr2 "+e.u)),e.u?(e.a.timeout=e.g,e.a.ontimeout=b(e.Ma,e)):e.s=yn(e.Ma,e.g,e)),ia(e.b,Ta(e,"Sending request")),e.i=!0,e.a.send(t),e.i=!1}catch(t){ia(e.b,Ta(e,"Send error: "+t.message)),ya(e,t)}}function ga(e){return"content-type"==e.toLowerCase()}function ya(e,t){e.c=!1,e.a&&(e.f=!0,e.a.abort(),e.f=!1),e.h=t,ma(e),_a(e)}function ma(e){e.J||(e.J=!0,e.dispatchEvent("complete"),e.dispatchEvent("error"))}function ba(e){if(e.c&&void 0!==o)if(e.C[1]&&4==Ea(e)&&2==Sa(e))ia(e.b,Ta(e,"Local request error detected and ignored"));else if(e.i&&4==Ea(e))yn(e.Wb,0,e);else if(e.dispatchEvent("readystatechange"),4==Ea(e)){ia(e.b,Ta(e,"Request complete")),e.c=!1;try{var t,n,r,i,s=Sa(e);e:switch(s){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var u=!0;break e;default:u=!1}if((t=u)||((n=0===s)&&(!(i=String(e.l).match(Tn)[1]||null)&&a.self&&a.self.location&&(i=(r=a.self.location.protocol).substr(0,r.length-1)),n=!da.test(i?i.toLowerCase():"")),t=n),t)e.dispatchEvent("complete"),e.dispatchEvent("success");else{try{var c=2<Ea(e)?e.a.statusText:""}catch(t){ia(e.b,"Can not get status: "+t.message),c=""}e.h=c+" ["+Sa(e)+"]",ma(e)}}finally{_a(e)}}}function _a(e,t){if(e.a){wa(e);var n=e.a,r=e.C[0]?l:null;e.a=null,e.C=null,t||e.dispatchEvent("ready");try{n.onreadystatechange=r}catch(t){(e=e.b)&&e.log(Yo,"Problem encountered resetting onreadystatechange: "+t.message,void 0)}}}function wa(e){e.a&&e.u&&(e.a.ontimeout=null),e.s&&(a.clearTimeout(e.s),e.s=null)}function Ea(e){return e.a?e.a.readyState:0}function Sa(e){try{return 2<Ea(e)?e.a.status:-1}catch(e){return-1}}function Ta(e,t){return t+" ["+e.P+" "+e.l+" "+Sa(e)+"]"}function Ca(e){var t=Ma;this.g=[],this.u=t,this.s=e||null,this.f=this.a=!1,this.c=void 0,this.v=this.C=this.i=!1,this.h=0,this.b=null,this.l=0}function Ia(e,t,n){e.a=!0,e.c=n,e.f=!t,Pa(e)}function ka(e){if(e.a){if(!e.v)throw new Na;e.v=!1}}function Oa(e,t,n,r){e.g.push([t,n,r]),e.a&&Pa(e)}function xa(e){return W(e.g,(function(e){return d(e[1])}))}function Pa(e){var t;e.h&&e.a&&xa(e)&&(n=e.h,(t=ja[n])&&(a.clearTimeout(t.a),delete ja[n]),e.h=0),e.b&&(e.b.l--,delete e.b);for(var n=e.c,r=t=!1;e.g.length&&!e.i;){var i=(s=e.g.shift())[0],o=s[1],s=s[2];if(i=e.f?o:i)try{var u=i.call(s||e.s,n);void 0!==u&&(e.f=e.f&&(u==n||u instanceof Error),e.c=n=u),(P(n)||"function"==typeof a.Promise&&n instanceof a.Promise)&&(r=!0,e.i=!0)}catch(r){n=r,e.f=!0,xa(e)||(t=!0)}}e.c=n,r&&(u=b(e.m,e,!0),r=b(e.m,e,!1),n instanceof Ca?(Oa(n,u,r),n.C=!0):n.then(u,r)),t&&(n=new Ra(n),ja[n.a]=n,e.h=n.a)}function Na(){N.call(this)}function Aa(){N.call(this)}function Ra(e){this.a=a.setTimeout(b(this.c,this),0),this.b=e}(e=ha.prototype).Ma=function(){void 0!==o&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",ia(this.b,Ta(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))},e.abort=function(){this.a&&this.c&&(ia(this.b,Ta(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),_a(this))},e.Da=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),_a(this,!0)),ha.bb.Da.call(this)},e.Wb=function(){this.ya||(this.N||this.i||this.f?ba(this):this.Jc())},e.Jc=function(){ba(this)},e.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case fa:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var e=this.b;return e&&e.log(Yo,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(e){return ia(this.b,"Can not get response: "+e.message),null}},Ca.prototype.cancel=function(e){var t;this.a?this.c instanceof Ca&&this.c.cancel():(this.b&&(t=this.b,delete this.b,e?t.cancel(e):(t.l--,t.l<=0&&t.cancel())),this.u?this.u.call(this.s,this):this.v=!0,this.a||(e=new Aa,ka(this),Ia(this,!1,e)))},Ca.prototype.m=function(e,t){this.i=!1,Ia(this,e,t)},Ca.prototype.then=function(e,t,n){var r,i,o=new dt((function(e,t){r=e,i=t}));return Oa(this,r,(function(e){e instanceof Aa?o.cancel():i(e)})),o.then(e,t,n)},Ca.prototype.$goog_Thenable=!0,w(Na,N),Na.prototype.message="Deferred has already fired",Na.prototype.name="AlreadyCalledError",w(Aa,N),Aa.prototype.message="Deferred was canceled",Aa.prototype.name="CanceledError",Ra.prototype.c=function(){throw delete ja[this.a],this.b};var ja={};function La(e){var t=document,n=we(e).toString(),r=st(document,"SCRIPT"),i={Xb:r,Ma:void 0},o=new Ca(i),s=window.setTimeout((function(){Fa(r,!0);var e=new Ba(qa,"Timeout reached for loading script "+n);ka(o),Ia(o,!1,e)}),5e3);return i.Ma=s,r.onload=r.onreadystatechange=function(){r.readyState&&"loaded"!=r.readyState&&"complete"!=r.readyState||(Fa(r,!1,s),ka(o),Ia(o,!0,null))},r.onerror=function(){Fa(r,!0,s);var e=new Ba(Ua,"Error while loading script "+n);ka(o),Ia(o,!1,e)},fe(i={},{type:"text/javascript",charset:"UTF-8"}),nt(r,i),i=e,de(e=r,"HTMLScriptElement"),e.src=we(i),(i=(i=e.ownerDocument&&e.ownerDocument.defaultView)&&i!=a?c(i.document):u=null===u?c(a.document):u)&&e.setAttribute("nonce",i),((t=((i=t)||document).getElementsByTagName("HEAD"))&&0!=t.length?t[0]:i.documentElement).appendChild(r),o}function Ma(){var e;this&&this.Xb&&(e=this.Xb)&&"SCRIPT"==e.tagName&&Fa(e,!0,this.Ma)}function Fa(e,t,n){null!=n&&a.clearTimeout(n),e.onload=l,e.onerror=l,e.onreadystatechange=l,t&&window.setTimeout((function(){e&&e.parentNode&&e.parentNode.removeChild(e)}),0)}var Ua=0,qa=1;function Ba(e,t){var n="Jsloader error (code #"+e+")";t&&(n+=": "+t),N.call(this,n),this.code=e}function Va(e){this.f=e}function Wa(e,t,n){if(this.c=e,this.l=(e=t||{}).secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.m=e.secureTokenTimeout||Ka,this.g=le(e.secureTokenHeaders||Ga),this.h=e.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=e.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.v=e.firebaseTimeout||Qa,this.a=le(e.firebaseHeaders||$a),n&&(this.a["X-Client-Version"]=n,this.g["X-Client-Version"]=n),n="Node"==fr(),!(n=a.XMLHttpRequest||n&&Da.INTERNAL.node&&Da.INTERNAL.node.XMLHttpRequest)&&!hr())throw new S("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,hr()?this.f=new oa(self):dr()?this.f=new Va(n):this.f=new zo,this.b=null}w(Ba,N),w(Va,qo),Va.prototype.a=function(){return new this.f},Va.prototype.b=function(){return{}};var za,Ha="idToken",Ka=new Ar(3e4,6e4),Ga={"Content-Type":"application/x-www-form-urlencoded"},Qa=new Ar(3e4,6e4),$a={"Content-Type":"application/json"};function Ya(e,t){t?e.a["X-Firebase-Locale"]=t:delete e.a["X-Firebase-Locale"]}function Xa(e,t){t&&(e.l=Ja("https://securetoken.googleapis.com/v1/token",t),e.h=Ja("https://www.googleapis.com/identitytoolkit/v3/relyingparty/",t),e.i=Ja("https://identitytoolkit.googleapis.com/v2/",t))}function Ja(e,t){return e=Nn(e),t=Nn(t.url),e.f=e.a+e.f,In(e,t.c),e.a=t.a,kn(e,t.g),e.toString()}function Za(e,t){t?(e.a["X-Client-Version"]=t,e.g["X-Client-Version"]=t):(delete e.a["X-Client-Version"],delete e.g["X-Client-Version"])}function es(e,t,n,r,i,o,s){var u;(e=((u=gr(u=br())==vr&&(u=u.match(/\sChrome\/(\d+)/i))&&2==u.length?parseInt(u[1],10):null)&&u<30||We&&Ze&&!(9<Ze))&&!hr()?(za=za||new dt((function(e,t){var n,r;n=e,r=t,((window.gapi||{}).client||{}).request?n():(a[ns]=function(){((window.gapi||{}).client||{}).request?n():r(Error("CORS_UNSUPPORTED"))},function(e,t){Oa(e,null,t,void 0)}(La(Ee(ts,{onload:ns})),(function(){r(Error("CORS_UNSUPPORTED"))})))})),b(e.s,e)):b(e.u,e))(t,n,r,i,o,s)}Wa.prototype.T=function(){return this.b},Wa.prototype.u=function(e,t,n,r,i,o){if(hr()&&(void 0===a.fetch||void 0===a.Headers||void 0===a.Request))throw new S("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var s,u=new ha(this.f);o&&(u.g=Math.max(0,o),s=setTimeout((function(){u.dispatchEvent("timeout")}),o)),pn(u,"complete",(function(){s&&clearTimeout(s);var n=null;try{n=JSON.parse(function(t){try{return t.a?t.a.responseText:""}catch(e){return ia(t.b,"Can not get responseText: "+e.message),""}}(this))||null}catch(e){n=null}t&&t(n)})),vn(u,"ready",(function(){s&&clearTimeout(s),Mt(this)})),vn(u,"timeout",(function(){s&&clearTimeout(s),Mt(this),t&&t(null)})),va(u,e,n,r,i)};var ts=new pe(me,"https://apis.google.com/js/client.js?onload=%{onload}"),ns="__fcb"+Math.floor(1e6*Math.random()).toString();function rs(e,t,n,r,i,o,a){var s=Nn(t+n);xn(s,"key",e.c),a&&xn(s,"cb",Date.now().toString());var u="GET"==r;if(u)for(var c in i)i.hasOwnProperty(c)&&xn(s,c,i[c]);return new dt((function(t,n){es(e,s.toString(),(function(e){e?e.error?n(Js(e,o||{})):t(e):n(new S("network-request-failed"))}),r,u?void 0:$n(kr(i)),e.a,e.v.get())}))}function is(e){if("string"!=typeof(e=e.email)||!sr.test(e))throw new S("invalid-email")}function os(e){"email"in e&&is(e)}function as(e){if(!e[Ha]){if(e.mfaPendingCredential)throw new S("multi-factor-auth-required",null,le(e));throw new S("internal-error")}}function ss(e){if(e.phoneNumber||e.temporaryProof){if(!e.phoneNumber||!e.temporaryProof)throw new S("internal-error")}else{if(!e.sessionInfo)throw new S("missing-verification-id");if(!e.code)throw new S("missing-verification-code")}}Wa.prototype.s=function(e,t,n,r,i){var o=this;za.then((function(){window.gapi.client.setApiKey(o.c);var a=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:e,method:n,body:r,headers:i,authType:"none",callback:function(e){window.gapi.auth.setToken(a),t&&t(e)}})})).o((function(e){t&&t({error:{message:e&&e.message||"CORS_UNSUPPORTED"}})}))},Wa.prototype.Ab=function(){return Ys(this,Fs,{})},Wa.prototype.Cb=function(e,t){return Ys(this,Ls,{idToken:e,email:t})},Wa.prototype.Db=function(e,t){return Ys(this,Ms,{idToken:e,password:t})};var us={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};function cs(e){if(!e.phoneVerificationInfo)throw new S("internal-error");if(!e.phoneVerificationInfo.sessionInfo)throw new S("missing-verification-id");if(!e.phoneVerificationInfo.code)throw new S("missing-verification-code")}function ls(e){if(!e.requestUri||!e.sessionId&&!e.postBody&&!e.pendingToken)throw new S("internal-error")}function hs(e,t){return t.oauthIdToken&&t.providerId&&0==t.providerId.indexOf("oidc.")&&!t.pendingToken&&(e.sessionId?t.nonce=e.sessionId:e.postBody&&Hn(e=new Bn(e.postBody),"nonce")&&(t.nonce=e.get("nonce"))),t}function fs(e){var t=null;if(e.needConfirmation?(e.code="account-exists-with-different-credential",t=Uo(e)):"FEDERATED_USER_ID_ALREADY_LINKED"==e.errorMessage?(e.code="credential-already-in-use",t=Uo(e)):"EMAIL_EXISTS"==e.errorMessage?(e.code="email-already-in-use",t=Uo(e)):e.errorMessage&&(t=Xs(e.errorMessage)),t)throw t;as(e)}function ds(e,t){return t.returnIdpCredential=!0,Ys(e,Bs,t)}function ps(e,t){return t.returnIdpCredential=!0,Ys(e,Ws,t)}function vs(e,t){return t.returnIdpCredential=!0,t.autoCreate=!1,Ys(e,Vs,t)}function gs(e){if(!e.oobCode)throw new S("invalid-action-code")}(e=Wa.prototype).Eb=function(e,t){var n={idToken:e},r=[];return ue(us,(function(e,i){var o=t[i];null===o?r.push(e):i in t&&(n[i]=o)})),r.length&&(n.deleteAttribute=r),Ys(this,Ls,n)},e.wb=function(e,t){return fe(e={requestType:"PASSWORD_RESET",email:e},t),Ys(this,Ns,e)},e.xb=function(e,t){return fe(e={requestType:"EMAIL_SIGNIN",email:e},t),Ys(this,Os,e)},e.vb=function(e,t){return fe(e={requestType:"VERIFY_EMAIL",idToken:e},t),Ys(this,xs,e)},e.Fb=function(e,t,n){return fe(e={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:e,newEmail:t},n),Ys(this,Ps,e)},e.gb=function(e){return Ys(this,Ks,e)},e.ob=function(e,t){return Ys(this,Ds,{oobCode:e,newPassword:t})},e.Sa=function(e){return Ys(this,ms,{oobCode:e})},e.kb=function(e){return Ys(this,ys,{oobCode:e})};var ys={endpoint:"setAccountInfo",A:gs,Z:"email",B:!0},ms={endpoint:"resetPassword",A:gs,G:function(e){var t=e.requestType;if(!t||!e.email&&"EMAIL_SIGNIN"!=t&&"VERIFY_AND_CHANGE_EMAIL"!=t)throw new S("internal-error")},B:!0},bs={endpoint:"signupNewUser",A:function(e){if(is(e),!e.password)throw new S("weak-password")},G:as,V:!0,B:!0},_s={endpoint:"createAuthUri",B:!0},ws={endpoint:"deleteAccount",O:["idToken"]},Es={endpoint:"setAccountInfo",O:["idToken","deleteProvider"],A:function(e){if(!Array.isArray(e.deleteProvider))throw new S("internal-error")}},Ss={endpoint:"emailLinkSignin",O:["email","oobCode"],A:is,G:as,V:!0,B:!0},Ts={endpoint:"emailLinkSignin",O:["idToken","email","oobCode"],A:is,G:as,V:!0},Cs={endpoint:"accounts/mfaEnrollment:finalize",O:["idToken","phoneVerificationInfo"],A:cs,G:as,B:!0,Na:!0},Is={endpoint:"accounts/mfaSignIn:finalize",O:["mfaPendingCredential","phoneVerificationInfo"],A:cs,G:as,B:!0,Na:!0},ks={endpoint:"getAccountInfo"},Os={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(e){if("EMAIL_SIGNIN"!=e.requestType)throw new S("internal-error");is(e)},Z:"email",B:!0},xs={endpoint:"getOobConfirmationCode",O:["idToken","requestType"],A:function(e){if("VERIFY_EMAIL"!=e.requestType)throw new S("internal-error")},Z:"email",B:!0},Ps={endpoint:"getOobConfirmationCode",O:["idToken","newEmail","requestType"],A:function(e){if("VERIFY_AND_CHANGE_EMAIL"!=e.requestType)throw new S("internal-error")},Z:"email",B:!0},Ns={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(e){if("PASSWORD_RESET"!=e.requestType)throw new S("internal-error");is(e)},Z:"email",B:!0},As={mb:!0,endpoint:"getProjectConfig",Vb:"GET"},Rs={mb:!0,endpoint:"getRecaptchaParam",Vb:"GET",G:function(e){if(!e.recaptchaSiteKey)throw new S("internal-error")}},Ds={endpoint:"resetPassword",A:gs,Z:"email",B:!0},js={endpoint:"sendVerificationCode",O:["phoneNumber","recaptchaToken"],Z:"sessionInfo",B:!0},Ls={endpoint:"setAccountInfo",O:["idToken"],A:os,V:!0},Ms={endpoint:"setAccountInfo",O:["idToken"],A:function(e){if(os(e),!e.password)throw new S("weak-password")},G:as,V:!0},Fs={endpoint:"signupNewUser",G:as,V:!0,B:!0},Us={endpoint:"accounts/mfaEnrollment:start",O:["idToken","phoneEnrollmentInfo"],A:function(e){if(!e.phoneEnrollmentInfo)throw new S("internal-error");if(!e.phoneEnrollmentInfo.phoneNumber)throw new S("missing-phone-number");if(!e.phoneEnrollmentInfo.recaptchaToken)throw new S("missing-app-credential")},G:function(e){if(!e.phoneSessionInfo||!e.phoneSessionInfo.sessionInfo)throw new S("internal-error")},B:!0,Na:!0},qs={endpoint:"accounts/mfaSignIn:start",O:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],A:function(e){if(!e.phoneSignInInfo||!e.phoneSignInInfo.recaptchaToken)throw new S("missing-app-credential")},G:function(e){if(!e.phoneResponseInfo||!e.phoneResponseInfo.sessionInfo)throw new S("internal-error")},B:!0,Na:!0},Bs={endpoint:"verifyAssertion",A:ls,Za:hs,G:fs,V:!0,B:!0},Vs={endpoint:"verifyAssertion",A:ls,Za:hs,G:function(e){if(e.errorMessage&&"USER_NOT_FOUND"==e.errorMessage)throw new S("user-not-found");if(e.errorMessage)throw Xs(e.errorMessage);as(e)},V:!0,B:!0},Ws={endpoint:"verifyAssertion",A:function(e){if(ls(e),!e.idToken)throw new S("internal-error")},Za:hs,G:fs,V:!0},zs={endpoint:"verifyCustomToken",A:function(e){if(!e.token)throw new S("invalid-custom-token")},G:as,V:!0,B:!0},Hs={endpoint:"verifyPassword",A:function(e){if(is(e),!e.password)throw new S("wrong-password")},G:as,V:!0,B:!0},Ks={endpoint:"verifyPhoneNumber",A:ss,G:as,B:!0},Gs={endpoint:"verifyPhoneNumber",A:function(e){if(!e.idToken)throw new S("internal-error");ss(e)},G:function(e){if(e.temporaryProof)throw e.code="credential-already-in-use",Uo(e);as(e)}},Qs={Ib:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",A:ss,G:as,B:!0},$s={endpoint:"accounts/mfaEnrollment:withdraw",O:["idToken","mfaEnrollmentId"],G:function(e){if(!!e[Ha]^!!e.refreshToken)throw new S("internal-error")},B:!0,Na:!0};function Ys(e,t,n){if(!function(e,t){if(!t||!t.length)return 1;if(e){for(var n=0;n<t.length;n++){var r=e[t[n]];if(null==r||""===r)return}return 1}}(n,t.O))return wt(new S("internal-error"));var r,i=!!t.Na,o=t.Vb||"POST";return _t(n).then(t.A).then((function(){return t.V&&(n.returnSecureToken=!0),t.B&&e.b&&void 0===n.tenantId&&(n.tenantId=e.b),rs(e,i?e.i:e.h,t.endpoint,o,n,t.Ib,t.mb||!1)})).then((function(e){return r=e,t.Za?t.Za(n,r):r})).then(t.G).then((function(){if(!t.Z)return r;if(!(t.Z in r))throw new S("internal-error");return r[t.Z]}))}function Xs(e){return Js({error:{errors:[{message:e}],code:400,message:e}})}function Js(e,t){var n,r=(e.error&&e.error.errors&&e.error.errors[0]||{}).reason||"",i={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(r=i[r]?new S(i[r]):null)return r;for(n in r=e.error&&e.error.message||"",fe(i={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},t||{}),t=(t=r.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<t.length?t[1]:void 0,i)if(0===r.indexOf(n))return new S(i[n],t);return new S("internal-error",t=!t&&e?Ir(e):t)}function Zs(e){var t;this.b=e,this.a=null,this.sb=(t=this,(ru=ru||new dt((function(e,t){function n(){Nr(),_r("gapi.load")("gapi.iframes",{callback:e,ontimeout:function(){Nr(),t(Error("Network Error"))},timeout:tu.get()})}var r;_r("gapi.iframes.Iframe")?e():_r("gapi.load")?n():(r="__iframefcb"+Math.floor(1e6*Math.random()).toString(),a[r]=function(){_r("gapi.load")?n():t(Error("Network Error"))},_t(La(r=Ee(eu,{onload:r}))).o((function(){t(Error("Network Error"))})))})).o((function(e){throw ru=null,e}))).then((function(){return new dt((function(e,n){_r("gapi.iframes.getContext")().open({where:document.body,url:t.b,messageHandlersFilter:_r("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},(function(r){function i(){clearTimeout(o),e()}t.a=r,t.a.restyle({setHideOnLeave:!1});var o=setTimeout((function(){n(Error("Network Error"))}),nu.get());r.ping(i).then(i,(function(){n(Error("Network Error"))}))}))}))})))}var eu=new pe(me,"https://apis.google.com/js/api.js?onload=%{onload}"),tu=new Ar(3e4,6e4),nu=new Ar(5e3,15e3),ru=null;function iu(e,t,n,r){this.l=e,this.h=t,this.i=n,this.g=r,this.f=null,e=this.g?An((e=Nn(this.g.url)).c,e.a,e.g,"/emulator/auth/iframe"):An("https",this.l,null,"/__/auth/iframe"),this.a=e,xn(this.a,"apiKey",this.h),xn(this.a,"appName",this.i),this.b=null,this.c=[]}function ou(e,t,n,r,i,o){this.u=e,this.s=t,this.c=n,this.m=r,this.v=o,this.i=this.g=this.l=null,this.a=i,this.h=this.f=null}function au(e){try{return Da.app(e).auth().Ga()}catch(e){return[]}}function su(e,t,n,r,i,o){this.s=e,this.g=t,this.b=n,this.f=o,this.c=r||null,this.i=i||null,this.l=this.u=this.C=null,this.h=[],this.m=this.a=null}function uu(e){var t=tr();return Ys(e,As,{}).then((function(e){return e.authorizedDomains||[]})).then((function(e){e:{for(var n=(r=Nn(t)).c,r=r.a,i=0;i<e.length;i++){var o=e[i],a=r,s=n;if(a=0==o.indexOf("chrome-extension://")?Nn(o).a==a&&"chrome-extension"==s:("http"==s||"https"==s)&&(ar.test(o)?a==o:(o=o.split(".").join("\\."),new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)))){e=!0;break e}}e=!1}if(!e)throw new Mo(tr())}))}function cu(e){return e.m||(e.m=ur().then((function(){var t,n,r,i;e.u||(t=e.c,n=e.i,r=au(e.b),(i=new iu(e.s,e.g,e.b,e.f)).f=t,i.b=n,i.c=Q(r||[]),e.u=i.toString()),e.v=new Zs(e.u),function(e){if(!e.v)throw Error("IfcHandler must be initialized!");!function(e,t){e.sb.then((function(){e.a.register("authEvent",t,_r("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}(e.v,(function(t){var n={};if(t&&t.authEvent){var r=!1;for(t=Ro(t.authEvent),n=0;n<e.h.length;n++)r=e.h[n](t)||r;return(n={}).status=r?"ACK":"ERROR",_t(n)}return n.status="ERROR",_t(n)}))}(e)})),e.m)}function lu(e){return e.l||(e.C=e.c?mr(e.c,au(e.b)):null,e.l=new Wa(e.g,x(e.i),e.C),e.f&&Xa(e.l,e.f)),e.l}function hu(e,t,n,r,i,o,a,s,u,c,l,h){return(e=new ou(e,t,n,r,i,h)).l=o,e.g=a,e.i=s,e.b=le(u||null),e.f=c,e.zb(l).toString()}function fu(e){if(this.a=e||Da.INTERNAL.reactNative&&Da.INTERNAL.reactNative.AsyncStorage,!this.a)throw new S("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}function du(e){this.b=e,this.a={},this.f=b(this.c,this)}iu.prototype.toString=function(){return this.f?xn(this.a,"v",this.f):zn(this.a.b,"v"),this.b?xn(this.a,"eid",this.b):zn(this.a.b,"eid"),this.c.length?xn(this.a,"fw",this.c.join(",")):zn(this.a.b,"fw"),this.a.toString()},ou.prototype.zb=function(e){return this.h=e,this},ou.prototype.toString=function(){var e;if(xn(e=this.v?An((e=Nn(this.v.url)).c,e.a,e.g,"/emulator/auth/handler"):An("https",this.u,null,"/__/auth/handler"),"apiKey",this.s),xn(e,"appName",this.c),xn(e,"authType",this.m),this.a.isOAuthProvider){var t=this.a;try{var n=Da.app(this.c).auth().la()}catch(e){n=null}for(r in t.pb=n,xn(e,"providerId",this.a.providerId),t=kr((n=this.a).Jb))t[r]=t[r].toString();for(var r=n.Qc,i=(t=le(t),0);i<r.length;i++){var o=r[i];o in t&&delete t[o]}n.qb&&n.pb&&!t[n.qb]&&(t[n.qb]=n.pb),ce(t)||xn(e,"customParameters",Ir(t))}if("function"==typeof this.a.Rb&&(n=this.a.Rb()).length&&xn(e,"scopes",n.join(",")),this.l?xn(e,"redirectUrl",this.l):zn(e.b,"redirectUrl"),this.g?xn(e,"eventId",this.g):zn(e.b,"eventId"),this.i?xn(e,"v",this.i):zn(e.b,"v"),this.b)for(var a in this.b)this.b.hasOwnProperty(a)&&!Pn(e,a)&&xn(e,a,this.b[a]);return this.h?xn(e,"tid",this.h):zn(e.b,"tid"),this.f?xn(e,"eid",this.f):zn(e.b,"eid"),(a=au(this.c)).length&&xn(e,"fw",a.join(",")),e.toString()},(e=su.prototype).Pb=function(e,t,n){var r=new S("popup-closed-by-user"),i=new S("web-storage-unsupported"),o=this,a=!1;return this.ma().then((function(){var n,r;r={type:"webStorageSupport"},cu(n=o).then((function(){return e=n.v,t=r,e.sb.then((function(){return new dt((function(n){e.a.send(t.type,t,n,_r("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}));var e,t})).then((function(e){if(e&&e.length&&void 0!==e[0].webStorageSupport)return e[0].webStorageSupport;throw Error()})).then((function(n){n||(e&&ir(e),t(i),a=!0)}))})).o((function(){})).then((function(){if(!a)return t=e,new dt((function(e){return function n(){mn(2e3).then((function(){return t&&!t.closed?n():void e()}))}()}));var t})).then((function(){if(!a)return mn(n).then((function(){t(r)}))}))},e.Yb=function(){var e=br();return!Cr(e)&&!Pr(e)},e.Ub=function(){return!1},e.Nb=function(e,t,n,r,i,o,a,s){if(!e)return wt(new S("popup-blocked"));if(a&&!Cr())return this.ma().o((function(t){ir(e),i(t)})),r(),_t();this.a||(this.a=uu(lu(this)));var u=this;return this.a.then((function(){var t=u.ma().o((function(t){throw ir(e),i(t),t}));return r(),t})).then((function(){No(n),a||nr(hu(u.s,u.g,u.b,t,n,null,o,u.c,void 0,u.i,s,u.f),e)})).o((function(e){throw"auth/network-request-failed"==e.code&&(u.a=null),e}))},e.Ob=function(e,t,n,r){this.a||(this.a=uu(lu(this)));var i=this;return this.a.then((function(){No(t),nr(hu(i.s,i.g,i.b,e,t,tr(),n,i.c,void 0,i.i,r,i.f))})).o((function(e){throw"auth/network-request-failed"==e.code&&(i.a=null),e}))},e.ma=function(){var e=this;return cu(this).then((function(){return e.v.sb})).o((function(){throw e.a=null,new S("network-request-failed")}))},e.ac=function(){return!0},e.Ea=function(e){this.h.push(e)},e.Ta=function(e){K(this.h,(function(t){return t==e}))},(e=fu.prototype).get=function(e){return _t(this.a.getItem(e)).then((function(e){return e&&Or(e)}))},e.set=function(e,t){return _t(this.a.setItem(e,Ir(t)))},e.U=function(e){return _t(this.a.removeItem(e))},e.ca=function(){},e.ia=function(){};var pu,vu=[];function gu(e,t,n){ce(e.a)&&e.b.addEventListener("message",e.f),void 0===e.a[t]&&(e.a[t]=[]),e.a[t].push(n)}function yu(e){this.a=e}function mu(e){this.c=e,this.b=!1,this.a=[]}function bu(e,t,n,r){var i,o,a,s,u=n||{},c=null;if(e.b)return wt(Error("connection_unavailable"));var l=r?800:50,h="undefined"!=typeof MessageChannel?new MessageChannel:null;return new dt((function(n,r){h?(i=Math.floor(Math.random()*Math.pow(10,20)).toString(),h.port1.start(),a=setTimeout((function(){r(Error("unsupported_event"))}),l),c={messageChannel:h,onMessage:o=function(e){e.data.eventId===i&&("ack"===e.data.status?(clearTimeout(a),s=setTimeout((function(){r(Error("timeout"))}),3e3)):"done"===e.data.status?(clearTimeout(s),void 0!==e.data.response?n(e.data.response):r(Error("unknown_error"))):(clearTimeout(a),clearTimeout(s),r(Error("invalid_response"))))}},e.a.push(c),h.port1.addEventListener("message",o),e.c.postMessage({eventType:t,eventId:i,data:u},[h.port2])):r(Error("connection_unavailable"))})).then((function(t){return _u(e,c),t})).o((function(t){throw _u(e,c),t}))}function _u(e,t){var n,r;t&&(n=t.messageChannel,r=t.onMessage,n&&(n.port1.removeEventListener("message",r),n.port1.close()),K(e.a,(function(e){return e==t})))}function wu(){if(!Cu())throw new S("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.m=a.indexedDB,this.type="indexedDB",this.g=this.v=this.f=this.l=null,this.s=!1,this.h=null;var e,t,n,r=this;hr()&&self?(this.v=(n=hr()?self:null,q(vu,(function(e){e.b==n&&(t=e)})),t||(t=new du(n),vu.push(t)),t),gu(this.v,"keyChanged",(function(e,t){return Pu(r).then((function(e){return 0<e.length&&q(r.a,(function(t){t(e)})),{keyProcessed:z(e,t.key)}}))})),gu(this.v,"ping",(function(){return _t(["keyChanged"])}))):((e=a.navigator)&&e.serviceWorker?_t().then((function(){return e.serviceWorker.ready})).then((function(e){return e.active||null})).o((function(){return null})):_t(null)).then((function(e){(r.h=e)&&(r.g=new mu(new yu(e)),bu(r.g,"ping",null,!0).then((function(e){e[0].fulfilled&&z(e[0].value,"keyChanged")&&(r.s=!0)})).o((function(){})))}))}function Eu(e){return new dt((function(t,n){var r=e.m.open("firebaseLocalStorageDb",1);r.onerror=function(e){try{e.preventDefault()}catch(e){}n(Error(e.target.error))},r.onupgradeneeded=function(e){e=e.target.result;try{e.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(e){n(e)}},r.onsuccess=function(r){var i;(r=r.target.result).objectStoreNames.contains("firebaseLocalStorage")?t(r):(i=e,new dt((function(e,t){var n=i.m.deleteDatabase("firebaseLocalStorageDb");n.onsuccess=function(){e()},n.onerror=function(e){t(Error(e.target.error))}})).then((function(){return Eu(e)})).then((function(e){t(e)})).o((function(e){n(e)})))}}))}function Su(e){return e.i||(e.i=Eu(e)),e.i}function Tu(e,t){var n=0;return new dt((function r(i,o){Su(e).then(t).then(i).o((function(t){return 3<++n?void o(t):Su(e).then((function(t){return t.close(),e.i=void 0,r(i,o)})).o((function(e){o(e)}))}))}))}function Cu(){try{return a.indexedDB}catch(e){return}}function Iu(e){return e.objectStore("firebaseLocalStorage")}function ku(e,t){return e.transaction(["firebaseLocalStorage"],t?"readwrite":"readonly")}function Ou(e){return new dt((function(t,n){e.onsuccess=function(e){e&&e.target?t(e.target.result):t()},e.onerror=function(e){n(e.target.error)}}))}function xu(e,t){return e.g&&e.h&&((n=a.navigator)&&n.serviceWorker&&n.serviceWorker.controller||null)===e.h?bu(e.g,"keyChanged",{key:t},e.s).then((function(){})).o((function(){})):_t();var n}function Pu(e){return Su(e).then((function(e){var t=Iu(ku(e,!1));return t.getAll?Ou(t.getAll()):new dt((function(e,n){var r=[],i=t.openCursor();i.onsuccess=function(t){(t=t.target.result)?(r.push(t.value),t.continue()):e(r)},i.onerror=function(e){n(e.target.error)}}))})).then((function(t){var n={},r=[];if(0==e.b){for(r=0;r<t.length;r++)n[t[r].fbase_key]=t[r].value;r=function e(t,n){var r,i=[];for(r in t)r in n&&typeof t[r]==typeof n[r]?"object"==typeof t[r]&&null!=t[r]&&null!=n[r]?0<e(t[r],n[r]).length&&i.push(r):t[r]!==n[r]&&i.push(r):i.push(r);for(r in n)r in t||i.push(r);return i}(e.c,n),e.c=n}return r}))}function Nu(e){e.l&&e.l.cancel("STOP_EVENT"),e.f&&(clearTimeout(e.f),e.f=null)}function Au(e){var t=this,n=null;this.a=[],this.type="indexedDB",this.c=e,this.b=_t().then((function(){if(Cu()){var e=xr(),r="__sak"+e;return pu=pu||new wu,(n=pu).set(r,e).then((function(){return n.get(r)})).then((function(t){if(t!==e)throw Error("indexedDB not supported!");return n.U(r)})).then((function(){return n})).o((function(){return t.c}))}return t.c})).then((function(e){return t.type=e.type,e.ca((function(e){q(t.a,(function(t){t(e)}))})),e}))}function Ru(){this.a={},this.type="inMemory"}function Du(){if(!function(){var e="Node"==fr();if(!(e=ju()||e&&Da.INTERNAL.node&&Da.INTERNAL.node.localStorage))return!1;try{return e.setItem("__sak","1"),e.removeItem("__sak"),!0}catch(e){return!1}}()){if("Node"==fr())throw new S("internal-error","The LocalStorage compatibility library was not found.");throw new S("web-storage-unsupported")}this.a=ju()||Da.INTERNAL.node.localStorage,this.type="localStorage"}function ju(){try{var e=a.localStorage,t=xr();return e&&(e.setItem(t,"1"),e.removeItem(t)),e}catch(e){return null}}function Lu(){this.type="nullStorage"}function Mu(){if(!function(){var e="Node"==fr();if(!(e=Fu()||e&&Da.INTERNAL.node&&Da.INTERNAL.node.sessionStorage))return!1;try{return e.setItem("__sak","1"),e.removeItem("__sak"),!0}catch(e){return!1}}()){if("Node"==fr())throw new S("internal-error","The SessionStorage compatibility library was not found.");throw new S("web-storage-unsupported")}this.a=Fu()||Da.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function Fu(){try{var e=a.sessionStorage,t=xr();return e&&(e.setItem(t,"1"),e.removeItem(t)),e}catch(e){return null}}function Uu(){var e={};e.Browser=Vu,e.Node=Wu,e.ReactNative=zu,e.Worker=Hu,this.a=e[fr()]}du.prototype.c=function(e){var t,n=e.data.eventType,r=e.data.eventId,i=this.a[n];i&&0<i.length&&(e.ports[0].postMessage({status:"ack",eventId:r,eventType:n,response:null}),t=[],q(i,(function(n){t.push(_t().then((function(){return n(e.origin,e.data.data)})))})),St(t).then((function(t){var i=[];q(t,(function(e){i.push({fulfilled:e.Qb,value:e.value,reason:e.reason?e.reason.message:void 0})})),q(i,(function(e){for(var t in e)void 0===e[t]&&delete e[t]})),e.ports[0].postMessage({status:"done",eventId:r,eventType:n,response:i})})))},yu.prototype.postMessage=function(e,t){this.a.postMessage(e,t)},mu.prototype.close=function(){for(;0<this.a.length;)_u(this,this.a[0]);this.b=!0},(e=wu.prototype).set=function(e,t){var n=this,r=!1;return Tu(this,(function(t){return Ou((t=Iu(ku(t,!0))).get(e))})).then((function(i){return Tu(n,(function(o){if(o=Iu(ku(o,!0)),i)return i.value=t,Ou(o.put(i));n.b++,r=!0;var a={};return a.fbase_key=e,a.value=t,Ou(o.add(a))}))})).then((function(){return n.c[e]=t,xu(n,e)})).oa((function(){r&&n.b--}))},e.get=function(e){return Tu(this,(function(t){return Ou(Iu(ku(t,!1)).get(e))})).then((function(e){return e&&e.value}))},e.U=function(e){var t=this,n=!1;return Tu(this,(function(r){return n=!0,t.b++,Ou(Iu(ku(r,!0)).delete(e))})).then((function(){return delete t.c[e],xu(t,e)})).oa((function(){n&&t.b--}))},e.ca=function(e){var t;0==this.a.length&&(Nu(t=this),function e(){t.f=setTimeout((function(){t.l=Pu(t).then((function(e){0<e.length&&q(t.a,(function(t){t(e)}))})).then((function(){e()})).o((function(t){"STOP_EVENT"!=t.message&&e()}))}),800)}()),this.a.push(e)},e.ia=function(e){K(this.a,(function(t){return t==e})),0==this.a.length&&Nu(this)},(e=Au.prototype).get=function(e){return this.b.then((function(t){return t.get(e)}))},e.set=function(e,t){return this.b.then((function(n){return n.set(e,t)}))},e.U=function(e){return this.b.then((function(t){return t.U(e)}))},e.ca=function(e){this.a.push(e)},e.ia=function(e){K(this.a,(function(t){return t==e}))},(e=Ru.prototype).get=function(e){return _t(this.a[e])},e.set=function(e,t){return this.a[e]=t,_t()},e.U=function(e){return delete this.a[e],_t()},e.ca=function(){},e.ia=function(){},(e=Du.prototype).get=function(e){var t=this;return _t().then((function(){return Or(t.a.getItem(e))}))},e.set=function(e,t){var n=this;return _t().then((function(){var r=Ir(t);null===r?n.U(e):n.a.setItem(e,r)}))},e.U=function(e){var t=this;return _t().then((function(){t.a.removeItem(e)}))},e.ca=function(e){a.window&&en(a.window,"storage",e)},e.ia=function(e){a.window&&rn(a.window,"storage",e)},(e=Lu.prototype).get=function(){return _t(null)},e.set=function(){return _t()},e.U=function(){return _t()},e.ca=function(){},e.ia=function(){},(e=Mu.prototype).get=function(e){var t=this;return _t().then((function(){return Or(t.a.getItem(e))}))},e.set=function(e,t){var n=this;return _t().then((function(){var r=Ir(t);null===r?n.U(e):n.a.setItem(e,r)}))},e.U=function(e){var t=this;return _t().then((function(){t.a.removeItem(e)}))},e.ca=function(){},e.ia=function(){};var qu,Bu,Vu={F:Du,cb:Mu},Wu={F:Du,cb:Mu},zu={F:fu,cb:Lu},Hu={F:Du,cb:Lu},Ku={rd:"local",NONE:"none",td:"session"};function Gu(){var e=!(Pr(br())||!lr()),t=Cr(),n=wr();this.m=e,this.h=t,this.l=n,this.a={},e=qu=qu||new Uu;try{this.g=!er()&&Lr()||!a.indexedDB?new e.a.F:new Au(new(hr()?Ru:e.a.F))}catch(e){this.g=new Ru,this.h=!0}try{this.i=new e.a.cb}catch(e){this.i=new Ru}this.v=new Ru,this.f=b(this.Zb,this),this.b={}}function Qu(){return Bu=Bu||new Gu}function $u(e,t){switch(t){case"session":return e.i;case"none":return e.v;default:return e.g}}function Yu(e,t){return"firebase:"+e.name+(t?":"+t:"")}function Xu(e,t,n){return n=Yu(t,n),"local"==t.F&&(e.b[n]=null),$u(e,t.F).U(n)}function Ju(e){e.c&&(clearInterval(e.c),e.c=null)}function Zu(e){this.a=e,this.b=Qu()}(e=Gu.prototype).get=function(e,t){return $u(this,e.F).get(Yu(e,t))},e.set=function(e,t,n){var r=Yu(e,n),i=this,o=$u(this,e.F);return o.set(r,t).then((function(){return o.get(r)})).then((function(t){"local"==e.F&&(i.b[r]=t)}))},e.addListener=function(e,t,n){var r;e=Yu(e,t),this.l&&(this.b[e]=a.localStorage.getItem(e)),ce(this.a)&&($u(this,"local").ca(this.f),this.h||(er()||!Lr())&&a.indexedDB||!this.l||(Ju(r=this),r.c=setInterval((function(){for(var e in r.a){var t=a.localStorage.getItem(e),n=r.b[e];t!=n&&(r.b[e]=t,t=new Wt({type:"storage",key:e,target:window,oldValue:n,newValue:t,a:!0}),r.Zb(t))}}),1e3))),this.a[e]||(this.a[e]=[]),this.a[e].push(n)},e.removeListener=function(e,t,n){e=Yu(e,t),this.a[e]&&(K(this.a[e],(function(e){return e==n})),0==this.a[e].length&&delete this.a[e]),ce(this.a)&&($u(this,"local").ia(this.f),Ju(this))},e.Zb=function(e){if(e&&e.g){var t=e.a.key;if(null==t)for(var n in this.a){var r=this.b[n];void 0===r&&(r=null);var i=a.localStorage.getItem(n);i!==r&&(this.b[n]=i,this.nb(n))}else if(0==t.indexOf("firebase:")&&this.a[t]){if(void 0!==e.a.a?$u(this,"local").ia(this.f):Ju(this),this.m)if(n=a.localStorage.getItem(t),(r=e.a.newValue)!==n)null!==r?a.localStorage.setItem(t,r):a.localStorage.removeItem(t);else if(this.b[t]===r&&void 0===e.a.a)return;var o=this;n=function(){void 0===e.a.a&&o.b[t]===a.localStorage.getItem(t)||(o.b[t]=a.localStorage.getItem(t),o.nb(t))},We&&Ze&&10==Ze&&a.localStorage.getItem(t)!==e.a.newValue&&e.a.newValue!==e.a.oldValue?setTimeout(n,10):n()}}else q(e,b(this.nb,this))},e.nb=function(e){this.a[e]&&q(this.a[e],(function(e){e()}))};var ec,tc={name:"authEvent",F:"local"};function nc(){this.a=Qu()}function rc(e,t){this.b=ic,this.f=a.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=e,this.h=t,this.l=a.Int32Array?new Int32Array(64):Array(64),void 0===ec&&(ec=a.Int32Array?new Int32Array(hc):hc),this.reset()}w(rc,(function(){this.b=-1}));for(var ic=64,oc=ic-1,ac=[],sc=0;sc<oc;sc++)ac[sc]=0;var uc=G(128,ac);function cc(e){for(var t=e.f,n=e.l,r=0,i=0;i<t.length;)n[r++]=t[i]<<24|t[i+1]<<16|t[i+2]<<8|t[i+3],i=4*r;for(t=16;t<64;t++){i=0|n[t-15],r=0|n[t-2];var o=(0|n[t-16])+((i>>>7|i<<25)^(i>>>18|i<<14)^i>>>3)|0,a=(0|n[t-7])+((r>>>17|r<<15)^(r>>>19|r<<13)^r>>>10)|0;n[t]=o+a|0}r=0|e.a[0],i=0|e.a[1];var s=0|e.a[2],u=0|e.a[3],c=0|e.a[4],l=0|e.a[5],h=0|e.a[6];for(o=0|e.a[7],t=0;t<64;t++){var f=((r>>>2|r<<30)^(r>>>13|r<<19)^(r>>>22|r<<10))+(r&i^r&s^i&s)|0;a=(o=o+((c>>>6|c<<26)^(c>>>11|c<<21)^(c>>>25|c<<7))|0)+((a=(a=c&l^~c&h)+(0|ec[t])|0)+(0|n[t])|0)|0,o=h,h=l,l=c,c=u+a|0,u=s,s=i,i=r,r=a+f|0}e.a[0]=e.a[0]+r|0,e.a[1]=e.a[1]+i|0,e.a[2]=e.a[2]+s|0,e.a[3]=e.a[3]+u|0,e.a[4]=e.a[4]+c|0,e.a[5]=e.a[5]+l|0,e.a[6]=e.a[6]+h|0,e.a[7]=e.a[7]+o|0}function lc(e,t,n){void 0===n&&(n=t.length);var r=0,i=e.c;if("string"==typeof t)for(;r<n;)e.f[i++]=t.charCodeAt(r++),i==e.b&&(cc(e),i=0);else{if(!f(t))throw Error("message must be string or array");for(;r<n;){var o=t[r++];if(!("number"==typeof o&&0<=o&&o<=255&&o==(0|o)))throw Error("message must be a byte array");e.f[i++]=o,i==e.b&&(cc(e),i=0)}}e.c=i,e.g+=n}rc.prototype.reset=function(){this.g=this.c=0,this.a=a.Int32Array?new Int32Array(this.h):Q(this.h)};var hc=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function fc(){rc.call(this,8,dc)}w(fc,rc);var dc=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function pc(e,t,n,r,i,o){this.v=e,this.i=t,this.l=n,this.m=r||null,this.u=i||null,this.s=o,this.h=t+":"+n,this.C=new nc,this.g=new Zu(this.h),this.f=null,this.b=[],this.a=this.c=null}function vc(e){return new S("invalid-cordova-configuration",e)}function gc(e){var t=new fc;lc(t,e),e=[];var n=8*t.g;t.c<56?lc(t,uc,56-t.c):lc(t,uc,t.b-(t.c-56));for(var r=63;56<=r;r--)t.f[r]=255&n,n/=256;for(cc(t),r=n=0;r<t.i;r++)for(var i=24;0<=i;i-=8)e[n++]=t.a[r]>>i&255;return V(e,(function(e){return 1<(e=e.toString(16)).length?e:"0"+e})).join("")}function yc(e,t){for(var n=0;n<e.b.length;n++)try{e.b[n](t)}catch(e){}}function mc(e){return e.f||(e.f=e.ma().then((function(){return new dt((function(t){function n(e){o=!0,s&&s.cancel(),bc(r).then((function(t){var n,o=i;t&&e&&e.url&&(n=null,o=(n=-1!=(o=Yi(e.url)).indexOf("/__/auth/callback")?(n="object"==typeof(n=Or(Pn(n=Nn(o),"firebaseError")||null))?T(n):null)?new Ao(t.c,t.b,null,null,n,null,t.T()):new Ao(t.c,t.b,o,t.f,null,null,t.T()):n)||i),yc(r,o)}))}var r,i,o,s,u;e.Ea((function n(r){return t(r),e.Ta(n),!1})),r=e,i=new Ao("unknown",null,null,null,new S("no-auth-event")),o=!1,s=mn(500).then((function(){return bc(r).then((function(){o||yc(r,i)}))})),u=a.handleOpenURL,a.handleOpenURL=function(e){if(0==e.toLowerCase().indexOf(_r("BuildInfo.packageName",a).toLowerCase()+"://")&&n({url:e}),"function"==typeof u)try{u(e)}catch(e){console.error(e)}},Lo=Lo||new Do,function(e){var t=Lo;t.a.push(e),t.b||(t.b=function(e){for(var n=0;n<t.a.length;n++)t.a[n](e)},"function"==typeof(e=_r("universalLinks.subscribe",a))&&e(null,t.b))}(n)}))}))),e.f}function bc(e){var t,n=null;return(t=e.g).b.get(tc,t.a).then(Ro).then((function(t){return n=t,Xu((t=e.g).b,tc,t.a)})).then((function(){return n}))}function _c(e){this.a=e,this.b=Qu()}(e=pc.prototype).ma=function(){return this.Ia||(this.Ia=(cr(void 0)?ur().then((function(){return new dt((function(e,t){var n=a.document,r=setTimeout((function(){t(Error("Cordova framework is not ready."))}),1e3);n.addEventListener("deviceready",(function(){clearTimeout(r),e()}),!1)}))})):wt(Error("Cordova must run in an Android or iOS file scheme."))).then((function(){if("function"!=typeof _r("universalLinks.subscribe",a))throw vc("cordova-universal-links-plugin-fix is not installed");if(void 0===_r("BuildInfo.packageName",a))throw vc("cordova-plugin-buildinfo is not installed");if("function"!=typeof _r("cordova.plugins.browsertab.openUrl",a))throw vc("cordova-plugin-browsertab is not installed");if("function"!=typeof _r("cordova.InAppBrowser.open",a))throw vc("cordova-plugin-inappbrowser is not installed")}),(function(){throw new S("cordova-not-ready")})))},e.Pb=function(e,t){return t(new S("operation-not-supported-in-this-environment")),_t()},e.Nb=function(){return wt(new S("operation-not-supported-in-this-environment"))},e.ac=function(){return!1},e.Yb=function(){return!0},e.Ub=function(){return!0},e.Ob=function(e,t,n,r){if(this.c)return wt(new S("redirect-operation-pending"));var i=this,o=a.document,s=null,u=null,c=null,l=null;return this.c=_t().then((function(){return No(t),mc(i)})).then((function(){return function(e,t,n,r,i){var o=function(){for(var e=20,t=[];0<e;)t.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),e--;return t.join("")}(),s=new Ao(t,r,null,o,new S("no-auth-event"),null,i),u=_r("BuildInfo.packageName",a);if("string"!=typeof u)throw new S("invalid-cordova-configuration");var c=_r("BuildInfo.displayName",a),l={};if(br().toLowerCase().match(/iphone|ipad|ipod/))l.ibi=u;else{if(!br().toLowerCase().match(/android/))return wt(new S("operation-not-supported-in-this-environment"));l.apn=u}c&&(l.appDisplayName=c),o=gc(o),l.sessionId=o;var h=hu(e.v,e.i,e.l,t,n,null,r,e.m,l,e.u,i,e.s);return e.ma().then((function(){var t=e.h;return e.C.a.set(tc,s.w(),t)})).then((function(){var t=_r("cordova.plugins.browsertab.isAvailable",a);if("function"!=typeof t)throw new S("invalid-cordova-configuration");var n=null;t((function(t){if(t){if("function"!=typeof(n=_r("cordova.plugins.browsertab.openUrl",a)))throw new S("invalid-cordova-configuration");n(h)}else{if("function"!=typeof(n=_r("cordova.InAppBrowser.open",a)))throw new S("invalid-cordova-configuration");t=br(),e.a=n(h,t.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||t.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}}))}))}(i,e,t,n,r)})).then((function(){return new dt((function(e,t){u=function(){var t=_r("cordova.plugins.browsertab.close",a);return e(),"function"==typeof t&&t(),i.a&&"function"==typeof i.a.close&&(i.a.close(),i.a=null),!1},i.Ea(u),c=function(){s=s||mn(2e3).then((function(){t(new S("redirect-cancelled-by-user"))}))},l=function(){Rr()&&c()},o.addEventListener("resume",c,!1),br().toLowerCase().match(/android/)||o.addEventListener("visibilitychange",l,!1)})).o((function(e){return bc(i).then((function(){throw e}))}))})).oa((function(){c&&o.removeEventListener("resume",c,!1),l&&o.removeEventListener("visibilitychange",l,!1),s&&s.cancel(),u&&i.Ta(u),i.c=null}))},e.Ea=function(e){this.b.push(e),mc(this).o((function(t){"auth/invalid-cordova-configuration"===t.code&&(t=new Ao("unknown",null,null,null,new S("no-auth-event")),e(t))}))},e.Ta=function(e){K(this.b,(function(t){return t==e}))};var wc={name:"pendingRedirect",F:"session"};function Ec(e){return Xu(e.b,wc,e.a)}function Sc(e,t,n,r){this.i={},this.u=0,this.D=e,this.v=t,this.m=n,this.J=r,this.h=[],this.f=!1,this.l=b(this.s,this),this.b=new Fc,this.C=new Wc,this.g=new _c(Lc(this.v,this.m)),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.C,this.c.linkViaPopup=this.C,this.c.reauthViaPopup=this.C,this.a=Tc(this.D,this.v,this.m,C,this.J)}function Tc(e,t,n,r,i){var o=Da.SDK_VERSION||null;return new(cr()?pc:su)(e,t,n,o,r,i)}function Cc(e){e.f||(e.f=!0,e.a.Ea(e.l));var t=e.a;return e.a.ma().o((function(n){throw e.a==t&&e.reset(),n}))}function Ic(e){e.a.Yb()&&Cc(e).o((function(t){var n=new Ao("unknown",null,null,null,new S("operation-not-supported-in-this-environment"));Ac(t)&&e.s(n)})),e.a.Ub()||Uc(e.b)}function kc(e,t){z(e.h,t)||e.h.push(t),e.f||(t=e.g).b.get(wc,t.a).then((function(e){return"pending"==e})).then((function(t){t?Ec(e.g).then((function(){Cc(e).o((function(t){var n=new Ao("unknown",null,null,null,new S("operation-not-supported-in-this-environment"));Ac(t)&&e.s(n)}))})):Ic(e)})).o((function(){Ic(e)}))}function Oc(e,t){K(e.h,(function(e){return e==t}))}Sc.prototype.reset=function(){this.f=!1,this.a.Ta(this.l),this.a=Tc(this.D,this.v,this.m,null,this.J),this.i={}},Sc.prototype.s=function(e){if(!e)throw new S("invalid-auth-event");if(6e5<=Date.now()-this.u&&(this.i={},this.u=0),e&&e.getUid()&&this.i.hasOwnProperty(e.getUid()))return!1;for(var t=!1,n=0;n<this.h.length;n++){var r=this.h[n];if(r.Gb(e.c,e.b)){(t=this.c[e.c])&&(t.h(e,r),e&&(e.f||e.b)&&(this.i[e.getUid()]=!0,this.u=Date.now())),t=!0;break}}return Uc(this.b),t};var xc=new Ar(2e3,1e4),Pc=new Ar(3e4,6e4);function Nc(e,t,n,r,i,o,a){return e.a.Nb(t,n,r,(function(){e.f||(e.f=!0,e.a.Ea(e.l))}),(function(){e.reset()}),i,o,a)}function Ac(e){return!(!e||"auth/cordova-not-ready"!=e.code)}function Rc(e,t,n,r,i){var o,a;return(a=e.g).b.set(wc,"pending",a.a).then((function(){return e.a.Ob(t,n,r,i).o((function(t){if(Ac(t))throw new S("operation-not-supported-in-this-environment");return o=t,Ec(e.g).then((function(){throw o}))})).then((function(){return e.a.ac()?new dt((function(){})):Ec(e.g).then((function(){return e.ra()})).then((function(){})).o((function(){}))}))}))}function Dc(e,t,n,r,i){return e.a.Pb(r,(function(e){t.na(n,null,e,i)}),xc.get())}Sc.prototype.ra=function(){return this.b.ra()};var jc={};function Lc(e,t,n){return e=e+":"+t,n?e+":"+n.url:e}function Mc(e,t,n,r){var i=Lc(t,n,r);return jc[i]||(jc[i]=new Sc(e,t,n,r)),jc[i]}function Fc(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}function Uc(e){e.g||(e.g=!0,Vc(e,!1,null,null))}function qc(e){e.g&&!e.i&&Vc(e,!1,null,null)}function Bc(e,t){if(e.b=function(){return _t(t)},e.f.length)for(var n=0;n<e.f.length;n++)e.f[n](t)}function Vc(e,t,n,r){t?r?function(e,t){if(e.b=function(){return wt(t)},e.c.length)for(var n=0;n<e.c.length;n++)e.c[n](t)}(e,r):Bc(e,n):Bc(e,{user:null}),e.f=[],e.c=[]}function Wc(){}function zc(){this.jb=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.jb},set:function(e){this.jb=e},enumerable:!1})}function Hc(e,t){this.a=t,Br(this,"verificationId",e)}function Kc(e,t,n,r){return new Oo(e).gb(t,n).then((function(e){return new Hc(e,r)}))}function Gc(e){var t=Li(e);if(!(t&&t.exp&&t.auth_time&&t.iat))throw new S("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");Vr(this,{token:e,expirationTime:jr(1e3*t.exp),authTime:jr(1e3*t.auth_time),issuedAtTime:jr(1e3*t.iat),signInProvider:t.firebase&&t.firebase.sign_in_provider?t.firebase.sign_in_provider:null,signInSecondFactor:t.firebase&&t.firebase.sign_in_second_factor?t.firebase.sign_in_second_factor:null,claims:t})}function Qc(e,t,n){var r=t&&t[Yc];if(!r)throw new S("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=e,this.f=le(t),this.g=n,this.c=new Xi(null,r),this.b=[];var i=this;q(t[$c]||[],(function(e){(e=Kr(e))&&i.b.push(e)})),Br(this,"auth",this.a),Br(this,"session",this.c),Br(this,"hints",this.b)}Fc.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},Fc.prototype.h=function(e,t){var n,r,i,o;e?(this.reset(),this.g=!0,n=e.c,r=e.b,i=e.a&&"auth/web-storage-unsupported"==e.a.code,o=e.a&&"auth/operation-not-supported-in-this-environment"==e.a.code,this.i=!(!i&&!o),"unknown"!=n||i||o?e.a?(Vc(this,!0,null,e.a),_t()):t.Fa(n,r)?function(e,t,n){n=n.Fa(t.c,t.b);var r=t.g,i=t.f,o=t.i,a=t.T(),s=!!t.c.match(/Redirect$/);n(r,i,a,o).then((function(t){Vc(e,s,t,null)})).o((function(t){Vc(e,s,null,t)}))}(this,e,t):wt(new S("invalid-auth-event")):(Vc(this,!1,null,null),_t())):wt(new S("invalid-auth-event"))},Fc.prototype.ra=function(){var e=this;return new dt((function(t,n){var r,i;e.b?e.b().then(t,n):(e.f.push(t),e.c.push(n),r=e,i=new S("timeout"),r.a&&r.a.cancel(),r.a=mn(Pc.get()).then((function(){r.b||(r.g=!0,Vc(r,!0,null,i))})))}))},Wc.prototype.h=function(e,t){var n,r,i,o,a;e?(n=e.c,r=e.b,e.a?(t.na(e.c,null,e.a,e.b),_t()):t.Fa(n,r)?(i=t,o=e.b,a=e.c,i.Fa(a,o)(e.g,e.f,e.T(),e.i).then((function(e){i.na(a,e,null,o)})).o((function(e){i.na(a,null,e,o)}))):wt(new S("invalid-auth-event"))):wt(new S("invalid-auth-event"))},Hc.prototype.confirm=function(e){return e=xo(this.verificationId,e),this.a(e)};var $c="mfaInfo",Yc="mfaPendingCredential";function Xc(e,t,n,r){S.call(this,"multi-factor-auth-required",r,t),this.b=new Qc(e,t,n),Br(this,"resolver",this.b)}function Jc(e,t,n){if(e&&p(e.serverResponse)&&"auth/multi-factor-auth-required"===e.code)try{return new Xc(t,e.serverResponse,n,e.message)}catch(e){}return null}function Zc(){}function el(e){Br(this,"factorId",e.fa),this.a=e}function tl(e){if(el.call(this,e),this.a.fa!=Oo.PROVIDER_ID)throw new S("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}function nl(e,t){for(var n in Vt.call(this,e),t)this[n]=t[n]}function rl(e,t){this.a=e,this.b=[],this.c=b(this.yc,this),en(this.a,"userReloaded",this.c);var n=[];t&&t.multiFactor&&t.multiFactor.enrolledFactors&&q(t.multiFactor.enrolledFactors,(function(e){var t=null,r={};if(e){e.uid&&(r[$r]=e.uid),e.displayName&&(r[Gr]=e.displayName),e.enrollmentTime&&(r[Qr]=new Date(e.enrollmentTime).toISOString()),e.phoneNumber&&(r[Yr]=e.phoneNumber);try{t=new Xr(r)}catch(e){}e=t}else e=null;e&&n.push(e)})),il(this,n)}function il(e,t){e.b=t,Br(e,"enrolledFactors",t)}function ol(e,t,n){if(this.h=e,this.i=t,this.g=n,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}function al(e,t){return t?(e.a=e.c,e.g()):(t=e.a,e.a*=2,e.a>e.f&&(e.a=e.f),t)}function sl(e){this.f=e,this.b=this.a=null,this.c=Date.now()}function ul(e,t){void 0===t&&(t=e.b?(t=e.b).a-t.g:0),e.c=Date.now()+1e3*t}function cl(e,t){e.b=ji(t[Ha]||""),e.a=t.refreshToken,ul(e,void 0!==(t=t.expiresIn)?Number(t):void 0)}function ll(e,t){return n=e.f,r=t,new dt((function(e,t){"refresh_token"==r.grant_type&&r.refresh_token||"authorization_code"==r.grant_type&&r.code?es(n,n.l+"?key="+encodeURIComponent(n.c),(function(n){n?n.error?t(Js(n)):n.access_token&&n.refresh_token?e(n):t(new S("internal-error")):t(new S("network-request-failed"))}),"POST",Wn(r).toString(),n.g,n.m.get()):t(new S("internal-error"))})).then((function(t){return e.b=ji(t.access_token),e.a=t.refresh_token,ul(e,t.expires_in),{accessToken:e.b.toString(),refreshToken:e.a}})).o((function(t){throw"auth/user-token-expired"==t.code&&(e.a=null),t}));var n,r}function hl(e,t){this.a=e||null,this.b=t||null,Vr(this,{lastSignInTime:jr(t||null),creationTime:jr(e||null)})}function fl(e,t,n,r,i,o){Vr(this,{uid:e,displayName:r||null,photoURL:i||null,email:n||null,phoneNumber:o||null,providerId:t})}function dl(e,t,n){this.N=[],this.l=e.apiKey,this.m=e.appName,this.s=e.authDomain||null;var r,i=Da.SDK_VERSION?mr(Da.SDK_VERSION):null;this.a=new Wa(this.l,x(C),i),(this.u=e.emulatorConfig||null)&&Xa(this.a,this.u),this.h=new sl(this.a),El(this,t[Ha]),cl(this.h,t),Br(this,"refreshToken",this.h.a),Cl(this,n||{}),dn.call(this),this.P=!1,this.s&&Er()&&(this.b=Mc(this.s,this.l,this.m,this.u)),this.W=[],this.i=null,this.D=(r=this,new ol((function(){return r.I(!0)}),(function(e){return!(!e||"auth/network-request-failed"!=e.code)}),(function(){var e=r.h.c-Date.now()-3e5;return 0<e?e:0}))),this.ba=b(this.ib,this);var o=this;this.za=null,this.Pa=function(e){o.xa(e.h)},this.qa=null,this.Ba=function(e){pl(o,e.c)},this.$=null,this.aa=[],this.Oa=function(e){yl(o,e.f)},this.ja=null,this.S=new rl(this,n),Br(this,"multiFactor",this.S)}function pl(e,t){e.u=t,Xa(e.a,t),e.b&&(t=e.b,e.b=Mc(e.s,e.l,e.m,e.u),e.P&&(Oc(t,e),kc(e.b,e)))}function vl(e,t){e.qa&&rn(e.qa,"languageCodeChanged",e.Pa),(e.qa=t)&&en(t,"languageCodeChanged",e.Pa)}function gl(e,t){e.$&&rn(e.$,"emulatorConfigChanged",e.Ba),(e.$=t)&&en(t,"emulatorConfigChanged",e.Ba)}function yl(e,t){e.aa=t,Za(e.a,Da.SDK_VERSION?mr(Da.SDK_VERSION,e.aa):null)}function ml(e,t){e.ja&&rn(e.ja,"frameworkChanged",e.Oa),(e.ja=t)&&en(t,"frameworkChanged",e.Oa)}function bl(t){try{return Da.app(t.m).auth()}catch(e){throw new S("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+t.m+"'!")}}function _l(e){e.J||e.D.b||(e.D.start(),rn(e,"tokenChanged",e.ba),en(e,"tokenChanged",e.ba))}function wl(e){rn(e,"tokenChanged",e.ba),e.D.stop()}function El(e,t){e.Aa=t,Br(e,"_lat",t)}function Sl(e){for(var t=[],n=0;n<e.W.length;n++)t.push(e.W[n](e));return St(t).then((function(){return e}))}function Tl(e){e.b&&!e.P&&(e.P=!0,kc(e.b,e))}function Cl(e,t){Vr(e,{uid:t.uid,displayName:t.displayName||null,photoURL:t.photoURL||null,email:t.email||null,emailVerified:t.emailVerified||!1,phoneNumber:t.phoneNumber||null,isAnonymous:t.isAnonymous||!1,tenantId:t.tenantId||null,metadata:new hl(t.createdAt,t.lastLoginAt),providerData:[]}),e.a.b=e.tenantId}function Il(){}function kl(e){return _t().then((function(){if(e.J)throw new S("app-deleted")}))}function Ol(e){return V(e.providerData,(function(e){return e.providerId}))}function xl(e,t){t&&(Pl(e,t.providerId),e.providerData.push(t))}function Pl(e,t){K(e.providerData,(function(e){return e.providerId==t}))}function Nl(e,t,n){("uid"!=t||n)&&e.hasOwnProperty(t)&&Br(e,t,n)}function Al(e,t){var n,r;e!=t&&(Vr(e,{uid:t.uid,displayName:t.displayName,photoURL:t.photoURL,email:t.email,emailVerified:t.emailVerified,phoneNumber:t.phoneNumber,isAnonymous:t.isAnonymous,tenantId:t.tenantId,providerData:[]}),t.metadata?Br(e,"metadata",new hl((r=t.metadata).a,r.b)):Br(e,"metadata",new hl),q(t.providerData,(function(t){xl(e,t)})),n=e.h,r=t.h,n.b=r.b,n.a=r.a,n.c=r.c,Br(e,"refreshToken",e.h.a),il(e.S,t.S.b))}function Rl(e){return e.I().then((function(t){var n,r=e.isAnonymous;return Ys((n=e).a,ks,{idToken:t}).then(b(n.Kc,n)).then((function(){return r||Nl(e,"isAnonymous",!1),t}))}))}function Dl(e,t){t[Ha]&&e.Aa!=t[Ha]&&(cl(e.h,t),e.dispatchEvent(new nl("tokenChanged")),El(e,t[Ha]),Nl(e,"refreshToken",e.h.a))}function jl(e,t){return Rl(e).then((function(){if(z(Ol(e),t))return Sl(e).then((function(){throw new S("provider-already-linked")}))}))}function Ll(e,t,n){return Wr({user:e,credential:Po(t),additionalUserInfo:t=Bi(t),operationType:n})}function Ml(e,t){return Dl(e,t),e.reload().then((function(){return e}))}function Fl(e,t,n,r,i){if(!Er())return wt(new S("operation-not-supported-in-this-environment"));if(e.i&&!i)return wt(e.i);var o=qi(n.providerId),a=xr(e.uid+":::"),s=null,u=or(s=(!Cr()||lr())&&e.s&&n.isOAuthProvider?hu(e.s,e.l,e.m,t,n,null,a,Da.SDK_VERSION||null,null,null,e.tenantId,e.u):s,o&&o.va,o&&o.ua);return r=r().then((function(){if(ql(e),!i)return e.I().then((function(){}))})).then((function(){return Nc(e.b,u,t,n,a,!!s,e.tenantId)})).then((function(){return new dt((function(n,r){e.na(t,null,new S("cancelled-popup-request"),e.g||null),e.f=n,e.C=r,e.g=a,e.c=Dc(e.b,e,t,u,a)}))})).then((function(e){return u&&ir(u),e?Wr(e):null})).o((function(e){throw u&&ir(u),e})),Bl(e,r,i)}function Ul(e,t,n,r,i){if(!Er())return wt(new S("operation-not-supported-in-this-environment"));if(e.i&&!i)return wt(e.i);var o=null,a=xr(e.uid+":::");return r=r().then((function(){if(ql(e),!i)return e.I().then((function(){}))})).then((function(){return e.ga=a,Sl(e)})).then((function(t){return e.ha?(t=e.ha).b.set(zl,e.w(),t.a):t})).then((function(){return Rc(e.b,t,n,a,e.tenantId)})).o((function(t){if(o=t,e.ha)return Hl(e.ha);throw o})).then((function(){if(o)throw o})),Bl(e,r,i)}function ql(e){if(!e.b||!e.P){if(e.b&&!e.P)throw new S("internal-error");throw new S("auth-domain-config-required")}}function Bl(e,t,n){var r,i=(r=e).i&&!n?(t.cancel(),wt(r.i)):t.o((function(e){throw!e||"auth/user-disabled"!=e.code&&"auth/user-token-expired"!=e.code||(r.i||r.dispatchEvent(new nl("userInvalidated")),r.i=e),e}));return e.N.push(i),i.oa((function(){H(e.N,i)})),i.o((function(t){var n=null;throw(n=t&&"auth/multi-factor-auth-required"===t.code?Jc(t.w(),bl(e),b(e.jc,e)):n)||t}))}function Vl(e){if(!e.apiKey)return null;var t={apiKey:e.apiKey,authDomain:e.authDomain,appName:e.appName,emulatorConfig:e.emulatorConfig},n={};if(!e.stsTokenManager||!e.stsTokenManager.accessToken)return null;n[Ha]=e.stsTokenManager.accessToken,n.refreshToken=e.stsTokenManager.refreshToken||null;var r=e.stsTokenManager.expirationTime;r&&(n.expiresIn=(r-Date.now())/1e3);var i=new dl(t,n,e);return e.providerData&&q(e.providerData,(function(e){e&&xl(i,Wr(e))})),e.redirectEventId&&(i.ga=e.redirectEventId),i}function Wl(e){this.a=e,this.b=Qu()}Qc.prototype.Rc=function(e){var t=this;return e.tb(this.a.a,this.c).then((function(e){var n=le(t.f);return delete n[$c],delete n[Yc],fe(n,e),t.g(n)}))},w(Xc,S),Zc.prototype.tb=function(e,t,n){return t.type==Ji?(o=this,a=e,s=n,t.Ha().then((function(e){return e={idToken:e},void 0!==s&&(e.displayName=s),fe(e,{phoneVerificationInfo:ko(o.a)}),Ys(a,Cs,e)}))):(r=this,i=e,t.Ha().then((function(e){return fe(e={mfaPendingCredential:e},{phoneVerificationInfo:ko(r.a)}),Ys(i,Is,e)})));var r,i,o,a,s},w(el,Zc),w(tl,el),w(nl,Vt),(e=rl.prototype).yc=function(e){var t;il(this,(e=e.hd,t=[],q(e.mfaInfo||[],(function(e){(e=Kr(e))&&t.push(e)})),t))},e.Sb=function(){return this.a.I().then((function(e){return new Xi(e,null)}))},e.fc=function(e,t){var n=this,r=this.a.a;return this.Sb().then((function(n){return e.tb(r,n,t)})).then((function(e){return Dl(n.a,e),n.a.reload()}))},e.bd=function(e){var t=this,n="string"==typeof e?e:e.uid,r=this.a.a;return this.a.I().then((function(e){return Ys(r,$s,{idToken:e,mfaEnrollmentId:n})})).then((function(e){var r=B(t.b,(function(e){return e.uid!=n}));return il(t,r),Dl(t.a,e),t.a.reload().o((function(e){if("auth/user-token-expired"!=e.code)throw e}))}))},e.w=function(){return{multiFactor:{enrolledFactors:V(this.b,(function(e){return e.w()}))}}},ol.prototype.start=function(){this.a=this.c,function e(t,n){t.stop(),t.b=mn(al(t,n)).then(Dr).then((function(){return t.h()})).then((function(){e(t,!0)})).o((function(n){t.i(n)&&e(t,!1)}))}(this,!0)},ol.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)},sl.prototype.w=function(){return{apiKey:this.f.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:this.c}},sl.prototype.getToken=function(e){return e=!!e,this.b&&!this.a?wt(new S("user-token-expired")):e||!this.b||Date.now()>this.c-3e4?this.a?ll(this,{grant_type:"refresh_token",refresh_token:this.a}):_t(null):_t({accessToken:this.b.toString(),refreshToken:this.a})},hl.prototype.w=function(){return{lastLoginAt:this.b,createdAt:this.a}},w(dl,dn),dl.prototype.xa=function(e){this.za=e,Ya(this.a,e)},dl.prototype.la=function(){return this.za},dl.prototype.Ga=function(){return Q(this.aa)},dl.prototype.ib=function(){this.D.b&&(this.D.stop(),this.D.start())},Br(dl.prototype,"providerId","firebase"),(e=dl.prototype).reload=function(){var e=this;return Bl(this,kl(this).then((function(){return Rl(e).then((function(){return Sl(e)})).then(Il)})))},e.oc=function(e){return this.I(e).then((function(e){return new Gc(e)}))},e.I=function(e){var t=this;return Bl(this,kl(this).then((function(){return t.h.getToken(e)})).then((function(e){if(!e)throw new S("internal-error");return e.accessToken!=t.Aa&&(El(t,e.accessToken),t.dispatchEvent(new nl("tokenChanged"))),Nl(t,"refreshToken",e.refreshToken),e.accessToken})))},e.Kc=function(e){if(!(e=e.users)||!e.length)throw new S("internal-error");Cl(this,{uid:(e=e[0]).localId,displayName:e.displayName,photoURL:e.photoUrl,email:e.email,emailVerified:!!e.emailVerified,phoneNumber:e.phoneNumber,lastLoginAt:e.lastLoginAt,createdAt:e.createdAt,tenantId:e.tenantId});for(var t,n=(t=(t=e).providerUserInfo)&&t.length?V(t,(function(e){return new fl(e.rawId,e.providerId,e.email,e.displayName,e.photoUrl,e.phoneNumber)})):[],r=0;r<n.length;r++)xl(this,n[r]);Nl(this,"isAnonymous",!(this.email&&e.passwordHash||this.providerData&&this.providerData.length)),this.dispatchEvent(new nl("userReloaded",{hd:e}))},e.Lc=function(e){return Ur("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.ub(e)},e.ub=function(e){var t=this,n=null;return Bl(this,e.c(this.a,this.uid).then((function(e){return Dl(t,e),n=Ll(t,e,"reauthenticate"),t.i=null,t.reload()})).then((function(){return n})),!0)},e.Cc=function(e){return Ur("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.rb(e)},e.rb=function(e){var t=this,n=null;return Bl(this,jl(this,e.providerId).then((function(){return t.I()})).then((function(n){return e.b(t.a,n)})).then((function(e){return n=Ll(t,e,"link"),Ml(t,e)})).then((function(){return n})))},e.Dc=function(e,t){var n=this;return Bl(this,jl(this,"phone").then((function(){return Kc(bl(n),e,t,b(n.rb,n))})))},e.Mc=function(e,t){var n=this;return Bl(this,_t().then((function(){return Kc(bl(n),e,t,b(n.ub,n))})),!0)},e.Cb=function(e){var t=this;return Bl(this,this.I().then((function(n){return t.a.Cb(n,e)})).then((function(e){return Dl(t,e),t.reload()})))},e.ed=function(e){var t=this;return Bl(this,this.I().then((function(n){return e.b(t.a,n)})).then((function(e){return Dl(t,e),t.reload()})))},e.Db=function(e){var t=this;return Bl(this,this.I().then((function(n){return t.a.Db(n,e)})).then((function(e){return Dl(t,e),t.reload()})))},e.Eb=function(e){if(void 0===e.displayName&&void 0===e.photoURL)return kl(this);var t=this;return Bl(this,this.I().then((function(n){return t.a.Eb(n,{displayName:e.displayName,photoUrl:e.photoURL})})).then((function(e){return Dl(t,e),Nl(t,"displayName",e.displayName||null),Nl(t,"photoURL",e.photoUrl||null),q(t.providerData,(function(e){"password"===e.providerId&&(Br(e,"displayName",t.displayName),Br(e,"photoURL",t.photoURL))})),Sl(t)})).then(Il))},e.cd=function(e){var t=this;return Bl(this,Rl(this).then((function(n){return z(Ol(t),e)?Ys(t.a,Es,{idToken:n,deleteProvider:[e]}).then((function(e){var n={};return q(e.providerUserInfo||[],(function(e){n[e.providerId]=!0})),q(Ol(t),(function(e){n[e]||Pl(t,e)})),n[Oo.PROVIDER_ID]||Br(t,"phoneNumber",null),Sl(t)})):Sl(t).then((function(){throw new S("no-such-provider")}))})))},e.delete=function(){var e=this;return Bl(this,this.I().then((function(t){return Ys(e.a,ws,{idToken:t})})).then((function(){e.dispatchEvent(new nl("userDeleted"))}))).then((function(){for(var t=0;t<e.N.length;t++)e.N[t].cancel("app-deleted");vl(e,null),gl(e,null),ml(e,null),e.N=[],e.J=!0,wl(e),Br(e,"refreshToken",null),e.b&&Oc(e.b,e)}))},e.Gb=function(e,t){return!!("linkViaPopup"==e&&(this.g||null)==t&&this.f||"reauthViaPopup"==e&&(this.g||null)==t&&this.f||"linkViaRedirect"==e&&(this.ga||null)==t||"reauthViaRedirect"==e&&(this.ga||null)==t)},e.na=function(e,t,n,r){"linkViaPopup"!=e&&"reauthViaPopup"!=e||r!=(this.g||null)||(n&&this.C?this.C(n):t&&!n&&this.f&&this.f(t),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},e.Fa=function(e,t){return"linkViaPopup"==e&&t==(this.g||null)?b(this.Lb,this):"reauthViaPopup"==e&&t==(this.g||null)?b(this.Mb,this):"linkViaRedirect"==e&&(this.ga||null)==t?b(this.Lb,this):"reauthViaRedirect"==e&&(this.ga||null)==t?b(this.Mb,this):null},e.Ec=function(e){var t=this;return Fl(this,"linkViaPopup",e,(function(){return jl(t,e.providerId).then((function(){return Sl(t)}))}),!1)},e.Nc=function(e){return Fl(this,"reauthViaPopup",e,(function(){return _t()}),!0)},e.Fc=function(e){var t=this;return Ul(this,"linkViaRedirect",e,(function(){return jl(t,e.providerId)}),!1)},e.Oc=function(e){return Ul(this,"reauthViaRedirect",e,(function(){return _t()}),!0)},e.Lb=function(e,t,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return Bl(this,this.I().then((function(n){return ps(i.a,{requestUri:e,postBody:r,sessionId:t,idToken:n})})).then((function(e){return o=Ll(i,e,"link"),Ml(i,e)})).then((function(){return o})))},e.Mb=function(e,t,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return Bl(this,_t().then((function(){return to(vs(i.a,{requestUri:e,sessionId:t,postBody:r,tenantId:n}),i.uid)})).then((function(e){return o=Ll(i,e,"reauthenticate"),Dl(i,e),i.i=null,i.reload()})).then((function(){return o})),!0)},e.vb=function(e){var t=this,n=null;return Bl(this,this.I().then((function(t){return n=t,void 0===e||ce(e)?{}:Ni(new wi(e))})).then((function(e){return t.a.vb(n,e)})).then((function(e){if(t.email!=e)return t.reload()})).then((function(){})))},e.Fb=function(e,t){var n=this,r=null;return Bl(this,this.I().then((function(e){return r=e,void 0===t||ce(t)?{}:Ni(new wi(t))})).then((function(t){return n.a.Fb(r,e,t)})).then((function(e){if(n.email!=e)return n.reload()})).then((function(){})))},e.jc=function(e){var t=null,n=this;return Bl(this,e=to(_t(e),n.uid).then((function(e){return t=Ll(n,e,"reauthenticate"),Dl(n,e),n.i=null,n.reload()})).then((function(){return t})),!0)},e.toJSON=function(){return this.w()},e.w=function(){var e={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.s,stsTokenManager:this.h.w(),redirectEventId:this.ga||null};return this.metadata&&fe(e,this.metadata.w()),q(this.providerData,(function(t){e.providerData.push(function(e){var t,n={};for(t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}(t))})),fe(e,this.S.w()),e};var zl={name:"redirectUser",F:"session"};function Hl(e){return Xu(e.b,zl,e.a)}function Kl(e){var t,n,r,i;this.a=e,this.b=Qu(),this.c=null,this.f=(n=$l("local"),r=$l("session"),i=$l("none"),function(e,t,n){var r=Yu(t,n),i=$u(e,t.F);return e.get(t,n).then((function(o){var s=null;try{s=Or(a.localStorage.getItem(r))}catch(o){}if(s&&!o)return a.localStorage.removeItem(r),e.set(t,s,n);s&&o&&"localStorage"!=i.type&&a.localStorage.removeItem(r)}))}((t=this).b,n,t.a).then((function(){return t.b.get(r,t.a)})).then((function(e){return e?r:t.b.get(i,t.a).then((function(e){return e?i:t.b.get(n,t.a).then((function(e){return e?n:t.b.get(Ql,t.a).then((function(e){return e?$l(e):n}))}))}))})).then((function(e){return t.c=e,Gl(t,e.F)})).o((function(){t.c||(t.c=n)}))),this.b.addListener($l("local"),this.a,b(this.g,this))}function Gl(e,t){var n,r,i=[];for(n in Ku)Ku[n]!==t&&i.push(Xu(e.b,$l(Ku[n]),e.a));return i.push(Xu(e.b,Ql,e.a)),r=i,new dt((function(e,t){var n=r.length,i=[];if(n)for(var o=function(t,r){n--,i[t]=r,0==n&&e(i)},a=function(e){t(e)},s=0;s<r.length;s++)Et(r[s],_(o,s),a);else e(i)}))}Kl.prototype.g=function(){var e=this,t=$l("local");Zl(this,(function(){return _t().then((function(){return e.c&&"local"!=e.c.F?e.b.get(t,e.a):null})).then((function(n){if(n)return Gl(e,"local").then((function(){e.c=t}))}))}))};var Ql={name:"persistence",F:"session"};function $l(e){return{name:"authUser",F:e}}function Yl(e,t){return Zl(e,(function(){return e.b.set(e.c,t.w(),e.a)}))}function Xl(e){return Zl(e,(function(){return Xu(e.b,e.c,e.a)}))}function Jl(e,t,n){return Zl(e,(function(){return e.b.get(e.c,e.a).then((function(e){return e&&t&&(e.authDomain=t),e&&n&&(e.emulatorConfig=n),Vl(e||{})}))}))}function Zl(e,t){return e.f=e.f.then(t,t),e.f}function eh(e){if(this.l=!1,Br(this,"settings",new zc),Br(this,"app",e),!this.app.options||!this.app.options.apiKey)throw new S("invalid-api-key");var t,n,r,i,o,a;e=Da.SDK_VERSION?mr(Da.SDK_VERSION):null,this.a=new Wa(this.app.options&&this.app.options.apiKey,x(C),e),this.P=[],this.s=[],this.N=[],this.Pa=Da.INTERNAL.createSubscribe(b(this.zc,this)),this.W=void 0,this.ib=Da.INTERNAL.createSubscribe(b(this.Ac,this)),sh(this,null),this.i=new Kl(this.app.options.apiKey+":"+this.app.name),this.D=new Wl(this.app.options.apiKey+":"+this.app.name),this.$=fh(this,(n=(t=this).app.options.authDomain,e=function(e){var t=function(e,t){return e.b.get(zl,e.a).then((function(e){return e&&t&&(e.authDomain=t),Vl(e||{})}))}(e.D,e.app.options.authDomain).then((function(t){return(e.m=t)&&(t.ha=e.D),Hl(e.D)}));return fh(e,t)}(t).then((function(){return Jl(t.i,n,t.R)})).then((function(e){return e?(e.ha=t.D,t.m&&(t.m.ga||null)==(e.ga||null)?e:e.reload().then((function(){return Yl(t.i,e).then((function(){return e}))})).o((function(n){return"auth/network-request-failed"==n.code?e:Xl(t.i)}))):null})).then((function(e){sh(t,e||null)})),fh(t,e))),this.h=fh(this,(r=this).$.then((function(){return oh(r)})).o((function(){})).then((function(){if(!r.l)return r.ja()})).o((function(){})).then((function(){var e;r.l||(r.ba=!0,(e=r.i).b.addListener($l("local"),e.a,r.ja))}))),this.ba=!1,this.ja=b(this.Zc,this),this.Ba=b(this.da,this),this.qa=b(this.mc,this),this.za=b(this.wc,this),this.Aa=b(this.xc,this),this.b=null,o=(i=this).app.options.authDomain,a=i.app.options.apiKey,o&&Er()&&(i.Oa=i.$.then((function(){var e;if(!i.l)return i.b=Mc(o,a,i.app.name,i.R),kc(i.b,i),ch(i)&&Tl(ch(i)),i.m&&(Tl(i.m),(e=i.m).xa(i.la()),vl(e,i),yl(e=i.m,i.J),ml(e,i),pl(e=i.m,i.R),gl(e,i),i.m=null),i.b}))),this.INTERNAL={},this.INTERNAL.delete=b(this.delete,this),this.INTERNAL.logFramework=b(this.Gc,this),this.u=0,dn.call(this),e=this,Object.defineProperty(e,"lc",{get:function(){return this.la()},set:function(e){this.xa(e)},enumerable:!1}),e.aa=null,Object.defineProperty(e,"ti",{get:function(){return this.T()},set:function(e){this.zb(e)},enumerable:!1}),e.S=null,Object.defineProperty(e,"emulatorConfig",{get:function(){var e;return this.R?Wr({protocol:(e=Nn(this.R.url)).c,host:e.a,port:e.g,options:Wr({disableWarnings:this.R.ec})}):null},enumerable:!1}),this.J=[],this.R=null}function th(e){Vt.call(this,"languageCodeChanged"),this.h=e}function nh(e){Vt.call(this,"emulatorConfigChanged"),this.c=e}function rh(e){Vt.call(this,"frameworkChanged"),this.f=e}function ih(e){return e.Oa||wt(new S("auth-domain-config-required"))}function oh(e){if(!Er())return wt(new S("operation-not-supported-in-this-environment"));var t=ih(e).then((function(){return e.b.ra()})).then((function(e){return e?Wr(e):null}));return fh(e,t)}function ah(e,t){var n={};return n.apiKey=e.app.options.apiKey,n.authDomain=e.app.options.authDomain,n.appName=e.app.name,e.R&&(n.emulatorConfig=e.R),e.$.then((function(){return r=n,i=t,o=e.D,a=e.Ga(),s=new dl(r,i),o&&(s.ha=o),a&&yl(s,a),s.reload().then((function(){return s}));var r,i,o,a,s})).then((function(t){return ch(e)&&t.uid==ch(e).uid?Al(ch(e),t):(sh(e,t),Tl(t)),e.da(t)})).then((function(){hh(e)}))}function sh(e,t){var n,r;ch(e)&&(n=ch(e),r=e.Ba,K(n.W,(function(e){return e==r})),rn(ch(e),"tokenChanged",e.qa),rn(ch(e),"userDeleted",e.za),rn(ch(e),"userInvalidated",e.Aa),wl(ch(e))),t&&(t.W.push(e.Ba),en(t,"tokenChanged",e.qa),en(t,"userDeleted",e.za),en(t,"userInvalidated",e.Aa),0<e.u&&_l(t)),Br(e,"currentUser",t),t&&(t.xa(e.la()),vl(t,e),yl(t,e.J),ml(t,e),pl(t,e.R),gl(t,e))}function uh(e,t){var n=null,r=null;return fh(e,t.then((function(t){return n=Po(t),r=Bi(t),ah(e,t)}),(function(t){var n=null;throw(n=t&&"auth/multi-factor-auth-required"===t.code?Jc(t.w(),e,b(e.kc,e)):n)||t})).then((function(){return Wr({user:ch(e),credential:n,additionalUserInfo:r,operationType:"signIn"})})))}function ch(e){return e.currentUser}function lh(e){return ch(e)&&ch(e)._lat||null}function hh(e){if(e.ba){for(var t=0;t<e.s.length;t++)e.s[t]&&e.s[t](lh(e));if(e.W!==e.getUid()&&e.N.length)for(e.W=e.getUid(),t=0;t<e.N.length;t++)e.N[t]&&e.N[t](lh(e))}}function fh(e,t){return e.P.push(t),t.oa((function(){H(e.P,t)})),t}function dh(){}function ph(){this.a={},this.b=1e12}Kl.prototype.yb=function(e){var t=null,n=this;return function(e){var t=new S("invalid-persistence-type"),n=new S("unsupported-persistence-type");e:{for(r in Ku)if(Ku[r]==e){var r=!0;break e}r=!1}if(!r||"string"!=typeof e)throw t;switch(fr()){case"ReactNative":if("session"===e)throw n;break;case"Node":if("none"!==e)throw n;break;case"Worker":if("session"===e||!Cu()&&"none"!==e)throw n;break;default:if(!wr()&&"none"!==e)throw n}}(e),Zl(this,(function(){return e!=n.c.F?n.b.get(n.c,n.a).then((function(r){return t=r,Gl(n,e)})).then((function(){if(n.c=$l(e),t)return n.b.set(n.c,t,n.a)})):_t()}))},w(eh,dn),w(th,Vt),w(nh,Vt),w(rh,Vt),(e=eh.prototype).yb=function(e){return fh(this,e=this.i.yb(e))},e.xa=function(e){this.aa===e||this.l||(this.aa=e,Ya(this.a,this.aa),this.dispatchEvent(new th(this.la())))},e.la=function(){return this.aa},e.fd=function(){var e=a.navigator;this.xa(e&&(e.languages&&e.languages[0]||e.language||e.userLanguage)||null)},e.gd=function(e,t){if(!this.R){if(!/^https?:\/\//.test(e))throw new S("argument-error","Emulator URL must start with a valid scheme (http:// or https://).");n=t=!!t&&!!t.disableWarnings,"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),a.document&&!n&&ur().then((function(){var e=a.document.createElement("div");e.innerText="Running in emulator mode. Do not use with production credentials.",e.style.position="fixed",e.style.width="100%",e.style.backgroundColor="#ffffff",e.style.border=".1em solid #000000",e.style.color="#b50000",e.style.bottom="0px",e.style.left="0px",e.style.margin="0px",e.style.zIndex=1e4,e.style.textAlign="center",e.classList.add("firebase-emulator-warning"),a.document.body.appendChild(e)})),this.R={url:e,ec:t},this.settings.jb=!0,Xa(this.a,this.R),this.dispatchEvent(new nh(this.R))}var n},e.Gc=function(e){this.J.push(e),Za(this.a,Da.SDK_VERSION?mr(Da.SDK_VERSION,this.J):null),this.dispatchEvent(new rh(this.J))},e.Ga=function(){return Q(this.J)},e.zb=function(e){this.S===e||this.l||(this.S=e,this.a.b=this.S)},e.T=function(){return this.S},e.toJSON=function(){return{apiKey:this.app.options.apiKey,authDomain:this.app.options.authDomain,appName:this.app.name,currentUser:ch(this)&&ch(this).w()}},e.Gb=function(e,t){switch(e){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==t&&!!this.f;default:return!1}},e.na=function(e,t,n,r){"signInViaPopup"==e&&this.g==r&&(n&&this.C?this.C(n):t&&!n&&this.f&&this.f(t),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},e.Fa=function(e,t){return"signInViaRedirect"==e||"signInViaPopup"==e&&this.g==t&&this.f?b(this.ic,this):null},e.ic=function(e,t,n,r){var i=this,o={requestUri:e,postBody:r,sessionId:t,tenantId:n};return this.c&&(this.c.cancel(),this.c=null),i.$.then((function(){return uh(i,ds(i.a,o))}))},e.Xc=function(e){if(!Er())return wt(new S("operation-not-supported-in-this-environment"));var t=this,n=qi(e.providerId),r=xr(),i=null,o=or(i=(!Cr()||lr())&&this.app.options.authDomain&&e.isOAuthProvider?hu(this.app.options.authDomain,this.app.options.apiKey,this.app.name,"signInViaPopup",e,null,r,Da.SDK_VERSION||null,null,null,this.T(),this.R):i,n&&n.va,n&&n.ua);return fh(this,n=ih(this).then((function(n){return Nc(n,o,"signInViaPopup",e,r,!!i,t.T())})).then((function(){return new dt((function(e,n){t.na("signInViaPopup",null,new S("cancelled-popup-request"),t.g),t.f=e,t.C=n,t.g=r,t.c=Dc(t.b,t,"signInViaPopup",o,r)}))})).then((function(e){return o&&ir(o),e?Wr(e):null})).o((function(e){throw o&&ir(o),e})))},e.Yc=function(e){if(!Er())return wt(new S("operation-not-supported-in-this-environment"));var t=this;return fh(this,ih(this).then((function(){return Zl(e=t.i,(function(){return e.b.set(Ql,e.c.F,e.a)}));var e})).then((function(){return Rc(t.b,"signInViaRedirect",e,void 0,t.T())})))},e.ra=function(){var e=this;return oh(this).then((function(t){return e.b&&qc(e.b.b),t})).o((function(t){throw e.b&&qc(e.b.b),t}))},e.dd=function(e){if(!e)return wt(new S("null-user"));if(this.S!=e.tenantId)return wt(new S("tenant-id-mismatch"));var t=this,n={};n.apiKey=this.app.options.apiKey,n.authDomain=this.app.options.authDomain,n.appName=this.app.name;var r,i,o,a,s,u=(r=e,i=n,o=t.D,a=t.Ga(),s=r.h,(n={})[Ha]=s.b&&s.b.toString(),n.refreshToken=s.a,i=new dl(i||{apiKey:r.l,authDomain:r.s,appName:r.m},n),o&&(i.ha=o),a&&yl(i,a),Al(i,r),i);return fh(this,this.h.then((function(){if(t.app.options.apiKey!=e.l)return u.reload()})).then((function(){return ch(t)&&e.uid==ch(t).uid?(Al(ch(t),e),t.da(e)):(sh(t,u),Tl(u),t.da(u))})).then((function(){hh(t)})))},e.Bb=function(){var e=this;return fh(this,this.h.then((function(){return e.b&&qc(e.b.b),ch(e)?(sh(e,null),Xl(e.i).then((function(){hh(e)}))):_t()})))},e.Zc=function(){var e=this;return Jl(this.i,this.app.options.authDomain).then((function(t){if(!e.l){var n,r;if((n=ch(e)&&t)&&(n=ch(e).uid,r=t.uid,n=null!=n&&""!==n&&null!=r&&""!==r&&n==r),n)return Al(ch(e),t),ch(e).I();(ch(e)||t)&&(sh(e,t),t&&(Tl(t),t.ha=e.D),e.b&&kc(e.b,e),hh(e))}}))},e.da=function(e){return Yl(this.i,e)},e.mc=function(){hh(this),this.da(ch(this))},e.wc=function(){this.Bb()},e.xc=function(){this.Bb()},e.kc=function(e){var t=this;return this.h.then((function(){return uh(t,_t(e))}))},e.zc=function(e){var t=this;this.addAuthTokenListener((function(){e.next(ch(t))}))},e.Ac=function(e){var t,n,r=this;n=function(){e.next(ch(r))},(t=this).N.push(n),fh(t,t.h.then((function(){!t.l&&z(t.N,n)&&t.W!==t.getUid()&&(t.W=t.getUid(),n(lh(t)))})))},e.Ic=function(e,t,n){var r=this;return this.ba&&Promise.resolve().then((function(){"function"==typeof e?e(ch(r)):"function"==typeof e.next&&e.next(ch(r))})),this.Pa(e,t,n)},e.Hc=function(e,t,n){var r=this;return this.ba&&Promise.resolve().then((function(){r.W=r.getUid(),"function"==typeof e?e(ch(r)):"function"==typeof e.next&&e.next(ch(r))})),this.ib(e,t,n)},e.nc=function(e){var t=this;return fh(this,this.h.then((function(){return ch(t)?ch(t).I(e).then((function(e){return{accessToken:e}})):null})))},e.Tc=function(e){var t=this;return this.h.then((function(){return uh(t,Ys(t.a,zs,{token:e}))})).then((function(e){var n=e.user;return Nl(n,"isAnonymous",!1),t.da(n),e}))},e.Uc=function(e,t){var n=this;return this.h.then((function(){return uh(n,Ys(n.a,Hs,{email:e,password:t}))}))},e.dc=function(e,t){var n=this;return this.h.then((function(){return uh(n,Ys(n.a,bs,{email:e,password:t}))}))},e.ab=function(e){var t=this;return this.h.then((function(){return uh(t,e.ka(t.a))}))},e.Sc=function(e){return Ur("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.ab(e)},e.Ab=function(){var e=this;return this.h.then((function(){var t=ch(e);if(t&&t.isAnonymous){var n=Wr({providerId:null,isNewUser:!1});return Wr({user:t,credential:null,additionalUserInfo:n,operationType:"signIn"})}return uh(e,e.a.Ab()).then((function(t){var n=t.user;return Nl(n,"isAnonymous",!0),e.da(n),t}))}))},e.getUid=function(){return ch(this)&&ch(this).uid||null},e.cc=function(e){this.addAuthTokenListener(e),this.u++,0<this.u&&ch(this)&&_l(ch(this))},e.Pc=function(e){var t=this;q(this.s,(function(n){n==e&&t.u--})),this.u<0&&(this.u=0),0==this.u&&ch(this)&&wl(ch(this)),this.removeAuthTokenListener(e)},e.addAuthTokenListener=function(e){var t=this;this.s.push(e),fh(this,this.h.then((function(){t.l||z(t.s,e)&&e(lh(t))})))},e.removeAuthTokenListener=function(e){K(this.s,(function(t){return t==e}))},e.delete=function(){this.l=!0;for(var e=0;e<this.P.length;e++)this.P[e].cancel("app-deleted");return this.P=[],this.i&&(e=this.i).b.removeListener($l("local"),e.a,this.ja),this.b&&(Oc(this.b,this),qc(this.b.b)),Promise.resolve()},e.hc=function(e){return fh(this,Ys(this.a,_s,{identifier:e,continueUri:Sr()?tr():"http://localhost"}).then((function(e){return e.signinMethods||[]})))},e.Bc=function(e){return!!To(e)},e.xb=function(e,t){var n=this;return fh(this,_t().then((function(){var e=new wi(t);if(!e.c)throw new S("argument-error",Ti+" must be true when sending sign in link to email");return Ni(e)})).then((function(t){return n.a.xb(e,t)})).then((function(){})))},e.jd=function(e){return this.Sa(e).then((function(e){return e.data.email}))},e.ob=function(e,t){return fh(this,this.a.ob(e,t).then((function(){})))},e.Sa=function(e){return fh(this,this.a.Sa(e).then((function(e){return new Jr(e)})))},e.kb=function(e){return fh(this,this.a.kb(e).then((function(){})))},e.wb=function(e,t){var n=this;return fh(this,_t().then((function(){return void 0===t||ce(t)?{}:Ni(new wi(t))})).then((function(t){return n.a.wb(e,t)})).then((function(){})))},e.Wc=function(e,t){return fh(this,Kc(this,e,t,b(this.ab,this)))},e.Vc=function(e,t){var n=this;return fh(this,_t().then((function(){var r=t||tr(),i=So(e,r);if(!(r=To(r)))throw new S("argument-error","Invalid email link!");if(r.tenantId!==n.T())throw new S("tenant-id-mismatch");return n.ab(i)})))},dh.prototype.render=function(){},dh.prototype.reset=function(){},dh.prototype.getResponse=function(){},dh.prototype.execute=function(){};var vh=null;function gh(e,t){return(t=yh(t))&&e.a[t]||null}function yh(e){return(e=void 0===e?1e12:e)?e.toString():null}function mh(e,t){this.g=!1,this.c=t,this.a=this.b=null,this.h="invisible"!==this.c.size,this.f=tt(e);var n=this;this.i=function(){n.execute()},this.h?this.execute():en(this.f,"click",this.i)}function bh(e){if(e.g)throw Error("reCAPTCHA mock was already deleted!")}function _h(){}function wh(){}ph.prototype.render=function(e,t){return this.a[this.b.toString()]=new mh(e,t),this.b++},ph.prototype.reset=function(e){var t=gh(this,e);e=yh(e),t&&e&&(t.delete(),delete this.a[e])},ph.prototype.getResponse=function(e){return(e=gh(this,e))?e.getResponse():null},ph.prototype.execute=function(e){(e=gh(this,e))&&e.execute()},mh.prototype.getResponse=function(){return bh(this),this.b},mh.prototype.execute=function(){bh(this);var e=this;this.a||(this.a=setTimeout((function(){e.b=function(){for(var e=50,t=[];0<e;)t.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),e--;return t.join("")}();var t=e.c.callback,n=e.c["expired-callback"];if(t)try{t(e.b)}catch(t){}e.a=setTimeout((function(){if(e.a=null,e.b=null,n)try{n()}catch(t){}e.h&&e.execute()}),6e4)}),500))},mh.prototype.delete=function(){bh(this),this.g=!0,clearTimeout(this.a),this.a=null,rn(this.f,"click",this.i)},Br(_h,"FACTOR_ID","phone"),wh.prototype.g=function(){return _t(vh=vh||new ph)},wh.prototype.c=function(){};var Eh=null;function Sh(){this.b=a.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var Th=new pe(me,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),Ch=new Ar(3e4,6e4);Sh.prototype.g=function(e){var t=this;return new dt((function(n,r){var i=setTimeout((function(){r(new S("network-request-failed"))}),Ch.get());!a.grecaptcha||e!==t.f&&!t.b?(a[t.a]=function(){var o;a.grecaptcha?(t.f=e,o=a.grecaptcha.render,a.grecaptcha.render=function(e,n){return e=o(e,n),t.b++,e},clearTimeout(i),n(a.grecaptcha)):(clearTimeout(i),r(new S("internal-error"))),delete a[t.a]},_t(La(Ee(Th,{onload:t.a,hl:e||""}))).o((function(){clearTimeout(i),r(new S("internal-error","Unable to load external reCAPTCHA dependencies!"))}))):(clearTimeout(i),n(a.grecaptcha))}))},Sh.prototype.c=function(){this.b--};var Ih=null;function kh(e,t,n,r,i,o,s){if(Br(this,"type","recaptcha"),this.c=this.f=null,this.J=!1,this.v=t,this.g=null,s=s?Eh=Eh||new wh:Ih=Ih||new Sh,this.m=s,this.a=n||{theme:"light",type:"image"},this.h=[],this.a[Ph])throw new S("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i="invisible"===this.a[Nh],!a.document)throw new S("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!tt(t)||!this.i&&tt(t).hasChildNodes())throw new S("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.s=new Wa(e,o||null,i||null),this.u=r||function(){return null};var u=this;this.l=[];var c=this.a[Oh];this.a[Oh]=function(e){var t;Ah(u,e),"function"==typeof c?c(e):"string"!=typeof c||"function"==typeof(t=_r(c,a))&&t(e)};var l=this.a[xh];this.a[xh]=function(){var e;Ah(u,null),"function"==typeof l?l():"string"!=typeof l||"function"==typeof(e=_r(l,a))&&e()}}var Oh="callback",xh="expired-callback",Ph="sitekey",Nh="size";function Ah(e,t){for(var n=0;n<e.l.length;n++)try{e.l[n](t)}catch(e){}}function Rh(e,t){return e.h.push(t),t.oa((function(){H(e.h,t)})),t}function Dh(e){if(e.J)throw new S("internal-error","RecaptchaVerifier instance has been destroyed.")}function jh(e,t,n){var r=!1;try{this.b=n||Da.app()}catch(e){throw new S("argument-error","No firebase.app.App instance is currently initialized.")}if(!this.b.options||!this.b.options.apiKey)throw new S("invalid-api-key");n=this.b.options.apiKey;var i=this,o=null;try{o=this.b.auth().Ga()}catch(e){}try{r=this.b.auth().settings.appVerificationDisabledForTesting}catch(e){}o=Da.SDK_VERSION?mr(Da.SDK_VERSION,o):null,kh.call(this,n,e,t,(function(){try{var t=i.b.auth().la()}catch(e){t=null}return t}),o,x(C),r)}function Lh(e,t,n,r){e:{n=Array.prototype.slice.call(n);for(var i=0,o=!1,a=0;a<t.length;a++)if(t[a].optional)o=!0;else{if(o)throw new S("internal-error","Argument validator encountered a required argument after an optional argument.");i++}if(o=t.length,n.length<i||o<n.length)r="Expected "+(i==o?1==i?"1 argument":i+" arguments":i+"-"+o+" arguments")+" but got "+n.length+".";else{for(i=0;i<n.length;i++)if(o=t[i].optional&&void 0===n[i],!t[i].M(n[i])&&!o){if(t=t[i],i<0||i>=Mh.length)throw new S("internal-error","Argument validator received an unsupported number of arguments.");n=Mh[i],r=(r?"":n+" argument ")+(t.name?'"'+t.name+'" ':"")+"must be "+t.K+".";break e}r=null}}if(r)throw new S("argument-error",e+" failed: "+r)}(e=kh.prototype).Ia=function(){var e=this;return this.f||(this.f=Rh(this,_t().then((function(){if(Sr()&&!hr())return ur();throw new S("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")})).then((function(){return e.m.g(e.u())})).then((function(t){return e.g=t,Ys(e.s,Rs,{})})).then((function(t){e.a[Ph]=t.recaptchaSiteKey})).o((function(t){throw e.f=null,t}))))},e.render=function(){Dh(this);var e=this;return Rh(this,this.Ia().then((function(){var t,n;return null===e.c&&(n=e.v,e.i||(t=tt(n),n=at("DIV"),t.appendChild(n)),e.c=e.g.render(n,e.a)),e.c})))},e.verify=function(){Dh(this);var e=this;return Rh(this,this.render().then((function(t){return new dt((function(n){var r,i=e.g.getResponse(t);i?n(i):(e.l.push(r=function(t){var i;t&&(i=r,K(e.l,(function(e){return e==i})),n(t))}),e.i&&e.g.execute(e.c))}))})))},e.reset=function(){Dh(this),null!==this.c&&this.g.reset(this.c)},e.clear=function(){Dh(this),this.J=!0,this.m.c();for(var e,t=0;t<this.h.length;t++)this.h[t].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i)for(t=tt(this.v);e=t.firstChild;)t.removeChild(e)},w(jh,kh);var Mh="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function Fh(e,t){return{name:e||"",K:"a valid string",optional:!!t,M:function(e){return"string"==typeof e}}}function Uh(e,t){return{name:e||"",K:"a boolean",optional:!!t,M:function(e){return"boolean"==typeof e}}}function qh(e,t){return{name:e||"",K:"a valid object",optional:!!t,M:p}}function Bh(e,t){return{name:e||"",K:"a function",optional:!!t,M:function(e){return"function"==typeof e}}}function Vh(e,t){return{name:e||"",K:"null",optional:!!t,M:function(e){return null===e}}}function Wh(e){return{name:e?e+"Credential":"credential",K:e?"a valid "+e+" credential":"a valid credential",optional:!1,M:function(t){if(!t)return!1;var n=!e||t.providerId===e;return!(!t.ka||!n)}}}function zh(){return{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(e){return!!e&&!!e.tb}}}function Hh(){return{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}}function Kh(e,t){return p(e)&&"string"==typeof e.type&&e.type===t&&"function"==typeof e.Ha}function Gh(e){return p(e)&&"string"==typeof e.uid}function Qh(){return{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(e){return!(!e||"string"!=typeof e.type||"function"!=typeof e.verify)}}}function $h(e,t,n,r){return{name:n||"",K:e.K+" or "+t.K,optional:!!r,M:function(n){return e.M(n)||t.M(n)}}}function Yh(e,t){for(var n in t){var r=t[n].name;e[r]=Zh(r,e[n],t[n].j)}}function Xh(e,t){for(var n in t){var r=t[n].name;r!==n&&Object.defineProperty(e,r,{get:_((function(e){return this[e]}),n),set:_((function(e,t,n,r){Lh(e,[n],[r],!0),this[t]=r}),r,n,t[n].lb),enumerable:!0})}}function Jh(e,t,n,r){e[t]=Zh(t,n,r)}function Zh(e,t,n){function r(){var e=Array.prototype.slice.call(arguments);return Lh(o,n,e),t.apply(this,e)}if(!n)return t;var i,o=(e=e.split("."))[e.length-1];for(i in t)r[i]=t[i];for(i in t.prototype)r.prototype[i]=t.prototype[i];return r}Yh(eh.prototype,{kb:{name:"applyActionCode",j:[Fh("code")]},Sa:{name:"checkActionCode",j:[Fh("code")]},ob:{name:"confirmPasswordReset",j:[Fh("code"),Fh("newPassword")]},dc:{name:"createUserWithEmailAndPassword",j:[Fh("email"),Fh("password")]},hc:{name:"fetchSignInMethodsForEmail",j:[Fh("email")]},ra:{name:"getRedirectResult",j:[]},Bc:{name:"isSignInWithEmailLink",j:[Fh("emailLink")]},Hc:{name:"onAuthStateChanged",j:[$h(qh(),Bh(),"nextOrObserver"),Bh("opt_error",!0),Bh("opt_completed",!0)]},Ic:{name:"onIdTokenChanged",j:[$h(qh(),Bh(),"nextOrObserver"),Bh("opt_error",!0),Bh("opt_completed",!0)]},wb:{name:"sendPasswordResetEmail",j:[Fh("email"),$h(qh("opt_actionCodeSettings",!0),Vh(null,!0),"opt_actionCodeSettings",!0)]},xb:{name:"sendSignInLinkToEmail",j:[Fh("email"),qh("actionCodeSettings")]},yb:{name:"setPersistence",j:[Fh("persistence")]},Sc:{name:"signInAndRetrieveDataWithCredential",j:[Wh()]},Ab:{name:"signInAnonymously",j:[]},ab:{name:"signInWithCredential",j:[Wh()]},Tc:{name:"signInWithCustomToken",j:[Fh("token")]},Uc:{name:"signInWithEmailAndPassword",j:[Fh("email"),Fh("password")]},Vc:{name:"signInWithEmailLink",j:[Fh("email"),Fh("emailLink",!0)]},Wc:{name:"signInWithPhoneNumber",j:[Fh("phoneNumber"),Qh()]},Xc:{name:"signInWithPopup",j:[Hh()]},Yc:{name:"signInWithRedirect",j:[Hh()]},dd:{name:"updateCurrentUser",j:[$h({name:"user",K:"an instance of Firebase User",optional:!1,M:function(e){return!!(e&&e instanceof dl)}},Vh(),"user")]},Bb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[Fh(null,!0)]},fd:{name:"useDeviceLanguage",j:[]},gd:{name:"useEmulator",j:[Fh("url"),qh("options",!0)]},jd:{name:"verifyPasswordResetCode",j:[Fh("code")]}}),Xh(eh.prototype,{lc:{name:"languageCode",lb:$h(Fh(),Vh(),"languageCode")},ti:{name:"tenantId",lb:$h(Fh(),Vh(),"tenantId")}}),(eh.Persistence=Ku).LOCAL="local",eh.Persistence.SESSION="session",eh.Persistence.NONE="none",Yh(dl.prototype,{delete:{name:"delete",j:[]},oc:{name:"getIdTokenResult",j:[Uh("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[Uh("opt_forceRefresh",!0)]},Cc:{name:"linkAndRetrieveDataWithCredential",j:[Wh()]},rb:{name:"linkWithCredential",j:[Wh()]},Dc:{name:"linkWithPhoneNumber",j:[Fh("phoneNumber"),Qh()]},Ec:{name:"linkWithPopup",j:[Hh()]},Fc:{name:"linkWithRedirect",j:[Hh()]},Lc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[Wh()]},ub:{name:"reauthenticateWithCredential",j:[Wh()]},Mc:{name:"reauthenticateWithPhoneNumber",j:[Fh("phoneNumber"),Qh()]},Nc:{name:"reauthenticateWithPopup",j:[Hh()]},Oc:{name:"reauthenticateWithRedirect",j:[Hh()]},reload:{name:"reload",j:[]},vb:{name:"sendEmailVerification",j:[$h(qh("opt_actionCodeSettings",!0),Vh(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[Fh(null,!0)]},cd:{name:"unlink",j:[Fh("provider")]},Cb:{name:"updateEmail",j:[Fh("email")]},Db:{name:"updatePassword",j:[Fh("password")]},ed:{name:"updatePhoneNumber",j:[Wh("phone")]},Eb:{name:"updateProfile",j:[qh("profile")]},Fb:{name:"verifyBeforeUpdateEmail",j:[Fh("email"),$h(qh("opt_actionCodeSettings",!0),Vh(null,!0),"opt_actionCodeSettings",!0)]}}),Yh(ph.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Yh(dh.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Yh(dt.prototype,{oa:{name:"finally"},o:{name:"catch"},then:{name:"then"}}),Xh(zc.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",lb:Uh("appVerificationDisabledForTesting")}}),Yh(Hc.prototype,{confirm:{name:"confirm",j:[Fh("verificationCode")]}}),Jh(eo,"fromJSON",(function(e){e="string"==typeof e?JSON.parse(e):e;for(var t,n=[so,wo,Io,io],r=0;r<n.length;r++)if(t=n[r](e))return t;return null}),[$h(Fh(),qh(),"json")]),Jh(Eo,"credential",(function(e,t){return new _o(e,t)}),[Fh("email"),Fh("password")]),Yh(_o.prototype,{w:{name:"toJSON",j:[Fh(null,!0)]}}),Yh(ho.prototype,{Ca:{name:"addScope",j:[Fh("scope")]},Ka:{name:"setCustomParameters",j:[qh("customOAuthParameters")]}}),Jh(ho,"credential",fo,[$h(Fh(),qh(),"token")]),Jh(Eo,"credentialWithLink",So,[Fh("email"),Fh("emailLink")]),Yh(po.prototype,{Ca:{name:"addScope",j:[Fh("scope")]},Ka:{name:"setCustomParameters",j:[qh("customOAuthParameters")]}}),Jh(po,"credential",vo,[$h(Fh(),qh(),"token")]),Yh(go.prototype,{Ca:{name:"addScope",j:[Fh("scope")]},Ka:{name:"setCustomParameters",j:[qh("customOAuthParameters")]}}),Jh(go,"credential",yo,[$h(Fh(),$h(qh(),Vh()),"idToken"),$h(Fh(),Vh(),"accessToken",!0)]),Yh(mo.prototype,{Ka:{name:"setCustomParameters",j:[qh("customOAuthParameters")]}}),Jh(mo,"credential",bo,[$h(Fh(),qh(),"token"),Fh("secret",!0)]),Yh(lo.prototype,{Ca:{name:"addScope",j:[Fh("scope")]},credential:{name:"credential",j:[$h(Fh(),$h(qh(),Vh()),"optionsOrIdToken"),$h(Fh(),Vh(),"accessToken",!0)]},Ka:{name:"setCustomParameters",j:[qh("customOAuthParameters")]}}),Yh(oo.prototype,{w:{name:"toJSON",j:[Fh(null,!0)]}}),Yh(no.prototype,{w:{name:"toJSON",j:[Fh(null,!0)]}}),Jh(Oo,"credential",xo,[Fh("verificationId"),Fh("verificationCode")]),Yh(Oo.prototype,{gb:{name:"verifyPhoneNumber",j:[$h(Fh(),{name:"phoneInfoOptions",K:"valid phone info options",optional:!1,M:function(e){return!!e&&(e.session&&e.phoneNumber?Kh(e.session,Ji)&&"string"==typeof e.phoneNumber:e.session&&e.multiFactorHint?Kh(e.session,Zi)&&Gh(e.multiFactorHint):e.session&&e.multiFactorUid?Kh(e.session,Zi)&&"string"==typeof e.multiFactorUid:!!e.phoneNumber&&"string"==typeof e.phoneNumber)}},"phoneInfoOptions"),Qh()]}}),Yh(Co.prototype,{w:{name:"toJSON",j:[Fh(null,!0)]}}),Yh(S.prototype,{toJSON:{name:"toJSON",j:[Fh(null,!0)]}}),Yh(Fo.prototype,{toJSON:{name:"toJSON",j:[Fh(null,!0)]}}),Yh(Mo.prototype,{toJSON:{name:"toJSON",j:[Fh(null,!0)]}}),Yh(Xc.prototype,{toJSON:{name:"toJSON",j:[Fh(null,!0)]}}),Yh(Qc.prototype,{Rc:{name:"resolveSignIn",j:[zh()]}}),Yh(rl.prototype,{Sb:{name:"getSession",j:[]},fc:{name:"enroll",j:[zh(),Fh("displayName",!0)]},bd:{name:"unenroll",j:[$h({name:"multiFactorInfo",K:"a valid multiFactorInfo",optional:!1,M:Gh},Fh(),"multiFactorInfoIdentifier")]}}),Yh(jh.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),Jh(fi,"parseLink",_i,[Fh("link")]),Jh(_h,"assertion",(function(e){return new tl(e)}),[Wh("phone")]),function(){if(void 0===Da||!Da.INTERNAL||!Da.INTERNAL.registerComponent)throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var e={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:ei,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:Zr,VERIFY_AND_CHANGE_EMAIL:ti,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:eh,AuthCredential:eo,Error:S};Jh(e,"EmailAuthProvider",Eo,[]),Jh(e,"FacebookAuthProvider",ho,[]),Jh(e,"GithubAuthProvider",po,[]),Jh(e,"GoogleAuthProvider",go,[]),Jh(e,"TwitterAuthProvider",mo,[]),Jh(e,"OAuthProvider",lo,[Fh("providerId")]),Jh(e,"SAMLAuthProvider",co,[Fh("providerId")]),Jh(e,"PhoneAuthProvider",Oo,[{name:"auth",K:"an instance of Firebase Auth",optional:!0,M:function(e){return!!(e&&e instanceof eh)}}]),Jh(e,"RecaptchaVerifier",jh,[$h(Fh(),{name:"",K:"an HTML element",optional:!1,M:function(e){return!!(e&&e instanceof Element)}},"recaptchaContainer"),qh("recaptchaParameters",!0),{name:"app",K:"an instance of Firebase App",optional:!0,M:function(e){return!!(e&&e instanceof Da.app.App)}}]),Jh(e,"ActionCodeURL",fi,[]),Jh(e,"PhoneMultiFactorGenerator",_h,[]),Da.INTERNAL.registerComponent({name:"auth",instanceFactory:function(e){return new eh(e=e.getProvider("app").getImmediate())},multipleInstances:!1,serviceProps:e,instantiationMode:"LAZY",type:"PUBLIC",onInstanceCreated:function(e){e.getProvider("auth-internal").initialize()}}),Da.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(e){return{getUid:b((e=e.getProvider("auth").getImmediate()).getUid,e),getToken:b(e.nc,e),addAuthTokenListener:b(e.cc,e),removeAuthTokenListener:b(e.Pc,e)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),Da.registerVersion("@firebase/auth","0.16.8"),Da.INTERNAL.extendNamespace({User:dl})}()}.apply("undefined"!=typeof t?t:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});var ja="";function La(e){ja=e}var Ma=(Fa.prototype.set=function(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Ro(t))},Fa.prototype.get=function(e){return null==(e=this.domStorage_.getItem(this.prefixedName_(e)))?null:Ao(e)},Fa.prototype.remove=function(e){this.domStorage_.removeItem(this.prefixedName_(e))},Fa.prototype.prefixedName_=function(e){return this.prefix_+e},Fa.prototype.toString=function(){return this.domStorage_.toString()},Fa);function Fa(e){this.domStorage_=e,this.prefix_="firebase:"}var Ua=(qa.prototype.set=function(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t},qa.prototype.get=function(e){return jo(this.cache_,e)?this.cache_[e]:null},qa.prototype.remove=function(e){delete this.cache_[e]},qa);function qa(){this.cache_={},this.isInMemoryStorage=!0}function Ba(e){var t=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i,o=e.charCodeAt(r);55296<=o&&o<=56319&&(i=o-55296,ao(++r<e.length,"Surrogate pair missing trail surrogate."),o=65536+(i<<10)+(e.charCodeAt(r)-56320)),o<128?t[n++]=o:(o<2048?t[n++]=o>>6|192:(o<65536?t[n++]=o>>12|224:(t[n++]=o>>18|240,t[n++]=o>>12&63|128),t[n++]=o>>6&63|128),t[n++]=63&o|128)}return t}(e);return(e=new qo).update(t),e=e.digest(),uo.encodeByteArray(e)}function Va(e,t){ao(!t||!0===e||!1===e,"Can't turn on custom loggers persistently."),!0===e?(Xa.logLevel=la.VERBOSE,es=Xa.log.bind(Xa),t&&Ya.set("logging_enabled",!0)):"function"==typeof e?es=e:(es=null,Ya.remove("logging_enabled"))}function Wa(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE INTERNAL ERROR: "+Za.apply(void 0,to([],eo(e)));Xa.error(n)}function za(e){return"number"==typeof e&&(e!=e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)}function Ha(e,t){return e===t?0:e<t?-1:1}function Ka(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+Ro(t))}function Ga(e,t){var n=e.length;if(n<=t)return[e];for(var r=[],i=0;i<n;i+=t)n<i+t?r.push(e.substring(i,n)):r.push(e.substring(i,i+t));return r}li=function(e){try{if("undefined"!=typeof window&&void 0!==window[e]){var t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new Ma(t)}}catch(e){}return new Ua};var Qa,$a=li("localStorage"),Ya=li("sessionStorage"),Xa=new ga("@firebase/database"),Ja=(Qa=1,function(){return Qa++}),Za=function e(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r="",i=0;i<t.length;i++){var o=t[i];Array.isArray(o)||o&&"object"==typeof o&&"number"==typeof o.length?r+=e.apply(null,o):r+="object"==typeof o?Ro(o):o,r+=" "}return r},es=null,ts=!0,ns=function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];!0===ts&&(ts=!1,null===es&&!0===Ya.get("logging_enabled")&&Va(!0)),es&&(e=Za.apply(null,t),es(e))},rs=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];ns.apply(void 0,to([e],eo(t)))}},is=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE FATAL ERROR: "+Za.apply(void 0,to([],eo(e)));throw Xa.error(n),new Error(n)},os=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE WARNING: "+Za.apply(void 0,to([],eo(e)));Xa.warn(n)},as="[MIN_NAME]",ss="[MAX_NAME]",us=function(e,t){if(e===t)return 0;if(e===as||t===ss)return-1;if(t===as||e===ss)return 1;var n=gs(e),r=gs(t);return null!==n?null!==r?n-r==0?e.length-t.length:n-r:-1:null===r&&e<t?-1:1},cs=function e(t){if("object"!=typeof t||null===t)return Ro(t);var n,r=[];for(n in t)r.push(n);r.sort();for(var i="{",o=0;o<r.length;o++)0!==o&&(i+=","),i+=Ro(r[o]),i+=":",i+=e(t[r[o]]);return i+"}"};function ls(e,t){for(var n in e)e.hasOwnProperty(n)&&t(n,e[n])}function hs(e){var t,n,r,i;ao(!za(e),"Invalid JSON number"),0===e?t=1/e==-1/(r=n=0)?1:0:(t=e<0,r=(e=Math.abs(e))>=Math.pow(2,-1022)?(n=(i=Math.min(Math.floor(Math.log(e)/Math.LN2),1023))+1023,Math.round(e*Math.pow(2,52-i)-Math.pow(2,52))):(n=0,Math.round(e/Math.pow(2,-1074))));for(var o=[],a=52;a;--a)o.push(r%2?1:0),r=Math.floor(r/2);for(a=11;a;--a)o.push(n%2?1:0),n=Math.floor(n/2);o.push(t?1:0),o.reverse();var s=o.join(""),u="";for(a=0;a<64;a+=8){var c=parseInt(s.substr(a,8),2).toString(16);u+=c=1===c.length?"0"+c:c}return u.toLowerCase()}function fs(e,t){return"object"==typeof(t=setTimeout(e,t))&&t.unref&&t.unref(),t}var ds=new RegExp("^-?(0*)\\d{1,10}$"),ps=-2147483648,vs=2147483647,gs=function(e){return ds.test(e)&&(e=Number(e),ps<=e&&e<=vs)?e:null},ys=function(e){try{e()}catch(r){setTimeout((function(){var t=r.stack||"";throw os("Exception was thrown by user callback.",t),r}),Math.floor(0))}},ms=(bs.prototype.getToken=function(e){var t=this;return this.appCheck?this.appCheck.getToken(e):new Promise((function(n,r){setTimeout((function(){t.appCheck?t.getToken(e).then(n,r):n(null)}),0)}))},bs.prototype.addTokenChangeListener=function(e){var t;null!==(t=this.appCheckProvider)&&void 0!==t&&t.get().then((function(t){return t.addTokenListener(e)}))},bs.prototype.notifyForInvalidToken=function(){os('Provided AppCheck credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly.')},bs);function bs(e,t){var n=this;this.appName_=e,this.appCheckProvider=t,this.appCheck=null==t?void 0:t.getImmediate({optional:!0}),this.appCheck||null!=t&&t.get().then((function(e){return n.appCheck=e}))}var _s=(ws.prototype.getToken=function(e){var t=this;return this.auth_?this.auth_.getToken(e).catch((function(e){return e&&"auth/token-not-initialized"===e.code?(ns("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)})):new Promise((function(n,r){setTimeout((function(){t.auth_?t.getToken(e).then(n,r):n(null)}),0)}))},ws.prototype.addTokenChangeListener=function(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then((function(t){return t.addAuthTokenListener(e)}))},ws.prototype.removeTokenChangeListener=function(e){this.authProvider_.get().then((function(t){return t.removeAuthTokenListener(e)}))},ws.prototype.notifyForInvalidToken=function(){var e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',os(e)},ws);function ws(e,t,n){var r=this;this.appName_=e,this.firebaseOptions_=t,this.authProvider_=n,this.auth_=null,this.auth_=n.getImmediate({optional:!0}),this.auth_||n.onInit((function(e){return r.auth_=e}))}var Es=(Ss.prototype.getToken=function(e){return Promise.resolve({accessToken:this.accessToken})},Ss.prototype.addTokenChangeListener=function(e){e(this.accessToken)},Ss.prototype.removeTokenChangeListener=function(e){},Ss.prototype.notifyForInvalidToken=function(){},Ss.OWNER="owner",Ss);function Ss(e){this.accessToken=e}var Ts=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Cs="websocket",Is="long_polling",ks=(Os.prototype.isCacheableHost=function(){return"s-"===this.internalHost.substr(0,2)},Os.prototype.isCustomHost=function(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain},Object.defineProperty(Os.prototype,"host",{get:function(){return this._host},set:function(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&$a.set("host:"+this._host,this.internalHost))},enumerable:!1,configurable:!0}),Os.prototype.toString=function(){var e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e},Os.prototype.toURLString=function(){var e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?"?ns="+this.namespace:"";return e+this.host+"/"+t},Os);function Os(e,t,n,r,i,o,a){void 0===i&&(i=!1),void 0===o&&(o=""),void 0===a&&(a=!1),this.secure=t,this.namespace=n,this.webSocketOnly=r,this.nodeAdmin=i,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=$a.get("host:"+e)||this._host}function xs(e,t,n){var r;if(ao("string"==typeof t,"typeof type must == string"),ao("object"==typeof n,"typeof params must == object"),t===Cs)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else{if(t!==Is)throw new Error("Unknown connection type: "+t);r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?"}((t=e).host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams)&&(n.ns=e.namespace);var i=[];return ls(n,(function(e,t){i.push(e+"="+t)})),r+i.join("&")}var Ps=(Ns.prototype.incrementCounter=function(e,t){void 0===t&&(t=1),jo(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t},Ns.prototype.get=function(){return lo(this.counters_)},Ns);function Ns(){this.counters_={}}var As={},Rs={};function Ds(e){return e=e.toString(),As[e]||(As[e]=new Ps),As[e]}var js=(Ls.prototype.closeAfter=function(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)},Ls.prototype.handleResponse=function(e,t){var n=this;this.pendingResponses[e]=t;for(var r=function(){var e=i.pendingResponses[i.currentResponseNum];delete i.pendingResponses[i.currentResponseNum];for(var t=0;t<e.length;++t)!function(t){e[t]&&ys((function(){n.onMessage_(e[t])}))}(t);if(i.currentResponseNum===i.closeAfterResponse)return i.onClose&&(i.onClose(),i.onClose=null),"break";i.currentResponseNum++},i=this;this.pendingResponses[this.currentResponseNum]&&"break"!==r(););},Ls);function Ls(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}var Ms="pLPCommand",Fs="pRTLPCB",Us=(qs.prototype.open=function(e,t){var n,r,i,o=this;this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new js(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout((function(){o.log_("Timed out trying to connect."),o.onClosed_(),o.connectTimeoutTimer_=null}),Math.floor(3e4)),n=function(){var e;o.isClosed_||(o.scriptTagHolder=new Bs((function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=eo(e,5),r=n[0],i=n[1],a=n[2];if(n[3],n[4],o.incrementIncomingBytes_(e),o.scriptTagHolder)if(o.connectTimeoutTimer_&&(clearTimeout(o.connectTimeoutTimer_),o.connectTimeoutTimer_=null),o.everConnected_=!0,"start"===r)o.id=i,o.password=a;else{if("close"!==r)throw new Error("Unrecognized command received: "+r);i?(o.scriptTagHolder.sendNewPolls=!1,o.myPacketOrderer.closeAfter(i,(function(){o.onClosed_()}))):o.onClosed_()}}),(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=(r=eo(e,2))[0],r=r[1];o.incrementIncomingBytes_(e),o.myPacketOrderer.handleResponse(n,r)}),(function(){o.onClosed_()}),o.urlFn),(e={start:"t"}).ser=Math.floor(1e8*Math.random()),o.scriptTagHolder.uniqueCallbackIdentifier&&(e.cb=o.scriptTagHolder.uniqueCallbackIdentifier),e.v="5",o.transportSessionId&&(e.s=o.transportSessionId),o.lastSessionId&&(e.ls=o.lastSessionId),o.applicationId&&(e.p=o.applicationId),o.appCheckToken&&(e.ac=o.appCheckToken),"undefined"!=typeof location&&location.hostname&&Ts.test(location.hostname)&&(e.r="f"),e=o.urlFn(e),o.log_("Connecting via long-poll to "+e),o.scriptTagHolder.addTag(e,(function(){})))},"complete"===document.readyState?n():(r=!1,i=function(){document.body?r||(r=!0,n()):setTimeout(i,Math.floor(10))},document.addEventListener?(document.addEventListener("DOMContentLoaded",i,!1),window.addEventListener("load",i,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",(function(){"complete"===document.readyState&&i()})),window.attachEvent("onload",i)))},qs.prototype.start=function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)},qs.forceAllow=function(){qs.forceAllow_=!0},qs.forceDisallow=function(){qs.forceDisallow_=!0},qs.isAvailable=function(){return!!qs.forceAllow_||!(qs.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI)},qs.prototype.markConnectionHealthy=function(){},qs.prototype.shutdown_=function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)},qs.prototype.onClosed_=function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))},qs.prototype.close=function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())},qs.prototype.send=function(e){e=Ro(e),this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);for(var t=Ga(e=ro(e),1840),n=0;n<t.length;n++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,t.length,t[n]),this.curSegmentNum++},qs.prototype.addDisconnectPingFrame=function(e,t){this.myDisconnFrame=document.createElement("iframe");var n={dframe:"t"};n.id=e,n.pw=t,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)},qs.prototype.incrementIncomingBytes_=function(e){e=Ro(e).length,this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)},qs);function qs(e,t,n,r,i,o,a){var s=this;this.connId=e,this.repoInfo=t,this.applicationId=n,this.appCheckToken=r,this.authToken=i,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=rs(e),this.stats_=Ds(t),this.urlFn=function(e){return s.appCheckToken&&(e.ac=s.appCheckToken),xs(t,Is,e)}}var Bs=(Vs.createIFrame_=function(){var t=document.createElement("iframe");if(t.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(t);try{t.contentWindow.document||ns("No IE domain setting required")}catch(e){var n=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+n+"';document.close();})())"}return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t},Vs.prototype.close=function(){var e=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout((function(){null!==e.myIFrame&&(document.body.removeChild(e.myIFrame),e.myIFrame=null)}),Math.floor(0)));var t=this.onDisconnect;t&&(this.onDisconnect=null,t())},Vs.prototype.startLongPoll=function(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););},Vs.prototype.newRequest_=function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(0<this.pendingSegs.length?2:1)){this.currentSerial++,(e={}).id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;for(var e=this.urlFn(e),t="",n=0;0<this.pendingSegs.length&&this.pendingSegs[0].d.length+30+t.length<=1870;){var r=this.pendingSegs.shift();t=t+"&seg"+n+"="+r.seg+"&ts"+n+"="+r.ts+"&d"+n+"="+r.d,n++}return this.addLongPollTag_(e+=t,this.currentSerial),!0}return!1},Vs.prototype.enqueueSegment=function(e,t,n){this.pendingSegs.push({seg:e,ts:t,d:n}),this.alive&&this.newRequest_()},Vs.prototype.addLongPollTag_=function(e,t){var n=this;function r(){n.outstandingRequests.delete(t),n.newRequest_()}this.outstandingRequests.add(t);var i=setTimeout(r,Math.floor(25e3));this.addTag(e,(function(){clearTimeout(i),r()}))},Vs.prototype.addTag=function(e,t){var n=this;setTimeout((function(){try{if(!n.sendNewPolls)return;var r=n.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){var e=r.readyState;e&&"loaded"!==e&&"complete"!==e||(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),t())},r.onerror=function(){ns("Long-poll script failed to load: "+e),n.sendNewPolls=!1,n.close()},n.myIFrame.doc.body.appendChild(r)}catch(e){}}),Math.floor(1))},Vs);function Vs(e,t,n,r){this.onDisconnect=n,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,this.uniqueCallbackIdentifier=Ja(),window[Ms+this.uniqueCallbackIdentifier]=e,window[Fs+this.uniqueCallbackIdentifier]=t,this.myIFrame=Vs.createIFrame_(),t="",t="<html><body>"+(t=this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length)?'<script>document.domain="'+document.domain+'";<\/script>':t)+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(t),this.myIFrame.doc.close()}catch(e){ns("frame writing exception"),e.stack&&ns(e.stack),ns(e)}}var Ws=null;"undefined"!=typeof MozWebSocket?Ws=MozWebSocket:"undefined"!=typeof WebSocket&&(Ws=WebSocket);var zs=(Hs.connectionURL_=function(e,t,n,r){var i={v:"5"};return"undefined"!=typeof location&&location.hostname&&Ts.test(location.hostname)&&(i.r="f"),t&&(i.s=t),n&&(i.ls=n),r&&(i.ac=r),xs(e,Cs,i)},Hs.prototype.open=function(e,t){var n=this;this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,$a.set("previous_websocket_failure",!0);try{wo()||(r={headers:{"X-Firebase-GMPID":this.applicationId||"","X-Firebase-AppCheck":this.appCheckToken||""}},this.mySock=new Ws(this.connURL,[],r))}catch(e){this.log_("Error instantiating WebSocket.");var r=e.message||e.data;return r&&this.log_(r),void this.onClosed_()}this.mySock.onopen=function(){n.log_("Websocket connected."),n.everConnected_=!0},this.mySock.onclose=function(){n.log_("Websocket connection was disconnected."),n.mySock=null,n.onClosed_()},this.mySock.onmessage=function(e){n.handleIncomingFrame(e)},this.mySock.onerror=function(e){n.log_("WebSocket error.  Closing connection."),(e=e.message||e.data)&&n.log_(e),n.onClosed_()}},Hs.prototype.start=function(){},Hs.forceDisallow=function(){Hs.forceDisallow_=!0},Hs.isAvailable=function(){var e,t=!1;return"undefined"!=typeof navigator&&navigator.userAgent&&(e=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/))&&1<e.length&&parseFloat(e[1])<4.4&&(t=!0),!t&&null!==Ws&&!Hs.forceDisallow_},Hs.previouslyFailed=function(){return $a.isInMemoryStorage||!0===$a.get("previous_websocket_failure")},Hs.prototype.markConnectionHealthy=function(){$a.remove("previous_websocket_failure")},Hs.prototype.appendFrame_=function(e){this.frames.push(e),this.frames.length===this.totalFrames&&(e=this.frames.join(""),this.frames=null,e=Ao(e),this.onMessage(e))},Hs.prototype.handleNewFrameCount_=function(e){this.totalFrames=e,this.frames=[]},Hs.prototype.extractFrameCount_=function(e){if(ao(null===this.frames,"We already have a frame buffer"),e.length<=6){var t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e},Hs.prototype.handleIncomingFrame=function(e){null!==this.mySock&&(e=e.data,this.bytesReceived+=e.length,this.stats_.incrementCounter("bytes_received",e.length),this.resetKeepAlive(),(null!==this.frames||null!==(e=this.extractFrameCount_(e)))&&this.appendFrame_(e))},Hs.prototype.send=function(e){this.resetKeepAlive(),e=Ro(e),this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);var t=Ga(e,16384);1<t.length&&this.sendString_(String(t.length));for(var n=0;n<t.length;n++)this.sendString_(t[n])},Hs.prototype.shutdown_=function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)},Hs.prototype.onClosed_=function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))},Hs.prototype.close=function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())},Hs.prototype.resetKeepAlive=function(){var e=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval((function(){e.mySock&&e.sendString_("0"),e.resetKeepAlive()}),Math.floor(45e3))},Hs.prototype.sendString_=function(e){try{this.mySock.send(e)}catch(e){this.log_("Exception thrown from WebSocket.send():",e.message||e.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}},Hs.responsesRequiredToBeHealthy=2,Hs.healthyTimeout=3e4,Hs);function Hs(e,t,n,r,i,o,a){this.connId=e,this.applicationId=n,this.appCheckToken=r,this.authToken=i,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=rs(this.connId),this.stats_=Ds(t),this.connURL=Hs.connectionURL_(t,o,a,r),this.nodeAdmin=t.nodeAdmin}var Ks=(Object.defineProperty(Gs,"ALL_TRANSPORTS",{get:function(){return[Us,zs]},enumerable:!1,configurable:!0}),Gs.prototype.initTransports_=function(e){var t,n,r=zs&&zs.isAvailable(),i=r&&!zs.previouslyFailed();if(e.webSocketOnly&&(r||os("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[zs];else{var o=this.transports_=[];try{for(var a=Zi(Gs.ALL_TRANSPORTS),s=a.next();!s.done;s=a.next()){var u=s.value;u&&u.isAvailable()&&o.push(u)}}catch(e){t={error:e}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}}},Gs.prototype.initialTransport=function(){if(0<this.transports_.length)return this.transports_[0];throw new Error("No transports available")},Gs.prototype.upgradeTransport=function(){return 1<this.transports_.length?this.transports_[1]:null},Gs);function Gs(e){this.initTransports_(e)}var Qs=($s.prototype.start_=function(){var e=this,t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout((function(){e.conn_&&e.conn_.open(n,r)}),Math.floor(0)),0<(t=t.healthyTimeout||0)&&(this.healthyTimeout_=fs((function(){e.healthyTimeout_=null,e.isHealthy_||(e.conn_&&102400<e.conn_.bytesReceived?(e.log_("Connection exceeded healthy timeout but has received "+e.conn_.bytesReceived+" bytes.  Marking connection healthy."),e.isHealthy_=!0,e.conn_.markConnectionHealthy()):e.conn_&&10240<e.conn_.bytesSent?e.log_("Connection exceeded healthy timeout but has sent "+e.conn_.bytesSent+" bytes.  Leaving connection alive."):(e.log_("Closing unhealthy connection after timeout."),e.close()))}),Math.floor(t)))},$s.prototype.nextTransportId_=function(){return"c:"+this.id+":"+this.connectionCount++},$s.prototype.disconnReceiver_=function(e){var t=this;return function(n){e===t.conn_?t.onConnectionLost_(n):e===t.secondaryConn_?(t.log_("Secondary connection lost."),t.onSecondaryConnectionLost_()):t.log_("closing an old connection")}},$s.prototype.connReceiver_=function(e){var t=this;return function(n){2!==t.state_&&(e===t.rx_?t.onPrimaryMessageReceived_(n):e===t.secondaryConn_?t.onSecondaryMessageReceived_(n):t.log_("message on old connection"))}},$s.prototype.sendRequest=function(e){this.sendData_({t:"d",d:e})},$s.prototype.tryCleanupConnection=function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)},$s.prototype.onSecondaryControl_=function(e){"t"in e&&("a"===(e=e.t)?this.upgradeIfSecondaryHealthy_():"r"===e?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===e&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_()))},$s.prototype.onSecondaryMessageReceived_=function(e){var t=Ka("t",e);if(e=Ka("d",e),"c"===t)this.onSecondaryControl_(e);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(e)}},$s.prototype.upgradeIfSecondaryHealthy_=function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))},$s.prototype.proceedWithUpgrade_=function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()},$s.prototype.onPrimaryMessageReceived_=function(e){var t=Ka("t",e);e=Ka("d",e),"c"===t?this.onControl_(e):"d"===t&&this.onDataMessage_(e)},$s.prototype.onDataMessage_=function(e){this.onPrimaryResponse_(),this.onMessage_(e)},$s.prototype.onPrimaryResponse_=function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))},$s.prototype.onControl_=function(e){var t=Ka("t",e);if("d"in e)if(e=e.d,"h"===t)this.onHandshake_(e);else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var n=0;n<this.pendingDataMessages.length;++n)this.onDataMessage_(this.pendingDataMessages[n]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(e):"r"===t?this.onReset_(e):"e"===t?Wa("Server Error: "+e):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Wa("Unknown control packet command: "+t)},$s.prototype.onHandshake_=function(e){var t=e.ts,n=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),"5"!==n&&os("Protocol version mismatch detected"),this.tryStartUpgrade_())},$s.prototype.tryStartUpgrade_=function(){var e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)},$s.prototype.startUpgrade_=function(e){var t=this;this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.secondaryConn_);e=this.disconnReceiver_(this.secondaryConn_),this.secondaryConn_.open(n,e),fs((function(){t.secondaryConn_&&(t.log_("Timed out trying to upgrade."),t.secondaryConn_.close())}),Math.floor(6e4))},$s.prototype.onReset_=function(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())},$s.prototype.onConnectionEstablished_=function(e,t){var n=this;this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):fs((function(){n.sendPingOnPrimaryIfNecessary_()}),Math.floor(5e3))},$s.prototype.sendPingOnPrimaryIfNecessary_=function(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))},$s.prototype.onSecondaryConnectionLost_=function(){var e=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==e&&this.rx_!==e||this.close()},$s.prototype.onConnectionLost_=function(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&($a.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()},$s.prototype.onConnectionShutdown_=function(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()},$s.prototype.sendData_=function(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)},$s.prototype.close=function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))},$s.prototype.closeConnections_=function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)},$s);function $s(e,t,n,r,i,o,a,s,u,c){this.id=e,this.repoInfo_=t,this.applicationId_=n,this.appCheckToken_=r,this.authToken_=i,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=s,this.onKill_=u,this.lastSessionId=c,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=rs("c:"+this.id+":"),this.transportManager_=new Ks(t),this.log_("Connection created"),this.start_()}function Ys(){}Ys.prototype.put=function(e,t,n,r){},Ys.prototype.merge=function(e,t,n,r){},Ys.prototype.refreshAuthToken=function(e){},Ys.prototype.refreshAppCheckToken=function(e){},Ys.prototype.onDisconnectPut=function(e,t,n){},Ys.prototype.onDisconnectMerge=function(e,t,n){},Ys.prototype.onDisconnectCancel=function(e,t){},Ys.prototype.reportStats=function(e){},Q=Ys;var Xs=(Js.prototype.trigger=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Array.isArray(this.listeners_[e]))for(var r=to([],eo(this.listeners_[e])),i=0;i<r.length;i++)r[i].callback.apply(r[i].context,t)},Js.prototype.on=function(e,t,n){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:n}),(e=this.getInitialEvent(e))&&t.apply(n,e)},Js.prototype.off=function(e,t,n){this.validateEventType_(e);for(var r=this.listeners_[e]||[],i=0;i<r.length;i++)if(r[i].callback===t&&(!n||n===r[i].context))return void r.splice(i,1)},Js.prototype.validateEventType_=function(e){ao(this.allowedEvents_.find((function(t){return t===e})),"Unknown event: "+e)},Js);function Js(e){this.allowedEvents_=e,this.listeners_={},ao(Array.isArray(e)&&0<e.length,"Requires a non-empty array")}var Zs,eu=($i(tu,Zs=Xs),tu.getInstance=function(){return new tu},tu.prototype.getInitialEvent=function(e){return ao("online"===e,"Unknown event type: "+e),[this.online_]},tu.prototype.currentlyOnline=function(){return this.online_},tu);function tu(){var e=Zs.call(this,["online"])||this;return e.online_=!0,"undefined"==typeof window||void 0===window.addEventListener||yo()||(window.addEventListener("online",(function(){e.online_||(e.online_=!0,e.trigger("online",!0))}),!1),window.addEventListener("offline",(function(){e.online_&&(e.online_=!1,e.trigger("online",!1))}),!1)),e}var nu=32,ru=768,iu=(ou.prototype.toString=function(){for(var e="",t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"},ou);function ou(e,t){if(void 0===t){this.pieces_=e.split("/");for(var n=0,r=0;r<this.pieces_.length;r++)0<this.pieces_[r].length&&(this.pieces_[n]=this.pieces_[r],n++);this.pieces_.length=n,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}function au(){return new iu("")}function su(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function uu(e){return e.pieces_.length-e.pieceNum_}function cu(e){var t=e.pieceNum_;return t<e.pieces_.length&&t++,new iu(e.pieces_,t)}function lu(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function hu(e,t){return e.pieces_.slice(e.pieceNum_+(t=void 0===t?0:t))}function fu(e){if(e.pieceNum_>=e.pieces_.length)return null;for(var t=[],n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new iu(t,0)}function du(e,t){for(var n=[],r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof iu)for(r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);else{var i=t.split("/");for(r=0;r<i.length;r++)0<i[r].length&&n.push(i[r])}return new iu(n,0)}function pu(e){return e.pieceNum_>=e.pieces_.length}function vu(e,t){var n=su(e),r=su(t);if(null===n)return t;if(n===r)return vu(cu(e),cu(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function gu(e,t){for(var n=hu(e,0),r=hu(t,0),i=0;i<n.length&&i<r.length;i++){var o=us(n[i],r[i]);if(0!==o)return o}return n.length===r.length?0:n.length<r.length?-1:1}function yu(e,t){if(uu(e)!==uu(t))return!1;for(var n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function mu(e,t){var n=e.pieceNum_,r=t.pieceNum_;if(uu(e)>uu(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}var bu=function(e,t){this.errorPrefix_=t,this.parts_=hu(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(var n=0;n<this.parts_.length;n++)this.byteLength_+=Yo(this.parts_[n]);_u(this)};function _u(e){if(e.byteLength_>ru)throw new Error(e.errorPrefix_+"has a key path longer than "+ru+" bytes ("+e.byteLength_+").");if(e.parts_.length>nu)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+nu+") or object contains a cycle "+wu(e))}function wu(e){return 0===e.parts_.length?"":"in property '"+e.parts_.join(".")+"'"}var Eu,Su=($i(Tu,Eu=Xs),Tu.getInstance=function(){return new Tu},Tu.prototype.getInitialEvent=function(e){return ao("visible"===e,"Unknown event type: "+e),[this.visible_]},Tu);function Tu(){var e,t,n=Eu.call(this,["visible"])||this;return"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(t="visibilitychange",e="hidden"):void 0!==document.mozHidden?(t="mozvisibilitychange",e="mozHidden"):void 0!==document.msHidden?(t="msvisibilitychange",e="msHidden"):void 0!==document.webkitHidden&&(t="webkitvisibilitychange",e="webkitHidden")),n.visible_=!0,t&&document.addEventListener(t,(function(){var t=!document[e];t!==n.visible_&&(n.visible_=t,n.trigger("visible",t))}),!1),n}var Cu,Iu=1e3,ku=3e5,Ou=($i(xu,Cu=Q),xu.prototype.sendRequest=function(e,t,n){var r=++this.requestNumber_;t={r:r,a:e,b:t},this.log_(Ro(t)),ao(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(t),n&&(this.requestCBHash_[r]=n)},xu.prototype.get=function(e){var t=this;this.initConnection_();var n=new fo,r={p:e._path.toString(),q:e._queryObject},i={action:"g",request:r,onComplete:function(e){var i=e.d;"ok"===e.s?(t.onDataUpdate_(r.p,i,!1,null),n.resolve(i)):n.reject(i)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;var o=this.outstandingGets_.length-1;return this.connected_||setTimeout((function(){var e=t.outstandingGets_[o];void 0!==e&&i===e&&(delete t.outstandingGets_[o],t.outstandingGetCount_--,0===t.outstandingGetCount_&&(t.outstandingGets_=[]),t.log_("get "+o+" timed out on connection"),n.reject(new Error("Client is offline.")))}),3e3),this.connected_&&this.sendGet_(o),n.promise},xu.prototype.listen=function(e,t,n,r){this.initConnection_();var i=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+i),this.listens.has(o)||this.listens.set(o,new Map),ao(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),ao(!this.listens.get(o).has(i),"listen() called twice for same path/queryId."),n={onComplete:r,hashFn:t,query:e,tag:n},this.listens.get(o).set(i,n),this.connected_&&this.sendListen_(n)},xu.prototype.sendGet_=function(e){var t=this,n=this.outstandingGets_[e];this.sendRequest("g",n.request,(function(r){delete t.outstandingGets_[e],t.outstandingGetCount_--,0===t.outstandingGetCount_&&(t.outstandingGets_=[]),n.onComplete&&n.onComplete(r)}))},xu.prototype.sendListen_=function(e){var t=this,n=e.query,r=n._path.toString(),i=n._queryIdentifier;this.log_("Listen on "+r+" for "+i);var o={p:r};e.tag&&(o.q=n._queryObject,o.t=e.tag),o.h=e.hashFn(),this.sendRequest("q",o,(function(o){var a=o.d,s=o.s;xu.warnOnListenWarnings_(a,n),(t.listens.get(r)&&t.listens.get(r).get(i))===e&&(t.log_("listen response",o),"ok"!==s&&t.removeListen_(r,i),e.onComplete&&e.onComplete(s,a))}))},xu.warnOnListenWarnings_=function(e,t){e&&"object"==typeof e&&jo(e,"w")&&(e=Lo(e,"w"),Array.isArray(e)&&~e.indexOf("no_index")&&(e='".indexOn": "'+t._queryParams.getIndex().toString()+'"',t=t._path.toString(),os("Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding "+e+" at "+t+" to your security rules for better performance.")))},xu.prototype.refreshAuthToken=function(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},(function(){})),this.reduceReconnectDelayIfAdminCredential_(e)},xu.prototype.reduceReconnectDelayIfAdminCredential_=function(e){(e&&40===e.length||function(e){return"object"==typeof(e=Do(e).claims)&&!0===e.admin}(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)},xu.prototype.refreshAppCheckToken=function(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},(function(){}))},xu.prototype.tryAuth=function(){var e,t,n,r=this;this.connected_&&this.authToken_&&(t=function(e){return!!(e=Do(e).claims)&&"object"==typeof e&&e.hasOwnProperty("iat")}(e=this.authToken_)?"auth":"gauth",n={cred:e},null===this.authOverride_?n.noauth=!0:"object"==typeof this.authOverride_&&(n.authvar=this.authOverride_),this.sendRequest(t,n,(function(t){var n=t.s;t=t.d||"error",r.authToken_===e&&("ok"===n?r.invalidAuthTokenCount_=0:r.onAuthRevoked_(n,t))})))},xu.prototype.tryAppCheck=function(){var e=this;this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},(function(t){var n=t.s;t=t.d||"error","ok"===n?e.invalidAppCheckTokenCount_=0:e.onAppCheckRevoked_(n,t)}))},xu.prototype.unlisten=function(e,t){var n=e._path.toString(),r=e._queryIdentifier;this.log_("Unlisten called for "+n+" "+r),ao(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,e._queryObject,t)},xu.prototype.sendUnlisten_=function(e,t,n,r){this.log_("Unlisten on "+e+" for "+t),e={p:e},r&&(e.q=n,e.t=r),this.sendRequest("n",e)},xu.prototype.onDisconnectPut=function(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:n})},xu.prototype.onDisconnectMerge=function(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:n})},xu.prototype.onDisconnectCancel=function(e,t){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})},xu.prototype.sendOnDisconnect_=function(e,t,n,r){n={p:t,d:n},this.log_("onDisconnect "+e,n),this.sendRequest(e,n,(function(e){r&&setTimeout((function(){r(e.s,e.d)}),Math.floor(0))}))},xu.prototype.put=function(e,t,n,r){this.putInternal("p",e,t,n,r)},xu.prototype.merge=function(e,t,n,r){this.putInternal("m",e,t,n,r)},xu.prototype.putInternal=function(e,t,n,r,i){this.initConnection_(),n={p:t,d:n},void 0!==i&&(n.h=i),this.outstandingPuts_.push({action:e,request:n,onComplete:r}),this.outstandingPutCount_++,r=this.outstandingPuts_.length-1,this.connected_?this.sendPut_(r):this.log_("Buffering put: "+t)},xu.prototype.sendPut_=function(e){var t=this,n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,(function(r){t.log_(n+" response",r),delete t.outstandingPuts_[e],t.outstandingPutCount_--,0===t.outstandingPutCount_&&(t.outstandingPuts_=[]),i&&i(r.s,r.d)}))},xu.prototype.reportStats=function(e){var t=this;this.connected_&&(this.log_("reportStats",e={c:e}),this.sendRequest("s",e,(function(e){"ok"!==e.s&&(e=e.d,t.log_("reportStats","Error sending stats: "+e))})))},xu.prototype.onDataMessage_=function(e){if("r"in e){this.log_("from server: "+Ro(e));var t=e.r,n=this.requestCBHash_[t];n&&(delete this.requestCBHash_[t],n(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}},xu.prototype.onDataPush_=function(e,t){this.log_("handleServerMessage",e,t),"d"===e?this.onDataUpdate_(t.p,t.d,!1,t.t):"m"===e?this.onDataUpdate_(t.p,t.d,!0,t.t):"c"===e?this.onListenRevoked_(t.p,t.q):"ac"===e?this.onAuthRevoked_(t.s,t.d):"apc"===e?this.onAppCheckRevoked_(t.s,t.d):"sd"===e?this.onSecurityDebugPacket_(t):Wa("Unrecognized action received from server: "+Ro(e)+"\nAre you using the latest client?")},xu.prototype.onReady_=function(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)},xu.prototype.scheduleConnect_=function(e){var t=this;ao(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout((function(){t.establishConnectionTimer_=null,t.establishConnection_()}),Math.floor(e))},xu.prototype.initConnection_=function(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)},xu.prototype.onVisible_=function(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Iu,this.realtime_||this.scheduleConnect_(0)),this.visible_=e},xu.prototype.onOnline_=function(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Iu,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())},xu.prototype.onRealtimeDisconnect_=function(){var e;this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()&&(this.visible_?this.lastConnectionEstablishedTime_&&(3e4<(new Date).getTime()-this.lastConnectionEstablishedTime_&&(this.reconnectDelay_=Iu),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime()),e=(new Date).getTime()-this.lastConnectionAttemptTime_,e=Math.max(0,this.reconnectDelay_-e),e=Math.random()*e,this.log_("Trying to reconnect in "+e+"ms"),this.scheduleConnect_(e),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)),this.onConnectStatus_(!1)},xu.prototype.establishConnection_=function(){return Xi(this,void 0,void 0,(function(){var e,t,n,r,i,o,a,s,u,c,l=this;return Ji(this,(function(h){switch(h.label){case 0:if(!this.shouldReconnect_())return[3,4];this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null,e=this.onDataMessage_.bind(this),t=this.onReady_.bind(this),n=this.onRealtimeDisconnect_.bind(this),r=this.id+":"+xu.nextConnectionId_++,c=this.lastSessionId,i=!1,o=null,a=function(){o?o.close():(i=!0,n())},u=function(e){ao(o,"sendRequest call when we're not connected not allowed."),o.sendRequest(e)},this.realtime_={close:a,sendRequest:u},s=this.forceTokenRefresh_,this.forceTokenRefresh_=!1,h.label=1;case 1:return h.trys.push([1,3,,4]),[4,Promise.all([this.authTokenProvider_.getToken(s),this.appCheckTokenProvider_.getToken(s)])];case 2:return u=eo.apply(void 0,[h.sent(),2]),s=u[0],u=u[1],i?ns("getToken() completed but was canceled"):(ns("getToken() completed. Creating connection."),this.authToken_=s&&s.accessToken,this.appCheckToken_=u&&u.token,o=new Qs(r,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,t,n,(function(e){os(e+" ("+l.repoInfo_.toString()+")"),l.interrupt("server_kill")}),c)),[3,4];case 3:return c=h.sent(),this.log_("Failed to get token: "+c),i||(this.repoInfo_.nodeAdmin&&os(c),a()),[3,4];case 4:return[2]}}))}))},xu.prototype.interrupt=function(e){ns("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())},xu.prototype.resume=function(e){ns("Resuming connection for reason: "+e),delete this.interruptReasons_[e],Mo(this.interruptReasons_)&&(this.reconnectDelay_=Iu,this.realtime_||this.scheduleConnect_(0))},xu.prototype.handleTimestamp_=function(e){e-=(new Date).getTime(),this.onServerInfoUpdate_({serverTimeOffset:e})},xu.prototype.cancelSentTransactions_=function(){for(var e=0;e<this.outstandingPuts_.length;e++){var t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])},xu.prototype.onListenRevoked_=function(e,t){t=t?t.map((function(e){return cs(e)})).join("$"):"default",(t=this.removeListen_(e,t))&&t.onComplete&&t.onComplete("permission_denied")},xu.prototype.removeListen_=function(e,t){var n,r=new iu(e).toString();return this.listens.has(r)?(n=(e=this.listens.get(r)).get(t),e.delete(t),0===e.size&&this.listens.delete(r)):n=void 0,n},xu.prototype.onAuthRevoked_=function(e,t){ns("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAuthTokenCount_++,3<=this.invalidAuthTokenCount_&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))},xu.prototype.onAppCheckRevoked_=function(e,t){ns("App check token revoked: "+e+"/"+t),this.appCheckToken_=null,this.forceTokenRefresh_=!0,"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAppCheckTokenCount_++,3<=this.invalidAppCheckTokenCount_&&this.appCheckTokenProvider_.notifyForInvalidToken())},xu.prototype.onSecurityDebugPacket_=function(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))},xu.prototype.restoreState_=function(){var e,t,n,r;this.tryAuth(),this.tryAppCheck();try{for(var i=Zi(this.listens.values()),o=i.next();!o.done;o=i.next()){var a=o.value;try{for(var s=(n=void 0,Zi(a.values())),u=s.next();!u.done;u=s.next()){var c=u.value;this.sendListen_(c)}}catch(t){n={error:t}}finally{try{u&&!u.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}}}catch(t){e={error:t}}finally{try{o&&!o.done&&(t=i.return)&&t.call(i)}finally{if(e)throw e.error}}for(var l=0;l<this.outstandingPuts_.length;l++)this.outstandingPuts_[l]&&this.sendPut_(l);for(;this.onDisconnectRequestQueue_.length;){var h=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(h.action,h.pathString,h.data,h.onComplete)}for(l=0;l<this.outstandingGets_.length;l++)this.outstandingGets_[l]&&this.sendGet_(l)},xu.prototype.sendConnectStats_=function(){var e={};e["sdk.js."+ja.replace(/\./g,"-")]=1,yo()?e["framework.cordova"]=1:_o()&&(e["framework.reactnative"]=1),this.reportStats(e)},xu.prototype.shouldReconnect_=function(){var e=eu.getInstance().currentlyOnline();return Mo(this.interruptReasons_)&&e},xu.nextPersistentConnectionId_=0,xu.nextConnectionId_=0,xu);function xu(e,t,n,r,i,o,a,s){var u=Cu.call(this)||this;if(u.repoInfo_=e,u.applicationId_=t,u.onDataUpdate_=n,u.onConnectStatus_=r,u.onServerInfoUpdate_=i,u.authTokenProvider_=o,u.appCheckTokenProvider_=a,u.authOverride_=s,u.id=xu.nextPersistentConnectionId_++,u.log_=rs("p:"+u.id+":"),u.interruptReasons_={},u.listens=new Map,u.outstandingPuts_=[],u.outstandingGets_=[],u.outstandingPutCount_=0,u.outstandingGetCount_=0,u.onDisconnectRequestQueue_=[],u.connected_=!1,u.reconnectDelay_=Iu,u.maxReconnectDelay_=ku,u.securityDebugCallback_=null,u.lastSessionId=null,u.establishConnectionTimer_=null,u.visible_=!1,u.requestCBHash_={},u.requestNumber_=0,u.realtime_=null,u.authToken_=null,u.appCheckToken_=null,u.forceTokenRefresh_=!1,u.invalidAuthTokenCount_=0,u.invalidAppCheckTokenCount_=0,u.firstConnection_=!0,u.lastConnectionAttemptTime_=null,u.lastConnectionEstablishedTime_=null,s&&!wo())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return Su.getInstance().on("visible",u.onVisible_,u),-1===e.host.indexOf("fblocal")&&eu.getInstance().on("online",u.onOnline_,u),u}var Pu,Nu,Au=(Ru.Wrap=function(e,t){return new Ru(e,t)},Ru);function Ru(e,t){this.name=e,this.node=t}function Du(){}function ju(){return null!==Nu&&Nu.apply(this,arguments)||this}Du.prototype.getCompare=function(){return this.compare.bind(this)},Du.prototype.indexedValueChanged=function(e,t){return e=new Au(as,e),t=new Au(as,t),0!==this.compare(e,t)},Du.prototype.minPost=function(){return Au.MIN},$i(ju,Nu=G=Du),Object.defineProperty(ju,"__EMPTY_NODE",{get:function(){return Pu},set:function(e){Pu=e},enumerable:!1,configurable:!0}),ju.prototype.compare=function(e,t){return us(e.name,t.name)},ju.prototype.isDefinedOn=function(e){throw so("KeyIndex.isDefinedOn not expected to be called.")},ju.prototype.indexedValueChanged=function(e,t){return!1},ju.prototype.minPost=function(){return Au.MIN},ju.prototype.maxPost=function(){return new Au(ss,Pu)},ju.prototype.makePost=function(e,t){return ao("string"==typeof e,"KeyIndex indexValue must always be a string."),new Au(e,Pu)},ju.prototype.toString=function(){return".key"};var Lu=new(li=ju),Mu=(Fu.prototype.getNext=function(){if(0===this.nodeStack_.length)return null;var e=this.nodeStack_.pop(),t=this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value};if(this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t},Fu.prototype.hasNext=function(){return 0<this.nodeStack_.length},Fu.prototype.peek=function(){if(0===this.nodeStack_.length)return null;var e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}},Fu);function Fu(e,t,n,r,i){void 0===i&&(i=null),this.isReverse_=r,this.resultGenerator_=i,this.nodeStack_=[];for(var o=1;!e.isEmpty();)if(o=t?n(e.key,t):1,r&&(o*=-1),o<0)e=this.isReverse_?e.left:e.right;else{if(0===o){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}var Uu=(qu.prototype.copy=function(e,t,n,r,i){return new qu(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)},qu.prototype.count=function(){return this.left.count()+1+this.right.count()},qu.prototype.isEmpty=function(){return!1},qu.prototype.inorderTraversal=function(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)},qu.prototype.reverseTraversal=function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)},qu.prototype.min_=function(){return this.left.isEmpty()?this:this.left.min_()},qu.prototype.minKey=function(){return this.min_().key},qu.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},qu.prototype.insert=function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp_()},qu.prototype.removeMin_=function(){if(this.left.isEmpty())return Wu.EMPTY_NODE;var e=this;return(e=(e=e.left.isRed_()||e.left.left.isRed_()?e:e.moveRedLeft_()).copy(null,null,null,e.left.removeMin_(),null)).fixUp_()},qu.prototype.remove=function(e,t){var n,r=this;if(t(e,r.key)<0)r=(r=r.left.isEmpty()||r.left.isRed_()||r.left.left.isRed_()?r:r.moveRedLeft_()).copy(null,null,null,r.left.remove(e,t),null);else{if(0===t(e,(r=(r=r.left.isRed_()?r.rotateRight_():r).right.isEmpty()||r.right.isRed_()||r.right.left.isRed_()?r:r.moveRedRight_()).key)){if(r.right.isEmpty())return Wu.EMPTY_NODE;n=r.right.min_(),r=r.copy(n.key,n.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp_()},qu.prototype.isRed_=function(){return this.color},qu.prototype.fixUp_=function(){var e=this;return(e=(e=e.right.isRed_()&&!e.left.isRed_()?e.rotateLeft_():e).left.isRed_()&&e.left.left.isRed_()?e.rotateRight_():e).left.isRed_()&&e.right.isRed_()?e.colorFlip_():e},qu.prototype.moveRedLeft_=function(){var e=this.colorFlip_();return e.right.left.isRed_()?(e=(e=e.copy(null,null,null,null,e.right.rotateRight_())).rotateLeft_()).colorFlip_():e},qu.prototype.moveRedRight_=function(){var e=this.colorFlip_();return e.left.left.isRed_()?(e=e.rotateRight_()).colorFlip_():e},qu.prototype.rotateLeft_=function(){var e=this.copy(null,null,qu.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},qu.prototype.rotateRight_=function(){var e=this.copy(null,null,qu.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},qu.prototype.colorFlip_=function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)},qu.prototype.checkMaxDepth_=function(){var e=this.check_();return Math.pow(2,e)<=this.count()+1},qu.prototype.check_=function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)},qu.RED=!0,qu.BLACK=!1,qu);function qu(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:qu.RED,this.left=null!=r?r:Wu.EMPTY_NODE,this.right=null!=i?i:Wu.EMPTY_NODE}function Bu(){}Bu.prototype.copy=function(e,t,n,r,i){return this},Bu.prototype.insert=function(e,t,n){return new Uu(e,t,null)},Bu.prototype.remove=function(e,t){return this},Bu.prototype.count=function(){return 0},Bu.prototype.isEmpty=function(){return!0},Bu.prototype.inorderTraversal=function(e){return!1},Bu.prototype.reverseTraversal=function(e){return!1},Bu.prototype.minKey=function(){return null},Bu.prototype.maxKey=function(){return null},Bu.prototype.check_=function(){return 0},Bu.prototype.isRed_=function(){return!1},Xs=Bu;var Vu,Wu=(zu.prototype.insert=function(e,t){return new zu(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,Uu.BLACK,null,null))},zu.prototype.remove=function(e){return new zu(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Uu.BLACK,null,null))},zu.prototype.get=function(e){for(var t,n=this.root_;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key)))return n.value;t<0?n=n.left:0<t&&(n=n.right)}return null},zu.prototype.getPredecessorKey=function(e){for(var t,n=this.root_,r=null;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key))){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}t<0?n=n.left:0<t&&(n=(r=n).right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")},zu.prototype.isEmpty=function(){return this.root_.isEmpty()},zu.prototype.count=function(){return this.root_.count()},zu.prototype.minKey=function(){return this.root_.minKey()},zu.prototype.maxKey=function(){return this.root_.maxKey()},zu.prototype.inorderTraversal=function(e){return this.root_.inorderTraversal(e)},zu.prototype.reverseTraversal=function(e){return this.root_.reverseTraversal(e)},zu.prototype.getIterator=function(e){return new Mu(this.root_,null,this.comparator_,!1,e)},zu.prototype.getIteratorFrom=function(e,t){return new Mu(this.root_,e,this.comparator_,!1,t)},zu.prototype.getReverseIteratorFrom=function(e,t){return new Mu(this.root_,e,this.comparator_,!0,t)},zu.prototype.getReverseIterator=function(e){return new Mu(this.root_,null,this.comparator_,!0,e)},zu.EMPTY_NODE=new Xs,zu);function zu(e,t){void 0===t&&(t=zu.EMPTY_NODE),this.comparator_=e,this.root_=t}function Hu(e,t){return us(e.name,t.name)}function Ku(e,t){return us(e,t)}function Gu(e){return"number"==typeof e?"number:"+hs(e):"string:"+e}var Qu,$u,Yu,Xu,Ju=function(e){var t;e.isLeafNode()?(t=e.val(),ao("string"==typeof t||"number"==typeof t||"object"==typeof t&&jo(t,".sv"),"Priority must be a string or number.")):ao(e===Vu||e.isEmpty(),"priority of unexpected type."),ao(e===Vu||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},Zu=(Object.defineProperty(ec,"__childrenNodeConstructor",{get:function(){return Qu},set:function(e){Qu=e},enumerable:!1,configurable:!0}),ec.prototype.isLeafNode=function(){return!0},ec.prototype.getPriority=function(){return this.priorityNode_},ec.prototype.updatePriority=function(e){return new ec(this.value_,e)},ec.prototype.getImmediateChild=function(e){return".priority"===e?this.priorityNode_:ec.__childrenNodeConstructor.EMPTY_NODE},ec.prototype.getChild=function(e){return pu(e)?this:".priority"===su(e)?this.priorityNode_:ec.__childrenNodeConstructor.EMPTY_NODE},ec.prototype.hasChild=function(){return!1},ec.prototype.getPredecessorChildName=function(e,t){return null},ec.prototype.updateImmediateChild=function(e,t){return".priority"===e?this.updatePriority(t):t.isEmpty()&&".priority"!==e?this:ec.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,t).updatePriority(this.priorityNode_)},ec.prototype.updateChild=function(e,t){var n=su(e);return null===n?t:t.isEmpty()&&".priority"!==n?this:(ao(".priority"!==n||1===uu(e),".priority must be the last token in a path"),this.updateImmediateChild(n,ec.__childrenNodeConstructor.EMPTY_NODE.updateChild(cu(e),t)))},ec.prototype.isEmpty=function(){return!1},ec.prototype.numChildren=function(){return 0},ec.prototype.forEachChild=function(e,t){return!1},ec.prototype.val=function(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()},ec.prototype.hash=function(){var e,t;return null===this.lazyHash_&&(e="",this.priorityNode_.isEmpty()||(e+="priority:"+Gu(this.priorityNode_.val())+":"),e+=(t=typeof this.value_)+":",e+="number"==t?hs(this.value_):this.value_,this.lazyHash_=Ba(e)),this.lazyHash_},ec.prototype.getValue=function(){return this.value_},ec.prototype.compareTo=function(e){return e===ec.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof ec.__childrenNodeConstructor?-1:(ao(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))},ec.prototype.compareToLeafNode_=function(e){var t=typeof e.value_,n=typeof this.value_,r=ec.VALUE_TYPE_ORDER.indexOf(t),i=ec.VALUE_TYPE_ORDER.indexOf(n);return ao(0<=r,"Unknown leaf type: "+t),ao(0<=i,"Unknown leaf type: "+n),r===i?"object"==n?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:i-r},ec.prototype.withIndex=function(){return this},ec.prototype.isIndexed=function(){return!0},ec.prototype.equals=function(e){return e===this||!!e.isLeafNode()&&this.value_===e.value_&&this.priorityNode_.equals(e.priorityNode_)},ec.VALUE_TYPE_ORDER=["object","boolean","number","string"],ec);function ec(e,t){void 0===t&&(t=ec.__childrenNodeConstructor.EMPTY_NODE),this.value_=e,this.priorityNode_=t,this.lazyHash_=null,ao(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),Ju(this.priorityNode_)}function tc(){return null!==Xu&&Xu.apply(this,arguments)||this}var nc=new($i(tc,Xu=G),tc.prototype.compare=function(e,t){var n=e.node.getPriority(),r=t.node.getPriority();return 0===(r=n.compareTo(r))?us(e.name,t.name):r},tc.prototype.isDefinedOn=function(e){return!e.getPriority().isEmpty()},tc.prototype.indexedValueChanged=function(e,t){return!e.getPriority().equals(t.getPriority())},tc.prototype.minPost=function(){return Au.MIN},tc.prototype.maxPost=function(){return new Au(ss,new Zu("[PRIORITY-POST]",Yu))},tc.prototype.makePost=function(e,t){return e=$u(e),new Au(t,new Zu("[PRIORITY-POST]",e))},tc.prototype.toString=function(){return".priority"},tc),rc=Math.log(2),ic=(oc.prototype.nextBitIsOne=function(){var e=!(this.bits_&1<<this.current_);return this.current_--,e},oc);function oc(e){var t;this.count=(t=e+1,parseInt(Math.log(t)/rc,10)),this.current_=this.count-1;var n,r=(n=this.count,parseInt(Array(n+1).join("1"),2));this.bits_=e+1&r}var ac,sc,uc=function(e,t,n,r){e.sort(t);var i=function t(r,i){if(0==(o=i-r))return null;if(1==o)return a=e[r],s=n?n(a):a,new Uu(s,a.node,Uu.BLACK,null,null);r=t(r,o=parseInt(o/2,10)+r),i=t(o+1,i);var o,a=e[o],s=n?n(a):a;return new Uu(s,a.node,Uu.BLACK,r,i)},o=function(t){for(var r=null,o=null,a=e.length,s=function(t,r){var o=a-t,s=a;a-=t,t=i(1+o,s),s=e[o],o=n?n(s):s,u(new Uu(o,s.node,r,null,t))},u=function(e){r=r?r.left=e:o=e},c=0;c<t.count;++c){var l=t.nextBitIsOne(),h=Math.pow(2,t.count-(c+1));l?s(h,Uu.BLACK):(s(h,Uu.BLACK),s(h,Uu.RED))}return o}(new ic(e.length));return new Wu(r||t,o)},cc={},lc=(Object.defineProperty(hc,"Default",{get:function(){return ao(nc,"ChildrenNode.ts has not been loaded"),ac=ac||new hc({".priority":cc},{".priority":nc})},enumerable:!1,configurable:!0}),hc.prototype.get=function(e){var t=Lo(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof Wu?t:null},hc.prototype.hasIndex=function(e){return jo(this.indexSet_,e.toString())},hc.prototype.addIndex=function(e,t){ao(e!==Lu,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var n=[],r=!1,i=t.getIterator(Au.Wrap),o=i.getNext();o;)r=r||e.isDefinedOn(o.node),n.push(o),o=i.getNext();var a=r?uc(n,e.getCompare()):cc,s=e.toString(),u=Yi({},this.indexSet_);return u[s]=e,(t=Yi({},this.indexes_))[s]=a,new hc(t,u)},hc.prototype.addToIndexes=function(e,t){var n=this;return new hc(Fo(this.indexes_,(function(r,i){var o=Lo(n.indexSet_,i);if(ao(o,"Missing index implementation for "+i),r===cc){if(o.isDefinedOn(e.node)){for(var a=[],s=t.getIterator(Au.Wrap),u=s.getNext();u;)u.name!==e.name&&a.push(u),u=s.getNext();return a.push(e),uc(a,o.getCompare())}return cc}return o=r,(o=(i=t.get(e.name))?r.remove(new Au(e.name,i)):o).insert(e,e.node)})),this.indexSet_)},hc.prototype.removeFromIndexes=function(e,t){return new hc(Fo(this.indexes_,(function(n){if(n===cc)return n;var r=t.get(e.name);return r?n.remove(new Au(e.name,r)):n})),this.indexSet_)},hc);function hc(e,t){this.indexes_=e,this.indexSet_=t}var fc,dc=(Object.defineProperty(pc,"EMPTY_NODE",{get:function(){return sc=sc||new pc(new Wu(Ku),null,lc.Default)},enumerable:!1,configurable:!0}),pc.prototype.isLeafNode=function(){return!1},pc.prototype.getPriority=function(){return this.priorityNode_||sc},pc.prototype.updatePriority=function(e){return this.children_.isEmpty()?this:new pc(this.children_,e,this.indexMap_)},pc.prototype.getImmediateChild=function(e){return".priority"===e?this.getPriority():null===(e=this.children_.get(e))?sc:e},pc.prototype.getChild=function(e){var t=su(e);return null===t?this:this.getImmediateChild(t).getChild(cu(e))},pc.prototype.hasChild=function(e){return null!==this.children_.get(e)},pc.prototype.updateImmediateChild=function(e,t){if(ao(t,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(t);var n=new Au(e,t),r=void 0,i=void 0;return i=t.isEmpty()?(r=this.children_.remove(e),this.indexMap_.removeFromIndexes(n,this.children_)):(r=this.children_.insert(e,t),this.indexMap_.addToIndexes(n,this.children_)),n=r.isEmpty()?sc:this.priorityNode_,new pc(r,n,i)},pc.prototype.updateChild=function(e,t){var n=su(e);return null===n?t:(ao(".priority"!==su(e)||1===uu(e),".priority must be the last token in a path"),t=this.getImmediateChild(n).updateChild(cu(e),t),this.updateImmediateChild(n,t))},pc.prototype.isEmpty=function(){return this.children_.isEmpty()},pc.prototype.numChildren=function(){return this.children_.count()},pc.prototype.val=function(e){if(this.isEmpty())return null;var t={},n=0,r=0,i=!0;if(this.forEachChild(nc,(function(o,a){t[o]=a.val(e),n++,i&&pc.INTEGER_REGEXP_.test(o)?r=Math.max(r,Number(o)):i=!1})),!e&&i&&r<2*n){var o,a=[];for(o in t)a[o]=t[o];return a}return e&&!this.getPriority().isEmpty()&&(t[".priority"]=this.getPriority().val()),t},pc.prototype.hash=function(){var e;return null===this.lazyHash_&&(e="",this.getPriority().isEmpty()||(e+="priority:"+Gu(this.getPriority().val())+":"),this.forEachChild(nc,(function(t,n){""!==(n=n.hash())&&(e+=":"+t+":"+n)})),this.lazyHash_=""===e?"":Ba(e)),this.lazyHash_},pc.prototype.getPredecessorChildName=function(e,t,n){return(n=this.resolveIndex_(n))?(t=n.getPredecessorKey(new Au(e,t)))?t.name:null:this.children_.getPredecessorKey(e)},pc.prototype.getFirstChildName=function(e){return(e=this.resolveIndex_(e))?(e=e.minKey())&&e.name:this.children_.minKey()},pc.prototype.getFirstChild=function(e){return(e=this.getFirstChildName(e))?new Au(e,this.children_.get(e)):null},pc.prototype.getLastChildName=function(e){return(e=this.resolveIndex_(e))?(e=e.maxKey())&&e.name:this.children_.maxKey()},pc.prototype.getLastChild=function(e){return(e=this.getLastChildName(e))?new Au(e,this.children_.get(e)):null},pc.prototype.forEachChild=function(e,t){return(e=this.resolveIndex_(e))?e.inorderTraversal((function(e){return t(e.name,e.node)})):this.children_.inorderTraversal(t)},pc.prototype.getIterator=function(e){return this.getIteratorFrom(e.minPost(),e)},pc.prototype.getIteratorFrom=function(e,t){var n=this.resolveIndex_(t);if(n)return n.getIteratorFrom(e,(function(e){return e}));for(var r=this.children_.getIteratorFrom(e.name,Au.Wrap),i=r.peek();null!=i&&t.compare(i,e)<0;)r.getNext(),i=r.peek();return r},pc.prototype.getReverseIterator=function(e){return this.getReverseIteratorFrom(e.maxPost(),e)},pc.prototype.getReverseIteratorFrom=function(e,t){var n=this.resolveIndex_(t);if(n)return n.getReverseIteratorFrom(e,(function(e){return e}));for(var r=this.children_.getReverseIteratorFrom(e.name,Au.Wrap),i=r.peek();null!=i&&0<t.compare(i,e);)r.getNext(),i=r.peek();return r},pc.prototype.compareTo=function(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===gc?-1:0},pc.prototype.withIndex=function(e){return e===Lu||this.indexMap_.hasIndex(e)?this:(e=this.indexMap_.addIndex(e,this.children_),new pc(this.children_,this.priorityNode_,e))},pc.prototype.isIndexed=function(e){return e===Lu||this.indexMap_.hasIndex(e)},pc.prototype.equals=function(e){if(e===this)return!0;if(e.isLeafNode())return!1;if(this.getPriority().equals(e.getPriority())){if(this.children_.count()!==e.children_.count())return!1;for(var t=this.getIterator(nc),n=e.getIterator(nc),r=t.getNext(),i=n.getNext();r&&i;){if(r.name!==i.name||!r.node.equals(i.node))return!1;r=t.getNext(),i=n.getNext()}return null===r&&null===i}return!1},pc.prototype.resolveIndex_=function(e){return e===Lu?null:this.indexMap_.get(e.toString())},pc.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,pc);function pc(e,t,n){this.children_=e,this.priorityNode_=t,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&Ju(this.priorityNode_),this.children_.isEmpty()&&ao(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}function vc(){return fc.call(this,new Wu(Ku),dc.EMPTY_NODE,lc.Default)||this}var gc=new($i(vc,fc=dc),vc.prototype.compareTo=function(e){return e===this?0:1},vc.prototype.equals=function(e){return e===this},vc.prototype.getPriority=function(){return this},vc.prototype.getImmediateChild=function(e){return dc.EMPTY_NODE},vc.prototype.isEmpty=function(){return!1},vc);Object.defineProperties(Au,{MIN:{value:new Au(as,dc.EMPTY_NODE)},MAX:{value:new Au(ss,gc)}}),li.__EMPTY_NODE=dc.EMPTY_NODE,Zu.__childrenNodeConstructor=dc,Yu=Vu=gc;var yc=!0;function mc(e,t){if(void 0===t&&(t=null),null===e)return dc.EMPTY_NODE;if("object"==typeof e&&".priority"in e&&(t=e[".priority"]),ao(null===t||"string"==typeof t||"number"==typeof t||"object"==typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"!=typeof(e="object"==typeof e&&".value"in e&&null!==e[".value"]?e[".value"]:e)||".sv"in e)return new Zu(e,mc(t));if(e instanceof Array||!yc){var n=dc.EMPTY_NODE;return ls(e,(function(t,r){jo(e,t)&&"."!==t.substring(0,1)&&(!(r=mc(r)).isLeafNode()&&r.isEmpty()||(n=n.updateImmediateChild(t,r)))})),n.updatePriority(mc(t))}var r=[],i=!1;if(ls(e,(function(e,t){"."!==e.substring(0,1)&&((t=mc(t)).isEmpty()||(i=i||!t.getPriority().isEmpty(),r.push(new Au(e,t))))})),0===r.length)return dc.EMPTY_NODE;var o=uc(r,Hu,(function(e){return e.name}),Ku);if(i){var a=uc(r,nc.getCompare());return new dc(o,mc(t),new lc({".priority":a},{".priority":nc}))}return new dc(o,mc(t),lc.Default)}$u=mc;var bc,_c,wc=($i(Ec,bc=G),Ec.prototype.extractChild=function(e){return e.getChild(this.indexPath_)},Ec.prototype.isDefinedOn=function(e){return!e.getChild(this.indexPath_).isEmpty()},Ec.prototype.compare=function(e,t){var n=this.extractChild(e.node),r=this.extractChild(t.node);return 0===(r=n.compareTo(r))?us(e.name,t.name):r},Ec.prototype.makePost=function(e,t){return e=mc(e),e=dc.EMPTY_NODE.updateChild(this.indexPath_,e),new Au(t,e)},Ec.prototype.maxPost=function(){var e=dc.EMPTY_NODE.updateChild(this.indexPath_,gc);return new Au(ss,e)},Ec.prototype.toString=function(){return hu(this.indexPath_,0).join("/")},Ec);function Ec(e){var t=bc.call(this)||this;return t.indexPath_=e,ao(!pu(e)&&".priority"!==su(e),"Can't create PathIndex with empty path or .priority key"),t}function Sc(){return null!==_c&&_c.apply(this,arguments)||this}function Tc(e){if(e===""+vs)return"-";var t=gs(e);if(null!=t)return""+(t+1);for(var n=new Array(e.length),r=0;r<n.length;r++)n[r]=e.charAt(r);if(n.length<786)return n.push("-"),n.join("");for(var i=n.length-1;0<=i&&"z"===n[i];)i--;return-1===i?ss:(t=n[i],t=xc.charAt(xc.indexOf(t)+1),n[i]=t,n.slice(0,i+1).join(""))}function Cc(e){if(e===""+ps)return as;var t=gs(e);if(null!=t)return""+(t-1);for(var n=new Array(e.length),r=0;r<n.length;r++)n[r]=e.charAt(r);return"-"===n[n.length-1]?1===n.length?""+vs:(delete n[n.length-1],n.join("")):(n[n.length-1]=xc.charAt(xc.indexOf(n[n.length-1])-1),n.join("")+"z".repeat(786-n.length))}var Ic,kc,Oc=new($i(Sc,_c=G),Sc.prototype.compare=function(e,t){var n=e.node.compareTo(t.node);return 0===n?us(e.name,t.name):n},Sc.prototype.isDefinedOn=function(e){return!0},Sc.prototype.indexedValueChanged=function(e,t){return!e.equals(t)},Sc.prototype.minPost=function(){return Au.MIN},Sc.prototype.maxPost=function(){return Au.MAX},Sc.prototype.makePost=function(e,t){return e=mc(e),new Au(t,e)},Sc.prototype.toString=function(){return".value"},Sc),xc="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",Pc=(Ic=0,kc=[],function(e){var t=e===Ic;Ic=e;for(var n=new Array(8),r=7;0<=r;r--)n[r]=xc.charAt(e%64),e=Math.floor(e/64);ao(0===e,"Cannot push at time == 0");var i=n.join("");if(t){for(r=11;0<=r&&63===kc[r];r--)kc[r]=0;kc[r]++}else for(r=0;r<12;r++)kc[r]=Math.floor(64*Math.random());for(r=0;r<12;r++)i+=xc.charAt(kc[r]);return ao(20===i.length,"nextPushId: Length should be 20."),i});function Nc(e){return{type:"value",snapshotNode:e}}function Ac(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function Rc(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function Dc(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}var jc=(Lc.prototype.updateChild=function(e,t,n,r,i,o){ao(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");var a=e.getImmediateChild(t);return a.getChild(r).equals(n.getChild(r))&&a.isEmpty()===n.isEmpty()?e:(null!=o&&(n.isEmpty()?e.hasChild(t)?o.trackChildChange(Rc(t,a)):ao(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?o.trackChildChange(Ac(t,n)):o.trackChildChange(Dc(t,n,a))),e.isLeafNode()&&n.isEmpty()?e:e.updateImmediateChild(t,n).withIndex(this.index_))},Lc.prototype.updateFullNode=function(e,t,n){return null!=n&&(e.isLeafNode()||e.forEachChild(nc,(function(e,r){t.hasChild(e)||n.trackChildChange(Rc(e,r))})),t.isLeafNode()||t.forEachChild(nc,(function(t,r){var i;e.hasChild(t)?(i=e.getImmediateChild(t)).equals(r)||n.trackChildChange(Dc(t,r,i)):n.trackChildChange(Ac(t,r))}))),t.withIndex(this.index_)},Lc.prototype.updatePriority=function(e,t){return e.isEmpty()?dc.EMPTY_NODE:e.updatePriority(t)},Lc.prototype.filtersNodes=function(){return!1},Lc.prototype.getIndexedFilter=function(){return this},Lc.prototype.getIndex=function(){return this.index_},Lc);function Lc(e){this.index_=e}var Mc=(Fc.prototype.getStartPost=function(){return this.startPost_},Fc.prototype.getEndPost=function(){return this.endPost_},Fc.prototype.matches=function(e){return this.index_.compare(this.getStartPost(),e)<=0&&this.index_.compare(e,this.getEndPost())<=0},Fc.prototype.updateChild=function(e,t,n,r,i,o){return this.matches(new Au(t,n))||(n=dc.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,n,r,i,o)},Fc.prototype.updateFullNode=function(e,t,n){t.isLeafNode()&&(t=dc.EMPTY_NODE);var r=(r=t.withIndex(this.index_)).updatePriority(dc.EMPTY_NODE),i=this;return t.forEachChild(nc,(function(e,t){i.matches(new Au(e,t))||(r=r.updateImmediateChild(e,dc.EMPTY_NODE))})),this.indexedFilter_.updateFullNode(e,r,n)},Fc.prototype.updatePriority=function(e,t){return e},Fc.prototype.filtersNodes=function(){return!0},Fc.prototype.getIndexedFilter=function(){return this.indexedFilter_},Fc.prototype.getIndex=function(){return this.index_},Fc.getStartPost_=function(e){if(e.hasStart()){var t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}return e.getIndex().minPost()},Fc.getEndPost_=function(e){if(e.hasEnd()){var t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}return e.getIndex().maxPost()},Fc);function Fc(e){this.indexedFilter_=new jc(e.getIndex()),this.index_=e.getIndex(),this.startPost_=Fc.getStartPost_(e),this.endPost_=Fc.getEndPost_(e)}var Uc=(qc.prototype.updateChild=function(e,t,n,r,i,o){return this.rangedFilter_.matches(new Au(t,n))||(n=dc.EMPTY_NODE),e.getImmediateChild(t).equals(n)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,n,r,i,o):this.fullLimitUpdateChild_(e,t,n,i,o)},qc.prototype.updateFullNode=function(e,t,n){if(t.isLeafNode()||t.isEmpty())r=dc.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){var r=dc.EMPTY_NODE.withIndex(this.index_),i=void 0;i=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var o=0;i.hasNext()&&o<this.limit_;){var a=i.getNext();if(!(this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),a)<=0:this.index_.compare(a,this.rangedFilter_.getEndPost())<=0))break;r=r.updateImmediateChild(a.name,a.node),o++}}else{r=(r=t.withIndex(this.index_)).updatePriority(dc.EMPTY_NODE);var s,u=void 0,c=void 0,l=void 0;i=void 0,l=this.reverse_?(i=r.getReverseIterator(this.index_),u=this.rangedFilter_.getEndPost(),c=this.rangedFilter_.getStartPost(),s=this.index_.getCompare(),function(e,t){return s(t,e)}):(i=r.getIterator(this.index_),u=this.rangedFilter_.getStartPost(),c=this.rangedFilter_.getEndPost(),this.index_.getCompare()),o=0;for(var h=!1;i.hasNext();)a=i.getNext(),(h=!h&&l(u,a)<=0||h)&&o<this.limit_&&l(a,c)<=0?o++:r=r.updateImmediateChild(a.name,dc.EMPTY_NODE)}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,n)},qc.prototype.updatePriority=function(e,t){return e},qc.prototype.filtersNodes=function(){return!0},qc.prototype.getIndexedFilter=function(){return this.rangedFilter_.getIndexedFilter()},qc.prototype.getIndex=function(){return this.index_},qc.prototype.fullLimitUpdateChild_=function(e,t,n,r,i){var o,a;a=this.reverse_?(o=this.index_.getCompare(),function(e,t){return o(t,e)}):this.index_.getCompare();var s=e;ao(s.numChildren()===this.limit_,"");var u=new Au(t,n),c=this.reverse_?s.getFirstChild(this.index_):s.getLastChild(this.index_),l=this.rangedFilter_.matches(u);if(s.hasChild(t)){for(var h=s.getImmediateChild(t),f=r.getChildAfterChild(this.index_,c,this.reverse_);null!=f&&(f.name===t||s.hasChild(f.name));)f=r.getChildAfterChild(this.index_,f,this.reverse_);var d=null==f?1:a(f,u);return l&&!n.isEmpty()&&0<=d?(null!=i&&i.trackChildChange(Dc(t,n,h)),s.updateImmediateChild(t,n)):(null!=i&&i.trackChildChange(Rc(t,h)),h=s.updateImmediateChild(t,dc.EMPTY_NODE),null!=f&&this.rangedFilter_.matches(f)?(null!=i&&i.trackChildChange(Ac(f.name,f.node)),h.updateImmediateChild(f.name,f.node)):h)}return!n.isEmpty()&&l&&0<=a(c,u)?(null!=i&&(i.trackChildChange(Rc(c.name,c.node)),i.trackChildChange(Ac(t,n))),s.updateImmediateChild(t,n).updateImmediateChild(c.name,dc.EMPTY_NODE)):e},qc);function qc(e){this.rangedFilter_=new Mc(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft()}var Bc=(Vc.prototype.hasStart=function(){return this.startSet_},Vc.prototype.hasStartAfter=function(){return this.startAfterSet_},Vc.prototype.hasEndBefore=function(){return this.endBeforeSet_},Vc.prototype.isViewFromLeft=function(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_},Vc.prototype.getIndexStartValue=function(){return ao(this.startSet_,"Only valid if start has been set"),this.indexStartValue_},Vc.prototype.getIndexStartName=function(){return ao(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:as},Vc.prototype.hasEnd=function(){return this.endSet_},Vc.prototype.getIndexEndValue=function(){return ao(this.endSet_,"Only valid if end has been set"),this.indexEndValue_},Vc.prototype.getIndexEndName=function(){return ao(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:ss},Vc.prototype.hasLimit=function(){return this.limitSet_},Vc.prototype.hasAnchoredLimit=function(){return this.limitSet_&&""!==this.viewFrom_},Vc.prototype.getLimit=function(){return ao(this.limitSet_,"Only valid if limit has been set"),this.limit_},Vc.prototype.getIndex=function(){return this.index_},Vc.prototype.loadsAllData=function(){return!(this.startSet_||this.endSet_||this.limitSet_)},Vc.prototype.isDefault=function(){return this.loadsAllData()&&this.index_===nc},Vc.prototype.copy=function(){var e=new Vc;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e},Vc);function Vc(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=nc}function Wc(e,t,n){return(e=e.copy()).startSet_=!0,e.indexStartValue_=t=void 0===t?null:t,null!=n?(e.startNameSet_=!0,e.indexStartName_=n):(e.startNameSet_=!1,e.indexStartName_=""),e}function zc(e,t,n){return(e=e.copy()).endSet_=!0,e.indexEndValue_=t=void 0===t?null:t,void 0!==n?(e.endNameSet_=!0,e.indexEndName_=n):(e.endNameSet_=!1,e.indexEndName_=""),e}function Hc(e,t){return(e=e.copy()).index_=t,e}function Kc(e){var t,n={};return e.isDefault()||(t=e.index_===nc?"$priority":e.index_===Oc?"$value":e.index_===Lu?"$key":(ao(e.index_ instanceof wc,"Unrecognized index type!"),e.index_.toString()),n.orderBy=Ro(t),e.startSet_&&(n.startAt=Ro(e.indexStartValue_),e.startNameSet_&&(n.startAt+=","+Ro(e.indexStartName_))),e.endSet_&&(n.endAt=Ro(e.indexEndValue_),e.endNameSet_&&(n.endAt+=","+Ro(e.indexEndName_))),e.limitSet_&&(e.isViewFromLeft()?n.limitToFirst=e.limit_:n.limitToLast=e.limit_)),n}function Gc(e){var t,n={};return e.startSet_&&(n.sp=e.indexStartValue_,e.startNameSet_&&(n.sn=e.indexStartName_)),e.endSet_&&(n.ep=e.indexEndValue_,e.endNameSet_&&(n.en=e.indexEndName_)),e.limitSet_&&(n.l=e.limit_,""===(t=e.viewFrom_)&&(t=e.isViewFromLeft()?"l":"r"),n.vf=t),e.index_!==nc&&(n.i=e.index_.toString()),n}var Qc,$c=($i(Yc,Qc=Q),Yc.prototype.reportStats=function(e){throw new Error("Method not implemented.")},Yc.getListenId_=function(e,t){return void 0!==t?"tag$"+t:(ao(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())},Yc.prototype.listen=function(e,t,n,r){var i=this,o=e._path.toString();this.log_("Listen called for "+o+" "+e._queryIdentifier);var a=Yc.getListenId_(e,n),s={};this.listens_[a]=s,e=Kc(e._queryParams),this.restRequest_(o+".json",e,(function(e,t){null===(e=404===e?t=null:e)&&i.onDataUpdate_(o,t,!1,n),Lo(i.listens_,a)===s&&r(e?401===e?"permission_denied":"rest_error:"+e:"ok",null)}))},Yc.prototype.unlisten=function(e,t){t=Yc.getListenId_(e,t),delete this.listens_[t]},Yc.prototype.get=function(e){var t=this,n=Kc(e._queryParams),r=e._path.toString(),i=new fo;return this.restRequest_(r+".json",n,(function(e,n){null===(e=404===e?n=null:e)?(t.onDataUpdate_(r,n,!1,null),i.resolve(n)):i.reject(new Error(n))})),i.promise},Yc.prototype.refreshAuthToken=function(e){},Yc.prototype.restRequest_=function(e,t,n){var r=this;return(t=void 0===t?{}:t).format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then((function(i){i=(o=eo(i,2))[0];var o=o[1];i&&i.accessToken&&(t.auth=i.accessToken),o&&o.token&&(t.ac=o.token);var a=(r.repoInfo_.secure?"https://":"http://")+r.repoInfo_.host+e+"?ns="+r.repoInfo_.namespace+Uo(t);r.log_("Sending REST request for "+a);var s=new XMLHttpRequest;s.onreadystatechange=function(){if(n&&4===s.readyState){r.log_("REST Response for "+a+" received. status:",s.status,"response:",s.responseText);var e=null;if(200<=s.status&&s.status<300){try{e=Ao(s.responseText)}catch(e){os("Failed to parse JSON response for "+a+": "+s.responseText)}n(null,e)}else 401!==s.status&&404!==s.status&&os("Got unsuccessful REST response for "+a+" Status: "+s.status),n(s.status);n=null}},s.open("GET",a,!0),s.send()}))},Yc);function Yc(e,t,n,r){var i=Qc.call(this)||this;return i.repoInfo_=e,i.onDataUpdate_=t,i.authTokenProvider_=n,i.appCheckTokenProvider_=r,i.log_=rs("p:rest:"),i.listens_={},i}var Xc=(Jc.prototype.getNode=function(e){return this.rootNode_.getChild(e)},Jc.prototype.updateSnapshot=function(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)},Jc);function Jc(){this.rootNode_=dc.EMPTY_NODE}function Zc(){return{value:null,children:new Map}}function el(e,t,n){var r;pu(t)?(e.value=n,e.children.clear()):null!==e.value?e.value=e.value.updateChild(t,n):(r=su(t),e.children.has(r)||e.children.set(r,Zc()),el(e.children.get(r),t=cu(t),n))}function tl(e,t,n){var r;null!==e.value?n(t,e.value):(r=function(e,r){tl(r,new iu(t.toString()+"/"+e),n)},e.children.forEach((function(e,t){r(t,e)})))}var nl=(rl.prototype.get=function(){var e=this.collection_.get(),t=Yi({},e);return this.last_&&ls(this.last_,(function(e,n){t[e]=t[e]-n})),this.last_=e,t},rl);function rl(e){this.collection_=e,this.last_=null}var il,ol=(al.prototype.reportStats_=function(){var e=this,t=this.statsListener_.get(),n={},r=!1;ls(t,(function(t,i){0<i&&jo(e.statsToReport_,t)&&(n[t]=i,r=!0)})),r&&this.server_.reportStats(n),fs(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))},al);function al(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new nl(e),e=1e4+2e4*Math.random(),fs(this.reportStats_.bind(this),Math.floor(e))}function sl(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function ul(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function cl(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}(Xs=il=il||{})[Xs.OVERWRITE=0]="OVERWRITE",Xs[Xs.MERGE=1]="MERGE",Xs[Xs.ACK_USER_WRITE=2]="ACK_USER_WRITE",Xs[Xs.LISTEN_COMPLETE=3]="LISTEN_COMPLETE";var ll=(hl.prototype.operationForChild=function(e){if(pu(this.path)){if(null!=this.affectedTree.value)return ao(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var t=this.affectedTree.subtree(new iu(e));return new hl(au(),t,this.revert)}return ao(su(this.path)===e,"operationForChild called for unrelated child."),new hl(cu(this.path),this.affectedTree,this.revert)},hl);function hl(e,t,n){this.path=e,this.affectedTree=t,this.revert=n,this.type=il.ACK_USER_WRITE,this.source=sl()}var fl=(dl.prototype.operationForChild=function(e){return pu(this.path)?new dl(this.source,au()):new dl(this.source,cu(this.path))},dl);function dl(e,t){this.source=e,this.path=t,this.type=il.LISTEN_COMPLETE}var pl=(vl.prototype.operationForChild=function(e){return pu(this.path)?new vl(this.source,au(),this.snap.getImmediateChild(e)):new vl(this.source,cu(this.path),this.snap)},vl);function vl(e,t,n){this.source=e,this.path=t,this.snap=n,this.type=il.OVERWRITE}var gl=(yl.prototype.operationForChild=function(e){if(pu(this.path)){var t=this.children.subtree(new iu(e));return t.isEmpty()?null:t.value?new pl(this.source,au(),t.value):new yl(this.source,au(),t)}return ao(su(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new yl(this.source,cu(this.path),this.children)},yl.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"},yl);function yl(e,t,n){this.source=e,this.path=t,this.children=n,this.type=il.MERGE}var ml=(bl.prototype.isFullyInitialized=function(){return this.fullyInitialized_},bl.prototype.isFiltered=function(){return this.filtered_},bl.prototype.isCompleteForPath=function(e){return pu(e)?this.isFullyInitialized()&&!this.filtered_:(e=su(e),this.isCompleteForChild(e))},bl.prototype.isCompleteForChild=function(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)},bl.prototype.getNode=function(){return this.node_},bl);function bl(e,t,n){this.node_=e,this.fullyInitialized_=t,this.filtered_=n}var _l,wl=function(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()};function El(e,t,n,r){var i=[],o=[];return t.forEach((function(t){var n;"child_changed"===t.type&&e.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&o.push((n=t.childName,{type:"child_moved",snapshotNode:t.snapshotNode,childName:n}))})),Sl(e,i,"child_removed",t,r,n),Sl(e,i,"child_added",t,r,n),Sl(e,i,"child_moved",o,r,n),Sl(e,i,"child_changed",t,r,n),Sl(e,i,"value",t,r,n),i}function Sl(e,t,n,r,i,o){(r=r.filter((function(e){return e.type===n}))).sort((function(t,n){return function(e,t,n){if(null==t.childName||null==n.childName)throw so("Should only compare child_ events.");return t=new Au(t.childName,t.snapshotNode),n=new Au(n.childName,n.snapshotNode),e.index_.compare(t,n)}(e,t,n)})),r.forEach((function(n){var r,a,s,u=(r=e,s=o,"value"===(a=n).type||"child_removed"===a.type||(a.prevName=s.getPredecessorChildName(a.childName,a.snapshotNode,r.index_)),a);i.forEach((function(r){r.respondsTo(n.type)&&t.push(r.createEvent(u,e.query_))}))}))}function Tl(e,t){return{eventCache:e,serverCache:t}}function Cl(e,t,n,r){return Tl(new ml(t,n,r),e.serverCache)}function Il(e,t,n,r){return Tl(e.eventCache,new ml(t,n,r))}function kl(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function Ol(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}var xl=(Pl.fromObject=function(e){var t=new Pl(null);return ls(e,(function(e,n){t=t.set(new iu(e),n)})),t},Pl.prototype.isEmpty=function(){return null===this.value&&this.children.isEmpty()},Pl.prototype.findRootMostMatchingPathAndValue=function(e,t){if(null!=this.value&&t(this.value))return{path:au(),value:this.value};if(pu(e))return null;var n=su(e),r=this.children.get(n);return null===r||null==(t=r.findRootMostMatchingPathAndValue(cu(e),t))?null:{path:du(new iu(n),t.path),value:t.value}},Pl.prototype.findRootMostValueAndPath=function(e){return this.findRootMostMatchingPathAndValue(e,(function(){return!0}))},Pl.prototype.subtree=function(e){if(pu(e))return this;var t=su(e);return null!==(t=this.children.get(t))?t.subtree(cu(e)):new Pl(null)},Pl.prototype.set=function(e,t){if(pu(e))return new Pl(t,this.children);var n=su(e);return t=(this.children.get(n)||new Pl(null)).set(cu(e),t),t=this.children.insert(n,t),new Pl(this.value,t)},Pl.prototype.remove=function(e){if(pu(e))return this.children.isEmpty()?new Pl(null):new Pl(null,this.children);var t=su(e),n=this.children.get(t);return n?(n=n.remove(cu(e)),e=void 0,e=n.isEmpty()?this.children.remove(t):this.children.insert(t,n),null===this.value&&e.isEmpty()?new Pl(null):new Pl(this.value,e)):this},Pl.prototype.get=function(e){if(pu(e))return this.value;var t=su(e);return(t=this.children.get(t))?t.get(cu(e)):null},Pl.prototype.setTree=function(e,t){if(pu(e))return t;var n=su(e);return e=(this.children.get(n)||new Pl(null)).setTree(cu(e),t),t=void 0,t=e.isEmpty()?this.children.remove(n):this.children.insert(n,e),new Pl(this.value,t)},Pl.prototype.fold=function(e){return this.fold_(au(),e)},Pl.prototype.fold_=function(e,t){var n={};return this.children.inorderTraversal((function(r,i){n[r]=i.fold_(du(e,r),t)})),t(e,this.value,n)},Pl.prototype.findOnPath=function(e,t){return this.findOnPath_(e,au(),t)},Pl.prototype.findOnPath_=function(e,t,n){if(r=!!this.value&&n(t,this.value))return r;if(pu(e))return null;var r,i=su(e);return(r=this.children.get(i))?r.findOnPath_(cu(e),du(t,i),n):null},Pl.prototype.foreachOnPath=function(e,t){return this.foreachOnPath_(e,au(),t)},Pl.prototype.foreachOnPath_=function(e,t,n){if(pu(e))return this;this.value&&n(t,this.value);var r=su(e),i=this.children.get(r);return i?i.foreachOnPath_(cu(e),du(t,r),n):new Pl(null)},Pl.prototype.foreach=function(e){this.foreach_(au(),e)},Pl.prototype.foreach_=function(e,t){this.children.inorderTraversal((function(n,r){r.foreach_(du(e,n),t)})),this.value&&t(e,this.value)},Pl.prototype.foreachChild=function(e){this.children.inorderTraversal((function(t,n){n.value&&e(t,n.value)}))},Pl);function Pl(e,t){void 0===t&&(t=_l=_l||new Wu(Ha)),this.value=e,this.children=t}var Nl=(Al.empty=function(){return new Al(new xl(null))},Al);function Al(e){this.writeTree_=e}function Rl(e,t,n){if(pu(t))return new Nl(new xl(n));if(null!=(o=e.writeTree_.findRootMostValueAndPath(t))){var r=o.path,i=o.value,o=vu(r,t);return i=i.updateChild(o,n),new Nl(e.writeTree_.set(r,i))}return n=new xl(n),n=e.writeTree_.setTree(t,n),new Nl(n)}function Dl(e,t,n){var r=e;return ls(n,(function(e,n){r=Rl(r,du(t,e),n)})),r}function jl(e,t){return pu(t)?Nl.empty():(t=e.writeTree_.setTree(t,new xl(null)),new Nl(t))}function Ll(e,t){return null!=Ml(e,t)}function Ml(e,t){var n=e.writeTree_.findRootMostValueAndPath(t);return null!=n?e.writeTree_.get(n.path).getChild(vu(n.path,t)):null}function Fl(e){var t=[],n=e.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(nc,(function(e,n){t.push(new Au(e,n))})):e.writeTree_.children.inorderTraversal((function(e,n){null!=n.value&&t.push(new Au(e,n.value))})),t}function Ul(e,t){if(pu(t))return e;var n=Ml(e,t);return new Nl(null!=n?new xl(n):e.writeTree_.subtree(t))}function ql(e){return e.writeTree_.isEmpty()}function Bl(e,t){return function e(t,n,r){if(null!=n.value)return r.updateChild(t,n.value);var i=null;return n.children.inorderTraversal((function(n,o){".priority"===n?(ao(null!==o.value,"Priority writes must always be leaf nodes"),i=o.value):r=e(du(t,n),o,r)})),r=r.getChild(t).isEmpty()||null===i?r:r.updateChild(du(t,".priority"),i)}(au(),e.writeTree_,t)}function Vl(e,t){return eh(t,e)}function Wl(e,t){var n=e.allWrites.findIndex((function(e){return e.writeId===t}));ao(0<=n,"removeWrite called with nonexistent writeId.");var r=e.allWrites[n];e.allWrites.splice(n,1);for(var i,o=r.visible,a=!1,s=e.allWrites.length-1;o&&0<=s;){var u=e.allWrites[s];u.visible&&(n<=s&&function(e,t){if(e.snap)return mu(e.path,t);for(var n in e.children)if(e.children.hasOwnProperty(n)&&mu(du(e.path,n),t))return!0;return!1}(u,r.path)?o=!1:mu(r.path,u.path)&&(a=!0)),s--}return!!o&&(a?((i=e).visibleWrites=Hl(i.allWrites,zl,au()),0<i.allWrites.length?i.lastWriteId=i.allWrites[i.allWrites.length-1].writeId:i.lastWriteId=-1):r.snap?e.visibleWrites=jl(e.visibleWrites,r.path):ls(r.children,(function(t){e.visibleWrites=jl(e.visibleWrites,du(r.path,t))})),!0)}function zl(e){return e.visible}function Hl(e,t,n){for(var r=Nl.empty(),i=0;i<e.length;++i){var o=e[i];if(t(o)){var a=o.path,s=void 0;if(o.snap)mu(n,a)?r=Rl(r,s=vu(n,a),o.snap):mu(a,n)&&(s=vu(a,n),r=Rl(r,au(),o.snap.getChild(s)));else{if(!o.children)throw so("WriteRecord should have .snap or .children");mu(n,a)?r=Dl(r,s=vu(n,a),o.children):mu(a,n)&&(pu(s=vu(a,n))?r=Dl(r,au(),o.children):(o=Lo(o.children,su(s)))&&(s=o.getChild(cu(s)),r=Rl(r,au(),s)))}}}return r}function Kl(e,t,n,r,i){if(r||i){var o=Ul(e.visibleWrites,t);return!i&&ql(o)?n:i||null!=n||Ll(o,au())?Bl(Hl(e.allWrites,(function(e){return(e.visible||i)&&(!r||!~r.indexOf(e.writeId))&&(mu(e.path,t)||mu(t,e.path))}),t),n||dc.EMPTY_NODE):null}return null!=(o=Ml(e.visibleWrites,t))?o:ql(e=Ul(e.visibleWrites,t))?n:null!=n||Ll(e,au())?Bl(e,n||dc.EMPTY_NODE):null}function Gl(e,t,n,r){return Kl(e.writeTree,e.treePath,t,n,r)}function Ql(e,t){return function(e,t,n){var r=dc.EMPTY_NODE,i=Ml(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(nc,(function(e,t){r=r.updateImmediateChild(e,t)})),r;if(n){var o=Ul(e.visibleWrites,t);return n.forEachChild(nc,(function(e,t){t=Bl(Ul(o,new iu(e)),t),r=r.updateImmediateChild(e,t)})),Fl(o).forEach((function(e){r=r.updateImmediateChild(e.name,e.node)})),r}return Fl(Ul(e.visibleWrites,t)).forEach((function(e){r=r.updateImmediateChild(e.name,e.node)})),r}(e.writeTree,e.treePath,t)}function $l(e,t,n,r){return i=e.writeTree,e=e.treePath,ao(n||r,"Either existingEventSnap or existingServerSnap must exist"),e=du(e,t),Ll(i.visibleWrites,e)?null:ql(e=Ul(i.visibleWrites,e))?r.getChild(t):Bl(e,r.getChild(t));var i}function Yl(e,t){return n=e.writeTree,t=du(e.treePath,t),Ml(n.visibleWrites,t);var n}function Xl(e,t,n,r,i,o){return function(e,t,n,r,i,o,a){var s;if(null!=(t=Ml(e=Ul(e.visibleWrites,t),au())))s=t;else{if(null==n)return[];s=Bl(e,n)}if((s=s.withIndex(a)).isEmpty()||s.isLeafNode())return[];for(var u=[],c=a.getCompare(),l=o?s.getReverseIteratorFrom(r,a):s.getIteratorFrom(r,a),h=l.getNext();h&&u.length<i;)0!==c(h,r)&&u.push(h),h=l.getNext();return u}(e.writeTree,e.treePath,t,n,r,i,o)}function Jl(e,t,n){return r=e.writeTree,i=e.treePath,e=n,t=du(i,n=t),null!=(i=Ml(r.visibleWrites,t))?i:e.isCompleteForChild(n)?Bl(Ul(r.visibleWrites,t),e.getNode().getImmediateChild(n)):null;var r,i}function Zl(e,t){return eh(du(e.treePath,t),e.writeTree)}function eh(e,t){return{treePath:e,writeTree:t}}var th=(nh.prototype.trackChildChange=function(e){var t=e.type,n=e.childName;ao("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),ao(".priority"!==n,"Only non-priority child changes can be tracked.");var r=this.changeMap.get(n);if(r){var i=r.type;if("child_added"===t&&"child_removed"===i)this.changeMap.set(n,Dc(n,e.snapshotNode,r.snapshotNode));else if("child_removed"===t&&"child_added"===i)this.changeMap.delete(n);else if("child_removed"===t&&"child_changed"===i)this.changeMap.set(n,Rc(n,r.oldSnap));else if("child_changed"===t&&"child_added"===i)this.changeMap.set(n,Ac(n,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==i)throw so("Illegal combination of changes: "+e+" occurred after "+r);this.changeMap.set(n,Dc(n,e.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,e)},nh.prototype.getChanges=function(){return Array.from(this.changeMap.values())},nh);function nh(){this.changeMap=new Map}function rh(){}var ih=new(rh.prototype.getCompleteChild=function(e){return null},rh.prototype.getChildAfterChild=function(e,t,n){return null},rh),oh=(ah.prototype.getCompleteChild=function(e){var t=this.viewCache_.eventCache;return t.isCompleteForChild(e)?t.getNode().getImmediateChild(e):(t=null!=this.optCompleteServerCache_?new ml(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache,Jl(this.writes_,e,t))},ah.prototype.getChildAfterChild=function(e,t,n){var r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Ol(this.viewCache_);return 0===(e=Xl(this.writes_,r,t,1,n,e)).length?null:e[0]},ah);function ah(e,t,n){void 0===n&&(n=null),this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=n}function sh(e,t,n,r,i){var o,a,s,u,c,l,h,f,d=new th;if(n.type===il.OVERWRITE)var p=n,v=p.source.fromUser?lh(e,t,p.path,p.snap,r,i,d):(ao(p.source.fromServer,"Unknown source."),o=p.source.tagged||t.serverCache.isFiltered()&&!pu(p.path),ch(e,t,p.path,p.snap,r,i,o,d));else if(n.type===il.MERGE){var g=n;v=g.source.fromUser?(a=e,s=t,u=g.path,p=g.children,c=r,l=i,h=d,f=s,p.foreach((function(e,t){e=du(u,e),hh(s,su(e))&&(f=lh(a,f,e,t,c,l,h))})),p.foreach((function(e,t){e=du(u,e),hh(s,su(e))||(f=lh(a,f,e,t,c,l,h))})),f):(ao(g.source.fromServer,"Unknown source."),o=g.source.tagged||t.serverCache.isFiltered(),dh(e,t,g.path,g.children,r,i,o,d))}else if(n.type===il.ACK_USER_WRITE){var y=n;v=y.revert?function(e,t,n,r,i,o){var a;if(null!=Yl(r,n))return t;var s,u,c=new oh(r,t,i),l=t.eventCache.getNode();return i=void 0,pu(n)||".priority"===su(n)?(u=void 0,u=t.serverCache.isFullyInitialized()?Gl(r,Ol(t)):(s=t.serverCache.getNode(),ao(s instanceof dc,"serverChildren would be complete if leaf node"),Ql(r,s)),i=e.filter.updateFullNode(l,u,o)):(null==(u=Jl(r,s=su(n),t.serverCache))&&t.serverCache.isCompleteForChild(s)&&(u=l.getImmediateChild(s)),(i=null!=u?e.filter.updateChild(l,s,u,cu(n),c,o):t.eventCache.getNode().hasChild(s)?e.filter.updateChild(l,s,dc.EMPTY_NODE,cu(n),c,o):l).isEmpty()&&t.serverCache.isFullyInitialized()&&(a=Gl(r,Ol(t))).isLeafNode()&&(i=e.filter.updateFullNode(i,a,o))),a=t.serverCache.isFullyInitialized()||null!=Yl(r,au()),Cl(t,i,a,e.filter.filtersNodes())}(e,t,y.path,r,i,d):function(e,t,n,r,i,o,a){if(null!=Yl(i,n))return t;var s=t.serverCache.isFiltered(),u=t.serverCache;if(null!=r.value){if(pu(n)&&u.isFullyInitialized()||u.isCompleteForPath(n))return ch(e,t,n,u.getNode().getChild(n),i,o,s,a);if(pu(n)){var c=new xl(null);return u.getNode().forEachChild(Lu,(function(e,t){c=c.set(new iu(e),t)})),dh(e,t,n,c,i,o,s,a)}return t}var l=new xl(null);return r.foreach((function(e,t){var r=du(n,e);u.isCompleteForPath(r)&&(l=l.set(e,u.getNode().getChild(r)))})),dh(e,t,n,l,i,o,s,a)}(e,t,y.path,y.affectedTree,r,i,d)}else{if(n.type!==il.LISTEN_COMPLETE)throw so("Unknown operation type: "+n.type);y=e,i=n.path,e=r,n=d,v=uh(y,r=Il(t,(r=t.serverCache).getNode(),r.isFullyInitialized()||pu(i),r.isFiltered()),i,e,ih,n)}return function(e,t,n){var r,i,o=t.eventCache;o.isFullyInitialized()&&(r=o.getNode().isLeafNode()||o.getNode().isEmpty(),i=kl(e),(0<n.length||!e.eventCache.isFullyInitialized()||r&&!o.getNode().equals(i)||!o.getNode().getPriority().equals(i.getPriority()))&&n.push(Nc(kl(t))))}(t,v,d=d.getChanges()),{viewCache:v,changes:d}}function uh(e,t,n,r,i,o){var a=t.eventCache;if(null!=Yl(r,n))return t;var s,u,c,l,h=void 0,f=void 0;return h=pu(n)?(ao(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()?(s=Ql(r,(s=Ol(t))instanceof dc?s:dc.EMPTY_NODE),e.filter.updateFullNode(t.eventCache.getNode(),s,o)):(u=Gl(r,Ol(t)),e.filter.updateFullNode(t.eventCache.getNode(),u,o))):".priority"===(u=su(n))?(ao(1===uu(n),"Can't have a priority with additional path components"),null!=(l=$l(r,n,c=a.getNode(),f=t.serverCache.getNode()))?e.filter.updatePriority(c,l):a.getNode()):(c=cu(n),l=void 0,null!=(l=a.isCompleteForChild(u)?(f=t.serverCache.getNode(),null!=(f=$l(r,n,a.getNode(),f))?a.getNode().getImmediateChild(u).updateChild(c,f):a.getNode().getImmediateChild(u)):Jl(r,u,t.serverCache))?e.filter.updateChild(a.getNode(),u,l,c,i,o):a.getNode()),Cl(t,h,a.isFullyInitialized()||pu(n),e.filter.filtersNodes())}function ch(e,t,n,r,i,o,a,s){var u=t.serverCache,c=a?e.filter:e.filter.getIndexedFilter();if(pu(n))h=c.updateFullNode(u.getNode(),r,null);else if(c.filtersNodes()&&!u.isFiltered())var l=u.getNode().updateChild(n,r),h=c.updateFullNode(u.getNode(),l,null);else{if(a=su(n),!u.isCompleteForPath(n)&&1<uu(n))return t;l=cu(n),r=u.getNode().getImmediateChild(a).updateChild(l,r),h=".priority"===a?c.updatePriority(u.getNode(),r):c.updateChild(u.getNode(),a,r,l,ih,null)}return uh(e,c=Il(t,h,u.isFullyInitialized()||pu(n),c.filtersNodes()),n,i,new oh(i,c,o),s)}function lh(e,t,n,r,i,o,a){var s,u,c=t.eventCache,l=new oh(i,t,o);return pu(n)?(u=e.filter.updateFullNode(t.eventCache.getNode(),r,a),Cl(t,u,!0,e.filter.filtersNodes())):".priority"===(s=su(n))?(u=e.filter.updatePriority(t.eventCache.getNode(),r),Cl(t,u,c.isFullyInitialized(),c.isFiltered())):(i=cu(n),o=c.getNode().getImmediateChild(s),u=void 0,u=pu(i)?r:null!=(n=l.getCompleteChild(s))?".priority"===lu(i)&&n.getChild(fu(i)).isEmpty()?n:n.updateChild(i,r):dc.EMPTY_NODE,o.equals(u)?t:Cl(t,e.filter.updateChild(c.getNode(),s,u,i,l,a),c.isFullyInitialized(),e.filter.filtersNodes()))}function hh(e,t){return e.eventCache.isCompleteForChild(t)}function fh(e,t,n){return n.foreach((function(e,n){t=t.updateChild(e,n)})),t}function dh(e,t,n,r,i,o,a,s){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;var u=t,c=(r=pu(n)?r:new xl(null).setTree(n,r),t.serverCache.getNode());return r.children.inorderTraversal((function(n,r){c.hasChild(n)&&(r=fh(0,t.serverCache.getNode().getImmediateChild(n),r),u=ch(e,u,new iu(n),r,i,o,a,s))})),r.children.inorderTraversal((function(n,r){var l=!t.serverCache.isCompleteForChild(n)&&void 0===r.value;c.hasChild(n)||l||(r=fh(0,t.serverCache.getNode().getImmediateChild(n),r),u=ch(e,u,new iu(n),r,i,o,a,s))})),u}var ph,vh=(Object.defineProperty(gh.prototype,"query",{get:function(){return this.query_},enumerable:!1,configurable:!0}),gh);function gh(e,t){this.query_=e,this.eventRegistrations_=[];var n=this.query_._queryParams,r=new jc(n.getIndex()),i=(o=n).loadsAllData()?new jc(o.getIndex()):new(o.hasLimit()?Uc:Mc)(o);this.processor_={filter:i},e=t.serverCache,n=t.eventCache;var o=r.updateFullNode(dc.EMPTY_NODE,e.getNode(),null);t=i.updateFullNode(dc.EMPTY_NODE,n.getNode(),null),r=new ml(o,e.isFullyInitialized(),r.filtersNodes()),i=new ml(t,n.isFullyInitialized(),i.filtersNodes()),this.viewCache_=Tl(i,r),this.eventGenerator_=new wl(this.query_)}function yh(e){return 0===e.eventRegistrations_.length}function mh(e,t,n){var r,i=[];if(n&&(ao(null==t,"A cancel should cancel all event registrations."),r=e.query._path,e.eventRegistrations_.forEach((function(e){(e=e.createCancelEvent(n,r))&&i.push(e)}))),t){for(var o=[],a=0;a<e.eventRegistrations_.length;++a){var s=e.eventRegistrations_[a];if(s.matches(t)){if(t.hasAnyCallback()){o=o.concat(e.eventRegistrations_.slice(a+1));break}}else o.push(s)}e.eventRegistrations_=o}else e.eventRegistrations_=[];return i}function bh(e,t,n,r){t.type===il.MERGE&&null!==t.source.queryId&&(ao(Ol(e.viewCache_),"We should always have a full cache before handling merges"),ao(kl(e.viewCache_),"Missing event cache, even though we have a server cache"));var i=e.viewCache_;return t=sh(e.processor_,i,t,n,r),n=e.processor_,r=t.viewCache,ao(r.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),ao(r.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed"),ao(t.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=t.viewCache,_h(e,t.changes,t.viewCache.eventCache.getNode(),null)}function _h(e,t,n,r){return r=r?[r]:e.eventRegistrations_,El(e.eventGenerator_,t,n,r)}var wh,Eh=function(){this.views=new Map};function Sh(e,t,n,r){var i,o,a=t.source.queryId;if(null!==a){var s=e.views.get(a);return ao(null!=s,"SyncTree gave us an op for an invalid query."),bh(s,t,n,r)}var u=[];try{for(var c=Zi(e.views.values()),l=c.next();!l.done;l=c.next())s=l.value,u=u.concat(bh(s,t,n,r))}catch(e){i={error:e}}finally{try{l&&!l.done&&(o=c.return)&&o.call(c)}finally{if(i)throw i.error}}return u}function Th(e,t,n,r,i){var o=t._queryIdentifier;return(e=e.views.get(o))?e:(e=!1,e=!!(o=Gl(n,i?r:null))||(o=r instanceof dc?Ql(n,r):dc.EMPTY_NODE,!1),i=Tl(new ml(o,e,!1),new ml(r,i,!1)),new vh(t,i))}function Ch(e,t,n,r,i,o){var a;return o=Th(e,t,r,i,o),e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,o),o.eventRegistrations_.push(n),t=n,o=(n=o).viewCache_.eventCache,a=[],o.getNode().isLeafNode()||o.getNode().forEachChild(nc,(function(e,t){a.push(Ac(e,t))})),o.isFullyInitialized()&&a.push(Nc(o.getNode())),_h(n,a,o.getNode(),t)}function Ih(e,t,n,r){var i,o,a=t._queryIdentifier,s=[],u=[],c=Nh(e);if("default"===a)try{for(var l=Zi(e.views.entries()),h=l.next();!h.done;h=l.next()){var f=eo(h.value,2),d=f[0],p=f[1];u=u.concat(mh(p,n,r)),yh(p)&&(e.views.delete(d),p.query._queryParams.loadsAllData()||s.push(p.query))}}catch(e){i={error:e}}finally{try{h&&!h.done&&(o=l.return)&&o.call(l)}finally{if(i)throw i.error}}else(p=e.views.get(a))&&(u=u.concat(mh(p,n,r)),yh(p)&&(e.views.delete(a),p.query._queryParams.loadsAllData()||s.push(p.query)));return c&&!Nh(e)&&s.push((ao(ph,"Reference.ts has not been loaded"),new ph(t._repo,t._path))),{removed:s,events:u}}function kh(e){var t,n,r=[];try{for(var i=Zi(e.views.values()),o=i.next();!o.done;o=i.next()){var a=o.value;a.query._queryParams.loadsAllData()||r.push(a)}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}function Oh(e,t){var n,r,i,o,a,s=null;try{for(var u=Zi(e.views.values()),c=u.next();!c.done;c=u.next()){var l=c.value;s=s||(o=t,a=void 0,(a=Ol((i=l).viewCache_))&&(i.query._queryParams.loadsAllData()||!pu(o)&&!a.getImmediateChild(su(o)).isEmpty())?a.getChild(o):null)}}catch(e){n={error:e}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}return s}function xh(e,t){return t._queryParams.loadsAllData()?Ah(e):(t=t._queryIdentifier,e.views.get(t))}function Ph(e,t){return null!=xh(e,t)}function Nh(e){return null!=Ah(e)}function Ah(e){var t,n;try{for(var r=Zi(e.views.values()),i=r.next();!i.done;i=r.next()){var o=i.value;if(o.query._queryParams.loadsAllData())return o}}catch(e){t={error:e}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}return null}var Rh=1,Dh=function(e){this.listenProvider_=e,this.syncPointTree_=new xl(null),this.pendingWriteTree_={visibleWrites:Nl.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map};function jh(e,t,n,r,i){var o,a,s,u;return o=e.pendingWriteTree_,a=t,s=n,u=i,ao(r>o.lastWriteId,"Stacking an older write on top of newer ones"),o.allWrites.push({path:a,snap:s,writeId:r,visible:u=void 0===u||u}),u&&(o.visibleWrites=Rl(o.visibleWrites,a,s)),o.lastWriteId=r,i?Wh(e,new pl(sl(),t,n)):[]}function Lh(e,t,n,r){var i,o,a;return i=e.pendingWriteTree_,o=t,a=n,ao(r>i.lastWriteId,"Stacking an older merge on top of newer ones"),i.allWrites.push({path:o,children:a,writeId:r,visible:!0}),i.visibleWrites=Dl(i.visibleWrites,o,a),i.lastWriteId=r,n=xl.fromObject(n),Wh(e,new gl(sl(),t,n))}function Mh(e,t,n){void 0===n&&(n=!1);var r=function(e,t){for(var n=0;n<e.allWrites.length;n++){var r=e.allWrites[n];if(r.writeId===t)return r}return null}(e.pendingWriteTree_,t);if(Wl(e.pendingWriteTree_,t)){var i=new xl(null);return null!=r.snap?i=i.set(au(),!0):ls(r.children,(function(e){i=i.set(new iu(e),!0)})),Wh(e,new ll(r.path,i,n))}return[]}function Fh(e,t,n){return Wh(e,new pl(ul(),t,n))}function Uh(e,t,n,r){var i=t._path,o=e.syncPointTree_.get(i),a=[];if(o&&("default"===t._queryIdentifier||Ph(o,t))){var s=Ih(o,t,n,r);if(0===o.views.size&&(e.syncPointTree_=e.syncPointTree_.remove(i)),n=s.removed,a=s.events,o=-1!==n.findIndex((function(e){return e._queryParams.loadsAllData()})),s=e.syncPointTree_.findOnPath(i,(function(e,t){return Nh(t)})),o&&!s&&!(i=e.syncPointTree_.subtree(i)).isEmpty())for(var u=i.fold((function(e,t,n){if(t&&Nh(t))return[Ah(t)];var r=[];return t&&(r=kh(t)),ls(n,(function(e,t){r=r.concat(t)})),r})),c=0;c<u.length;++c){var l=(h=u[c]).query,h=Hh(e,h);e.listenProvider_.startListening(Xh(l),Kh(e,l),h.hashFn,h.onComplete)}!s&&0<n.length&&!r&&(o?e.listenProvider_.stopListening(Xh(t),null):n.forEach((function(t){var n=e.queryToTagMap.get(Gh(t));e.listenProvider_.stopListening(Xh(t),n)}))),function(e,t){for(var n=0;n<t.length;++n){var r,i=t[n];i._queryParams.loadsAllData()||(r=Gh(i),i=e.queryToTagMap.get(r),e.queryToTagMap.delete(r),e.tagToQueryMap.delete(i))}}(e,n)}return a}function qh(e,t,n){var r=t._path,i=null,o=!1;e.syncPointTree_.foreachOnPath(r,(function(e,t){e=vu(e,r),i=i||Oh(t,e),o=o||Nh(t)}));var a=e.syncPointTree_.get(r);a?(o=o||Nh(a),i=i||Oh(a,au())):(a=new Eh,e.syncPointTree_=e.syncPointTree_.set(r,a)),null!=i?l=!0:(l=!1,i=dc.EMPTY_NODE,e.syncPointTree_.subtree(r).foreachChild((function(e,t){(t=Oh(t,au()))&&(i=i.updateImmediateChild(e,t))})));var s,u,c=Ph(a,t);c||t._queryParams.loadsAllData()||(s=Gh(t),ao(!e.queryToTagMap.has(s),"View does not exist, but we have a tag"),u=Rh++,e.queryToTagMap.set(s,u),e.tagToQueryMap.set(u,s));var l=Ch(a,t,n,Vl(e.pendingWriteTree_,r),i,l);return c||o||(a=xh(a,t),l=l.concat(function(e,t,n){var r=t._path,i=Kh(e,t);if(n=Hh(e,n),n=e.listenProvider_.startListening(Xh(t),i,n.hashFn,n.onComplete),r=e.syncPointTree_.subtree(r),i)ao(!Nh(r.value),"If we're adding a query, it shouldn't be shadowed");else for(var o=r.fold((function(e,t,n){if(!pu(e)&&t&&Nh(t))return[Ah(t).query];var r=[];return t&&(r=r.concat(kh(t).map((function(e){return e.query})))),ls(n,(function(e,t){r=r.concat(t)})),r})),a=0;a<o.length;++a){var s=o[a];e.listenProvider_.stopListening(Xh(s),Kh(e,s))}return n}(e,t,a))),l}function Bh(e,t,n){var r=e.pendingWriteTree_;return e=e.syncPointTree_.findOnPath(t,(function(e,n){if(e=Oh(n,vu(e,t)))return e})),Kl(r,t,e,n,!0)}function Vh(e,t){var n=t._path,r=null;e.syncPointTree_.foreachOnPath(n,(function(e,t){e=vu(e,n),r=r||Oh(t,e)}));var i=e.syncPointTree_.get(n);i?r=r||Oh(i,au()):(i=new Eh,e.syncPointTree_=e.syncPointTree_.set(n,i));var o=null!=r,a=o?new ml(r,!0,!1):null;return kl(Th(i,t,Vl(e.pendingWriteTree_,t._path),o?a.getNode():dc.EMPTY_NODE,o).viewCache_)}function Wh(e,t){return function e(t,n,r,i){if(pu(t.path))return zh(t,n,r,i);var o=n.get(au());null==r&&null!=o&&(r=Oh(o,au()));var a=[],s=su(t.path),u=t.operationForChild(s),c=n.children.get(s);return c&&u&&(n=r?r.getImmediateChild(s):null,s=Zl(i,s),a=a.concat(e(u,c,n,s))),o?a.concat(Sh(o,t,i,r)):a}(t,e.syncPointTree_,null,Vl(e.pendingWriteTree_,au()))}function zh(e,t,n,r){var i=t.get(au());null==n&&null!=i&&(n=Oh(i,au()));var o=[];return t.children.inorderTraversal((function(t,i){var a=n?n.getImmediateChild(t):null,s=Zl(r,t);(t=e.operationForChild(t))&&(o=o.concat(zh(t,i,a,s)))})),o=i?o.concat(Sh(i,e,r,n)):o}function Hh(e,t){var n=t.query,r=Kh(e,n);return{hashFn:function(){return(t.viewCache_.serverCache.getNode()||dc.EMPTY_NODE).hash()},onComplete:function(t){if("ok"===t)return r?function(e,t,n){var r=Qh(e,n);return r?(r=(n=$h(r)).path,n=n.queryId,t=vu(r,t),Yh(e,r,new fl(cl(n),t))):[]}(e,n._path,r):(i=n._path,Wh(e,new fl(ul(),i)));var i=(i="Unknown Error","too_big"===t?i="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===t?i="Client doesn't have permission to access the desired data.":"unavailable"===t&&(i="The service is unavailable"),(i=new Error(t+" at "+n._path.toString()+": "+i)).code=t.toUpperCase(),i);return Uh(e,n,null,i)}}}function Kh(e,t){return t=Gh(t),e.queryToTagMap.get(t)}function Gh(e){return e._path.toString()+"$"+e._queryIdentifier}function Qh(e,t){return e.tagToQueryMap.get(t)}function $h(e){var t=e.indexOf("$");return ao(-1!==t&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new iu(e.substr(0,t))}}function Yh(e,t,n){var r=e.syncPointTree_.get(t);return ao(r,"Missing sync point for query tag that we're tracking"),Sh(r,n,Vl(e.pendingWriteTree_,t),null)}function Xh(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?(ao(wh,"Reference.ts has not been loaded"),new wh(e._repo,e._path)):e}var Jh=(Zh.prototype.getImmediateChild=function(e){return new Zh(this.node_.getImmediateChild(e))},Zh.prototype.node=function(){return this.node_},Zh);function Zh(e){this.node_=e}var ef=(tf.prototype.getImmediateChild=function(e){return e=du(this.path_,e),new tf(this.syncTree_,e)},tf.prototype.node=function(){return Bh(this.syncTree_,this.path_)},tf);function tf(e,t){this.syncTree_=e,this.path_=t}var nf=function(e){return(e=e||{}).timestamp=e.timestamp||(new Date).getTime(),e},rf=function(e,t,n){return e&&"object"==typeof e?(ao(".sv"in e,"Unexpected leaf node or priority contents"),"string"==typeof e[".sv"]?of(e[".sv"],t,n):"object"==typeof e[".sv"]?af(e[".sv"],t):void ao(!1,"Unexpected server value: "+JSON.stringify(e,null,2))):e},of=function(e,t,n){if("timestamp"===e)return n.timestamp;ao(!1,"Unexpected server value: "+e)},af=function(e,t,n){return e.hasOwnProperty("increment")||ao(!1,"Unexpected server value: "+JSON.stringify(e,null,2)),"number"!=typeof(e=e.increment)&&ao(!1,"Unexpected increment value: "+e),t=t.node(),ao(null!=t,"Expected ChildrenNode.EMPTY_NODE for nulls"),t.isLeafNode()?"number"!=typeof(t=t.getValue())?e:t+e:e},sf=function(e,t,n,r){return cf(t,new ef(n,e),r)},uf=function(e,t,n){return cf(e,new Jh(t),n)};function cf(e,t,n){var r=e.getPriority().val(),i=rf(r,t.getImmediateChild(".priority"),n);if(e.isLeafNode()){var o=e;return(r=rf(o.getValue(),t,n))!==o.getValue()||i!==o.getPriority().val()?new Zu(r,mc(i)):e}var a=e;return i!==e.getPriority().val()&&(a=a.updatePriority(new Zu(i))),e.forEachChild(nc,(function(e,r){var i=cf(r,t.getImmediateChild(e),n);i!==r&&(a=a.updateImmediateChild(e,i))})),a}var lf=function(e,t,n){void 0===t&&(t=null),void 0===n&&(n={children:{},childCount:0}),this.name=e=void 0===e?"":e,this.parent=t,this.node=n};function hf(e,t){for(var n=t instanceof iu?t:new iu(t),r=e,i=su(n);null!==i;){var o=Lo(r.node.children,i)||{children:{},childCount:0};r=new lf(i,r,o),i=su(n=cu(n))}return r}function ff(e){return e.node.value}function df(e,t){e.node.value=t,yf(e)}function pf(e){return 0<e.node.childCount}function vf(e,t){ls(e.node.children,(function(n,r){t(new lf(n,e,r))}))}function gf(e){return new iu(null===e.parent?e.name:gf(e.parent)+"/"+e.name)}function yf(e){var t,n,r,i;null!==e.parent&&(t=e.parent,n=e.name,i=function(e){return void 0===ff(e)&&!pf(e)}(r=e),e=jo(t.node.children,n),i&&e?(delete t.node.children[n],t.node.childCount--,yf(t)):i||e||(t.node.children[n]=r.node,t.node.childCount++,yf(t)))}function mf(e){return"string"==typeof e&&0!==e.length&&!Sf.test(e)}function bf(e){return"string"==typeof e&&0!==e.length&&!Tf.test(e)}function _f(e,t,n,r){if(!r||void 0!==t){var i=Go(e,"values");if(!t||"object"!=typeof t||Array.isArray(t))throw new Error(i+" must be an object containing the children to replace.");var o=[];ls(t,(function(e,t){if(e=new iu(e),Of(i,t,du(n,e)),".priority"===lu(e)&&!If(t))throw new Error(i+"contains an invalid value for '"+e.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");o.push(e)})),function(e,t){for(var n=0;n<t.length;n++)for(var r,i=hu(r=t[n]),o=0;o<i.length;o++)if((".priority"!==i[o]||o!==i.length-1)&&!mf(i[o]))throw new Error(e+"contains an invalid key ("+i[o]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');t.sort(gu);var a=null;for(n=0;n<t.length;n++){if(r=t[n],null!==a&&mu(a,r))throw new Error(e+"contains a path "+a.toString()+" that is ancestor of another path "+r.toString());a=r}}(i,o)}}function wf(e,t,n){if(!n||void 0!==t){if(za(t))throw new Error(Go(e,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!If(t))throw new Error(Go(e,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}}function Ef(e,t,n,r){if(!(r&&void 0===n||mf(n)))throw new Error(Go(e,t)+'was an invalid key = "'+n+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')}var Sf=/[\[\].#$\/\u0000-\u001F\u007F]/,Tf=/[\[\].#$\u0000-\u001F\u007F]/,Cf=10485760,If=function(e){return null===e||"string"==typeof e||"number"==typeof e&&!za(e)||e&&"object"==typeof e&&jo(e,".sv")},kf=function(e,t,n,r){r&&void 0===t||Of(Go(e,"value"),t,n)},Of=function e(t,n,r){var i=r instanceof iu?new bu(r,t):r;if(void 0===n)throw new Error(t+"contains undefined "+wu(i));if("function"==typeof n)throw new Error(t+"contains a function "+wu(i)+" with contents = "+n.toString());if(za(n))throw new Error(t+"contains "+n.toString()+" "+wu(i));if("string"==typeof n&&n.length>Cf/3&&Yo(n)>Cf)throw new Error(t+"contains a string greater than "+Cf+" utf8 bytes "+wu(i)+" ('"+n.substring(0,50)+"...')");if(n&&"object"==typeof n){var o=!1,a=!1;if(ls(n,(function(n,r){if(".value"===n)o=!0;else if(".priority"!==n&&".sv"!==n&&(a=!0,!mf(n)))throw new Error(t+" contains an invalid key ("+n+") "+wu(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');var s;s=n,0<(n=i).parts_.length&&(n.byteLength_+=1),n.parts_.push(s),n.byteLength_+=Yo(s),_u(n),e(t,r,i),r=(n=i).parts_.pop(),n.byteLength_-=Yo(r),0<n.parts_.length&&--n.byteLength_})),o&&a)throw new Error(t+' contains ".value" child '+wu(i)+" in addition to actual children.")}},xf=function(e,t,n,r){if(!(r&&void 0===n||bf(n)))throw new Error(Go(e,t)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},Pf=function(e,t,n,r){n=n&&n.replace(/^\/*\.info(\/|$)/,"/"),xf(e,t,n,r)},Nf=function(e,t){if(".info"===su(t))throw new Error(e+" failed = Can't modify data under /.info/")},Af=function(e,t){var n=t.path.toString();if("string"!=typeof t.repoInfo.host||0===t.repoInfo.host.length||!mf(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==n.length&&!bf(n=n&&n.replace(/^\/*\.info(\/|$)/,"/")))throw new Error(Go(e,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},Rf=function(){this.eventLists_=[],this.recursionDepth_=0};function Df(e,t){for(var n=null,r=0;r<t.length;r++){var i=t[r],o=i.getPath();null===n||yu(o,n.path)||(e.eventLists_.push(n),n=null),(n=null===n?{events:[],path:o}:n).events.push(i)}n&&e.eventLists_.push(n)}function jf(e,t,n){Df(e,n),Mf(e,(function(e){return yu(e,t)}))}function Lf(e,t,n){Df(e,n),Mf(e,(function(e){return mu(e,t)||mu(t,e)}))}function Mf(e,t){e.recursionDepth_++;for(var n=!0,r=0;r<e.eventLists_.length;r++){var i=e.eventLists_[r];i&&(t(i.path)?(function(e){for(var t=0;t<e.events.length;t++){var n,r=e.events[t];null!==r&&(e.events[t]=null,n=r.getEventRunner(),es&&ns("event: "+r.toString()),ys(n))}}(e.eventLists_[r]),e.eventLists_[r]=null):n=!1)}n&&(e.eventLists_=[]),e.recursionDepth_--}var Ff="repo_interrupt",Uf=25,qf=(Bf.prototype.toString=function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host},Bf);function Bf(e,t,n,r){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=n,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Rf,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Zc(),this.transactionQueueTree_=new lf,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}function Vf(e,t,n){if(e.stats_=Ds(e.repoInfo_),e.forceRestClient_||0<=("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i))e.server_=new $c(e.repoInfo_,(function(t,n,r,i){Hf(e,t,n,r,i)}),e.authTokenProvider_,e.appCheckProvider_),setTimeout((function(){return Kf(e,!0)}),0);else{if(null!=n){if("object"!=typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Ro(n)}catch(t){throw new Error("Invalid authOverride provided: "+t)}}e.persistentConnection_=new Ou(e.repoInfo_,t,(function(t,n,r,i){Hf(e,t,n,r,i)}),(function(t){Kf(e,t)}),(function(t){var n;n=e,ls(t,(function(e,t){Gf(n,e,t)}))}),e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener((function(t){e.server_.refreshAuthToken(t)})),e.appCheckProvider_.addTokenChangeListener((function(t){e.server_.refreshAppCheckToken(t.token)})),e.statsReporter_=(n=function(){return new ol(e.stats_,e.server_)},t=(t=e.repoInfo_).toString(),Rs[t]||(Rs[t]=n()),Rs[t]),e.infoData_=new Xc,e.infoSyncTree_=new Dh({startListening:function(t,n,r,i){var o=[],a=e.infoData_.getNode(t._path);return a.isEmpty()||(o=Fh(e.infoSyncTree_,t._path,a),setTimeout((function(){i("ok")}),0)),o},stopListening:function(){}}),Gf(e,"connected",!1),e.serverSyncTree_=new Dh({startListening:function(t,n,r,i){return e.server_.listen(t,r,n,(function(n,r){r=i(n,r),Lf(e.eventQueue_,t._path,r)})),[]},stopListening:function(t,n){e.server_.unlisten(t,n)}})}function Wf(e){return e=e.infoData_.getNode(new iu(".info/serverTimeOffset")).val()||0,(new Date).getTime()+e}function zf(e){return nf({timestamp:Wf(e)})}function Hf(e,t,n,r,i){e.dataUpdateCount++;var o=new iu(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;var a,s,u,c,l=[];t=o,0<(l=i?r?(a=Fo(n,(function(e){return mc(e)})),function(e,t,n,r){var i=Qh(e,r);return i?(i=(r=$h(i)).path,r=r.queryId,t=vu(i,t),n=xl.fromObject(n),Yh(e,i,new gl(cl(r),t,n))):[]}(e.serverSyncTree_,o,a,i)):(c=mc(n),a=e.serverSyncTree_,s=o,u=c,null==(i=Qh(a,c=i))?[]:(c=$h(i),i=c.path,c=c.queryId,s=vu(i,s),Yh(a,i,new pl(cl(c),s,u)))):r?(c=Fo(n,(function(e){return mc(e)})),s=e.serverSyncTree_,u=o,r=c,r=xl.fromObject(c),Wh(s,new gl(ul(),u,r))):(n=mc(n),Fh(e.serverSyncTree_,o,n))).length&&(t=id(e,o)),Lf(e.eventQueue_,t,l)}function Kf(e,t){Gf(e,"connected",t),!1===t&&function(e){ed(e,"onDisconnectEvents");var t=zf(e),n=Zc();tl(e.onDisconnect_,au(),(function(r,i){i=sf(r,i,e.serverSyncTree_,t),el(n,r,i)}));var r=[];tl(n,au(),(function(t,n){r=r.concat(Fh(e.serverSyncTree_,t,n)),t=ud(e,t),id(e,t)})),e.onDisconnect_=Zc(),Lf(e.eventQueue_,au(),r)}(e)}function Gf(e,t,n){t=new iu("/.info/"+t),n=mc(n),e.infoData_.updateSnapshot(t,n),n=Fh(e.infoSyncTree_,t,n),Lf(e.eventQueue_,t,n)}function Qf(e){return e.nextWriteId_++}function $f(e,t,n,r,i){ed(e,"set",{path:t.toString(),value:n,priority:r});var o=zf(e),a=(n=mc(n,r),r=Bh(e.serverSyncTree_,t),o=uf(n,r,o),Qf(e));o=jh(e.serverSyncTree_,t,o,a,!0),Df(e.eventQueue_,o),e.server_.put(t.toString(),n.val(!0),(function(n,r){var o="ok"===n;o||os("set at "+t+" failed: "+n),o=Mh(e.serverSyncTree_,a,!o),Lf(e.eventQueue_,t,o),td(0,i,n,r)})),n=ud(e,t),id(e,n),Lf(e.eventQueue_,n,[])}function Yf(e,t,n){e.server_.onDisconnectCancel(t.toString(),(function(r,i){"ok"===r&&function e(t,n){if(pu(n))return t.value=null,t.children.clear(),!0;if(null!==t.value){if(t.value.isLeafNode())return!1;var r=t.value;return t.value=null,r.forEachChild(nc,(function(e,n){el(t,new iu(e),n)})),e(t,n)}return!(0<t.children.size)||(r=su(n),n=cu(n),t.children.has(r)&&e(t.children.get(r),n)&&t.children.delete(r),0===t.children.size)}(e.onDisconnect_,t),td(0,n,r,i)}))}function Xf(e,t,n,r){var i=mc(n);e.server_.onDisconnectPut(t.toString(),i.val(!0),(function(n,o){"ok"===n&&el(e.onDisconnect_,t,i),td(0,r,n,o)}))}function Jf(e,t,n){n=".info"===su(t._path)?Uh(e.infoSyncTree_,t,n):Uh(e.serverSyncTree_,t,n),jf(e.eventQueue_,t._path,n)}function Zf(e){e.persistentConnection_&&e.persistentConnection_.interrupt(Ff)}function ed(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r="";e.persistentConnection_&&(r=e.persistentConnection_.id+":"),ns.apply(void 0,to([r],eo(t)))}function td(e,t,n,r){t&&ys((function(){var e,i;"ok"===n?t(null):(i=e=(n||"error").toUpperCase(),r&&(i+=": "+r),(i=new Error(i)).code=e,t(i))}))}function nd(e,t,n){return Bh(e.serverSyncTree_,t,n)||dc.EMPTY_NODE}function rd(e,t){var n;(t=void 0===t?e.transactionQueueTree_:t)||sd(e,t),ff(t)?(n=ad(e,t),ao(0<n.length,"Sending zero length transaction queue"),n.every((function(e){return 0===e.status}))&&function(e,t,n){for(var r=n.map((function(e){return e.currentWriteId})),i=u=nd(e,t,r),o=(r=u.hash(),0);o<n.length;o++){var a=n[o];ao(0===a.status,"tryToSendTransactionQueue_: items in queue should all be run."),a.status=1,a.retryCount++;var s=vu(t,a.path);i=i.updateChild(s,a.currentOutputSnapshotRaw)}var u=i.val(!0),c=t;e.server_.put(c.toString(),u,(function(r){ed(e,"transaction put response",{path:c.toString(),status:r});var i=[];if("ok"===r){for(var o=[],a=0;a<n.length;a++)!function(t){n[t].status=2,i=i.concat(Mh(e.serverSyncTree_,n[t].currentWriteId)),n[t].onComplete&&o.push((function(){return n[t].onComplete(null,!0,n[t].currentOutputSnapshotResolved)})),n[t].unwatcher()}(a);for(sd(e,hf(e.transactionQueueTree_,t)),rd(e,e.transactionQueueTree_),Lf(e.eventQueue_,t,i),a=0;a<o.length;a++)ys(o[a])}else{if("datastale"===r)for(a=0;a<n.length;a++)3===n[a].status?n[a].status=4:n[a].status=0;else for(os("transaction at "+c.toString()+" failed: "+r),a=0;a<n.length;a++)n[a].status=4,n[a].abortReason=r;id(e,t)}}),r)}(e,gf(t),n)):pf(t)&&vf(t,(function(t){rd(e,t)}))}function id(e,t){var n=od(e,t);return t=gf(n),function(e,t,n){if(0!==t.length){for(var r=[],i=[],o=t.filter((function(e){return 0===e.status})).map((function(e){return e.currentWriteId})),a=0;a<t.length;a++)!function(a){var s,u,c,l,h=t[a],f=vu(n,h.path),d=!1;ao(null!==f,"rerunTransactionsUnderNode_: relativePath should not be null."),4===h.status?(s=h.abortReason,i=i.concat(Mh(e.serverSyncTree_,h.currentWriteId,d=!0))):0===h.status&&(i=h.retryCount>=Uf?(s="maxretry",i.concat(Mh(e.serverSyncTree_,h.currentWriteId,d=!0))):(u=nd(e,h.path,o),h.currentInputSnapshot=u,void 0!==(l=t[a].update(u.val()))?(Of("transaction failed: Data returned ",l,h.path),c=mc(l),"object"==typeof l&&null!=l&&jo(l,".priority")||(c=c.updatePriority(u.getPriority())),f=h.currentWriteId,l=zf(e),l=uf(c,u,l),h.currentOutputSnapshotRaw=c,h.currentOutputSnapshotResolved=l,h.currentWriteId=Qf(e),o.splice(o.indexOf(f),1),(i=i.concat(jh(e.serverSyncTree_,h.path,l,h.currentWriteId,h.applyLocally))).concat(Mh(e.serverSyncTree_,f,!0))):(s="nodata",i.concat(Mh(e.serverSyncTree_,h.currentWriteId,d=!0))))),Lf(e.eventQueue_,n,i),i=[],d&&(t[a].status=2,d=t[a].unwatcher,setTimeout(d,Math.floor(0)),t[a].onComplete&&("nodata"===s?r.push((function(){return t[a].onComplete(null,!1,t[a].currentInputSnapshot)})):r.push((function(){return t[a].onComplete(new Error(s),!1,null)}))))}(a);for(sd(e,e.transactionQueueTree_),a=0;a<r.length;a++)ys(r[a]);rd(e,e.transactionQueueTree_)}}(e,ad(e,n),t),t}function od(e,t){for(var n=e.transactionQueueTree_,r=su(t);null!==r&&void 0===ff(n);)n=hf(n,r),r=su(t=cu(t));return n}function ad(e,t){var n=[];return function e(t,n,r){var i=ff(n);if(i)for(var o=0;o<i.length;o++)r.push(i[o]);vf(n,(function(n){e(t,n,r)}))}(e,t,n),n.sort((function(e,t){return e.order-t.order})),n}function sd(e,t){var n=ff(t);if(n){for(var r=0,i=0;i<n.length;i++)2!==n[i].status&&(n[r]=n[i],r++);n.length=r,df(t,0<n.length?n:void 0)}vf(t,(function(t){sd(e,t)}))}function ud(e,t){var n=gf(od(e,t));return function(e,t,n){for(var r=e.parent;null!==r;){if(t(r))return;r=r.parent}}(t=hf(e.transactionQueueTree_,t),(function(t){cd(e,t)})),cd(e,t),function e(t,n,r,i){r&&!i&&n(t),vf(t,(function(t){e(t,n,!0,i)})),r&&i&&n(t)}(t,(function(t){cd(e,t)})),n}function cd(e,t){var n=ff(t);if(n){for(var r=[],i=[],o=-1,a=0;a<n.length;a++)3===n[a].status||(1===n[a].status?(ao(o===a-1,"All SENT items should be at beginning of queue."),n[o=a].status=3,n[a].abortReason="set"):(ao(0===n[a].status,"Unexpected transaction status in abort"),n[a].unwatcher(),i=i.concat(Mh(e.serverSyncTree_,n[a].currentWriteId,!0)),n[a].onComplete&&r.push(n[a].onComplete.bind(null,new Error("set"),!1,null))));for(-1===o?df(t,void 0):n.length=o+1,Lf(e.eventQueue_,gf(t),i),a=0;a<r.length;a++)ys(r[a])}}var ld=function(e,t){var n=hd(e),r=n.namespace;return"firebase.com"===n.domain&&is(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),r&&"undefined"!==r||"localhost"===n.domain||is("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&os("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),e="ws"===n.scheme||"wss"===n.scheme,{repoInfo:new ks(n.host,n.secure,r,t,e,"",r!==n.subdomain),path:new iu(n.pathString)}},hd=function(e){var t,n,r,i="",o="",a="",s="",u="",c=!0,l="https",h=443;return"string"==typeof e&&(0<=(r=e.indexOf("//"))&&(l=e.substring(0,r-1),e=e.substring(r+2)),-1===(t=e.indexOf("/"))&&(t=e.length),-1===(n=e.indexOf("?"))&&(n=e.length),i=e.substring(0,Math.min(t,n)),t<n&&(s=function(e){for(var t="",n=e.split("/"),r=0;r<n.length;r++)if(0<n[r].length){var i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch(e){}t+="/"+i}return t}(e.substring(t,n))),n=function(e){var t,n,r={};"?"===e.charAt(0)&&(e=e.substring(1));try{for(var i=Zi(e.split("&")),o=i.next();!o.done;o=i.next()){var a,s=o.value;0!==s.length&&(2===(a=s.split("=")).length?r[decodeURIComponent(a[0])]=decodeURIComponent(a[1]):os("Invalid query segment '"+s+"' in query '"+e+"'"))}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}(e.substring(Math.min(e.length,n))),0<=(r=i.indexOf(":"))?(c="https"===l||"wss"===l,h=parseInt(i.substring(r+1),10)):r=i.length,"localhost"===(r=i.slice(0,r)).toLowerCase()?o="localhost":r.split(".").length<=2?o=r:(r=i.indexOf("."),a=i.substring(0,r).toLowerCase(),o=i.substring(r+1),u=a),"ns"in n&&(u=n.ns)),{host:i,port:h,domain:o,subdomain:a,secure:c,scheme:l,pathString:s,namespace:u}},fd=(dd.prototype.getPath=function(){var e=this.snapshot.ref;return("value"===this.eventType?e:e.parent)._path},dd.prototype.getEventType=function(){return this.eventType},dd.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},dd.prototype.toString=function(){return this.getPath().toString()+":"+this.eventType+":"+Ro(this.snapshot.exportVal())},dd);function dd(e,t,n,r){this.eventType=e,this.eventRegistration=t,this.snapshot=n,this.prevName=r}var pd=(vd.prototype.getPath=function(){return this.path},vd.prototype.getEventType=function(){return"cancel"},vd.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},vd.prototype.toString=function(){return this.path.toString()+":cancel"},vd);function vd(e,t,n){this.eventRegistration=e,this.error=t,this.path=n}var gd=(yd.prototype.onValue=function(e,t){this.snapshotCallback.call(null,e,t)},yd.prototype.onCancel=function(e){return ao(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)},Object.defineProperty(yd.prototype,"hasCancelCallback",{get:function(){return!!this.cancelCallback},enumerable:!1,configurable:!0}),yd.prototype.matches=function(e){return this.snapshotCallback===e.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context},yd);function yd(e,t){this.snapshotCallback=e,this.cancelCallback=t}var md=(bd.prototype.cancel=function(){var e=new fo;return Yf(this._repo,this._path,e.wrapCallback((function(){}))),e.promise},bd.prototype.remove=function(){Nf("OnDisconnect.remove",this._path);var e=new fo;return Xf(this._repo,this._path,null,e.wrapCallback((function(){}))),e.promise},bd.prototype.set=function(e){Nf("OnDisconnect.set",this._path),kf("OnDisconnect.set",e,this._path,!1);var t=new fo;return Xf(this._repo,this._path,e,t.wrapCallback((function(){}))),t.promise},bd.prototype.setWithPriority=function(e,t){Nf("OnDisconnect.setWithPriority",this._path),kf("OnDisconnect.setWithPriority",e,this._path,!1),wf("OnDisconnect.setWithPriority",t,!1);var n,r,i,o,a=new fo;return n=this._repo,r=this._path,i=a.wrapCallback((function(){})),o=mc(e,t),n.server_.onDisconnectPut(r.toString(),o.val(!0),(function(e,t){"ok"===e&&el(n.onDisconnect_,r,o),td(0,i,e,t)})),a.promise},bd.prototype.update=function(e){Nf("OnDisconnect.update",this._path),_f("OnDisconnect.update",e,this._path,!1);var t=new fo;return function(e,t,n,r){if(Mo(n))return ns("onDisconnect().update() called with empty data.  Don't do anything."),td(0,r,"ok",void 0);e.server_.onDisconnectMerge(t.toString(),n,(function(i,o){"ok"===i&&ls(n,(function(n,r){r=mc(r),el(e.onDisconnect_,du(t,n),r)})),td(0,r,i,o)}))}(this._repo,this._path,e,t.wrapCallback((function(){}))),t.promise},bd);function bd(e,t){this._repo=e,this._path=t}var _d=(Object.defineProperty(wd.prototype,"key",{get:function(){return pu(this._path)?null:lu(this._path)},enumerable:!1,configurable:!0}),Object.defineProperty(wd.prototype,"ref",{get:function(){return new Id(this._repo,this._path)},enumerable:!1,configurable:!0}),Object.defineProperty(wd.prototype,"_queryIdentifier",{get:function(){var e=Gc(this._queryParams);return"{}"===(e=cs(e))?"default":e},enumerable:!1,configurable:!0}),Object.defineProperty(wd.prototype,"_queryObject",{get:function(){return Gc(this._queryParams)},enumerable:!1,configurable:!0}),wd.prototype.isEqual=function(e){if(!((e=na(e))instanceof wd))return!1;var t=this._repo===e._repo,n=yu(this._path,e._path);return e=this._queryIdentifier===e._queryIdentifier,t&&n&&e},wd.prototype.toJSON=function(){return this.toString()},wd.prototype.toString=function(){return this._repo.toString()+function(e){for(var t="",n=e.pieceNum_;n<e.pieces_.length;n++)""!==e.pieces_[n]&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}(this._path)},wd);function wd(e,t,n,r){this._repo=e,this._path=t,this._queryParams=n,this._orderByCalled=r}function Ed(e,t){if(!0===e._orderByCalled)throw new Error(t+": You can't combine multiple orderBy calls.")}function Sd(e){var t=null,n=null;if(e.hasStart()&&(t=e.getIndexStartValue()),e.hasEnd()&&(n=e.getIndexEndValue()),e.getIndex()===Lu){var r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(e.hasStart()){if(e.getIndexStartName()!==as)throw new Error(r);if("string"!=typeof t)throw new Error(i)}if(e.hasEnd()){if(e.getIndexEndName()!==ss)throw new Error(r);if("string"!=typeof n)throw new Error(i)}}else if(e.getIndex()===nc){if(null!=t&&!If(t)||null!=n&&!If(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(ao(e.getIndex()instanceof wc||e.getIndex()===Oc,"unknown index type."),null!=t&&"object"==typeof t||null!=n&&"object"==typeof n)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function Td(e){if(e.hasStart()&&e.hasEnd()&&e.hasLimit()&&!e.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}var Cd,Id=($i(kd,Cd=_d),Object.defineProperty(kd.prototype,"parent",{get:function(){var e=fu(this._path);return null===e?null:new kd(this._repo,e)},enumerable:!1,configurable:!0}),Object.defineProperty(kd.prototype,"root",{get:function(){for(var e=this;null!==e.parent;)e=e.parent;return e},enumerable:!1,configurable:!0}),kd);function kd(e,t){return Cd.call(this,e,t,new Bc,!1)||this}var Od=(Object.defineProperty(xd.prototype,"priority",{get:function(){return this._node.getPriority().val()},enumerable:!1,configurable:!0}),Object.defineProperty(xd.prototype,"key",{get:function(){return this.ref.key},enumerable:!1,configurable:!0}),Object.defineProperty(xd.prototype,"size",{get:function(){return this._node.numChildren()},enumerable:!1,configurable:!0}),xd.prototype.child=function(e){var t=new iu(e);return e=Ad(this.ref,e),new xd(this._node.getChild(t),e,nc)},xd.prototype.exists=function(){return!this._node.isEmpty()},xd.prototype.exportVal=function(){return this._node.val(!0)},xd.prototype.forEach=function(e){var t=this;return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(function(n,r){return e(new xd(r,Ad(t.ref,n),nc))}))},xd.prototype.hasChild=function(e){return e=new iu(e),!this._node.getChild(e).isEmpty()},xd.prototype.hasChildren=function(){return!this._node.isLeafNode()&&!this._node.isEmpty()},xd.prototype.toJSON=function(){return this.exportVal()},xd.prototype.val=function(){return this._node.val()},xd);function xd(e,t,n){this._node=e,this.ref=t,this._index=n}function Pd(e,t){return(e=na(e))._checkNotDeleted("ref"),void 0!==t?Ad(e._root,t):e._root}function Nd(e,t){(e=na(e))._checkNotDeleted("refFromURL");var n=ld(t,e._repo.repoInfo_.nodeAdmin);return Af("refFromURL",n),t=n.repoInfo,e._repo.repoInfo_.isCustomHost()||t.host===e._repo.repoInfo_.host||is("refFromURL: Host name does not match the current database: (found "+t.host+" but expected "+e._repo.repoInfo_.host+")"),Pd(e,n.path.toString())}function Ad(e,t){return(null===su((e=na(e))._path)?Pf:xf)("child","path",t,!1),new Id(e._repo,du(e._path,t))}function Rd(e,t){e=na(e),Nf("set",e._path),kf("set",t,e._path,!1);var n=new fo;return $f(e._repo,e._path,t,null,n.wrapCallback((function(){}))),n.promise}function Dd(e,t){_f("update",t,e._path,!1);var n=new fo;return function(e,t,n,r){ed(e,"update",{path:t.toString(),value:n});var i,o,a=!0,s=zf(e),u={};ls(n,(function(n,r){a=!1,u[n]=sf(du(t,n),mc(r),e.serverSyncTree_,s)})),a?(ns("update() called with empty data.  Don't do anything."),td(0,r,"ok",void 0)):(i=Qf(e),o=Lh(e.serverSyncTree_,t,u,i),Df(e.eventQueue_,o),e.server_.merge(t.toString(),n,(function(n,o){(s="ok"===n)||os("update at "+t+" failed: "+n);var a=Mh(e.serverSyncTree_,i,!s),s=0<a.length?id(e,t):t;Lf(e.eventQueue_,s,a),td(0,r,n,o)})),ls(n,(function(n){n=ud(e,du(t,n)),id(e,n)})),Lf(e.eventQueue_,t,[]))}(e._repo,e._path,t,n.wrapCallback((function(){}))),n.promise}function jd(e){return e=na(e),t=e._repo,n=e,(null!=(r=Vh(t.serverSyncTree_,n))?Promise.resolve(r):t.server_.get(n).then((function(e){var r=mc(e).withIndex(n._queryParams.getIndex());return e=Fh(t.serverSyncTree_,n._path,r),jf(t.eventQueue_,n._path,e),Promise.resolve(r)}),(function(e){return ed(t,"get for query "+Ro(n)+" failed: "+e),Promise.reject(new Error(e))}))).then((function(t){return new Od(t,new Id(e._repo,e._path),e._queryParams.getIndex())}));var t,n,r}var Ld=(Md.prototype.respondsTo=function(e){return"value"===e},Md.prototype.createEvent=function(e,t){var n=t._queryParams.getIndex();return new fd("value",this,new Od(e.snapshotNode,new Id(t._repo,t._path),n))},Md.prototype.getEventRunner=function(e){var t=this;return"cancel"===e.getEventType()?function(){return t.callbackContext.onCancel(e.error)}:function(){return t.callbackContext.onValue(e.snapshot,null)}},Md.prototype.createCancelEvent=function(e,t){return this.callbackContext.hasCancelCallback?new pd(this,e,t):null},Md.prototype.matches=function(e){return e instanceof Md&&(!e.callbackContext||!this.callbackContext||e.callbackContext.matches(this.callbackContext))},Md.prototype.hasAnyCallback=function(){return null!==this.callbackContext},Md);function Md(e){this.callbackContext=e}var Fd=(Ud.prototype.respondsTo=function(e){return e="children_added"===e?"child_added":e,this.eventType===("children_removed"===e?"child_removed":e)},Ud.prototype.createCancelEvent=function(e,t){return this.callbackContext.hasCancelCallback?new pd(this,e,t):null},Ud.prototype.createEvent=function(e,t){ao(null!=e.childName,"Child events should have a childName.");var n=Ad(new Id(t._repo,t._path),e.childName);return t=t._queryParams.getIndex(),new fd(e.type,this,new Od(e.snapshotNode,n,t),e.prevName)},Ud.prototype.getEventRunner=function(e){var t=this;return"cancel"===e.getEventType()?function(){return t.callbackContext.onCancel(e.error)}:function(){return t.callbackContext.onValue(e.snapshot,e.prevName)}},Ud.prototype.matches=function(e){return e instanceof Ud&&this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext))},Ud.prototype.hasAnyCallback=function(){return!!this.callbackContext},Ud);function Ud(e,t){this.eventType=e,this.callbackContext=t}function qd(e,t,n,r,i){var o;"object"==typeof r&&(a=void 0,i=r),"function"==typeof r&&(a=r),i&&i.onlyOnce&&((i=function(t,n){Jf(e._repo,e,s),o(t,n)}).userCallback=(o=n).userCallback,i.context=n.context,n=i),n=new gd(n,a||void 0);var a,s="value"===t?new Ld(n):new Fd(t,n);return a=e._repo,t=s,t=".info"===su((n=e)._path)?qh(a.infoSyncTree_,n,t):qh(a.serverSyncTree_,n,t),jf(a.eventQueue_,n._path,t),function(){return Jf(e._repo,e,s)}}function Bd(e,t,n,r){return qd(e,"value",t,n,r)}function Vd(e,t,n,r){return qd(e,"child_added",t,n,r)}function Wd(e,t,n,r){return qd(e,"child_changed",t,n,r)}function zd(e,t,n,r){return qd(e,"child_moved",t,n,r)}function Hd(e,t,n,r){return qd(e,"child_removed",t,n,r)}function Kd(e,t,n){var r=null;n=n?new gd(n):null,"value"===t?r=new Ld(n):t&&(r=new Fd(t,n)),Jf(e._repo,e,r)}var Gd,Qd=($i($d,Gd=li=function(){}),$d.prototype._apply=function(e){kf("endAt",this._value,e._path,!0);var t=zc(e._queryParams,this._value,this._key);if(Td(t),Sd(t),e._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new _d(e._repo,e._path,t,e._orderByCalled)},$d);function $d(e,t){var n=Gd.call(this)||this;return n._value=e,n._key=t,n}var Yd,Xd=($i(Jd,Yd=li),Jd.prototype._apply=function(e){var t,n,r;if(kf("endBefore",this._value,e._path,!1),Td((t=e._queryParams,n=this._value,r=this._key,(r=t.index_===Lu?zc(t,n="string"==typeof n?Cc(n):n,r):zc(t,n,null==r?as:Cc(r))).endBeforeSet_=!0,r)),Sd(r),e._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new _d(e._repo,e._path,r,e._orderByCalled)},Jd);function Jd(e,t){var n=Yd.call(this)||this;return n._value=e,n._key=t,n}var Zd,ep=($i(tp,Zd=li),tp.prototype._apply=function(e){kf("startAt",this._value,e._path,!0);var t=Wc(e._queryParams,this._value,this._key);if(Td(t),Sd(t),e._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new _d(e._repo,e._path,t,e._orderByCalled)},tp);function tp(e,t){var n=Zd.call(this)||this;return n._value=e,n._key=t,n}var np,rp=($i(ip,np=li),ip.prototype._apply=function(e){var t,n,r;if(kf("startAfter",this._value,e._path,!1),Td((t=e._queryParams,n=this._value,r=this._key,(r=t.index_===Lu?Wc(t,n="string"==typeof n?Tc(n):n,r):Wc(t,n,null==r?ss:Tc(r))).startAfterSet_=!0,r)),Sd(r),e._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new _d(e._repo,e._path,r,e._orderByCalled)},ip);function ip(e,t){var n=np.call(this)||this;return n._value=e,n._key=t,n}var op,ap=($i(sp,op=li),sp.prototype._apply=function(e){if(e._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new _d(e._repo,e._path,(t=e._queryParams,n=this._limit,(t=t.copy()).limitSet_=!0,t.limit_=n,t.viewFrom_="l",t),e._orderByCalled);var t,n},sp);function sp(e){var t=op.call(this)||this;return t._limit=e,t}var up,cp=($i(lp,up=li),lp.prototype._apply=function(e){if(e._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new _d(e._repo,e._path,(t=e._queryParams,n=this._limit,(t=t.copy()).limitSet_=!0,t.limit_=n,t.viewFrom_="r",t),e._orderByCalled);var t,n},lp);function lp(e){var t=up.call(this)||this;return t._limit=e,t}var hp,fp=($i(dp,hp=li),dp.prototype._apply=function(e){Ed(e,"orderByChild");var t=new iu(this._path);if(pu(t))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");return t=new wc(t),Sd(t=Hc(e._queryParams,t)),new _d(e._repo,e._path,t,!0)},dp);function dp(e){var t=hp.call(this)||this;return t._path=e,t}var pp,vp=($i(gp,pp=li),gp.prototype._apply=function(e){Ed(e,"orderByKey");var t=Hc(e._queryParams,Lu);return Sd(t),new _d(e._repo,e._path,t,!0)},gp);function gp(){return null!==pp&&pp.apply(this,arguments)||this}var yp,mp=($i(bp,yp=li),bp.prototype._apply=function(e){Ed(e,"orderByPriority");var t=Hc(e._queryParams,nc);return Sd(t),new _d(e._repo,e._path,t,!0)},bp);function bp(){return null!==yp&&yp.apply(this,arguments)||this}var _p,wp=($i(Ep,_p=li),Ep.prototype._apply=function(e){Ed(e,"orderByValue");var t=Hc(e._queryParams,Oc);return Sd(t),new _d(e._repo,e._path,t,!0)},Ep);function Ep(){return null!==_p&&_p.apply(this,arguments)||this}var Sp,Tp,Cp,Ip=($i(kp,Sp=li),kp.prototype._apply=function(e){if(kf("equalTo",this._value,e._path,!1),e._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(e._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new Qd(this._value,this._key)._apply(new ep(this._value,this._key)._apply(e))},kp);function kp(e,t){var n=Sp.call(this)||this;return n._value=e,n._key=t,n}function Op(e){for(var t,n,r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];var o=na(e);try{for(var a=Zi(r),s=a.next();!s.done;s=a.next())o=s.value._apply(o)}catch(e){t={error:e}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}return o}Tp=Id,ao(!ph,"__referenceConstructor has already been defined"),ph=Tp,Cp=Id,ao(!wh,"__referenceConstructor has already been defined"),wh=Cp;var xp="FIREBASE_DATABASE_EMULATOR_HOST",Pp={},Np=!1;function Ap(e,t,r,i,o){var a=i||e.options.databaseURL;void 0===a&&(e.options.projectId||is("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),ns("Using default host for project ",e.options.projectId),a=e.options.projectId+"-default-rtdb.firebaseio.com");var s,u=ld(a,o),c=u.repoInfo;return i=void 0,(i="undefined"!=typeof n?Object({NODE_ENV:"production",PUBLIC_URL:"/React-Forms-Project",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})[xp]:i)?(s=!0,a="http://"+i+"?ns="+c.namespace,c=(u=ld(a,o)).repoInfo):s=!u.repoInfo.secure,t=o&&s?new Es(Es.OWNER):new _s(e.name,e.options,t),Af("Invalid Firebase Database URL",u),pu(u.path)||is("Database URL must point to the root of a Firebase Database (not including a child path)."),r=function(e,t,n,r){var i=Pp[t.name];return i||(i={},Pp[t.name]=i),(t=i[e.toURLString()])&&is("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),t=new qf(e,Np,n,r),i[e.toURLString()]=t}(c,e,t,new ms(e.name,r)),new Rp(r,e)}var Rp=(Object.defineProperty(Dp.prototype,"_repo",{get:function(){return this._instanceStarted||(Vf(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal},enumerable:!1,configurable:!0}),Object.defineProperty(Dp.prototype,"_root",{get:function(){return this._rootInternal||(this._rootInternal=new Id(this._repo,au())),this._rootInternal},enumerable:!1,configurable:!0}),Dp.prototype._delete=function(){var e,t,n;return null!==this._rootInternal&&(e=this._repo,t=this.app.name,(n=Pp[t])&&n[e.key]===e||is("Database "+t+"("+e.repoInfo_+") has already been deleted."),Zf(e),delete n[e.key],this._repoInternal=null,this._rootInternal=null),Promise.resolve()},Dp.prototype._checkNotDeleted=function(e){null===this._rootInternal&&is("Cannot call "+e+" on a deleted database.")},Dp);function Dp(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}function jp(e,t,n,r){void 0===r&&(r={}),(e=na(e))._checkNotDeleted("useEmulator"),e._instanceStarted&&is("Cannot call useEmulator() after instance has already been initialized.");var i=e._repoInternal,o=void 0;i.repoInfo_.nodeAdmin?(r.mockUserToken&&is('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new Es(Es.OWNER)):r.mockUserToken&&(e="string"==typeof r.mockUserToken?r.mockUserToken:vo(r.mockUserToken,e.app.options.projectId),o=new Es(e)),i.repoInfo_=new ks(t+":"+n,!1,i.repoInfo_.namespace,i.repoInfo_.webSocketOnly,i.repoInfo_.nodeAdmin,i.repoInfo_.persistenceKey,i.repoInfo_.includeNamespaceInQueryParams),o&&(i.authTokenProvider_=o)}function Lp(e){(e=na(e))._checkNotDeleted("goOnline"),(e=e._repo).persistentConnection_&&e.persistentConnection_.resume(Ff)}var Mp={".sv":"timestamp"},Fp=(Up.prototype.toJSON=function(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}},Up);function Up(e,t){this.committed=e,this.snapshot=t}function qp(e,t,n){if(e=na(e),Nf("Reference.transaction",e._path),".length"===e.key||".keys"===e.key)throw"Reference.transaction failed: "+e.key+" is a read-only object.";n=null===(i=null==n?void 0:n.applyLocally)||void 0===i||i;var r=new fo,i=Bd(e,(function(){}));return function(e,t,n,r,i,o){ed(e,"transaction on "+t);var a={path:t,update:n,onComplete:r,status:null,order:Ja(),applyLocally:o,retryCount:0,unwatcher:i,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null};n=nd(e,t,void 0),a.currentInputSnapshot=n,void 0===(r=a.update(n.val()))?(a.unwatcher(),a.currentOutputSnapshotRaw=null,a.currentOutputSnapshotResolved=null,a.onComplete&&a.onComplete(null,!1,a.currentInputSnapshot)):(Of("transaction failed: Data returned ",r,a.path),a.status=0,(i=ff(o=hf(e.transactionQueueTree_,t))||[]).push(a),df(o,i),o=void 0,"object"==typeof r&&null!==r&&jo(r,".priority")?(o=Lo(r,".priority"),ao(If(o),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):o=(Bh(e.serverSyncTree_,t)||dc.EMPTY_NODE).getPriority().val(),i=zf(e),o=mc(r,o),i=uf(o,n,i),a.currentOutputSnapshotRaw=o,a.currentOutputSnapshotResolved=i,a.currentWriteId=Qf(e),a=jh(e.serverSyncTree_,t,i,a.currentWriteId,a.applyLocally),Lf(e.eventQueue_,t,a),rd(e,e.transactionQueueTree_))}(e._repo,e._path,t,(function(t,n,i){var o;t?r.reject(t):(o=new Od(i,new Id(e._repo,e._path),nc),r.resolve(new Fp(n,o)))}),i,n),r.promise}var Bp=(Vp.prototype.cancel=function(e){Ko("OnDisconnect.cancel",0,1,arguments.length),Qo("OnDisconnect.cancel","onComplete",e,!0);var t=this._delegate.cancel();return e&&t.then((function(){return e(null)}),(function(t){return e(t)})),t},Vp.prototype.remove=function(e){Ko("OnDisconnect.remove",0,1,arguments.length),Qo("OnDisconnect.remove","onComplete",e,!0);var t=this._delegate.remove();return e&&t.then((function(){return e(null)}),(function(t){return e(t)})),t},Vp.prototype.set=function(e,t){return Ko("OnDisconnect.set",1,2,arguments.length),Qo("OnDisconnect.set","onComplete",t,!0),e=this._delegate.set(e),t&&e.then((function(){return t(null)}),(function(e){return t(e)})),e},Vp.prototype.setWithPriority=function(e,t,n){return Ko("OnDisconnect.setWithPriority",2,3,arguments.length),Qo("OnDisconnect.setWithPriority","onComplete",n,!0),t=this._delegate.setWithPriority(e,t),n&&t.then((function(){return n(null)}),(function(e){return n(e)})),t},Vp.prototype.update=function(e,t){if(Ko("OnDisconnect.update",1,2,arguments.length),Array.isArray(e)){for(var n={},r=0;r<e.length;++r)n[""+r]=e[r];e=n,os("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Qo("OnDisconnect.update","onComplete",t,!0);var i=this._delegate.update(e);return t&&i.then((function(){return t(null)}),(function(e){return t(e)})),i},Vp);function Vp(e){this._delegate=e}var Wp=(zp.prototype.toJSON=function(){return Ko("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}},zp);function zp(e,t){this.committed=e,this.snapshot=t}var Hp=(Kp.prototype.val=function(){return Ko("DataSnapshot.val",0,0,arguments.length),this._delegate.val()},Kp.prototype.exportVal=function(){return Ko("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()},Kp.prototype.toJSON=function(){return Ko("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()},Kp.prototype.exists=function(){return Ko("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()},Kp.prototype.child=function(e){return Ko("DataSnapshot.child",0,1,arguments.length),e=String(e),xf("DataSnapshot.child","path",e,!1),new Kp(this._database,this._delegate.child(e))},Kp.prototype.hasChild=function(e){return Ko("DataSnapshot.hasChild",1,1,arguments.length),xf("DataSnapshot.hasChild","path",e,!1),this._delegate.hasChild(e)},Kp.prototype.getPriority=function(){return Ko("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority},Kp.prototype.forEach=function(e){var t=this;return Ko("DataSnapshot.forEach",1,1,arguments.length),Qo("DataSnapshot.forEach","action",e,!1),this._delegate.forEach((function(n){return e(new Kp(t._database,n))}))},Kp.prototype.hasChildren=function(){return Ko("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()},Object.defineProperty(Kp.prototype,"key",{get:function(){return this._delegate.key},enumerable:!1,configurable:!0}),Kp.prototype.numChildren=function(){return Ko("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size},Kp.prototype.getRef=function(){return Ko("DataSnapshot.ref",0,0,arguments.length),new Yp(this._database,this._delegate.ref)},Object.defineProperty(Kp.prototype,"ref",{get:function(){return this.getRef()},enumerable:!1,configurable:!0}),Kp);function Kp(e,t){this._database=e,this._delegate=t}var Gp=(Qp.prototype.on=function(e,t,n,r){var i=this;function o(e,n){t.call(a.context,new Hp(i.database,e),n)}Ko("Query.on",2,4,arguments.length),Qo("Query.on","callback",t,!1);var a=Qp.getCancelAndContextArgs_("Query.on",n,r);o.userCallback=t,o.context=a.context;var s=null===(r=a.cancel)||void 0===r?void 0:r.bind(a.context);switch(e){case"value":return Bd(this._delegate,o,s),t;case"child_added":return Vd(this._delegate,o,s),t;case"child_removed":return Hd(this._delegate,o,s),t;case"child_changed":return Wd(this._delegate,o,s),t;case"child_moved":return zd(this._delegate,o,s),t;default:throw new Error(Go("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},Qp.prototype.off=function(e,t,n){var r;Ko("Query.off",0,3,arguments.length),function(e,t,n){if(void 0!==t)switch(t){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(Go(e,"eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}("Query.off",e),Qo("Query.off","callback",t,!0),$o("Query.off","context",n,!0),t?((r=function(){}).userCallback=t,r.context=n,Kd(this._delegate,e,r)):Kd(this._delegate,e)},Qp.prototype.get=function(){var e=this;return jd(this._delegate).then((function(t){return new Hp(e.database,t)}))},Qp.prototype.once=function(e,t,n,r){var i=this;function o(e,n){e=new Hp(i.database,e),t&&t.call(a.context,e,n),s.resolve(e)}Ko("Query.once",1,4,arguments.length),Qo("Query.once","callback",t,!0);var a=Qp.getCancelAndContextArgs_("Query.once",n,r),s=new fo;function u(e){a.cancel&&a.cancel.call(a.context,e),s.reject(e)}switch(o.userCallback=t,o.context=a.context,e){case"value":Bd(this._delegate,o,u,{onlyOnce:!0});break;case"child_added":Vd(this._delegate,o,u,{onlyOnce:!0});break;case"child_removed":Hd(this._delegate,o,u,{onlyOnce:!0});break;case"child_changed":Wd(this._delegate,o,u,{onlyOnce:!0});break;case"child_moved":zd(this._delegate,o,u,{onlyOnce:!0});break;default:throw new Error(Go("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return s.promise},Qp.prototype.limitToFirst=function(e){return Ko("Query.limitToFirst",1,1,arguments.length),new Qp(this.database,Op(this._delegate,function(e){if("number"!=typeof e||Math.floor(e)!==e||e<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new ap(e)}(e)))},Qp.prototype.limitToLast=function(e){return Ko("Query.limitToLast",1,1,arguments.length),new Qp(this.database,Op(this._delegate,function(e){if("number"!=typeof e||Math.floor(e)!==e||e<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new cp(e)}(e)))},Qp.prototype.orderByChild=function(e){return Ko("Query.orderByChild",1,1,arguments.length),new Qp(this.database,Op(this._delegate,function(e){if("$key"===e)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===e)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===e)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return xf("orderByChild","path",e,!1),new fp(e)}(e)))},Qp.prototype.orderByKey=function(){return Ko("Query.orderByKey",0,0,arguments.length),new Qp(this.database,Op(this._delegate,new vp))},Qp.prototype.orderByPriority=function(){return Ko("Query.orderByPriority",0,0,arguments.length),new Qp(this.database,Op(this._delegate,new mp))},Qp.prototype.orderByValue=function(){return Ko("Query.orderByValue",0,0,arguments.length),new Qp(this.database,Op(this._delegate,new wp))},Qp.prototype.startAt=function(e,t){return void 0===e&&(e=null),Ko("Query.startAt",0,2,arguments.length),new Qp(this.database,Op(this._delegate,(void 0===e&&(e=null),Ef("startAt","key",t,!0),new ep(e,t))))},Qp.prototype.startAfter=function(e,t){return void 0===e&&(e=null),Ko("Query.startAfter",0,2,arguments.length),new Qp(this.database,Op(this._delegate,(Ef("startAfter","key",t,!0),new rp(e,t))))},Qp.prototype.endAt=function(e,t){return void 0===e&&(e=null),Ko("Query.endAt",0,2,arguments.length),new Qp(this.database,Op(this._delegate,(Ef("endAt","key",t,!0),new Qd(e,t))))},Qp.prototype.endBefore=function(e,t){return void 0===e&&(e=null),Ko("Query.endBefore",0,2,arguments.length),new Qp(this.database,Op(this._delegate,(Ef("endBefore","key",t,!0),new Xd(e,t))))},Qp.prototype.equalTo=function(e,t){return Ko("Query.equalTo",1,2,arguments.length),new Qp(this.database,Op(this._delegate,(Ef("equalTo","key",t,!0),new Ip(e,t))))},Qp.prototype.toString=function(){return Ko("Query.toString",0,0,arguments.length),this._delegate.toString()},Qp.prototype.toJSON=function(){return Ko("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()},Qp.prototype.isEqual=function(e){if(Ko("Query.isEqual",1,1,arguments.length),e instanceof Qp)return this._delegate.isEqual(e._delegate);throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.")},Qp.getCancelAndContextArgs_=function(e,t,n){var r={cancel:void 0,context:void 0};if(t&&n)r.cancel=t,Qo(e,"cancel",r.cancel,!0),r.context=n,$o(e,"context",r.context,!0);else if(t)if("object"==typeof t&&null!==t)r.context=t;else{if("function"!=typeof t)throw new Error(Go(e,"cancelOrContext")+" must either be a cancel callback or a context object.");r.cancel=t}return r},Object.defineProperty(Qp.prototype,"ref",{get:function(){return new Yp(this.database,new Id(this._delegate._repo,this._delegate._path))},enumerable:!1,configurable:!0}),Qp);function Qp(e,t){this.database=e,this._delegate=t}var $p,Yp=($i(Xp,$p=Gp),Xp.prototype.getKey=function(){return Ko("Reference.key",0,0,arguments.length),this._delegate.key},Xp.prototype.child=function(e){return Ko("Reference.child",1,1,arguments.length),"number"==typeof e&&(e=String(e)),new Xp(this.database,Ad(this._delegate,e))},Xp.prototype.getParent=function(){Ko("Reference.parent",0,0,arguments.length);var e=this._delegate.parent;return e?new Xp(this.database,e):null},Xp.prototype.getRoot=function(){return Ko("Reference.root",0,0,arguments.length),new Xp(this.database,this._delegate.root)},Xp.prototype.set=function(e,t){return Ko("Reference.set",1,2,arguments.length),Qo("Reference.set","onComplete",t,!0),e=Rd(this._delegate,e),t&&e.then((function(){return t(null)}),(function(e){return t(e)})),e},Xp.prototype.update=function(e,t){if(Ko("Reference.update",1,2,arguments.length),Array.isArray(e)){for(var n={},r=0;r<e.length;++r)n[""+r]=e[r];e=n,os("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Nf("Reference.update",this._delegate._path),Qo("Reference.update","onComplete",t,!0);var i=Dd(this._delegate,e);return t&&i.then((function(){return t(null)}),(function(e){return t(e)})),i},Xp.prototype.setWithPriority=function(e,t,n){return Ko("Reference.setWithPriority",2,3,arguments.length),Qo("Reference.setWithPriority","onComplete",n,!0),t=function(e,t,n){if(Nf("setWithPriority",e._path),kf("setWithPriority",t,e._path,!1),wf("setWithPriority",n,!1),".length"===e.key||".keys"===e.key)throw"setWithPriority failed: "+e.key+" is a read-only object.";var r=new fo;return $f(e._repo,e._path,t,n,r.wrapCallback((function(){}))),r.promise}(this._delegate,e,t),n&&t.then((function(){return n(null)}),(function(e){return n(e)})),t},Xp.prototype.remove=function(e){Ko("Reference.remove",0,1,arguments.length),Qo("Reference.remove","onComplete",e,!0);var t=(t=this._delegate,Nf("remove",t._path),Rd(t,null));return e&&t.then((function(){return e(null)}),(function(t){return e(t)})),t},Xp.prototype.transaction=function(e,t,n){var r=this;return Ko("Reference.transaction",1,3,arguments.length),Qo("Reference.transaction","transactionUpdate",e,!1),Qo("Reference.transaction","onComplete",t,!0),function(e,t,n,r){if(void 0!==n&&"boolean"!=typeof n)throw new Error(Go("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,n),n=qp(this._delegate,e,{applyLocally:n}).then((function(e){return new Wp(e.committed,new Hp(r.database,e.snapshot))})),t&&n.then((function(e){return t(null,e.committed,e.snapshot)}),(function(e){return t(e,!1,null)})),n},Xp.prototype.setPriority=function(e,t){return Ko("Reference.setPriority",1,2,arguments.length),Qo("Reference.setPriority","onComplete",t,!0),e=function(e,t){e=na(e),Nf("setPriority",e._path),wf("setPriority",t,!1);var n=new fo;return $f(e._repo,du(e._path,".priority"),t,null,n.wrapCallback((function(){}))),n.promise}(this._delegate,e),t&&e.then((function(){return t(null)}),(function(e){return t(e)})),e},Xp.prototype.push=function(e,t){var n=this;Ko("Reference.push",0,2,arguments.length),Qo("Reference.push","onComplete",t,!0);var r=function(e,t){e=na(e),Nf("push",e._path),kf("push",t,e._path,!0);var n=Wf(e._repo),r=Pc(n),i=(n=Ad(e,r),Ad(e,r));return t=null!=t?Rd(i,t).then((function(){return i})):Promise.resolve(i),n.then=t.then.bind(t),n.catch=t.then.bind(t,void 0),n}(this._delegate,e);return e=r.then((function(e){return new Xp(n.database,e)})),t&&e.then((function(){return t(null)}),(function(e){return t(e)})),(r=new Xp(this.database,r)).then=e.then.bind(e),r.catch=e.catch.bind(e,void 0),r},Xp.prototype.onDisconnect=function(){return Nf("Reference.onDisconnect",this._delegate._path),new Bp(new md(this._delegate._repo,this._delegate._path))},Object.defineProperty(Xp.prototype,"key",{get:function(){return this.getKey()},enumerable:!1,configurable:!0}),Object.defineProperty(Xp.prototype,"parent",{get:function(){return this.getParent()},enumerable:!1,configurable:!0}),Object.defineProperty(Xp.prototype,"root",{get:function(){return this.getRoot()},enumerable:!1,configurable:!0}),Xp);function Xp(e,t){var n=$p.call(this,e,new _d(t._repo,t._path,new Bc,!1))||this;return n.database=e,n._delegate=t,n}var Jp=(Zp.prototype.useEmulator=function(e,t,n){jp(this._delegate,e,t,n=void 0===n?{}:n)},Zp.prototype.ref=function(e){if(Ko("database.ref",0,1,arguments.length),e instanceof Yp){var t=Nd(this._delegate,e.toString());return new Yp(this,t)}return t=Pd(this._delegate,e),new Yp(this,t)},Zp.prototype.refFromURL=function(e){return Ko("database.refFromURL",1,1,arguments.length),e=Nd(this._delegate,e),new Yp(this,e)},Zp.prototype.goOffline=function(){var e;Ko("database.goOffline",0,0,arguments.length),(e=na(e=this._delegate))._checkNotDeleted("goOffline"),Zf(e._repo)},Zp.prototype.goOnline=function(){return Ko("database.goOnline",0,0,arguments.length),Lp(this._delegate)},Zp.ServerValue={TIMESTAMP:Mp,increment:function(e){return{".sv":{increment:e}}}},Zp);function Zp(e,t){var n=this;this._delegate=e,this.app=t,this.INTERNAL={delete:function(){return n._delegate._delete()}}}var ev=Object.freeze({__proto__:null,forceLongPolling:function(){zs.forceDisallow(),Us.forceAllow()},forceWebSockets:function(){Us.forceDisallow()},isWebSocketsAvailable:function(){return zs.isAvailable()},setSecurityDebugCallback:function(e,t){e._delegate._repo.persistentConnection_.securityDebugCallback_=t},stats:function(e,t){var n;e=e._delegate._repo,void 0===t&&(t=!1),"undefined"!=typeof console&&(e=t?(e.statsListener_||(e.statsListener_=new nl(e.stats_)),e.statsListener_.get()):e.stats_.get(),n=Object.keys(e).reduce((function(e,t){return Math.max(t.length,e)}),0),ls(e,(function(e,t){for(var r=e,i=e.length;i<n+2;i++)r+=" ";console.log(r+t)})))},statsIncrementCounter:function(e,t){(e=e._delegate._repo).stats_.incrementCounter(t),e.statsReporter_.statsToReport_[t]=!0},dataUpdateCount:function(e){return e._delegate._repo.dataUpdateCount},interceptServerData:function(e,t){e._delegate._repo.interceptServerDataCallback_=t},initStandalone:function(e){var t=e.app,n=e.url,r=e.version,i=e.customAuthImpl,o=e.namespace;return e=void 0!==(e=e.nodeAdmin)&&e,La(r),(r=new aa("auth-internal",new ua("database-standalone"))).setComponent(new ra("auth-internal",(function(){return i}),"PRIVATE")),{instance:new Jp(Ap(t,r,void 0,n,e),t),namespace:o}}});G=Ou,Ou.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)},Ou.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};var tv,nv=Object.freeze({__proto__:null,DataConnection:G,RealTimeConnection:Qs,hijackHash:function(e){var t=Ou.prototype.put;return Ou.prototype.put=function(n,r,i,o){void 0!==o&&(o=e()),t.call(this,n,r,i,o)},function(){Ou.prototype.put=t}},ConnectionTarget:ks,queryIdentifier:function(e){return e._delegate._queryIdentifier},forceRestClient:function(e){Np=e}}),rv=Jp.ServerValue;La((tv=Da).SDK_VERSION),tv.INTERNAL.registerComponent(new ra("database",(function(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate();return t=e.getProvider("auth-internal"),e=e.getProvider("app-check-internal"),new Jp(Ap(r,t,e,n),r)}),"PUBLIC").setServiceProps({Reference:Yp,Query:Gp,Database:Jp,DataSnapshot:Hp,enableLogging:Va,INTERNAL:ev,ServerValue:rv,TEST_ACCESS:nv}).setMultipleInstances(!0)),tv.registerVersion("@firebase/database","0.11.0");var iv=function(e,t){return(iv=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function ov(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return{value:(e=e&&r>=e.length?void 0:e)&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}Q="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof t?t:"undefined"!=typeof self?self:{};var av={},sv=Q||self;function uv(){}function cv(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function lv(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var hv="closure_uid_"+(1e9*Math.random()>>>0),fv=0;function dv(e,t,n){return e.call.apply(e.bind,arguments)}function pv(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function vv(e,t,n){return(vv=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?dv:pv).apply(null,arguments)}function gv(e){var t=Array.prototype.slice.call(arguments,1);return function(){var n=t.slice();return n.push.apply(n,arguments),e.apply(this,n)}}function yv(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,(e.prototype.constructor=e).Vb=function(e,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[n].apply(e,i)}}function mv(){this.s=this.s,this.o=this.o}var bv={};mv.prototype.s=!1,mv.prototype.na=function(){var e;!this.s&&(this.s=!0,this.M(),0)&&(e=this,e=Object.prototype.hasOwnProperty.call(e,hv)&&e[hv]||(e[hv]=++fv),delete bv[e])},mv.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var _v=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"==typeof e)return"string"!=typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},wv=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"==typeof e?e.split(""):e,o=0;o<r;o++)o in i&&t.call(n,i[o],o,e)};function Ev(){return Array.prototype.concat.apply([],arguments)}function Sv(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function Tv(e){return/^[\s\xa0]*$/.test(e)}var Cv,Iv=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function kv(e,t){return-1!=e.indexOf(t)}function Ov(e,t){return e<t?-1:t<e?1:0}var xv=sv.navigator;function Pv(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function Nv(e){var t,n={};for(t in e)n[t]=e[t];return n}Cv=xv&&(xv=xv.userAgent)?xv:"";var Av="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Rv(e){for(var t,n,r=1;r<arguments.length;r++){for(t in n=arguments[r])e[t]=n[t];for(var i=0;i<Av.length;i++)t=Av[i],Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t])}}function Dv(e){return Dv[" "](e),e}Dv[" "]=uv;var jv,Lv=kv(Cv,"Opera"),Mv=kv(Cv,"Trident")||kv(Cv,"MSIE"),Fv=kv(Cv,"Edge"),Uv=Fv||Mv,qv=kv(Cv,"Gecko")&&!(kv(Cv.toLowerCase(),"webkit")&&!kv(Cv,"Edge"))&&!(kv(Cv,"Trident")||kv(Cv,"MSIE"))&&!kv(Cv,"Edge"),Bv=kv(Cv.toLowerCase(),"webkit")&&!kv(Cv,"Edge");function Vv(){var e=sv.document;return e?e.documentMode:void 0}var Wv="",zv=(zv=Cv,qv?/rv:([^\);]+)(\)|;)/.exec(zv):Fv?/Edge\/([\d\.]+)/.exec(zv):Mv?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(zv):Bv?/WebKit\/(\S+)/.exec(zv):Lv?/(?:Version)[ \/]?(\S+)/.exec(zv):void 0);zv&&(Wv=zv?zv[1]:""),jv=Mv&&null!=(zv=Vv())&&zv>parseFloat(Wv)?String(zv):Wv;var Hv={};function Kv(){return e=function(){for(var e=0,t=Iv(String(jv)).split("."),n=Iv("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++)for(var o=t[i]||"",a=n[i]||"";o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],(0!=o[0].length||0!=a[0].length)&&(e=Ov(0==o[1].length?0:parseInt(o[1],10),0==a[1].length?0:parseInt(a[1],10))||Ov(0==o[2].length,0==a[2].length)||Ov(o[2],a[2]),o=o[3],a=a[3],0==e););return 0<=e},t=Hv,Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9);var e,t}var Gv=sv.document&&Mv&&(Vv()||parseInt(jv,10))||void 0,Qv=function(){if(!sv.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{sv.addEventListener("test",uv,t),sv.removeEventListener("test",uv,t)}catch(e){}return e}();function $v(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}function Yv(e,t){if($v.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(qv){e:{try{Dv(t.nodeName);var i=!0;break e}catch(e){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"==typeof e.pointerType?e.pointerType:Xv[e.pointerType]||"",this.state=e.state,(this.i=e).defaultPrevented&&Yv.Z.h.call(this)}}$v.prototype.h=function(){this.defaultPrevented=!0},yv(Yv,$v);var Xv={2:"touch",3:"pen",4:"mouse"};Yv.prototype.h=function(){Yv.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Jv="closure_listenable_"+(1e6*Math.random()|0),Zv=0;function eg(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=i,this.key=++Zv,this.ca=this.fa=!1}function tg(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function ng(e){this.src=e,this.g={},this.h=0}function rg(e,t){var n,r,i,o=t.type;o in e.g&&(n=e.g[o],(i=0<=(r=_v(n,t)))&&Array.prototype.splice.call(n,r,1),i&&(tg(t),0==e.g[o].length&&(delete e.g[o],e.h--)))}function ig(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.ca&&o.listener==t&&o.capture==!!n&&o.ia==r)return i}return-1}ng.prototype.add=function(e,t,n,r,i){var o=e.toString();(e=this.g[o])||(e=this.g[o]=[],this.h++);var a=ig(e,t,r,i);return-1<a?(t=e[a],n||(t.fa=!1)):((t=new eg(t,this.src,o,!!r,i)).fa=n,e.push(t)),t};var og="closure_lm_"+(1e6*Math.random()|0),ag={};function sg(e,t,n,r,i){if(r&&r.once)return function e(t,n,r,i,o){if(Array.isArray(n)){for(var a=0;a<n.length;a++)e(t,n[a],r,i,o);return null}return r=pg(r),t&&t[Jv]?t.O(n,r,lv(i)?!!i.capture:!!i,o):ug(t,n,r,!0,i,o)}(e,t,n,r,i);if(Array.isArray(t)){for(var o=0;o<t.length;o++)sg(e,t[o],n,r,i);return null}return n=pg(n),e&&e[Jv]?e.N(t,n,lv(r)?!!r.capture:!!r,i):ug(e,t,n,!1,r,i)}function ug(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var a,s=lv(i)?!!i.capture:!!i,u=fg(e);if(u||(e[og]=u=new ng(e)),(n=u.add(t,n,r,s,o)).proxy)return n;if(a=hg,(n.proxy=r=function e(t){return a.call(e.src,e.listener,t)}).src=e,r.listener=n,e.addEventListener)void 0===(i=Qv?i:s)&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(lg(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function cg(e){var t,n,r;"number"!=typeof e&&e&&!e.ca&&((t=e.src)&&t[Jv]?rg(t.i,e):(n=e.type,r=e.proxy,t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(lg(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=fg(t))?(rg(n,e),0==n.h&&(n.src=null,t[og]=null)):tg(e)))}function lg(e){return e in ag?ag[e]:ag[e]="on"+e}function hg(e,t){var n,r;return!!e.ca||(t=new Yv(t,this),n=e.listener,r=e.ia||e.src,e.fa&&cg(e),n.call(r,t))}function fg(e){return(e=e[og])instanceof ng?e:null}var dg="__closure_events_fn_"+(1e9*Math.random()>>>0);function pg(e){return"function"==typeof e?e:(e[dg]||(e[dg]=function(t){return e.handleEvent(t)}),e[dg])}function vg(){mv.call(this),this.i=new ng(this),(this.P=this).I=null}function gg(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"==typeof t?t=new $v(t,e):t instanceof $v?t.target=t.target||e:(a=t,Rv(t=new $v(r,e),a)),a=!0,n)for(var i=n.length-1;0<=i;i--)var o=t.g=n[i],a=yg(o,r,!0,t)&&a;if(a=yg(o=t.g=e,r,!0,t)&&a,a=yg(o,r,!1,t)&&a,n)for(i=0;i<n.length;i++)a=yg(o=t.g=n[i],r,!1,t)&&a}function yg(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var a,s,u=t[o];u&&!u.ca&&u.capture==n&&(a=u.listener,s=u.ia||u.src,u.fa&&rg(e.i,u),i=!1!==a.call(s,r)&&i)}return i&&!r.defaultPrevented}yv(vg,mv),vg.prototype[Jv]=!0,vg.prototype.removeEventListener=function(e,t,n,r){!function e(t,n,r,i,o){if(Array.isArray(n))for(var a=0;a<n.length;a++)e(t,n[a],r,i,o);else i=lv(i)?!!i.capture:!!i,r=pg(r),t&&t[Jv]?(t=t.i,(n=String(n).toString())in t.g&&-1<(r=ig(a=t.g[n],r,i,o))&&(tg(a[r]),Array.prototype.splice.call(a,r,1),0==a.length&&(delete t.g[n],t.h--))):(t=t&&fg(t))&&(n=t.g[n.toString()],(r=(t=-1)<(t=n?ig(n,r,i,o):t)?n[t]:null)&&cg(r))}(this,e,t,n,r)},vg.prototype.M=function(){if(vg.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)tg(n[r]);delete t.g[e],t.h--}}this.I=null},vg.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},vg.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var mg=sv.JSON.stringify;function bg(){this.h=this.g=null}bg.prototype.add=function(e,t){var n=_g.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n},Xs=bg;var _g=(wg.prototype.get=function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e},new wg((function(){return new Sg}),(function(e){return e.reset()})));function wg(e,t){this.i=e,this.j=t,this.h=0,this.g=null}var Eg,Sg=(Tg.prototype.set=function(e,t){this.h=e,this.g=t,this.next=null},Tg.prototype.reset=function(){this.next=this.g=this.h=null},Tg);function Tg(){this.next=this.g=this.h=null}function Cg(e,t){var n;Eg||(n=sv.Promise.resolve(void 0),Eg=function(){n.then(Og)}),Ig||(Eg(),Ig=!0),kg.add(e,t)}var Ig=!1,kg=new Xs;function Og(){for(var e;t=e=void 0,t=null,(e=kg).g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),e=t;){try{e.h.call(e.g)}catch(e){!function(e){sv.setTimeout((function(){throw e}),0)}(e)}var t=_g;t.j(e),t.h<100&&(t.h++,e.next=t.g,t.g=e)}Ig=!1}function xg(e,t){vg.call(this),this.h=e||1,this.g=t||sv,this.j=vv(this.kb,this),this.l=Date.now()}function Pg(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}function Ng(e,t,n){if("function"==typeof e)n&&(e=vv(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=vv(e.handleEvent,e)}return 2147483647<Number(t)?-1:sv.setTimeout(e,t||0)}yv(xg,vg),(li=xg.prototype).da=!1,li.S=null,li.kb=function(){var e;this.da&&(0<(e=Date.now()-this.l)&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),gg(this,"tick"),this.da&&(Pg(this),this.start())))},li.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},li.M=function(){xg.Z.M.call(this),Pg(this),delete this.g};var Ag,Rg=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}iv(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(Dg,Ag=mv),Dg.prototype.l=function(e){this.h=arguments,this.g?this.i=!0:function e(t){t.g=Ng((function(){t.g=null,t.i&&(t.i=!1,e(t))}),t.j);var n=t.h;t.h=null,t.m.apply(null,n)}(this)},Dg.prototype.M=function(){Ag.prototype.M.call(this),this.g&&(sv.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)},Dg);function Dg(e,t){var n=Ag.call(this)||this;return n.m=e,n.j=t,n.h=null,n.i=!1,n.g=null,n}function jg(e){mv.call(this),this.h=e,this.g={}}yv(jg,mv);var Lg=[];function Mg(e,t,n,r){Array.isArray(n)||(n&&(Lg[0]=n.toString()),n=Lg);for(var i=0;i<n.length;i++){var o=sg(t,n[i],r||e.handleEvent,!1,e.h||e);if(!o)break;e.g[o.key]=o}}function Fg(e){Pv(e.g,(function(e,t){this.g.hasOwnProperty(t)&&cg(e)}),e),e.g={}}function Ug(){this.g=!0}function qg(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(r.length<2)){var i=r[1];if(Array.isArray(i)&&!(i.length<1)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var a=1;a<i.length;a++)i[a]=""}}}return mg(n)}catch(e){return t}}(e,n)+(r?" "+r:"")}))}jg.prototype.M=function(){jg.Z.M.call(this),Fg(this)},jg.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Ug.prototype.Aa=function(){this.g=!1},Ug.prototype.info=function(){};var Bg={},Vg=null;function Wg(){return Vg=Vg||new vg}function zg(e){$v.call(this,Bg.Ma,e)}function Hg(){var e=Wg();gg(e,new zg(e))}function Kg(e,t){$v.call(this,Bg.STAT_EVENT,e),this.stat=t}function Gg(e){var t=Wg();gg(t,new Kg(t,e))}function Qg(e,t){$v.call(this,Bg.Na,e),this.size=t}function $g(e,t){if("function"!=typeof e)throw Error("Fn must not be null and must be a function");return sv.setTimeout((function(){e()}),t)}function Yg(){}function Xg(e){return e.h||(e.h=e.i())}function Jg(){}function Zg(){$v.call(this,"d")}function ey(){$v.call(this,"c")}function ty(){}function ny(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new jg(this),this.P=oy,this.W=new xg(e=Uv?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new ry}function ry(){this.i=null,this.g="",this.h=!1}Bg.Ma="serverreachability",yv(zg,$v),Bg.STAT_EVENT="statevent",yv(Kg,$v),Bg.Na="timingevent",yv(Qg,$v),G={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},Q={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"},Yg.prototype.h=null,Xs={OPEN:"a",pb:"b",Ka:"c",Bb:"d"},yv(Zg,$v),yv(ey,$v),yv(ty,Yg),ty.prototype.g=function(){return new XMLHttpRequest},ty.prototype.i=function(){return{}};var iy=new ty,oy=45e3,ay={},sy={};function uy(e,t,n){e.K=1,e.v=Py(Ty(t)),e.s=n,e.U=!0,cy(e,null)}function cy(e,t){e.F=Date.now(),fy(e),e.A=Ty(e.v);var n,r,i,o,a,s,u=e.A,c=e.X;Array.isArray(c)||(c=[String(c)]),Wy(u.h,"t",c),e.C=0,u=e.l.H,e.h=new ry,e.g=zm(e.l,u?t:null,!e.s),0<e.O&&(e.L=new Rg(vv(e.Ia,e,e.g),e.O)),Mg(e.V,e.g,"readystatechange",e.gb),t=e.H?Nv(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),Hg(),n=e.j,r=e.u,i=e.A,o=e.m,a=e.X,s=e.s,n.info((function(){if(n.g)if(s)for(var e="",t=s.split("&"),u=0;u<t.length;u++){var c,l,h=t[u].split("=");1<h.length&&(c=h[0],h=h[1],e=2<=(l=c.split("_")).length&&"type"==l[1]?e+(c+"=")+h+"&":e+(c+"=redacted&"))}else e=null;else e=s;return"XMLHTTP REQ ("+o+") [attempt "+a+"]: "+r+"\n"+i+"\n"+e}))}function ly(e){return e.g&&"GET"==e.u&&2!=e.K&&e.l.Ba}function hy(e,t,n){for(var r,i,o,a,s,u=!0;!e.I&&e.C<n.length;){if(o=n,s=a=void 0,a=(i=e).C,(r=-1==(s=o.indexOf("\n",a))?sy:(a=Number(o.substring(a,s)),isNaN(a)?ay:(s+=1)+a>o.length?sy:(o=o.substr(s,a),i.C=s+a,o)))==sy){4==t&&(e.o=4,Gg(14),u=!1),qg(e.j,e.m,null,"[Incomplete Response]");break}if(r==ay){e.o=4,Gg(15),qg(e.j,e.m,n,"[Invalid Chunk]"),u=!1;break}qg(e.j,e.m,r,null),yy(e,r)}ly(e)&&r!=sy&&r!=ay&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,Gg(16),u=!1),e.i=e.i&&u,u?0<n.length&&!e.aa&&(e.aa=!0,(t=e.l).g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),Lm(t),t.L=!0,Gg(11))):(qg(e.j,e.m,n,"[Invalid Chunked Response]"),gy(e),vy(e))}function fy(e){e.Y=Date.now()+e.P,dy(e,e.P)}function dy(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=$g(vv(e.eb,e),t)}function py(e){e.B&&(sv.clearTimeout(e.B),e.B=null)}function vy(e){0==e.l.G||e.I||Um(e.l,e)}function gy(e){py(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,Pg(e.W),Fg(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function yy(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||Xy(n.i,e)))if(n.I=e.N,!e.J&&Xy(n.i,e)&&3==n.G){try{var r=n.Ca.g.parse(t)}catch(v){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;Fm(n),km(n)}jm(n),Gg(18)}}else n.ta=i[1],0<n.ta-n.U&&i[2]<37500&&n.N&&0==n.A&&!n.v&&(n.v=$g(vv(n.ab,n),6e3));if(Yy(n.i)<=1&&n.ka){try{n.ka()}catch(v){}n.ka=void 0}}else Bm(n,11)}else if(!e.J&&n.g!=e||Fm(n),!Tv(t))for(i=n.Ca.g.parse(t),t=0;t<i.length;t++){var o,a,s,u,c,l,h,f,d,p,v=i[t];n.U=v[0],v=v[1],2==n.G?"c"==v[0]?(n.J=v[1],n.la=v[2],null!=(o=v[3])&&(n.ma=o,n.h.info("VER="+n.ma)),null!=(a=v[4])&&(n.za=a,n.h.info("SVER="+n.za)),null!=(s=v[5])&&"number"==typeof s&&0<s&&(r=1.5*s,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n,(u=e.g)&&(!(c=u.g?u.g.getResponseHeader("X-Client-Wire-Protocol"):null)||!(l=r.i).g&&(kv(c,"spdy")||kv(c,"quic")||kv(c,"h2"))&&(l.j=l.l,l.g=new Set,l.h&&(Jy(l,l.h),l.h=null)),!r.D||(h=u.g?u.g.getResponseHeader("X-HTTP-Session-Id"):null)&&(r.sa=h,xy(r.F,r.D,h))),n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms")),f=e,(r=n).oa=Wm(r,r.H?r.la:null,r.W),f.J?(Zy(r.i,f),d=f,(p=r.K)&&d.setTimeout(p),d.B&&(py(d),fy(d)),r.g=f):Dm(r),0<n.l.length&&Pm(n)):"stop"!=v[0]&&"close"!=v[0]||Bm(n,7):3==n.G&&("stop"==v[0]||"close"==v[0]?"stop"==v[0]?Bm(n,7):Im(n):"noop"!=v[0]&&n.j&&n.j.wa(v),n.A=0)}Hg()}catch(v){}}function my(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(cv(e)||"string"==typeof e)wv(e,t,void 0);else{if(e.T&&"function"==typeof e.T)var n=e.T();else if(e.R&&"function"==typeof e.R)n=void 0;else if(cv(e)||"string"==typeof e){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;i=(r=function(e){if(e.R&&"function"==typeof e.R)return e.R();if("string"==typeof e)return e.split("");if(cv(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e)).length;for(var o=0;o<i;o++)t.call(void 0,r[o],n&&n[o],e)}}function by(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof by)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function _y(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];wy(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var i={};for(n=t=0;t<e.g.length;)wy(i,r=e.g[t])||(i[e.g[n++]=r]=1),t++;e.g.length=n}}function wy(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(li=ny.prototype).setTimeout=function(e){this.P=e},li.gb=function(e){e=e.target;var t=this.L;t&&3==wm(e)?t.l():this.Ia(e)},li.Ia=function(e){try{if(e==this.g)e:{var t=wm(this.g),n=this.g.Da();if(this.g.ba(),!(t<3)&&(3!=t||Uv||this.g&&(this.h.h||this.g.ga()||Em(this.g)))){this.I||4!=t||7==n||Hg(),py(this);var r=this.g.ba();this.N=r;t:if(ly(this)){var i=Em(this.g);e="";var o=i.length,a=4==wm(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){gy(this),vy(this);var s="";break t}this.h.i=new sv.TextDecoder}for(n=0;n<o;n++)this.h.h=!0,e+=this.h.i.decode(i[n],{stream:a&&n==o-1});i.splice(0,o),this.h.g+=e,this.C=0,s=this.h.g}else s=this.g.ga();if(this.i=200==r,h=this.j,f=this.u,d=this.A,p=this.m,v=this.X,g=t,y=r,h.info((function(){return"XMLHTTP RESP ("+p+") [ attempt "+v+"]: "+f+"\n"+d+"\n"+g+" "+y})),this.i){if(this.$&&!this.J){t:{if(this.g){var u,c=this.g;if((u=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Tv(u)){var l=u;break t}}l=null}if(!(r=l)){this.i=!1,this.o=3,Gg(12),gy(this),vy(this);break e}qg(this.j,this.m,r,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,yy(this,r)}this.U?(hy(this,t,s),Uv&&this.i&&3==t&&(Mg(this.V,this.W,"tick",this.fb),this.W.start())):(qg(this.j,this.m,s,null),yy(this,s)),4==t&&gy(this),this.i&&!this.I&&(4==t?Um(this.l,this):(this.i=!1,fy(this)))}else 400==r&&0<s.indexOf("Unknown SID")?(this.o=3,Gg(12)):(this.o=0,Gg(13)),gy(this),vy(this)}}}catch(t){}var h,f,d,p,v,g,y},li.fb=function(){var e,t;this.g&&(e=wm(this.g),t=this.g.ga(),this.C<t.length&&(py(this),hy(this,e,t),this.i&&4!=e&&fy(this)))},li.cancel=function(){this.I=!0,gy(this)},li.eb=function(){this.B=null;var e,t,n=Date.now();0<=n-this.Y?(e=this.j,t=this.A,e.info((function(){return"TIMEOUT: "+t})),2!=this.K&&(Hg(),Gg(17)),gy(this),this.o=2,vy(this)):dy(this,this.Y-n)},(li=by.prototype).R=function(){_y(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e},li.T=function(){return _y(this),this.g.concat()},li.get=function(e,t){return wy(this.h,e)?this.h[e]:t},li.set=function(e,t){wy(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t},li.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);e.call(t,o,i,this)}};var Ey=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Sy(e,t){var n;this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof Sy?(this.g=void 0!==t?t:e.g,Cy(this,e.j),this.s=e.s,Iy(this,e.i),ky(this,e.m),this.l=e.l,t=e.h,(n=new Uy).i=t.i,t.g&&(n.g=new by(t.g),n.h=t.h),Oy(this,n),this.o=e.o):e&&(n=String(e).match(Ey))?(this.g=!!t,Cy(this,n[1]||"",!0),this.s=Ny(n[2]||""),Iy(this,n[3]||"",!0),ky(this,n[4]),this.l=Ny(n[5]||"",!0),Oy(this,n[6]||"",!0),this.o=Ny(n[7]||"")):(this.g=!!t,this.h=new Uy(null,this.g))}function Ty(e){return new Sy(e)}function Cy(e,t,n){e.j=n?Ny(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Iy(e,t,n){e.i=n?Ny(t,!0):t}function ky(e,t){if(t){if(t=Number(t),isNaN(t)||t<0)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Oy(e,t,n){var r,i;t instanceof Uy?(e.h=t,r=e.h,(i=e.g)&&!r.j&&(qy(r),r.i=null,r.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(By(this,t),Wy(this,n,e))}),r)),r.j=i):(n||(t=Ay(t,My)),e.h=new Uy(t,e.g))}function xy(e,t,n){e.h.set(t,n)}function Py(e){return xy(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Ny(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Ay(e,t,n){return"string"==typeof e?(e=encodeURI(e).replace(t,Ry),e=n?e.replace(/%25([0-9a-fA-F]{2})/g,"%$1"):e):null}function Ry(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Sy.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Ay(t,Dy,!0),":");var n=this.i;return!n&&"file"!=t||(e.push("//"),(t=this.s)&&e.push(Ay(t,Dy,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&e.push("/"),e.push(Ay(n,"/"==n.charAt(0)?Ly:jy,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Ay(n,Fy)),e.join("")};var Dy=/[#\/\?@]/g,jy=/[#\?:]/g,Ly=/[#\?]/g,My=/[#\?@]/g,Fy=/#/g;function Uy(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function qy(e){e.g||(e.g=new by,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r,i=e[n].indexOf("="),o=null;0<=i?(r=e[n].substring(0,i),o=e[n].substring(i+1)):r=e[n],t(r,o?decodeURIComponent(o.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function By(e,t){qy(e),t=zy(e,t),wy(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,wy((e=e.g).h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&_y(e)))}function Vy(e,t){return qy(e),t=zy(e,t),wy(e.g.h,t)}function Wy(e,t,n){By(e,t),0<n.length&&(e.i=null,e.g.set(zy(e,t),Sv(n)),e.h+=n.length)}function zy(e,t){return t=String(t),e.j?t.toLowerCase():t}(li=Uy.prototype).add=function(e,t){qy(this),this.i=null,e=zy(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},li.forEach=function(e,t){qy(this),this.g.forEach((function(n,r){wv(n,(function(n){e.call(t,n,r,this)}),this)}),this)},li.T=function(){qy(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var i=e[r],o=0;o<i.length;o++)n.push(t[r]);return n},li.R=function(e){qy(this);var t=[];if("string"==typeof e)Vy(this,e)&&(t=Ev(t,this.g.get(zy(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=Ev(t,e[n])}return t},li.set=function(e,t){return qy(this),this.i=null,Vy(this,e=zy(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},li.get=function(e,t){return e&&0<(e=this.R(e)).length?String(e[0]):t},li.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++)for(var r=t[n],i=encodeURIComponent(String(r)),o=(r=this.R(r),0);o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),e.push(a)}return this.i=e.join("&")};var Hy=function(e,t){this.h=e,this.g=t};function Ky(e){this.l=e||Qy,e=sv.PerformanceNavigationTiming?0<(e=sv.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):!!(sv.g&&sv.g.Ea&&sv.g.Ea()&&sv.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Gy,Qy=10;function $y(e){return e.h||e.g&&e.g.size>=e.j}function Yy(e){return e.h?1:e.g?e.g.size:0}function Xy(e,t){return e.h?e.h==t:e.g&&e.g.has(t)}function Jy(e,t){e.g?e.g.add(t):e.h=t}function Zy(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function em(e){var t,n;if(null!=e.h)return e.i.concat(e.h.D);if(null==e.g||0===e.g.size)return Sv(e.i);var r=e.i;try{for(var i=ov(e.g.values()),o=i.next();!o.done;o=i.next()){var a=o.value;r=r.concat(a.D)}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}function tm(){}function nm(){this.g=new tm}function rm(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(e){}}function im(e){this.l=e.$b||null,this.j=e.ib||!1}function om(e,t){vg.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=am,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Ky.prototype.cancel=function(){var e,t;if(this.i=em(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){try{for(var n=ov(this.g.values()),r=n.next();!r.done;r=n.next())r.value.cancel()}catch(t){e={error:t}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}this.g.clear()}},tm.prototype.stringify=function(e){return sv.JSON.stringify(e,void 0)},tm.prototype.parse=function(e){return sv.JSON.parse(e,void 0)},yv(im,Yg),im.prototype.g=function(){return new om(this.l,this.j)},im.prototype.i=(Gy={},function(){return Gy}),yv(om,vg);var am=0;function sm(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}function um(e){e.readyState=4,e.l=null,e.j=null,e.A=null,cm(e)}function cm(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(li=om.prototype).open=function(e,t){if(this.readyState!=am)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,cm(this)},li.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||sv).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},li.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,um(this)),this.readyState=am},li.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,cm(this)),this.g&&(this.readyState=3,cm(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==sv.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;sm(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))},li.Sa=function(e){var t;this.g&&(this.u&&e.value?this.response.push(e.value):this.u||(t=e.value||new Uint8Array(0),(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)),(e.done?um:cm)(this),3==this.readyState&&sm(this))},li.Ua=function(e){this.g&&(this.response=this.responseText=e,um(this))},li.Ta=function(e){this.g&&(this.response=e,um(this))},li.ha=function(){this.g&&um(this)},li.setRequestHeader=function(e,t){this.v.append(e,t)},li.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},li.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(om.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var lm=sv.JSON.parse;function hm(e){vg.call(this),this.headers=new by,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=fm,this.K=this.L=!1}yv(hm,vg);var fm="",dm=/^https?$/i,pm=["POST","PUT"];function vm(e){return"content-type"==e.toLowerCase()}function gm(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,ym(e),bm(e)}function ym(e){e.D||(e.D=!0,gg(e,"complete"),gg(e,"error"))}function mm(e){if(e.h&&void 0!==av&&(!e.C[1]||4!=wm(e)||2!=e.ba()))if(e.v&&4==wm(e))Ng(e.Fa,0,e);else if(gg(e,"readystatechange"),4==wm(e)){e.h=!1;try{var t,n,r,i,o=e.ba();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var a=!0;break e;default:a=!1}if((t=a)||((n=0===o)&&(!(i=String(e.H).match(Ey)[1]||null)&&sv.self&&sv.self.location&&(i=(r=sv.self.location.protocol).substr(0,r.length-1)),n=!dm.test(i?i.toLowerCase():"")),t=n),t)gg(e,"complete"),gg(e,"success");else{e.m=6;try{var s=2<wm(e)?e.g.statusText:""}catch(e){s=""}e.j=s+" ["+e.ba()+"]",ym(e)}}finally{bm(e)}}}function bm(e,t){if(e.g){_m(e);var n=e.g,r=e.C[0]?uv:null;e.g=null,e.C=null,t||gg(e,"ready");try{n.onreadystatechange=r}catch(e){}}}function _m(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(sv.clearTimeout(e.A),e.A=null)}function wm(e){return e.g?e.g.readyState:0}function Em(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case fm:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(e){return null}}function Sm(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}var i;r||(i="",Pv(n,(function(e,t){i+=t,i+=":",i+=e,i+="\r\n"})),n=i,"string"==typeof e?null!=n&&encodeURIComponent(String(n)):xy(e,t,n))}function Tm(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Cm(e){this.za=0,this.l=[],this.h=new Ug,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Tm("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Tm("baseRetryDelayMs",5e3,e),this.$a=Tm("retryDelaySeedMs",1e4,e),this.Ya=Tm("forwardChannelMaxRetries",2,e),this.ra=Tm("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new Ky(e&&e.concurrentRequestLimit),this.Ca=new nm,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||!1!==e.Xb}function Im(e){var t,n;Om(e),3==e.G&&(t=e.V++,xy(n=Ty(e.F),"SID",e.J),xy(n,"RID",t),xy(n,"TYPE","terminate"),Am(e,n),(t=new ny(e,e.h,t,void 0)).K=2,t.v=Py(Ty(n)),n=!1,!(n=sv.navigator&&sv.navigator.sendBeacon?sv.navigator.sendBeacon(t.v.toString(),""):n)&&sv.Image&&((new Image).src=t.v,n=!0),n||(t.g=zm(t.l,null),t.g.ea(t.v)),t.F=Date.now(),fy(t)),Vm(e)}function km(e){e.g&&(Lm(e),e.g.cancel(),e.g=null)}function Om(e){km(e),e.u&&(sv.clearTimeout(e.u),e.u=null),Fm(e),e.i.cancel(),e.m&&("number"==typeof e.m&&sv.clearTimeout(e.m),e.m=null)}function xm(e,t){e.l.push(new Hy(e.Za++,t)),3==e.G&&Pm(e)}function Pm(e){$y(e.i)||e.m||(e.m=!0,Cg(e.Ha,e),e.C=0)}function Nm(e,t){var n=t?t.m:e.V++,r=Ty(e.F);xy(r,"SID",e.J),xy(r,"RID",n),xy(r,"AID",e.U),Am(e,r),e.o&&e.s&&Sm(r,e.o,e.s),n=new ny(e,e.h,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=Rm(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),Jy(e.i,n),uy(n,r,t)}function Am(e,t){e.j&&my({},(function(e,n){xy(t,n,e)}))}function Rm(e,t,n){n=Math.min(e.l.length,n);var r=e.j?vv(e.j.Oa,e.j,e):null;e:for(var i=e.l,o=-1;;){var a=["count="+n];-1==o?0<n?(o=i[0].h,a.push("ofs="+o)):o=0:a.push("ofs="+o);for(var s=!0,u=0;u<n;u++){var c=i[u].h,l=i[u].g;if((c-=o)<0)o=Math.max(0,i[u].h-100),s=!1;else try{!function(e,t,n){var r=n||"";try{my(e,(function(e,n){var i=e;lv(e)&&(i=mg(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(e){throw t.push(r+"type="+encodeURIComponent("_badmap")),e}}(l,a,"req"+c+"_")}catch(e){r&&r(l)}}if(s){r=a.join("&");break e}}return e=e.l.splice(0,n),t.D=e,r}function Dm(e){e.g||e.u||(e.Y=1,Cg(e.Ga,e),e.A=0)}function jm(e){return!(e.g||e.u||3<=e.A)&&(e.Y++,e.u=$g(vv(e.Ga,e),qm(e,e.A)),e.A++,1)}function Lm(e){null!=e.B&&(sv.clearTimeout(e.B),e.B=null)}function Mm(e){e.g=new ny(e,e.h,"rpc",e.Y),null===e.o&&(e.g.H=e.s),e.g.O=0;var t=Ty(e.oa);xy(t,"RID","rpc"),xy(t,"SID",e.J),xy(t,"CI",e.N?"0":"1"),xy(t,"AID",e.U),Am(e,t),xy(t,"TYPE","xmlhttp"),e.o&&e.s&&Sm(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=Py(Ty(t)),n.s=null,n.U=!0,cy(n,e)}function Fm(e){null!=e.v&&(sv.clearTimeout(e.v),e.v=null)}function Um(e,t){var n,r,i,o=null;if(e.g==t){Fm(e),Lm(e),e.g=null;var a=2}else{if(!Xy(e.i,t))return;o=t.D,Zy(e.i,t),a=1}if(e.I=t.N,0!=e.G)if(t.i)1==a?(o=t.s?t.s.length:0,t=Date.now()-t.F,n=e.C,gg(a=Wg(),new Qg(a,o)),Pm(e)):Dm(e);else if(3==(n=t.o)||0==n&&0<e.I||(1!=a||(i=t,Yy((r=e).i)>=r.i.j-(r.m?1:0)||(r.m?(r.l=i.D.concat(r.l),0):1==r.G||2==r.G||r.C>=(r.Xa?0:r.Ya)||(r.m=$g(vv(r.Ha,r,i),qm(r,r.C)),r.C++,0))))&&(2!=a||!jm(e)))switch(o&&0<o.length&&(t=e.i,t.i=t.i.concat(o)),n){case 1:Bm(e,5);break;case 4:Bm(e,10);break;case 3:Bm(e,6);break;default:Bm(e,2)}}function qm(e,t){var n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function Bm(e,t){var n,r,i,o;e.h.info("Error code "+t),2==t?(r=null,e.j&&(r=null),o=vv(e.jb,e),r||(r=new Sy("//www.google.com/images/cleardot.gif"),sv.location&&"http"==sv.location.protocol||Cy(r,"https"),Py(r)),n=r.toString(),r=o,o=new Ug,sv.Image?((i=new Image).onload=gv(rm,o,i,"TestLoadImage: loaded",!0,r),i.onerror=gv(rm,o,i,"TestLoadImage: error",!1,r),i.onabort=gv(rm,o,i,"TestLoadImage: abort",!1,r),i.ontimeout=gv(rm,o,i,"TestLoadImage: timeout",!1,r),sv.setTimeout((function(){i.ontimeout&&i.ontimeout()}),1e4),i.src=n):r(!1)):Gg(2),e.G=0,e.j&&e.j.va(t),Vm(e),Om(e)}function Vm(e){e.G=0,e.I=-1,e.j&&(0==em(e.i).length&&0==e.l.length||(e.i.i.length=0,Sv(e.l),e.l.length=0),e.j.ua())}function Wm(e,t,n){var r,i,o,a,s,u=(a=n)instanceof Sy?Ty(a):new Sy(a,void 0);return""!=u.i?(t&&Iy(u,t+"."+u.i),ky(u,u.m)):(r=(s=sv.location).protocol,i=t?t+"."+s.hostname:s.hostname,o=+s.port,a=n,s=new Sy(null,void 0),r&&Cy(s,r),i&&Iy(s,i),o&&ky(s,o),a&&(s.l=a),u=s),e.aa&&Pv(e.aa,(function(e,t){xy(u,t,e)})),t=e.D,n=e.sa,t&&n&&xy(u,t,n),xy(u,"VER",e.ma),Am(e,u),u}function zm(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ba&&!e.qa?new hm(new im({ib:!0})):new hm(e.qa)).L=e.H,t}function Hm(){}function Km(){if(Mv&&!(10<=Number(Gv)))throw Error("Environmental error: no available transport.")}function Gm(e,t){vg.call(this),this.g=new Cm(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!Tv(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Tv(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&t in(e=this.h)&&delete e[t]),this.j=new Ym(this)}function Qm(e){Zg.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function $m(){ey.call(this),this.status=1}function Ym(e){this.g=e}(li=hm.prototype).ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=(this.u||iy).g(),this.C=this.u?Xg(this.u):Xg(iy),this.g.onreadystatechange=vv(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(e){return void gm(this,e)}e=n||"";var i,o=new by(this.headers);r&&my(r,(function(e,t){o.set(t,e)})),r=function(e){e:{for(var t=vm,n=e.length,r="string"==typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return t<0?null:"string"==typeof e?e.charAt(t):e[t]}(o.T()),n=sv.FormData&&e instanceof sv.FormData,0<=_v(pm,t)&&!r&&!n&&o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach((function(e,t){this.g.setRequestHeader(t,e)}),this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{_m(this),0<this.B&&((this.K=(i=this.g,Mv&&Kv()&&"number"==typeof i.timeout&&void 0!==i.ontimeout))?(this.g.timeout=this.B,this.g.ontimeout=vv(this.pa,this)):this.A=Ng(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(e){gm(this,e)}},li.pa=function(){void 0!==av&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,gg(this,"timeout"),this.abort(8))},li.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,gg(this,"complete"),gg(this,"abort"),bm(this))},li.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),bm(this,!0)),hm.Z.M.call(this)},li.Fa=function(){this.s||(this.F||this.v||this.l?mm(this):this.cb())},li.cb=function(){mm(this)},li.ba=function(){try{return 2<wm(this)?this.g.status:-1}catch(e){return-1}},li.ga=function(){try{return this.g?this.g.responseText:""}catch(e){return""}},li.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),lm(t)}},li.Da=function(){return this.m},li.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(li=Cm.prototype).ma=8,li.G=1,li.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch(e){}},li.Ha=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;var t=new ny(this,this.h,e,void 0),n=this.s;if(this.P&&(n?Rv(n=Nv(n),this.P):n=this.P),null===this.o&&(t.H=n),this.ja)e:{for(var r=0,i=0;i<this.l.length;i++){var o=this.l[i];if(void 0===(o="__data__"in o.g&&"string"==typeof(o=o.g.__data__)?o.length:void 0))break;if(4096<(r+=o)){r=i;break e}if(4096===r||i===this.l.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=Rm(this,t,r),xy(i=Ty(this.F),"RID",e),xy(i,"CVER",22),this.D&&xy(i,"X-HTTP-Session-Id",this.D),Am(this,i),this.o&&n&&Sm(i,this.o,n),Jy(this.i,t),this.Ra&&xy(i,"TYPE","init"),this.ja?(xy(i,"$req",r),xy(i,"SID","null"),t.$=!0,uy(t,i,null)):uy(t,i,r),this.G=2}}else 3==this.G&&(e?Nm(this,e):0==this.l.length||$y(this.i)||Nm(this))},li.Ga=function(){var e;this.u=null,Mm(this),this.$&&!(this.L||null==this.g||this.O<=0)&&(e=2*this.O,this.h.info("BP detection timer enabled: "+e),this.B=$g(vv(this.bb,this),e))},li.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Gg(10),km(this),Mm(this))},li.ab=function(){null!=this.v&&(this.v=null,km(this),jm(this),Gg(19))},li.jb=function(e){e?(this.h.info("Successfully pinged google.com"),Gg(2)):(this.h.info("Failed to ping google.com"),Gg(1))},(li=Hm.prototype).xa=function(){},li.wa=function(){},li.va=function(){},li.ua=function(){},li.Oa=function(){},Km.prototype.g=function(e,t){return new Gm(e,t)},yv(Gm,vg),Gm.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),Cg(vv(e.hb,e,t))),Gg(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=Wm(e,null,e.W),Pm(e)},Gm.prototype.close=function(){Im(this.g)},Gm.prototype.u=function(e){var t;"string"==typeof e?((t={}).__data__=e,xm(this.g,t)):this.v?((t={}).__data__=mg(e),xm(this.g,t)):xm(this.g,e)},Gm.prototype.M=function(){this.g.j=null,delete this.j,Im(this.g),delete this.g,Gm.Z.M.call(this)},yv(Qm,Zg),yv($m,ey),yv(Ym,Hm),Ym.prototype.xa=function(){gg(this.g,"a")},Ym.prototype.wa=function(e){gg(this.g,new Qm(e))},Ym.prototype.va=function(e){gg(this.g,new $m)},Ym.prototype.ua=function(){gg(this.g,"b")},Km.prototype.createWebChannel=Km.prototype.g,Gm.prototype.send=Gm.prototype.u,Gm.prototype.open=Gm.prototype.m,G.NO_ERROR=0,G.TIMEOUT=8,G.HTTP_ERROR=6,Q.COMPLETE="complete",(Jg.EventType=Xs).OPEN="a",Xs.CLOSE="b",Xs.ERROR="c",Xs.MESSAGE="d",vg.prototype.listen=vg.prototype.N,hm.prototype.listenOnce=hm.prototype.O,hm.prototype.getLastError=hm.prototype.La,hm.prototype.getLastErrorCode=hm.prototype.Da,hm.prototype.getStatus=hm.prototype.ba,hm.prototype.getResponseJson=hm.prototype.Qa,hm.prototype.getResponseText=hm.prototype.ga,hm.prototype.send=hm.prototype.ea;var Xm=Wg,Jm=G,Zm=Q,eb=Bg,tb=10,nb=11,rb=im,ib=Jg,ob=hm,ab=(sb.prototype.t=function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue},sb.prototype.next=function(){var e=++this.previousValue;return this.i&&this.i(e),e},sb);function sb(e,t){var n=this;this.previousValue=e,t&&(t.sequenceNumberHandler=function(e){return n.t(e)},this.i=function(e){return t.writeSequenceNumber(e)})}ab.o=-1;var ub,cb={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},lb=($i(fb,ub=Error),fb),hb=new ga("@firebase/firestore");function fb(e,t){var n=this;return(n=ub.call(this,t)||this).code=e,n.message=t,n.name="FirebaseError",n.toString=function(){return n.name+": [code="+n.code+"]: "+n.message},n}function db(){return hb.logLevel}function pb(e){for(var t,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];hb.logLevel<=la.DEBUG&&(t=n.map(yb),hb.debug.apply(hb,to(["Firestore (8.10.1): "+e],t)))}function vb(e){for(var t,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];hb.logLevel<=la.ERROR&&(t=n.map(yb),hb.error.apply(hb,to(["Firestore (8.10.1): "+e],t)))}function gb(e){for(var t,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];hb.logLevel<=la.WARN&&(t=n.map(yb),hb.warn.apply(hb,to(["Firestore (8.10.1): "+e],t)))}function yb(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch(e){return t}}function mb(e){throw vb(e="FIRESTORE (8.10.1) INTERNAL ASSERTION FAILED: "+(e=void 0===e?"Unexpected state":e)),new Error(e)}function bb(e){e||mb()}var _b=(wb.u=function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=function(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n},wb);function wb(){}function Eb(e,t){return e<t?-1:t<e?1:0}function Sb(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function Tb(e){return e+"\0"}var Cb=(Ob.now=function(){return Ob.fromMillis(Date.now())},Ob.fromDate=function(e){return Ob.fromMillis(e.getTime())},Ob.fromMillis=function(e){var t=Math.floor(e/1e3);return new Ob(t,Math.floor(1e6*(e-1e3*t)))},Ob.prototype.toDate=function(){return new Date(this.toMillis())},Ob.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},Ob.prototype._compareTo=function(e){return this.seconds===e.seconds?Eb(this.nanoseconds,e.nanoseconds):Eb(this.seconds,e.seconds)},Ob.prototype.isEqual=function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds},Ob.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},Ob.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},Ob.prototype.valueOf=function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},Ob),Ib=(kb.fromTimestamp=function(e){return new kb(e)},kb.min=function(){return new kb(new Cb(0,0))},kb.prototype.compareTo=function(e){return this.timestamp._compareTo(e.timestamp)},kb.prototype.isEqual=function(e){return this.timestamp.isEqual(e.timestamp)},kb.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},kb.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},kb.prototype.toTimestamp=function(){return this.timestamp},kb);function kb(e){this.timestamp=e}function Ob(e,t){if(this.seconds=e,(this.nanoseconds=t)<0)throw new lb(cb.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(1e9<=t)throw new lb(cb.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new lb(cb.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(253402300800<=e)throw new lb(cb.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}function xb(e){var t,n=0;for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&n++;return n}function Pb(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Nb(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}Object.defineProperty(Wb.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),Wb.prototype.isEqual=function(e){return 0===Wb.comparator(this,e)},Wb.prototype.child=function(e){var t=this.segments.slice(this.offset,this.limit());return e instanceof Wb?e.forEach((function(e){t.push(e)})):t.push(e),this.construct(t)},Wb.prototype.limit=function(){return this.offset+this.length},Wb.prototype.popFirst=function(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)},Wb.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},Wb.prototype.firstSegment=function(){return this.segments[this.offset]},Wb.prototype.lastSegment=function(){return this.get(this.length-1)},Wb.prototype.get=function(e){return this.segments[this.offset+e]},Wb.prototype.isEmpty=function(){return 0===this.length},Wb.prototype.isPrefixOf=function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0},Wb.prototype.isImmediateParentOf=function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0},Wb.prototype.forEach=function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])},Wb.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},Wb.comparator=function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),o=t.get(r);if(i<o)return-1;if(o<i)return 1}return e.length<t.length?-1:e.length>t.length?1:0};var Ab,Rb,Db=($i(Vb,Rb=G=Wb),Vb.prototype.construct=function(e,t,n){return new Vb(e,t,n)},Vb.prototype.canonicalString=function(){return this.toArray().join("/")},Vb.prototype.toString=function(){return this.canonicalString()},Vb.fromString=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=[],r=0,i=e;r<i.length;r++){var o=i[r];if(0<=o.indexOf("//"))throw new lb(cb.INVALID_ARGUMENT,"Invalid segment ("+o+"). Paths must not contain // in them.");n.push.apply(n,o.split("/").filter((function(e){return 0<e.length})))}return new Vb(n)},Vb.emptyPath=function(){return new Vb([])},Vb),jb=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Lb=($i(Bb,Ab=G),Bb.prototype.construct=function(e,t,n){return new Bb(e,t,n)},Bb.isValidIdentifier=function(e){return jb.test(e)},Bb.prototype.canonicalString=function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Bb.isValidIdentifier(e)?e:"`"+e+"`"})).join(".")},Bb.prototype.toString=function(){return this.canonicalString()},Bb.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},Bb.keyField=function(){return new Bb(["__name__"])},Bb.fromServerFormat=function(e){for(var t=[],n="",r=0,i=function(){if(0===n.length)throw new lb(cb.INVALID_ARGUMENT,"Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");t.push(n),n=""},o=!1;r<e.length;){var a=e[r];if("\\"===a){if(r+1===e.length)throw new lb(cb.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var s=e[r+1];if("\\"!==s&&"."!==s&&"`"!==s)throw new lb(cb.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=s,r+=2}else"`"===a?o=!o:"."!==a||o?n+=a:i(),r++}if(i(),o)throw new lb(cb.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Bb(t)},Bb.emptyPath=function(){return new Bb([])},Bb),Mb=(qb.prototype.covers=function(e){for(var t=0,n=this.fields;t<n.length;t++)if(n[t].isPrefixOf(e))return!0;return!1},qb.prototype.isEqual=function(e){return Sb(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))},qb),Fb=(Ub.fromBase64String=function(e){return new Ub(atob(e))},Ub.fromUint8Array=function(e){return new Ub(function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e))},Ub.prototype.toBase64=function(){return e=this.binaryString,btoa(e);var e},Ub.prototype.toUint8Array=function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)},Ub.prototype.approximateByteSize=function(){return 2*this.binaryString.length},Ub.prototype.compareTo=function(e){return Eb(this.binaryString,e.binaryString)},Ub.prototype.isEqual=function(e){return this.binaryString===e.binaryString},Ub);function Ub(e){this.binaryString=e}function qb(e){(this.fields=e).sort(Lb.comparator)}function Bb(){return null!==Ab&&Ab.apply(this,arguments)||this}function Vb(){return null!==Rb&&Rb.apply(this,arguments)||this}function Wb(e,t,n){void 0===t?t=0:t>e.length&&mb(),void 0===n?n=e.length-t:n>e.length-t&&mb(),this.segments=e,this.offset=t,this.len=n}Fb.EMPTY_BYTE_STRING=new Fb("");var zb=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Hb(e){if(bb(!!e),"string"!=typeof e)return{seconds:Kb(e.seconds),nanos:Kb(e.nanos)};var t=0,n=zb.exec(e);return bb(!!n),n[1]&&(n=((n=n[1])+"000000000").substr(0,9),t=Number(n)),e=new Date(e),{seconds:Math.floor(e.getTime()/1e3),nanos:t}}function Kb(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Gb(e){return"string"==typeof e?Fb.fromBase64String(e):Fb.fromUint8Array(e)}function Qb(e){return"server_timestamp"===(null===(e=((null===(e=null==e?void 0:e.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===e?void 0:e.stringValue)}function $b(e){return e=Hb(e.mapValue.fields.__local_write_time__.timestampValue),new Cb(e.seconds,e.nanos)}function Yb(e){return null==e}function Xb(e){return 0===e&&1/e==-1/0}function Jb(e){return"number"==typeof e&&Number.isInteger(e)&&!Xb(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var Zb=(e_.fromPath=function(e){return new e_(Db.fromString(e))},e_.fromName=function(e){return new e_(Db.fromString(e).popFirst(5))},e_.prototype.hasCollectionId=function(e){return 2<=this.path.length&&this.path.get(this.path.length-2)===e},e_.prototype.isEqual=function(e){return null!==e&&0===Db.comparator(this.path,e.path)},e_.prototype.toString=function(){return this.path.toString()},e_.comparator=function(e,t){return Db.comparator(e.path,t.path)},e_.isDocumentKey=function(e){return e.length%2==0},e_.fromSegments=function(e){return new e_(new Db(e.slice()))},e_);function e_(e){this.path=e}function t_(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Qb(e)?4:10:mb()}function n_(e,t){var n,r,i=t_(e);if(i!==t_(t))return!1;switch(i){case 0:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return $b(e).isEqual($b(t));case 3:return function(t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=Hb(e.timestampValue);return t=Hb(t.timestampValue),n.seconds===t.seconds&&n.nanos===t.nanos}(t);case 5:return e.stringValue===t.stringValue;case 6:return r=t,Gb(e.bytesValue).isEqual(Gb(r.bytesValue));case 7:return e.referenceValue===t.referenceValue;case 8:return n=t,Kb((r=e).geoPointValue.latitude)===Kb(n.geoPointValue.latitude)&&Kb(r.geoPointValue.longitude)===Kb(n.geoPointValue.longitude);case 2:return function(e,t){return"integerValue"in e&&"integerValue"in t?Kb(e.integerValue)===Kb(t.integerValue):"doubleValue"in e&&"doubleValue"in t&&((e=Kb(e.doubleValue))===(t=Kb(t.doubleValue))?Xb(e)===Xb(t):isNaN(e)&&isNaN(t))}(e,t);case 9:return Sb(e.arrayValue.values||[],t.arrayValue.values||[],n_);case 10:return function(){var n,r=e.mapValue.fields||{},i=t.mapValue.fields||{};if(xb(r)!==xb(i))return!1;for(n in r)if(r.hasOwnProperty(n)&&(void 0===i[n]||!n_(r[n],i[n])))return!1;return!0}();default:return mb()}}function r_(e,t){return void 0!==(e.values||[]).find((function(e){return n_(e,t)}))}function i_(e,t){var n,r,i,o=t_(e),a=t_(t);if(o!==a)return Eb(o,a);switch(o){case 0:return 0;case 1:return Eb(e.booleanValue,t.booleanValue);case 2:return r=t,(i=Kb(e.integerValue||e.doubleValue))<(r=Kb(r.integerValue||r.doubleValue))?-1:r<i?1:i===r?0:isNaN(i)?isNaN(r)?0:-1:1;case 3:return o_(e.timestampValue,t.timestampValue);case 4:return o_($b(e),$b(t));case 5:return Eb(e.stringValue,t.stringValue);case 6:return function(e,t){return e=Gb(e),t=Gb(t),e.compareTo(t)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var o=Eb(n[i],r[i]);if(0!==o)return o}return Eb(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return n=e.geoPointValue,i=t.geoPointValue,0!==(r=Eb(Kb(n.latitude),Kb(i.latitude)))?r:Eb(Kb(n.longitude),Kb(i.longitude));case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var o=i_(n[i],r[i]);if(o)return o}return Eb(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n=e.fields||{},r=Object.keys(n),i=t.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var a=0;a<r.length&&a<o.length;++a){var s=Eb(r[a],o[a]);if(0!==s)return s;if(0!==(s=i_(n[r[a]],i[o[a]])))return s}return Eb(r.length,o.length)}(e.mapValue,t.mapValue);default:throw mb()}}function o_(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Eb(e,t);var n=Hb(e);return e=Hb(t),0!==(t=Eb(n.seconds,e.seconds))?t:Eb(n.nanos,e.nanos)}function a_(e){return function e(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(e){return"time("+(e=Hb(e)).seconds+","+e.nanos+")"}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Gb(t.bytesValue).toBase64():"referenceValue"in t?(n=t.referenceValue,Zb.fromName(n).toString()):"geoPointValue"in t?"geo("+(n=t.geoPointValue).latitude+","+n.longitude+")":"arrayValue"in t?function(t){for(var n="[",r=!0,i=0,o=t.values||[];i<o.length;i++)r?r=!1:n+=",",n+=e(o[i]);return n+"]"}(t.arrayValue):"mapValue"in t?function(t){for(var n="{",r=!0,i=0,o=Object.keys(t.fields||{}).sort();i<o.length;i++){var a=o[i];r?r=!1:n+=",",n+=a+":"+e(t.fields[a])}return n+"}"}(t.mapValue):mb();var n}(e)}function s_(e,t){return{referenceValue:"projects/"+e.projectId+"/databases/"+e.database+"/documents/"+t.path.canonicalString()}}function u_(e){return e&&"integerValue"in e}function c_(e){return!!e&&"arrayValue"in e}function l_(e){return e&&"nullValue"in e}function h_(e){return e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function f_(e){return e&&"mapValue"in e}function d_(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return Pb(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=d_(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=d_(e.arrayValue.values[r]);return n}return Object.assign({},e)}var p_=(v_.empty=function(){return new v_({mapValue:{}})},v_.prototype.field=function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!f_(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null},v_.prototype.set=function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=d_(t)},v_.prototype.setAll=function(e){var t=this,n=Lb.emptyPath(),r={},i=[];e.forEach((function(e,o){var a;n.isImmediateParentOf(o)||(a=t.getFieldsMap(n),t.applyChanges(a,r,i),r={},i=[],n=o.popLast()),e?r[o.lastSegment()]=d_(e):i.push(o.lastSegment())})),e=this.getFieldsMap(n),this.applyChanges(e,r,i)},v_.prototype.delete=function(e){var t=this.field(e.popLast());f_(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]},v_.prototype.isEqual=function(e){return n_(this.value,e.value)},v_.prototype.getFieldsMap=function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];f_(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields},v_.prototype.applyChanges=function(e,t,n){Pb(t,(function(t,n){return e[t]=n}));for(var r=0,i=n;r<i.length;r++){var o=i[r];delete e[o]}},v_.prototype.clone=function(){return new v_(d_(this.value))},v_);function v_(e){this.value=e}var g_=(m_.newInvalidDocument=function(e){return new m_(e,0,Ib.min(),p_.empty(),0)},m_.newFoundDocument=function(e,t,n){return new m_(e,1,t,n,0)},m_.newNoDocument=function(e,t){return new m_(e,2,t,p_.empty(),0)},m_.newUnknownDocument=function(e,t){return new m_(e,3,t,p_.empty(),2)},m_.prototype.convertToFoundDocument=function(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this},m_.prototype.convertToNoDocument=function(e){return this.version=e,this.documentType=2,this.data=p_.empty(),this.documentState=0,this},m_.prototype.convertToUnknownDocument=function(e){return this.version=e,this.documentType=3,this.data=p_.empty(),this.documentState=2,this},m_.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},m_.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(m_.prototype,"hasLocalMutations",{get:function(){return 1===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(m_.prototype,"hasCommittedMutations",{get:function(){return 2===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(m_.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),m_.prototype.isValidDocument=function(){return 0!==this.documentType},m_.prototype.isFoundDocument=function(){return 1===this.documentType},m_.prototype.isNoDocument=function(){return 2===this.documentType},m_.prototype.isUnknownDocument=function(){return 3===this.documentType},m_.prototype.isEqual=function(e){return e instanceof m_&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)},m_.prototype.clone=function(){return new m_(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},m_.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.value)+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},m_),y_=function(e,t,n,r,i,o,a){void 0===t&&(t=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=null),this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=a,this.h=null};function m_(e,t,n,r,i){this.key=e,this.documentType=t,this.version=n,this.data=r,this.documentState=i}function b_(e,t,n,r,i,o,a){return new y_(e,t=void 0===t?null:t,n=void 0===n?[]:n,r=void 0===r?[]:r,i=void 0===i?null:i,o=void 0===o?null:o,a=void 0===a?null:a)}function __(e){var t=e;return null===t.h&&(e=t.path.canonicalString(),null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((function(e){return e.field.canonicalString()+e.op.toString()+a_(e.value)})).join(","),e+="|ob:",e+=t.orderBy.map((function(e){return e.field.canonicalString()+e.dir})).join(","),Yb(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=$_(t.startAt)),t.endAt&&(e+="|ub:",e+=$_(t.endAt)),t.h=e),t.h}function w_(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n,r,i=0;i<e.orderBy.length;i++)if(n=e.orderBy[i],r=t.orderBy[i],n.dir!==r.dir||!n.field.isEqual(r.field))return!1;if(e.filters.length!==t.filters.length)return!1;for(var o,a,s=0;s<e.filters.length;s++)if(o=e.filters[s],a=t.filters[s],o.op!==a.op||!o.field.isEqual(a.field)||!n_(o.value,a.value))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!J_(e.startAt,t.startAt)&&J_(e.endAt,t.endAt)}function E_(e){return Zb.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}var S_,T_=($i(C_,S_=function(){}),C_.create=function(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.l(e,t,n):new x_(e,t,n):"array-contains"===t?new q_(e,n):"in"===t?new B_(e,n):"not-in"===t?new V_(e,n):"array-contains-any"===t?new W_(e,n):new C_(e,t,n)},C_.l=function(e,t,n){return new("in"===t?P_:N_)(e,n)},C_.prototype.matches=function(e){return e=e.data.field(this.field),"!="===this.op?null!==e&&this.m(i_(e,this.value)):null!==e&&t_(this.value)===t_(e)&&this.m(i_(e,this.value))},C_.prototype.m=function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return 0<e;case">=":return 0<=e;default:return mb()}},C_.prototype.g=function(){return 0<=["<","<=",">",">=","!=","not-in"].indexOf(this.op)},C_);function C_(e,t,n){var r=this;return(r=S_.call(this)||this).field=e,r.op=t,r.value=n,r}var I_,k_,O_,x_=($i(D_,O_=T_),D_.prototype.matches=function(e){return e=Zb.comparator(e.key,this.key),this.m(e)},D_),P_=($i(R_,k_=T_),R_.prototype.matches=function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))},R_),N_=($i(A_,I_=T_),A_.prototype.matches=function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))},A_);function A_(e,t){var n=this;return(n=I_.call(this,e,"not-in",t)||this).keys=j_(0,t),n}function R_(e,t){var n=this;return(n=k_.call(this,e,"in",t)||this).keys=j_(0,t),n}function D_(e,t,n){var r=this;return(r=O_.call(this,e,t,n)||this).key=Zb.fromName(n.referenceValue),r}function j_(e,t){return((null===(t=t.arrayValue)||void 0===t?void 0:t.values)||[]).map((function(e){return Zb.fromName(e.referenceValue)}))}var L_,M_,F_,U_,q_=($i(Q_,U_=T_),Q_.prototype.matches=function(e){return c_(e=e.data.field(this.field))&&r_(e.arrayValue,this.value)},Q_),B_=($i(G_,F_=T_),G_.prototype.matches=function(e){return null!==(e=e.data.field(this.field))&&r_(this.value.arrayValue,e)},G_),V_=($i(K_,M_=T_),K_.prototype.matches=function(e){return!r_(this.value.arrayValue,{nullValue:"NULL_VALUE"})&&null!==(e=e.data.field(this.field))&&!r_(this.value.arrayValue,e)},K_),W_=($i(H_,L_=T_),H_.prototype.matches=function(e){var t=this;return!(!c_(e=e.data.field(this.field))||!e.arrayValue.values)&&e.arrayValue.values.some((function(e){return r_(t.value.arrayValue,e)}))},H_),z_=function(e,t){this.position=e,this.before=t};function H_(e,t){return L_.call(this,e,"array-contains-any",t)||this}function K_(e,t){return M_.call(this,e,"not-in",t)||this}function G_(e,t){return F_.call(this,e,"in",t)||this}function Q_(e,t){return U_.call(this,e,"array-contains",t)||this}function $_(e){return(e.before?"b":"a")+":"+e.position.map(a_).join(",")}var Y_=function(e,t){void 0===t&&(t="asc"),this.field=e,this.dir=t};function X_(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var o=t[i],a=e.position[i];if(r=o.field.isKeyField()?Zb.comparator(Zb.fromName(a.referenceValue),n.key):i_(a,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return e.before?r<=0:r<0}function J_(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.before!==t.before||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!n_(e.position[n],t.position[n]))return!1;return!0}var Z_=function(e,t,n,r,i,o,a,s){void 0===t&&(t=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===a&&(a=null),void 0===s&&(s=null),this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=s,this.p=null,this.T=null,this.startAt,this.endAt};function ew(e,t,n,r,i,o,a,s){return new Z_(e,t,n,r,i,o,a,s)}function tw(e){return new Z_(e)}function nw(e){return!Yb(e.limit)&&"F"===e.limitType}function rw(e){return!Yb(e.limit)&&"L"===e.limitType}function iw(e){return 0<e.explicitOrderBy.length?e.explicitOrderBy[0].field:null}function ow(e){for(var t=0,n=e.filters;t<n.length;t++){var r=n[t];if(r.g())return r.field}return null}function aw(e){return null!==e.collectionGroup}function sw(e){var t=e;if(null===t.p){t.p=[];var n=ow(t);if(e=iw(t),null!==n&&null===e)n.isKeyField()||t.p.push(new Y_(n)),t.p.push(new Y_(Lb.keyField(),"asc"));else{for(var r=!1,i=0,o=t.explicitOrderBy;i<o.length;i++){var a=o[i];t.p.push(a),a.field.isKeyField()&&(r=!0)}r||(n=0<t.explicitOrderBy.length?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",t.p.push(new Y_(Lb.keyField(),n)))}}return t.p}function uw(e){var t=e;if(!t.T)if("F"===t.limitType)t.T=b_(t.path,t.collectionGroup,sw(t),t.filters,t.limit,t.startAt,t.endAt);else{for(var n=[],r=0,i=sw(t);r<i.length;r++){var o=i[r],a="desc"===o.dir?"asc":"desc";n.push(new Y_(o.field,a))}var s=t.endAt?new z_(t.endAt.position,!t.endAt.before):null;e=t.startAt?new z_(t.startAt.position,!t.startAt.before):null,t.T=b_(t.path,t.collectionGroup,n,t.filters,t.limit,s,e)}return t.T}function cw(e,t,n){return new Z_(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function lw(e,t){return w_(uw(e),uw(t))&&e.limitType===t.limitType}function hw(e){return __(uw(e))+"|lt:"+e.limitType}function fw(e){return"Query(target="+(n=(t=uw(e)).path.canonicalString(),null!==t.collectionGroup&&(n+=" collectionGroup="+t.collectionGroup),0<t.filters.length&&(n+=", filters: ["+t.filters.map((function(e){return e.field.canonicalString()+" "+e.op+" "+a_(e.value)})).join(", ")+"]"),Yb(t.limit)||(n+=", limit: "+t.limit),0<t.orderBy.length&&(n+=", orderBy: ["+t.orderBy.map((function(e){return e.field.canonicalString()+" ("+e.dir+")"})).join(", ")+"]"),t.startAt&&(n+=", startAt: "+$_(t.startAt)),t.endAt&&(n+=", endAt: "+$_(t.endAt)),"Target("+n+"); limitType=")+e.limitType+")";var t,n}function dw(e,t){return t.isFoundDocument()&&(n=e,r=t.key.path,null!==n.collectionGroup?t.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(r):Zb.isDocumentKey(n.path)?n.path.isEqual(r):n.path.isImmediateParentOf(r))&&function(t){for(var n=0,r=e.explicitOrderBy;n<r.length;n++){var i=r[n];if(!i.field.isKeyField()&&null===t.data.field(i.field))return}return 1}(t)&&function(t){for(var n=0,r=e.filters;n<r.length;n++)if(!r[n].matches(t))return;return 1}(t)&&(r=t,(!(t=e).startAt||X_(t.startAt,sw(t),r))&&(!t.endAt||!X_(t.endAt,sw(t),r)));var n,r}function pw(e){return function(t,n){for(var r=!1,i=0,o=sw(e);i<o.length;i++){var a=o[i],s=function(e,t,n){var r=e.field.isKeyField()?Zb.comparator(t.key,n.key):function(e,n){var r=t.data.field(e);return e=n.data.field(e),null!==r&&null!==e?i_(r,e):mb()}(e.field,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return mb()}}(a,t,n);if(0!==s)return s;r=r||a.field.isKeyField()}return 0}}function vw(e,t){if(e.I){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Xb(t)?"-0":t}}function gw(e){return{integerValue:""+e}}function yw(e,t){return Jb(t)?gw(t):vw(e,t)}function mw(e,t){return e instanceof Nw?u_(e=t)||e&&"doubleValue"in e?t:{integerValue:0}:null}var bw,_w,ww=($i(Tw,_w=Q=function(){this._=void 0}),Tw),Ew=($i(Sw,bw=Q),Sw);function Sw(e){var t=this;return(t=bw.call(this)||this).elements=e,t}function Tw(){return null!==_w&&_w.apply(this,arguments)||this}function Cw(e,t){for(var n=Dw(t),r=0,i=e.elements;r<i.length;r++)!function(e){n.some((function(t){return n_(t,e)}))||n.push(e)}(i[r]);return{arrayValue:{values:n}}}var Iw,kw=($i(Ow,Iw=Q),Ow);function Ow(e){var t=this;return(t=Iw.call(this)||this).elements=e,t}function xw(e,t){for(var n=Dw(t),r=0,i=e.elements;r<i.length;r++)!function(e){n=n.filter((function(t){return!n_(t,e)}))}(i[r]);return{arrayValue:{values:n}}}var Pw,Nw=($i(Aw,Pw=Q),Aw);function Aw(e,t){var n=this;return(n=Pw.call(this)||this).R=e,n.A=t,n}function Rw(e){return Kb(e.integerValue||e.doubleValue)}function Dw(e){return c_(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}function jw(e,t){this.version=e,this.transformResults=t}var Lw=function(e,t){this.field=e,this.transform=t},Mw=(Fw.none=function(){return new Fw},Fw.exists=function(e){return new Fw(void 0,e)},Fw.updateTime=function(e){return new Fw(e)},Object.defineProperty(Fw.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),Fw.prototype.isEqual=function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)},Fw);function Fw(e,t){this.updateTime=e,this.exists=t}function Uw(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}function qw(e,t,n){var r,i,o,a;e instanceof Hw?(i=t,o=n,Uw((r=e).precondition,i)&&(a=r.value.clone(),o=Xw(r.fieldTransforms,o,i),a.setAll(o),i.convertToFoundDocument(Vw(i),a).setHasLocalMutations())):e instanceof Kw?(o=t,i=n,Uw((a=e).precondition,o)&&(n=Xw(a.fieldTransforms,i,o),(i=o.data).setAll($w(a)),i.setAll(n),o.convertToFoundDocument(Vw(o),i).setHasLocalMutations())):Uw(e.precondition,t)&&t.convertToNoDocument(Ib.min())}function Bw(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&(n=e.fieldTransforms,r=t.fieldTransforms,!!(void 0===n&&void 0===r||n&&r&&Sb(n,r,(function(e,t){return e.field.isEqual(t.field)&&(e=e.transform,t=t.transform,e instanceof Ew&&t instanceof Ew||e instanceof kw&&t instanceof kw?Sb(e.elements,t.elements,n_):e instanceof Nw&&t instanceof Nw?n_(e.A,t.A):e instanceof ww&&t instanceof ww)}))))&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask));var n,r}function Vw(e){return e.isFoundDocument()?e.version:Ib.min()}var Ww,zw,Hw=($i(Qw,zw=G=function(){}),Qw),Kw=($i(Gw,Ww=G),Gw);function Gw(e,t,n,r,i){void 0===i&&(i=[]);var o=this;return(o=Ww.call(this)||this).key=e,o.data=t,o.fieldMask=n,o.precondition=r,o.fieldTransforms=i,o.type=1,o}function Qw(e,t,n,r){void 0===r&&(r=[]);var i=this;return(i=zw.call(this)||this).key=e,i.value=t,i.precondition=n,i.fieldTransforms=r,i.type=0,i}function $w(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){var r;n.isEmpty()||(r=e.data.field(n),t.set(n,r))})),t}function Yw(e,t,n){var r=new Map;bb(e.length===n.length);for(var i=0;i<n.length;i++){var o=e[i],a=o.transform,s=t.data.field(o.field);r.set(o.field,(o=a,a=s,s=n[i],o instanceof Ew?Cw(o,a):o instanceof kw?xw(o,a):s))}return r}function Xw(e,t,n){for(var r,i=new Map,o=0,a=e;o<a.length;o++){var s=a[o],u=s.transform,c=n.data.field(s.field);i.set(s.field,(r=c,s=t,c=void 0,u instanceof ww?(c={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}},r&&(c.fields.__previous_value__=r),{mapValue:c}):u instanceof Ew?Cw(u,r):u instanceof kw?xw(u,r):(r=Rw(u=mw(c=u,r))+Rw(c.A),u_(u)&&u_(c.A)?gw(r):vw(c.R,r))))}return i}function Jw(e){this.count=e}var Zw,eE,tE,nE=($i(oE,tE=G),oE),rE=($i(iE,eE=G),iE);function iE(e,t){var n=this;return(n=eE.call(this)||this).key=e,n.precondition=t,n.type=3,n.fieldTransforms=[],n}function oE(e,t){var n=this;return(n=tE.call(this)||this).key=e,n.precondition=t,n.type=2,n.fieldTransforms=[],n}function aE(e){switch(e){case cb.OK:return mb(),0;case cb.CANCELLED:case cb.UNKNOWN:case cb.DEADLINE_EXCEEDED:case cb.RESOURCE_EXHAUSTED:case cb.INTERNAL:case cb.UNAVAILABLE:case cb.UNAUTHENTICATED:return;case cb.INVALID_ARGUMENT:case cb.NOT_FOUND:case cb.ALREADY_EXISTS:case cb.PERMISSION_DENIED:case cb.FAILED_PRECONDITION:case cb.ABORTED:case cb.OUT_OF_RANGE:case cb.UNIMPLEMENTED:case cb.DATA_LOSS:return 1;default:return mb(),0}}function sE(e){if(void 0===e)return vb("GRPC error has no .code"),cb.UNKNOWN;switch(e){case Zw.OK:return cb.OK;case Zw.CANCELLED:return cb.CANCELLED;case Zw.UNKNOWN:return cb.UNKNOWN;case Zw.DEADLINE_EXCEEDED:return cb.DEADLINE_EXCEEDED;case Zw.RESOURCE_EXHAUSTED:return cb.RESOURCE_EXHAUSTED;case Zw.INTERNAL:return cb.INTERNAL;case Zw.UNAVAILABLE:return cb.UNAVAILABLE;case Zw.UNAUTHENTICATED:return cb.UNAUTHENTICATED;case Zw.INVALID_ARGUMENT:return cb.INVALID_ARGUMENT;case Zw.NOT_FOUND:return cb.NOT_FOUND;case Zw.ALREADY_EXISTS:return cb.ALREADY_EXISTS;case Zw.PERMISSION_DENIED:return cb.PERMISSION_DENIED;case Zw.FAILED_PRECONDITION:return cb.FAILED_PRECONDITION;case Zw.ABORTED:return cb.ABORTED;case Zw.OUT_OF_RANGE:return cb.OUT_OF_RANGE;case Zw.UNIMPLEMENTED:return cb.UNIMPLEMENTED;case Zw.DATA_LOSS:return cb.DATA_LOSS;default:return mb()}}(Q=Zw=Zw||{})[Q.OK=0]="OK",Q[Q.CANCELLED=1]="CANCELLED",Q[Q.UNKNOWN=2]="UNKNOWN",Q[Q.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Q[Q.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Q[Q.NOT_FOUND=5]="NOT_FOUND",Q[Q.ALREADY_EXISTS=6]="ALREADY_EXISTS",Q[Q.PERMISSION_DENIED=7]="PERMISSION_DENIED",Q[Q.UNAUTHENTICATED=16]="UNAUTHENTICATED",Q[Q.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Q[Q.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Q[Q.ABORTED=10]="ABORTED",Q[Q.OUT_OF_RANGE=11]="OUT_OF_RANGE",Q[Q.UNIMPLEMENTED=12]="UNIMPLEMENTED",Q[Q.INTERNAL=13]="INTERNAL",Q[Q.UNAVAILABLE=14]="UNAVAILABLE",Q[Q.DATA_LOSS=15]="DATA_LOSS";var uE=(dE.prototype.insert=function(e,t){return new dE(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,lE.BLACK,null,null))},dE.prototype.remove=function(e){return new dE(this.comparator,this.root.remove(e,this.comparator).copy(null,null,lE.BLACK,null,null))},dE.prototype.get=function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:0<n&&(t=t.right)}return null},dE.prototype.indexOf=function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;n=r<0?n.left:(t+=n.left.size+1,n.right)}return-1},dE.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(dE.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),dE.prototype.minKey=function(){return this.root.minKey()},dE.prototype.maxKey=function(){return this.root.maxKey()},dE.prototype.inorderTraversal=function(e){return this.root.inorderTraversal(e)},dE.prototype.forEach=function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))},dE.prototype.toString=function(){var e=[];return this.inorderTraversal((function(t,n){return e.push(t+":"+n),!1})),"{"+e.join(", ")+"}"},dE.prototype.reverseTraversal=function(e){return this.root.reverseTraversal(e)},dE.prototype.getIterator=function(){return new cE(this.root,null,this.comparator,!1)},dE.prototype.getIteratorFrom=function(e){return new cE(this.root,e,this.comparator,!1)},dE.prototype.getReverseIterator=function(){return new cE(this.root,null,this.comparator,!0)},dE.prototype.getReverseIteratorFrom=function(e){return new cE(this.root,e,this.comparator,!0)},dE),cE=(fE.prototype.getNext=function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t},fE.prototype.hasNext=function(){return 0<this.nodeStack.length},fE.prototype.peek=function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}},fE),lE=(hE.prototype.copy=function(e,t,n,r,i){return new hE(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)},hE.prototype.isEmpty=function(){return!1},hE.prototype.inorderTraversal=function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)},hE.prototype.reverseTraversal=function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)},hE.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},hE.prototype.minKey=function(){return this.min().key},hE.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},hE.prototype.insert=function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()},hE.prototype.removeMin=function(){if(this.left.isEmpty())return hE.EMPTY;var e=this;return(e=(e=e.left.isRed()||e.left.left.isRed()?e:e.moveRedLeft()).copy(null,null,null,e.left.removeMin(),null)).fixUp()},hE.prototype.remove=function(e,t){var n,r=this;if(t(e,r.key)<0)r=(r=r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()?r:r.moveRedLeft()).copy(null,null,null,r.left.remove(e,t),null);else{if(0===t(e,(r=(r=r.left.isRed()?r.rotateRight():r).right.isEmpty()||r.right.isRed()||r.right.left.isRed()?r:r.moveRedRight()).key)){if(r.right.isEmpty())return hE.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()},hE.prototype.isRed=function(){return this.color},hE.prototype.fixUp=function(){var e=this;return(e=(e=e.right.isRed()&&!e.left.isRed()?e.rotateLeft():e).left.isRed()&&e.left.left.isRed()?e.rotateRight():e).left.isRed()&&e.right.isRed()?e.colorFlip():e},hE.prototype.moveRedLeft=function(){var e=this.colorFlip();return e.right.left.isRed()?(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip():e},hE.prototype.moveRedRight=function(){var e=this.colorFlip();return e.left.left.isRed()?(e=e.rotateRight()).colorFlip():e},hE.prototype.rotateLeft=function(){var e=this.copy(null,null,hE.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},hE.prototype.rotateRight=function(){var e=this.copy(null,null,hE.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},hE.prototype.colorFlip=function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)},hE.prototype.checkMaxDepth=function(){var e=this.check();return Math.pow(2,e)<=this.size+1},hE.prototype.check=function(){if(this.isRed()&&this.left.isRed())throw mb();if(this.right.isRed())throw mb();var e=this.left.check();if(e!==this.right.check())throw mb();return e+(this.isRed()?0:1)},hE);function hE(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:hE.RED,this.left=null!=r?r:hE.EMPTY,this.right=null!=i?i:hE.EMPTY,this.size=this.left.size+1+this.right.size}function fE(e,t,n,r){this.isReverse=r,this.nodeStack=[];for(var i=1;!e.isEmpty();)if(i=t?n(e.key,t):1,r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}function dE(e,t){this.comparator=e,this.root=t||lE.EMPTY}function pE(){this.size=0}lE.EMPTY=null,lE.RED=!0,lE.BLACK=!1,lE.EMPTY=(Object.defineProperty(pE.prototype,"key",{get:function(){throw mb()},enumerable:!1,configurable:!0}),Object.defineProperty(pE.prototype,"value",{get:function(){throw mb()},enumerable:!1,configurable:!0}),Object.defineProperty(pE.prototype,"color",{get:function(){throw mb()},enumerable:!1,configurable:!0}),Object.defineProperty(pE.prototype,"left",{get:function(){throw mb()},enumerable:!1,configurable:!0}),Object.defineProperty(pE.prototype,"right",{get:function(){throw mb()},enumerable:!1,configurable:!0}),pE.prototype.copy=function(e,t,n,r,i){return this},pE.prototype.insert=function(e,t,n){return new lE(e,t)},pE.prototype.remove=function(e,t){return this},pE.prototype.isEmpty=function(){return!0},pE.prototype.inorderTraversal=function(e){return!1},pE.prototype.reverseTraversal=function(e){return!1},pE.prototype.minKey=function(){return null},pE.prototype.maxKey=function(){return null},pE.prototype.isRed=function(){return!1},pE.prototype.checkMaxDepth=function(){return!0},pE.prototype.check=function(){return 0},new pE);var vE=(bE.prototype.has=function(e){return null!==this.data.get(e)},bE.prototype.first=function(){return this.data.minKey()},bE.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(bE.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),bE.prototype.indexOf=function(e){return this.data.indexOf(e)},bE.prototype.forEach=function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))},bE.prototype.forEachInRange=function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(0<=this.comparator(r.key,e[1]))return;t(r.key)}},bE.prototype.forEachWhile=function(e,t){for(var n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return},bE.prototype.firstAfterOrEqual=function(e){return(e=this.data.getIteratorFrom(e)).hasNext()?e.getNext().key:null},bE.prototype.getIterator=function(){return new gE(this.data.getIterator())},bE.prototype.getIteratorFrom=function(e){return new gE(this.data.getIteratorFrom(e))},bE.prototype.add=function(e){return this.copy(this.data.remove(e).insert(e,!0))},bE.prototype.delete=function(e){return this.has(e)?this.copy(this.data.remove(e)):this},bE.prototype.isEmpty=function(){return this.data.isEmpty()},bE.prototype.unionWith=function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t},bE.prototype.isEqual=function(e){if(!(e instanceof bE))return!1;if(this.size!==e.size)return!1;for(var t=this.data.getIterator(),n=e.data.getIterator();t.hasNext();){var r=t.getNext().key,i=n.getNext().key;if(0!==this.comparator(r,i))return!1}return!0},bE.prototype.toArray=function(){var e=[];return this.forEach((function(t){e.push(t)})),e},bE.prototype.toString=function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"},bE.prototype.copy=function(e){var t=new bE(this.comparator);return t.data=e,t},bE),gE=(mE.prototype.getNext=function(){return this.iter.getNext().key},mE.prototype.hasNext=function(){return this.iter.hasNext()},mE),yE=new uE(Zb.comparator);function mE(e){this.iter=e}function bE(e){this.comparator=e,this.data=new uE(this.comparator)}var _E=new uE(Zb.comparator),wE=new uE(Zb.comparator),EE=new vE(Zb.comparator);function SE(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=EE,r=0,i=e;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var TE=new vE(Eb),CE=(jE.createSynthesizedRemoteEventForCurrentChange=function(e,t){var n=new Map;return n.set(e,IE.createSynthesizedTargetChangeForCurrentChange(e,t)),new jE(Ib.min(),n,TE,yE,SE())},jE),IE=(DE.createSynthesizedTargetChangeForCurrentChange=function(e,t){return new DE(Fb.EMPTY_BYTE_STRING,t,SE(),SE(),SE())},DE),kE=function(e,t,n,r){this.v=e,this.removedTargetIds=t,this.key=n,this.P=r},OE=function(e,t){this.targetId=e,this.V=t},xE=function(e,t,n,r){void 0===n&&(n=Fb.EMPTY_BYTE_STRING),void 0===r&&(r=null),this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r},PE=(Object.defineProperty(RE.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(RE.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(RE.prototype,"F",{get:function(){return 0!==this.S},enumerable:!1,configurable:!0}),Object.defineProperty(RE.prototype,"$",{get:function(){return this.k},enumerable:!1,configurable:!0}),RE.prototype.O=function(e){0<e.approximateByteSize()&&(this.k=!0,this.C=e)},RE.prototype.M=function(){var e=SE(),t=SE(),n=SE();return this.D.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:mb()}})),new IE(this.C,this.N,e,t,n)},RE.prototype.L=function(){this.k=!1,this.D=ME()},RE.prototype.B=function(e,t){this.k=!0,this.D=this.D.insert(e,t)},RE.prototype.q=function(e){this.k=!0,this.D=this.D.remove(e)},RE.prototype.U=function(){this.S+=1},RE.prototype.K=function(){--this.S},RE.prototype.j=function(){this.k=!0,this.N=!0},RE),NE=(AE.prototype.X=function(e){for(var t=0,n=e.v;t<n.length;t++){var r=n[t];e.P&&e.P.isFoundDocument()?this.Z(r,e.P):this.tt(r,e.key,e.P)}for(var i=0,o=e.removedTargetIds;i<o.length;i++)r=o[i],this.tt(r,e.key,e.P)},AE.prototype.et=function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.nt(n);switch(e.state){case 0:t.st(n)&&r.O(e.resumeToken);break;case 1:r.K(),r.F||r.L(),r.O(e.resumeToken);break;case 2:r.K(),r.F||t.removeTarget(n);break;case 3:t.st(n)&&(r.j(),r.O(e.resumeToken));break;case 4:t.st(n)&&(t.it(n),r.O(e.resumeToken));break;default:mb()}}))},AE.prototype.forEachTarget=function(e,t){var n=this;0<e.targetIds.length?e.targetIds.forEach(t):this.G.forEach((function(e,r){n.st(r)&&t(r)}))},AE.prototype.rt=function(e){var t=e.targetId,n=e.V.count;(e=this.ot(t))&&(E_(e=e.target)?0===n?(e=new Zb(e.path),this.tt(t,e,g_.newNoDocument(e,Ib.min()))):bb(1===n):this.ct(t)!==n&&(this.it(t),this.Y=this.Y.add(t)))},AE.prototype.ut=function(e){var t=this,n=new Map;this.G.forEach((function(r,i){var o=t.ot(i);o&&(r.current&&E_(o.target)&&(o=new Zb(o.target.path),null!==t.H.get(o)||t.at(i,o)||t.tt(i,o,g_.newNoDocument(o,e))),r.$&&(n.set(i,r.M()),r.L()))}));var r=SE();this.J.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){return!(e=t.ot(e))||2===e.purpose||(i=!1)})),i&&(r=r.add(e))}));var i=new CE(e,n,this.Y,this.H,r);return this.H=yE,this.J=LE(),this.Y=new vE(Eb),i},AE.prototype.Z=function(e,t){var n;this.st(e)&&(n=this.at(e,t.key)?2:0,this.nt(e).B(t.key,n),this.H=this.H.insert(t.key,t),this.J=this.J.insert(t.key,this.ht(t.key).add(e)))},AE.prototype.tt=function(e,t,n){var r;this.st(e)&&(r=this.nt(e),this.at(e,t)?r.B(t,1):r.q(t),this.J=this.J.insert(t,this.ht(t).delete(e)),n&&(this.H=this.H.insert(t,n)))},AE.prototype.removeTarget=function(e){this.G.delete(e)},AE.prototype.ct=function(e){var t=this.nt(e).M();return this.W.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size},AE.prototype.U=function(e){this.nt(e).U()},AE.prototype.nt=function(e){var t=this.G.get(e);return t||(t=new PE,this.G.set(e,t)),t},AE.prototype.ht=function(e){var t=this.J.get(e);return t||(t=new vE(Eb),this.J=this.J.insert(e,t)),t},AE.prototype.st=function(e){var t=null!==this.ot(e);return t||pb("WatchChangeAggregator","Detected inactive target",e),t},AE.prototype.ot=function(e){var t=this.G.get(e);return t&&t.F?null:this.W.lt(e)},AE.prototype.it=function(e){var t=this;this.G.set(e,new PE),this.W.getRemoteKeysForTarget(e).forEach((function(n){t.tt(e,n,null)}))},AE.prototype.at=function(e,t){return this.W.getRemoteKeysForTarget(e).has(t)},AE);function AE(e){this.W=e,this.G=new Map,this.H=yE,this.J=LE(),this.Y=new vE(Eb)}function RE(){this.S=0,this.D=ME(),this.C=Fb.EMPTY_BYTE_STRING,this.N=!1,this.k=!0}function DE(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}function jE(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}function LE(){return new uE(Zb.comparator)}function ME(){return new uE(Zb.comparator)}var FE={asc:"ASCENDING",desc:"DESCENDING"},UE={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},qE=function(e,t){this.databaseId=e,this.I=t};function BE(e,t){return e.I?new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+t.nanoseconds).slice(-9)+"Z":{seconds:""+t.seconds,nanos:t.nanoseconds}}function VE(e,t){return e.I?t.toBase64():t.toUint8Array()}function WE(e){return bb(!!e),Ib.fromTimestamp((e=Hb(e),new Cb(e.seconds,e.nanos)))}function zE(e,t){return new Db(["projects",e.projectId,"databases",e.database]).child("documents").child(t).canonicalString()}function HE(e){return bb(hS(e=Db.fromString(e))),e}function KE(e,t){return zE(e.databaseId,t.path)}function GE(e,t){if((t=HE(t)).get(1)!==e.databaseId.projectId)throw new lb(cb.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+e.databaseId.projectId);if(t.get(3)!==e.databaseId.database)throw new lb(cb.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+e.databaseId.database);return new Zb(XE(t))}function QE(e,t){return zE(e.databaseId,t)}function $E(e){return 4===(e=HE(e)).length?Db.emptyPath():XE(e)}function YE(e){return new Db(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function XE(e){return bb(4<e.length&&"documents"===e.get(4)),e.popFirst(5)}function JE(e,t,n){return{name:KE(e,t),fields:n.value.mapValue.fields}}function ZE(e,t,n){var r=GE(e,t.name);return e=WE(t.updateTime),t=new p_({mapValue:{fields:t.fields}}),t=g_.newFoundDocument(r,e,t),n&&t.setHasCommittedMutations(),n?t.setHasCommittedMutations():t}function eS(e,t){var n,r,i;if(t instanceof Hw)n={update:JE(e,t.key,t.value)};else if(t instanceof nE)n={delete:KE(e,t.key)};else if(t instanceof Kw)n={update:JE(e,t.key,t.data),updateMask:(r=t.fieldMask,i=[],r.fields.forEach((function(e){return i.push(e.canonicalString())})),{fieldPaths:i})};else{if(!(t instanceof rE))return mb();n={verify:KE(e,t.key)}}return 0<t.fieldTransforms.length&&(n.updateTransforms=t.fieldTransforms.map((function(e){var t=e.transform;if(t instanceof ww)return{fieldPath:e.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(t instanceof Ew)return{fieldPath:e.field.canonicalString(),appendMissingElements:{values:t.elements}};if(t instanceof kw)return{fieldPath:e.field.canonicalString(),removeAllFromArray:{values:t.elements}};if(t instanceof Nw)return{fieldPath:e.field.canonicalString(),increment:t.A};throw mb()}))),t.precondition.isNone||(n.currentDocument=void 0!==(t=t.precondition).updateTime?{updateTime:BE(e,t.updateTime.toTimestamp())}:void 0!==t.exists?{exists:t.exists}:mb()),n}function tS(e,t){var n=t.currentDocument?void 0!==(a=t.currentDocument).updateTime?Mw.updateTime(WE(a.updateTime)):void 0!==a.exists?Mw.exists(a.exists):Mw.none():Mw.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n,r=null;return"setToServerValue"in t?(bb("REQUEST_TIME"===t.setToServerValue),r=new ww):"appendMissingElements"in t?(n=t.appendMissingElements.values||[],r=new Ew(n)):"removeAllFromArray"in t?(n=t.removeAllFromArray.values||[],r=new kw(n)):"increment"in t?r=new Nw(e,t.increment):mb(),t=Lb.fromServerFormat(t.fieldPath),new Lw(t,r)}(e,t)})):[];if(t.update){t.update.name;var i=GE(e,t.update.name),o=new p_({mapValue:{fields:t.update.fields}});if(t.updateMask){var a=(a=t.updateMask.fieldPaths||[],new Mb(a.map((function(e){return Lb.fromServerFormat(e)}))));return new Kw(i,o,a,n,r)}return new Hw(i,o,n,r)}return t.delete?(r=GE(e,t.delete),new nE(r,n)):t.verify?(t=GE(e,t.verify),new rE(t,n)):mb()}function nS(e,t){return{documents:[QE(e,t.path)]}}function rS(e,t){var n={structuredQuery:{}},r=t.path;return null!==t.collectionGroup?(n.parent=QE(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=QE(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),r=function(e){if(0!==e.length)return e=e.map((function(e){if("=="===e.op){if(h_(e.value))return{unaryFilter:{field:sS(e.field),op:"IS_NAN"}};if(l_(e.value))return{unaryFilter:{field:sS(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(h_(e.value))return{unaryFilter:{field:sS(e.field),op:"IS_NOT_NAN"}};if(l_(e.value))return{unaryFilter:{field:sS(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:sS(e.field),op:(t=e.op,UE[t]),value:e.value}};var t})),1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}(t.filters),r&&(n.structuredQuery.where=r),r=function(e){if(0!==e.length)return e.map((function(e){return{field:sS(e.field),direction:(e=e.dir,FE[e])}}))}(t.orderBy),r&&(n.structuredQuery.orderBy=r),r=t.limit,null!==(r=e.I||Yb(r)?r:{value:r})&&(n.structuredQuery.limit=r),t.startAt&&(n.structuredQuery.startAt=oS(t.startAt)),t.endAt&&(n.structuredQuery.endAt=oS(t.endAt)),n}function iS(e){var t=$E(e.parent),n=e.structuredQuery,r=null;0<(a=n.from?n.from.length:0)&&(bb(1===a),(s=n.from[0]).allDescendants?r=s.collectionId:t=t.child(s.collectionId));var i=[];n.where&&(i=function e(t){return t?void 0!==t.unaryFilter?[lS(t)]:void 0!==t.fieldFilter?[cS(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map((function(t){return e(t)})).reduce((function(e,t){return e.concat(t)})):mb():[]}(n.where));var o=[],a=(e=null,null),s=null;return ew(t,r,o=n.orderBy?n.orderBy.map((function(e){return new Y_(uS((t=e).field),function(){switch(t.direction){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}());var t})):o,i,e=n.limit?Yb(i="object"==typeof(i=n.limit)?i.value:i)?null:i:e,"F",a=n.startAt?aS(n.startAt):a,s=n.endAt?aS(n.endAt):s)}function oS(e){return{before:e.before,values:e.position}}function aS(e){var t=!!e.before;return e=e.values||[],new z_(e,t)}function sS(e){return{fieldPath:e.canonicalString()}}function uS(e){return Lb.fromServerFormat(e.fieldPath)}function cS(e){return T_.create(uS(e.fieldFilter.field),function(){switch(e.fieldFilter.op){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return mb()}}(),e.fieldFilter.value)}function lS(e){switch(e.unaryFilter.op){case"IS_NAN":var t=uS(e.unaryFilter.field);return T_.create(t,"==",{doubleValue:NaN});case"IS_NULL":return t=uS(e.unaryFilter.field),T_.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var n=uS(e.unaryFilter.field);return T_.create(n,"!=",{doubleValue:NaN});case"IS_NOT_NULL":return n=uS(e.unaryFilter.field),T_.create(n,"!=",{nullValue:"NULL_VALUE"});default:return mb()}}function hS(e){return 4<=e.length&&"projects"===e.get(0)&&"databases"===e.get(2)}function fS(e){for(var t="",n=0;n<e.length;n++)0<t.length&&(t=dS(t)),t=function(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var o=e.charAt(i);switch(o){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=o}}return n}(e.get(n),t);return dS(t)}function dS(e){return e+"\x01\x01"}function pS(e){var t=e.length;if(bb(2<=t),2===t)return bb("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),Db.emptyPath();for(var n=t-2,r=[],i="",o=0;o<t;){var a=e.indexOf("\x01",o);switch((a<0||n<a)&&mb(),e.charAt(a+1)){case"\x01":var s=e.substring(o,a),u=void 0;0===i.length?u=s:(u=i+=s,i=""),r.push(u);break;case"\x10":i+=e.substring(o,a),i+="\0";break;case"\x11":i+=e.substring(o,a+1);break;default:mb()}o=a+2}return new Db(r)}function vS(e,t,n){this.ownerId=e,this.allowTabSynchronization=t,this.leaseTimestampMs=n}var gS=function(e,t){this.seconds=e,this.nanoseconds=t};function yS(e,t,n){this.userId=e,this.lastAcknowledgedBatchId=t,this.lastStreamToken=n}function mS(e,t,n,r,i){this.userId=e,this.batchId=t,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i}vS.store="owner",vS.key="owner",yS.store="mutationQueues",yS.keyPath="userId",mS.store="mutations",mS.keyPath="batchId",mS.userMutationsIndex="userMutationsIndex",mS.userMutationsKeyPath=["userId","batchId"];var bS=(_S.prefixForUser=function(e){return[e]},_S.prefixForPath=function(e,t){return[e,fS(t)]},_S.key=function(e,t,n){return[e,fS(t),n]},_S);function _S(){}function wS(e,t){this.path=e,this.readTime=t}function ES(e,t){this.path=e,this.version=t}bS.store="documentMutations",bS.PLACEHOLDER=new bS;var SS=function(e,t,n,r,i,o){this.unknownDocument=e,this.noDocument=t,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};function TS(e){this.byteSize=e}function CS(e,t,n,r,i,o,a){this.targetId=e,this.canonicalId=t,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=a}SS.store="remoteDocuments",SS.readTimeIndex="readTimeIndex",SS.readTimeIndexPath="readTime",SS.collectionReadTimeIndex="collectionReadTimeIndex",SS.collectionReadTimeIndexPath=["parentPath","readTime"],TS.store="remoteDocumentGlobal",TS.key="remoteDocumentGlobalKey",CS.store="targets",CS.keyPath="targetId",CS.queryTargetsIndexName="queryTargetsIndex",CS.queryTargetsKeyPath=["canonicalId","targetId"];var IS=function(e,t,n){this.targetId=e,this.path=t,this.sequenceNumber=n};function kS(e,t,n,r){this.highestTargetId=e,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=n,this.targetCount=r}function OS(e,t){this.collectionId=e,this.parent=t}function xS(e,t,n,r){this.clientId=e,this.updateTimeMs=t,this.networkEnabled=n,this.inForeground=r}function PS(e,t,n){this.bundleId=e,this.createTime=t,this.version=n}function NS(e,t,n){this.name=e,this.readTime=t,this.bundledQuery=n}IS.store="targetDocuments",IS.keyPath=["targetId","path"],IS.documentTargetsIndex="documentTargetsIndex",IS.documentTargetsKeyPath=["path","targetId"],kS.key="targetGlobalKey",kS.store="targetGlobal",OS.store="collectionParents",OS.keyPath=["collectionId","parent"],xS.store="clientMetadata",xS.keyPath="clientId",PS.store="bundles",PS.keyPath="bundleId",NS.store="namedQueries",NS.keyPath="name";var AS,RS=to(to([],to(to([],to(to([],to(to([],[yS.store,mS.store,bS.store,SS.store,CS.store,vS.store,kS.store,IS.store]),[xS.store])),[TS.store])),[OS.store])),[PS.store,NS.store]),DS="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",jS=(KS.prototype.addOnCommittedListener=function(e){this.onCommittedListeners.push(e)},KS.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach((function(e){return e()}))},G=KS,function(){var e=this;this.promise=new Promise((function(t,n){e.resolve=t,e.reject=n}))}),LS=(HS.prototype.catch=function(e){return this.next(void 0,e)},HS.prototype.next=function(e,t){var n=this;return this.callbackAttached&&mb(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new HS((function(r,i){n.nextCallback=function(t){n.wrapSuccess(e,t).next(r,i)},n.catchCallback=function(e){n.wrapFailure(t,e).next(r,i)}}))},HS.prototype.toPromise=function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))},HS.prototype.wrapUserFunction=function(e){try{var t=e();return t instanceof HS?t:HS.resolve(t)}catch(e){return HS.reject(e)}},HS.prototype.wrapSuccess=function(e,t){return e?this.wrapUserFunction((function(){return e(t)})):HS.resolve(t)},HS.prototype.wrapFailure=function(e,t){return e?this.wrapUserFunction((function(){return e(t)})):HS.reject(t)},HS.resolve=function(e){return new HS((function(t,n){t(e)}))},HS.reject=function(e){return new HS((function(t,n){n(e)}))},HS.waitFor=function(e){return new HS((function(t,n){var r=0,i=0,o=!1;e.forEach((function(e){++r,e.next((function(){++i,o&&i===r&&t()}),(function(e){return n(e)}))})),o=!0,i===r&&t()}))},HS.or=function(e){for(var t=HS.resolve(!1),n=0,r=e;n<r.length;n++)!function(e){t=t.next((function(t){return t?HS.resolve(t):e()}))}(r[n]);return t},HS.forEach=function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)},HS),MS=(zS.open=function(e,t,n,r){try{return new zS(t,e.transaction(r,n))}catch(e){throw new qS(t,e)}},Object.defineProperty(zS.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),zS.prototype.abort=function(e){e&&this.ft.reject(e),this.aborted||(pb("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},zS.prototype.store=function(e){return e=this.transaction.objectStore(e),new QS(e)},zS),FS=(WS.delete=function(e){return pb("SimpleDb","Removing database:",e),YS(window.indexedDB.deleteDatabase(e)).toPromise()},WS.yt=function(){if("undefined"==typeof indexedDB)return!1;if(WS.gt())return!0;var e=go(),t=0<(n=WS._t(e))&&n<10,n=0<(n=WS.Et(e))&&n<4.5;return!(0<e.indexOf("MSIE ")||0<e.indexOf("Trident/")||0<e.indexOf("Edge/")||t||n)},WS.gt=function(){var e;return"undefined"!=typeof n&&"YES"===(null===(e=Object({NODE_ENV:"production",PUBLIC_URL:"/React-Forms-Project",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}))||void 0===e?void 0:e.Tt)},WS.It=function(e,t){return e.store(t)},WS._t=function(e){return e=(e=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i))?e[1].split("_").slice(0,2).join("."):"-1",Number(e)},WS.Et=function(e){return e=(e=e.match(/Android ([\d.]+)/i))?e[1].split(".").slice(0,2).join("."):"-1",Number(e)},WS.prototype.At=function(e){return Xi(this,void 0,void 0,(function(){var t,n=this;return Ji(this,(function(r){switch(r.label){case 0:return this.db?[3,2]:(pb("SimpleDb","Opening database:",this.name),t=this,[4,new Promise((function(t,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(e){e=e.target.result,t(e)},i.onblocked=function(){r(new qS(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(t){"VersionError"===(t=t.target.error).name?r(new lb(cb.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):r(new qS(e,t))},i.onupgradeneeded=function(e){pb("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.wt.Rt(t,i.transaction,e.oldVersion,n.version).next((function(){pb("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}))]);case 1:t.db=r.sent(),r.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(e){return n.bt(e)}),this.db)]}}))}))},WS.prototype.vt=function(e){this.bt=e,this.db&&(this.db.onversionchange=function(t){return e(t)})},WS.prototype.runTransaction=function(e,t,n,r){return Xi(this,void 0,void 0,(function(){var i,o,a,s;return Ji(this,(function(u){switch(u.label){case 0:i="readonly"===t,o=0,s=function(){var t,s,u;return Ji(this,(function(c){switch(c.label){case 0:++o,c.label=1;case 1:return c.trys.push([1,4,,5]),[4,a.At(e)];case 2:return a.db=c.sent(),t=MS.open(a.db,e,i?"readonly":"readwrite",n),s=r(t).catch((function(e){return t.abort(e),LS.reject(e)})).toPromise(),u={},s.catch((function(){})),[4,t.dt];case 3:return[2,(u.value=(c.sent(),s),u)];case 4:return s=c.sent(),u="FirebaseError"!==s.name&&o<3,pb("SimpleDb","Transaction failed with error:",s.message,"Retrying:",u),a.close(),u?[3,5]:[2,{value:Promise.reject(s)}];case 5:return[2]}}))},a=this,u.label=1;case 1:return[5,s()];case 2:if("object"==typeof(s=u.sent()))return[2,s.value];u.label=3;case 3:return[3,1];case 4:return[2]}}))}))},WS.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},WS),US=(Object.defineProperty(VS.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(VS.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(VS.prototype,"cursor",{set:function(e){this.Pt=e},enumerable:!1,configurable:!0}),VS.prototype.done=function(){this.Vt=!0},VS.prototype.Ct=function(e){this.St=e},VS.prototype.delete=function(){return YS(this.Pt.delete())},VS),qS=($i(BS,AS=lb),BS);function BS(e,t){var n=this;return(n=AS.call(this,cb.UNAVAILABLE,"IndexedDB transaction '"+e+"' failed: "+t)||this).name="IndexedDbTransactionError",n}function VS(e){this.Pt=e,this.Vt=!1,this.St=null}function WS(e,t,n){this.name=e,this.version=t,this.wt=n,12.2===WS._t(go())&&vb("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}function zS(e,t){var n=this;this.action=e,this.transaction=t,this.aborted=!1,this.ft=new jS,this.transaction.oncomplete=function(){n.ft.resolve()},this.transaction.onabort=function(){t.error?n.ft.reject(new qS(e,t.error)):n.ft.resolve()},this.transaction.onerror=function(t){t=JS(t.target.error),n.ft.reject(new qS(e,t))}}function HS(e){var t=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((function(e){t.isDone=!0,t.result=e,t.nextCallback&&t.nextCallback(e)}),(function(e){t.isDone=!0,t.error=e,t.catchCallback&&t.catchCallback(e)}))}function KS(){this.onCommittedListeners=[]}function GS(e){return"IndexedDbTransactionError"===e.name}var QS=($S.prototype.put=function(e,t){return YS(e=void 0!==t?(pb("SimpleDb","PUT",this.store.name,e,t),this.store.put(t,e)):(pb("SimpleDb","PUT",this.store.name,"<auto-key>",e),this.store.put(e)))},$S.prototype.add=function(e){return pb("SimpleDb","ADD",this.store.name,e,e),YS(this.store.add(e))},$S.prototype.get=function(e){var t=this;return YS(this.store.get(e)).next((function(n){return pb("SimpleDb","GET",t.store.name,e,n=void 0===n?null:n),n}))},$S.prototype.delete=function(e){return pb("SimpleDb","DELETE",this.store.name,e),YS(this.store.delete(e))},$S.prototype.count=function(){return pb("SimpleDb","COUNT",this.store.name),YS(this.store.count())},$S.prototype.Nt=function(e,t){t=this.cursor(this.options(e,t));var n=[];return this.xt(t,(function(e,t){n.push(t)})).next((function(){return n}))},$S.prototype.kt=function(e,t){return pb("SimpleDb","DELETE ALL",this.store.name),(t=this.options(e,t)).Ft=!1,t=this.cursor(t),this.xt(t,(function(e,t,n){return n.delete()}))},$S.prototype.$t=function(e,t){t?n=e:(n={},t=e);var n=this.cursor(n);return this.xt(n,t)},$S.prototype.Ot=function(e){var t=this.cursor({});return new LS((function(n,r){t.onerror=function(e){e=JS(e.target.error),r(e)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))},$S.prototype.xt=function(e,t){var n=[];return new LS((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i,o=e.target.result;o?(i=new US(o),(e=t(o.primaryKey,o.value,i))instanceof LS&&(e=e.catch((function(e){return i.done(),LS.reject(e)})),n.push(e)),i.isDone?r():null===i.Dt?o.continue():o.continue(i.Dt)):r()}})).next((function(){return LS.waitFor(n)}))},$S.prototype.options=function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}},$S.prototype.cursor=function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.Ft?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)},$S);function $S(e){this.store=e}function YS(e){return new LS((function(t,n){e.onsuccess=function(e){e=e.target.result,t(e)},e.onerror=function(e){e=JS(e.target.error),n(e)}}))}var XS=!1;function JS(e){var t=FS._t(go());if(12.2<=t&&t<13&&(t="An internal error was encountered in the Indexed Database server",0<=e.message.indexOf(t))){var n=new lb("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+t+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return XS||(XS=!0,setTimeout((function(){throw n}),0)),n}return e}var ZS,eT=($i(tT,ZS=G),tT);function tT(e,t){var n=this;return(n=ZS.call(this)||this).Mt=e,n.currentSequenceNumber=t,n}function nT(e,t){return FS.It(e.Mt,t)}var rT=(cT.prototype.applyToRemoteDocument=function(e,t){for(var n,r,i,o,a,s,u=t.mutationResults,c=0;c<this.mutations.length;c++){var l=this.mutations[c];l.key.isEqual(e.key)&&(n=l,r=e,i=u[c],l=s=a=o=void 0,n instanceof Hw?(a=r,s=i,l=(o=n).value.clone(),o=Yw(o.fieldTransforms,a,s.transformResults),l.setAll(o),a.convertToFoundDocument(s.version,l).setHasCommittedMutations()):n instanceof Kw?(o=r,a=i,Uw((s=n).precondition,o)?(l=Yw(s.fieldTransforms,o,a.transformResults),(n=o.data).setAll($w(s)),n.setAll(l),o.convertToFoundDocument(a.version,n).setHasCommittedMutations()):o.convertToUnknownDocument(a.version)):r.convertToNoDocument(i.version).setHasCommittedMutations())}},cT.prototype.applyToLocalView=function(e){for(var t=0,n=this.baseMutations;t<n.length;t++)(r=n[t]).key.isEqual(e.key)&&qw(r,e,this.localWriteTime);for(var r,i=0,o=this.mutations;i<o.length;i++)(r=o[i]).key.isEqual(e.key)&&qw(r,e,this.localWriteTime)},cT.prototype.applyToLocalDocumentSet=function(e){var t=this;this.mutations.forEach((function(n){var r=e.get(n.key);n=r,t.applyToLocalView(n),r.isValidDocument()||n.convertToNoDocument(Ib.min())}))},cT.prototype.keys=function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),SE())},cT.prototype.isEqual=function(e){return this.batchId===e.batchId&&Sb(this.mutations,e.mutations,Bw)&&Sb(this.baseMutations,e.baseMutations,Bw)},cT),iT=(uT.from=function(e,t,n){bb(e.mutations.length===n.length);for(var r=wE,i=e.mutations,o=0;o<i.length;o++)r=r.insert(i[o].key,n[o].version);return new uT(e,t,n,r)},uT),oT=(sT.prototype.withSequenceNumber=function(e){return new sT(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},sT.prototype.withResumeToken=function(e,t){return new sT(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)},sT.prototype.withLastLimboFreeSnapshotVersion=function(e){return new sT(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)},sT),aT=function(e){this.Lt=e};function sT(e,t,n,r,i,o,a){void 0===i&&(i=Ib.min()),void 0===o&&(o=Ib.min()),void 0===a&&(a=Fb.EMPTY_BYTE_STRING),this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}function uT(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}function cT(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}function lT(e,t){if(t.document)return ZE(e.Lt,t.document,!!t.hasCommittedMutations);if(t.noDocument){var n=Zb.fromSegments(t.noDocument.path),r=vT(t.noDocument.readTime);return n=g_.newNoDocument(n,r),t.hasCommittedMutations?n.setHasCommittedMutations():n}return t.unknownDocument?(n=Zb.fromSegments(t.unknownDocument.path),r=vT(t.unknownDocument.version),g_.newUnknownDocument(n,r)):mb()}function hT(e,t,n){var r=fT(n);if(n=t.key.path.popLast().toArray(),t.isFoundDocument()){var i={name:KE(o=e.Lt,(a=t).key),fields:a.data.value.mapValue.fields,updateTime:BE(o,a.version.toTimestamp())},o=t.hasCommittedMutations;return new SS(null,null,i,o,r,n)}if(t.isNoDocument()){var a=t.key.path.toArray();return i=pT(t.version),o=t.hasCommittedMutations,new SS(null,new wS(a,i),null,o,r,n)}return t.isUnknownDocument()?(o=t.key.path.toArray(),t=pT(t.version),new SS(new ES(o,t),null,null,!0,r,n)):mb()}function fT(e){return[(e=e.toTimestamp()).seconds,e.nanoseconds]}function dT(e){return e=new Cb(e[0],e[1]),Ib.fromTimestamp(e)}function pT(e){return e=e.toTimestamp(),new gS(e.seconds,e.nanoseconds)}function vT(e){return e=new Cb(e.seconds,e.nanoseconds),Ib.fromTimestamp(e)}function gT(e,t){for(var n=(t.baseMutations||[]).map((function(t){return tS(e.Lt,t)})),r=0;r<t.mutations.length-1;++r){var i,o=t.mutations[r];r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform&&(i=t.mutations[r+1],o.updateTransforms=i.transform.fieldTransforms,t.mutations.splice(r+1,1),++r)}var a=t.mutations.map((function(t){return tS(e.Lt,t)})),s=Cb.fromMillis(t.localWriteTimeMs);return new rT(t.batchId,s,n,a)}function yT(e){var t=vT(e.readTime),n=void 0!==e.lastLimboFreeSnapshotVersion?vT(e.lastLimboFreeSnapshotVersion):Ib.min(),r=void 0!==e.query.documents?(bb(1===(r=e.query).documents.length),uw(tw($E(r.documents[0])))):uw(iS(e.query));return new oT(r,e.targetId,0,e.lastListenSequenceNumber,t,n,Fb.fromBase64String(e.resumeToken))}function mT(e,t){var n=pT(t.snapshotVersion),r=pT(t.lastLimboFreeSnapshotVersion),i=(E_(t.target)?nS:rS)(e.Lt,t.target);return e=t.resumeToken.toBase64(),new CS(t.targetId,__(t.target),n,e,t.sequenceNumber,r,i)}function bT(e){var t=iS({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?cw(t,t.limit,"L"):t}var _T=(wT.prototype.getBundleMetadata=function(e,t){return ET(e).get(t).next((function(e){if(e)return{id:e.bundleId,createTime:vT(e.createTime),version:e.version}}))},wT.prototype.saveBundleMetadata=function(e,t){return ET(e).put({bundleId:t.id,createTime:pT(WE(t.createTime)),version:t.version})},wT.prototype.getNamedQuery=function(e,t){return ST(e).get(t).next((function(e){if(e)return{name:e.name,query:bT(e.bundledQuery),readTime:vT(e.readTime)}}))},wT.prototype.saveNamedQuery=function(e,t){return ST(e).put({name:t.name,readTime:pT(WE(t.readTime)),bundledQuery:t.bundledQuery})},wT);function wT(){}function ET(e){return nT(e,PS.store)}function ST(e){return nT(e,NS.store)}var TT=(xT.prototype.addToCollectionParentIndex=function(e,t){return this.Bt.add(t),LS.resolve()},xT.prototype.getCollectionParents=function(e,t){return LS.resolve(this.Bt.getEntries(t))},xT),CT=(OT.prototype.add=function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new vE(Db.comparator);return e=!r.has(n),this.index[t]=r.add(n),e},OT.prototype.has=function(e){var t=e.lastSegment();return e=e.popLast(),(t=this.index[t])&&t.has(e)},OT.prototype.getEntries=function(e){return(this.index[e]||new vE(Db.comparator)).toArray()},OT),IT=(kT.prototype.addToCollectionParentIndex=function(e,t){var n=this;if(this.qt.has(t))return LS.resolve();var r=t.lastSegment(),i=t.popLast();return e.addOnCommittedListener((function(){n.qt.add(t)})),i={collectionId:r,parent:fS(i)},PT(e).put(i)},kT.prototype.getCollectionParents=function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[Tb(t),""],!1,!0);return PT(e).Nt(r).next((function(e){for(var r=0,i=e;r<i.length;r++){var o=i[r];if(o.collectionId!==t)break;n.push(pS(o.parent))}return n}))},kT);function kT(){this.qt=new CT}function OT(){this.index={}}function xT(){this.Bt=new CT}function PT(e){return nT(e,OS.store)}var NT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},AT=(RT.withCacheSize=function(e){return new RT(e,RT.DEFAULT_COLLECTION_PERCENTILE,RT.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},RT);function RT(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}function DT(e,t,n){var r=e.store(mS.store),i=e.store(bS.store),o=[],a=(e=IDBKeyRange.only(n.batchId),0);e=r.$t({range:e},(function(e,t,n){return a++,n.delete()})),o.push(e.next((function(){bb(1===a)})));for(var s=[],u=0,c=n.mutations;u<c.length;u++){var l=c[u],h=bS.key(t,l.key.path,n.batchId);o.push(i.delete(h)),s.push(l.key)}return LS.waitFor(o).next((function(){return s}))}function jT(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw mb();t=e.noDocument}return JSON.stringify(t).length}AT.DEFAULT_COLLECTION_PERCENTILE=10,AT.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,AT.DEFAULT=new AT(41943040,AT.DEFAULT_COLLECTION_PERCENTILE,AT.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),AT.DISABLED=new AT(-1,0,0);var LT=(MT.Qt=function(e,t,n,r){return bb(""!==e.uid),new MT(e.isAuthenticated()?e.uid:"",t,n,r)},MT.prototype.checkEmpty=function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return UT(e).$t({index:mS.userMutationsIndex,range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))},MT.prototype.addMutationBatch=function(e,t,n,r){var i=this,o=qT(e),a=UT(e);return a.add({}).next((function(s){bb("number"==typeof s);for(var u,c,l,h,f,d=new rT(s,t,n,r),p=(u=i.R,c=i.userId,h=(l=d).baseMutations.map((function(e){return eS(u.Lt,e)})),f=l.mutations.map((function(e){return eS(u.Lt,e)})),new mS(c,l.batchId,l.localWriteTime.toMillis(),h,f)),v=[],g=new vE((function(e,t){return Eb(e.canonicalString(),t.canonicalString())})),y=0,m=r;y<m.length;y++){var b=m[y],_=bS.key(i.userId,b.key.path,s);g=g.add(b.key.path.popLast()),v.push(a.put(p)),v.push(o.put(_,bS.PLACEHOLDER))}return g.forEach((function(t){v.push(i.Ut.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.Kt[s]=d.keys()})),LS.waitFor(v).next((function(){return d}))}))},MT.prototype.lookupMutationBatch=function(e,t){var n=this;return UT(e).get(t).next((function(e){return e?(bb(e.userId===n.userId),gT(n.R,e)):null}))},MT.prototype.jt=function(e,t){var n=this;return this.Kt[t]?LS.resolve(this.Kt[t]):this.lookupMutationBatch(e,t).next((function(e){return e?(e=e.keys(),n.Kt[t]=e):null}))},MT.prototype.getNextMutationBatchAfterBatchId=function(e,t){var n=this,r=t+1,i=(t=IDBKeyRange.lowerBound([this.userId,r]),null);return UT(e).$t({index:mS.userMutationsIndex,range:t},(function(e,t,o){t.userId===n.userId&&(bb(t.batchId>=r),i=gT(n.R,t)),o.done()})).next((function(){return i}))},MT.prototype.getHighestUnacknowledgedBatchId=function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return UT(e).$t({index:mS.userMutationsIndex,range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))},MT.prototype.getAllMutationBatches=function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return UT(e).Nt(mS.userMutationsIndex,n).next((function(e){return e.map((function(e){return gT(t.R,e)}))}))},MT.prototype.getAllMutationBatchesAffectingDocumentKey=function(e,t){var n=this,r=bS.prefixForPath(this.userId,t.path),i=(r=IDBKeyRange.lowerBound(r),[]);return qT(e).$t({range:r},(function(r,o,a){var s=r[0],u=r[1];if(r=r[2],u=pS(u),s===n.userId&&t.path.isEqual(u))return UT(e).get(r).next((function(e){if(!e)throw mb();bb(e.userId===n.userId),i.push(gT(n.R,e))}));a.done()})).next((function(){return i}))},MT.prototype.getAllMutationBatchesAffectingDocumentKeys=function(e,t){var n=this,r=new vE(Eb),i=[];return t.forEach((function(t){var o=bS.prefixForPath(n.userId,t.path);o=IDBKeyRange.lowerBound(o),o=qT(e).$t({range:o},(function(e,i,o){var a=e[0],s=e[1];e=e[2],s=pS(s),a===n.userId&&t.path.isEqual(s)?r=r.add(e):o.done()})),i.push(o)})),LS.waitFor(i).next((function(){return n.Wt(e,r)}))},MT.prototype.getAllMutationBatchesAffectingQuery=function(e,t){var n=this,r=t.path,i=r.length+1,o=(t=bS.prefixForPath(this.userId,r),t=IDBKeyRange.lowerBound(t),new vE(Eb));return qT(e).$t({range:t},(function(e,t,a){var s=e[0],u=e[1];e=e[2],u=pS(u),s===n.userId&&r.isPrefixOf(u)?u.length===i&&(o=o.add(e)):a.done()})).next((function(){return n.Wt(e,o)}))},MT.prototype.Wt=function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(UT(e).get(t).next((function(e){if(null===e)throw mb();bb(e.userId===n.userId),r.push(gT(n.R,e))})))})),LS.waitFor(i).next((function(){return r}))},MT.prototype.removeMutationBatch=function(e,t){var n=this;return DT(e.Mt,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n.Gt(t.batchId)})),LS.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))},MT.prototype.Gt=function(e){delete this.Kt[e]},MT.prototype.performConsistencyCheck=function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return LS.resolve();n=IDBKeyRange.lowerBound(bS.prefixForUser(t.userId));var r=[];return qT(e).$t({range:n},(function(e,n,i){e[0]===t.userId?(e=pS(e[1]),r.push(e)):i.done()})).next((function(){bb(0===r.length)}))}))},MT.prototype.containsKey=function(e,t){return FT(e,this.userId,t)},MT.prototype.zt=function(e){var t=this;return BT(e).get(this.userId).next((function(e){return e||new yS(t.userId,-1,"")}))},MT);function MT(e,t,n,r){this.userId=e,this.R=t,this.Ut=n,this.referenceDelegate=r,this.Kt={}}function FT(e,t,n){var r=(n=bS.prefixForPath(t,n.path))[1],i=(n=IDBKeyRange.lowerBound(n),!1);return qT(e).$t({range:n,Ft:!0},(function(e,n,o){var a=e[0],s=e[1];e[2],a===t&&s===r&&(i=!0),o.done()})).next((function(){return i}))}function UT(e){return nT(e,mS.store)}function qT(e){return nT(e,bS.store)}function BT(e){return nT(e,yS.store)}var VT=(HT.prototype.next=function(){return this.Ht+=2,this.Ht},HT.Jt=function(){return new HT(0)},HT.Yt=function(){return new HT(-1)},HT),WT=(zT.prototype.allocateTargetId=function(e){var t=this;return this.Xt(e).next((function(n){var r=new VT(n.highestTargetId);return n.highestTargetId=r.next(),t.Zt(e,n).next((function(){return n.highestTargetId}))}))},zT.prototype.getLastRemoteSnapshotVersion=function(e){return this.Xt(e).next((function(e){return Ib.fromTimestamp(new Cb(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))},zT.prototype.getHighestSequenceNumber=function(e){return this.Xt(e).next((function(e){return e.highestListenSequenceNumber}))},zT.prototype.setTargetsMetadata=function(e,t,n){var r=this;return this.Xt(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.Zt(e,i)}))},zT.prototype.addTargetData=function(e,t){var n=this;return this.te(e,t).next((function(){return n.Xt(e).next((function(r){return r.targetCount+=1,n.ee(t,r),n.Zt(e,r)}))}))},zT.prototype.updateTargetData=function(e,t){return this.te(e,t)},zT.prototype.removeTargetData=function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return KT(e).delete(t.targetId)})).next((function(){return n.Xt(e)})).next((function(t){return bb(0<t.targetCount),--t.targetCount,n.Zt(e,t)}))},zT.prototype.removeTargets=function(e,t,n){var r=this,i=0,o=[];return KT(e).$t((function(a,s){(s=yT(s)).sequenceNumber<=t&&null===n.get(s.targetId)&&(i++,o.push(r.removeTargetData(e,s)))})).next((function(){return LS.waitFor(o)})).next((function(){return i}))},zT.prototype.forEachTarget=function(e,t){return KT(e).$t((function(e,n){n=yT(n),t(n)}))},zT.prototype.Xt=function(e){return GT(e).get(kS.key).next((function(e){return bb(null!==e),e}))},zT.prototype.Zt=function(e,t){return GT(e).put(kS.key,t)},zT.prototype.te=function(e,t){return KT(e).put(mT(this.R,t))},zT.prototype.ee=function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n},zT.prototype.getTargetCount=function(e){return this.Xt(e).next((function(e){return e.targetCount}))},zT.prototype.getTargetData=function(e,t){var n=__(t),r=(n=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),null);return KT(e).$t({range:n,index:CS.queryTargetsIndexName},(function(e,n,i){n=yT(n),w_(t,n.target)&&(r=n,i.done())})).next((function(){return r}))},zT.prototype.addMatchingKeys=function(e,t,n){var r=this,i=[],o=QT(e);return t.forEach((function(t){var a=fS(t.path);i.push(o.put(new IS(n,a))),i.push(r.referenceDelegate.addReference(e,n,t))})),LS.waitFor(i)},zT.prototype.removeMatchingKeys=function(e,t,n){var r=this,i=QT(e);return LS.forEach(t,(function(t){var o=fS(t.path);return LS.waitFor([i.delete([n,o]),r.referenceDelegate.removeReference(e,n,t)])}))},zT.prototype.removeMatchingKeysForTargetId=function(e,t){return e=QT(e),t=IDBKeyRange.bound([t],[t+1],!1,!0),e.delete(t)},zT.prototype.getMatchingKeysForTargetId=function(e,t){t=IDBKeyRange.bound([t],[t+1],!1,!0),e=QT(e);var n=SE();return e.$t({range:t,Ft:!0},(function(e,t,r){e=pS(e[1]),e=new Zb(e),n=n.add(e)})).next((function(){return n}))},zT.prototype.containsKey=function(e,t){t=fS(t.path),t=IDBKeyRange.bound([t],[Tb(t)],!1,!0);var n=0;return QT(e).$t({index:IS.documentTargetsIndex,Ft:!0,range:t},(function(e,t,r){var i=e[0];e[1],0!==i&&(n++,r.done())})).next((function(){return 0<n}))},zT.prototype.lt=function(e,t){return KT(e).get(t).next((function(e){return e?yT(e):null}))},zT);function zT(e,t){this.referenceDelegate=e,this.R=t}function HT(e){this.Ht=e}function KT(e){return nT(e,CS.store)}function GT(e){return nT(e,kS.store)}function QT(e){return nT(e,IS.store)}function $T(e){return Xi(this,void 0,void 0,(function(){return Ji(this,(function(t){if(e.code!==cb.FAILED_PRECONDITION||e.message!==DS)throw e;return pb("LocalStore","Unexpectedly lost primary lease"),[2]}))}))}function YT(e,t){var n=e[0],r=e[1];return e=t[0],t=t[1],0===(e=Eb(n,e))?Eb(r,t):e}var XT=(iC.prototype.ie=function(){return++this.se},iC.prototype.re=function(e){var t=[e,this.ie()];this.buffer.size<this.ne?this.buffer=this.buffer.add(t):YT(t,e=this.buffer.last())<0&&(this.buffer=this.buffer.delete(e).add(t))},Object.defineProperty(iC.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),iC),JT=(rC.prototype.start=function(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.ue(e)},rC.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(rC.prototype,"started",{get:function(){return null!==this.ce},enumerable:!1,configurable:!0}),rC.prototype.ue=function(e){var t=this,n=this.oe?3e5:6e4;pb("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,(function(){return Xi(t,void 0,void 0,(function(){var t;return Ji(this,(function(n){switch(n.label){case 0:this.ce=null,this.oe=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,e.collectGarbage(this.garbageCollector)];case 2:return n.sent(),[3,7];case 3:return GS(t=n.sent())?(pb("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",t),[3,6]):[3,4];case 4:return[4,$T(t)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.ue(e)];case 8:return n.sent(),[2]}}))}))}))},rC),ZT=(nC.prototype.calculateTargetCount=function(e,t){return this.ae.he(e).next((function(e){return Math.floor(t/100*e)}))},nC.prototype.nthSequenceNumber=function(e,t){var n=this;if(0===t)return LS.resolve(ab.o);var r=new XT(t);return this.ae.forEachTarget(e,(function(e){return r.re(e.sequenceNumber)})).next((function(){return n.ae.le(e,(function(e){return r.re(e)}))})).next((function(){return r.maxValue}))},nC.prototype.removeTargets=function(e,t,n){return this.ae.removeTargets(e,t,n)},nC.prototype.removeOrphanedDocuments=function(e,t){return this.ae.removeOrphanedDocuments(e,t)},nC.prototype.collect=function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(pb("LruGarbageCollector","Garbage collection skipped; disabled"),LS.resolve(NT)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(pb("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.cacheSizeCollectionThreshold),NT):n.fe(e,t)}))},nC.prototype.getCacheSize=function(e){return this.ae.getCacheSize(e)},nC.prototype.fe=function(e,t){var n,r,i,o,a,s,u,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return r=t>c.params.maximumSequenceNumbersToCollect?(pb("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.maximumSequenceNumbersToCollect+" from "+t),c.params.maximumSequenceNumbersToCollect):t,o=Date.now(),c.nthSequenceNumber(e,r)})).next((function(r){return n=r,a=Date.now(),c.removeTargets(e,n,t)})).next((function(t){return i=t,s=Date.now(),c.removeOrphanedDocuments(e,n)})).next((function(e){return u=Date.now(),db()<=la.DEBUG&&pb("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(o-l)+"ms\n\tDetermined least recently used "+r+" in "+(a-o)+"ms\n\tRemoved "+i+" targets in "+(s-a)+"ms\n\tRemoved "+e+" documents in "+(u-s)+"ms\nTotal Duration: "+(u-l)+"ms"),LS.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))},nC),eC=(tC.prototype.he=function(e){var t=this.de(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))},tC.prototype.de=function(e){var t=0;return this.le(e,(function(e){t++})).next((function(){return t}))},tC.prototype.forEachTarget=function(e,t){return this.db.getTargetCache().forEachTarget(e,t)},tC.prototype.le=function(e,t){return this.we(e,(function(e,n){return t(n)}))},tC.prototype.addReference=function(e,t,n){return oC(e,n)},tC.prototype.removeReference=function(e,t,n){return oC(e,n)},tC.prototype.removeTargets=function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)},tC.prototype.markPotentiallyOrphaned=oC,tC.prototype._e=function(e,t){return r=t,i=!1,BT(n=e).Ot((function(e){return FT(n,e,r).next((function(e){return e&&(i=!0),LS.resolve(!e)}))})).next((function(){return i}));var n,r,i},tC.prototype.removeOrphanedDocuments=function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],o=0;return this.we(e,(function(a,s){s<=t&&(s=n._e(e,a).next((function(t){if(!t)return o++,r.getEntry(e,a).next((function(){return r.removeEntry(a),QT(e).delete([0,fS(a.path)])}))})),i.push(s))})).next((function(){return LS.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return o}))},tC.prototype.removeTarget=function(e,t){return t=t.withSequenceNumber(e.currentSequenceNumber),this.db.getTargetCache().updateTargetData(e,t)},tC.prototype.updateLimboDocument=oC,tC.prototype.we=function(e,t){e=QT(e);var n,r=ab.o;return e.$t({index:IS.documentTargetsIndex},(function(e,i){var o=e[0];e[1],e=i.path,i=i.sequenceNumber,0===o?(r!==ab.o&&t(new Zb(pS(n)),r),r=i,n=e):r=ab.o})).next((function(){r!==ab.o&&t(new Zb(pS(n)),r)}))},tC.prototype.getCacheSize=function(e){return this.db.getRemoteDocumentCache().getSize(e)},tC);function tC(e,t){this.db=e,this.garbageCollector=new ZT(this,t)}function nC(e,t){this.ae=e,this.params=t}function rC(e,t){this.garbageCollector=e,this.asyncQueue=t,this.oe=!1,this.ce=null}function iC(e){this.ne=e,this.buffer=new vE(YT),this.se=0}function oC(e,t){return QT(e).put((e=e.currentSequenceNumber,new IS(0,fS(t.path),e)))}var aC,sC=(dC.prototype.get=function(e){var t=this.mapKeyFn(e);if(void 0!==(t=this.inner[t]))for(var n=0,r=t;n<r.length;n++){var i=(o=r[n])[0],o=o[1];if(this.equalsFn(i,e))return o}},dC.prototype.has=function(e){return void 0!==this.get(e)},dC.prototype.set=function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t])}else this.inner[n]=[[e,t]]},dC.prototype.delete=function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),!0;return!1},dC.prototype.forEach=function(e){Pb(this.inner,(function(t,n){for(var r=0,i=n;r<i.length;r++){var o=(a=i[r])[0],a=a[1];e(o,a)}}))},dC.prototype.isEmpty=function(){return Nb(this.inner)},dC),uC=(fC.prototype.getReadTime=function(e){return(e=this.changes.get(e))?e.readTime:Ib.min()},fC.prototype.addEntry=function(e,t){this.assertNotApplied(),this.changes.set(e.key,{document:e,readTime:t})},fC.prototype.removeEntry=function(e,t){void 0===t&&(t=null),this.assertNotApplied(),this.changes.set(e,{document:g_.newInvalidDocument(e),readTime:t})},fC.prototype.getEntry=function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?LS.resolve(n.document):this.getFromCache(e,t)},fC.prototype.getEntries=function(e,t){return this.getAllFromCache(e,t)},fC.prototype.apply=function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)},fC.prototype.assertNotApplied=function(){},Q=fC,hC.prototype.addEntry=function(e,t,n){return vC(e).put(gC(t),n)},hC.prototype.removeEntry=function(e,t){return e=vC(e),t=gC(t),e.delete(t)},hC.prototype.updateMetadata=function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.me(e,r)}))},hC.prototype.getEntry=function(e,t){var n=this;return vC(e).get(gC(t)).next((function(e){return n.ye(t,e)}))},hC.prototype.ge=function(e,t){var n=this;return vC(e).get(gC(t)).next((function(e){return{document:n.ye(t,e),size:jT(e)}}))},hC.prototype.getEntries=function(e,t){var n=this,r=yE;return this.pe(e,t,(function(e,t){t=n.ye(e,t),r=r.insert(e,t)})).next((function(){return r}))},hC.prototype.Ee=function(e,t){var n=this,r=yE,i=new uE(Zb.comparator);return this.pe(e,t,(function(e,t){var o=n.ye(e,t);r=r.insert(e,o),i=i.insert(e,jT(t))})).next((function(){return{documents:r,Te:i}}))},hC.prototype.pe=function(e,t,n){if(t.isEmpty())return LS.resolve();var r=IDBKeyRange.bound(t.first().path.toArray(),t.last().path.toArray()),i=t.getIterator(),o=i.getNext();return vC(e).$t({range:r},(function(e,t,r){for(var a=Zb.fromSegments(e);o&&Zb.comparator(o,a)<0;)n(o,null),o=i.getNext();o&&o.isEqual(a)&&(n(o,t),o=i.hasNext()?i.getNext():null),o?r.Ct(o.path.toArray()):r.done()})).next((function(){for(;o;)n(o,null),o=i.hasNext()?i.getNext():null}))},hC.prototype.getDocumentsMatchingQuery=function(e,t,n){var r,i=this,o=yE,a=t.path.length+1,s={};return n.isEqual(Ib.min())?(r=t.path.toArray(),s.range=IDBKeyRange.lowerBound(r)):(r=t.path.toArray(),n=fT(n),s.range=IDBKeyRange.lowerBound([r,n],!0),s.index=SS.collectionReadTimeIndex),vC(e).$t(s,(function(e,n,r){e.length===a&&(n=lT(i.R,n),t.path.isPrefixOf(n.key.path)?dw(t,n)&&(o=o.insert(n.key,n)):r.done())})).next((function(){return o}))},hC.prototype.newChangeBuffer=function(e){return new cC(this,!!e&&e.trackRemovals)},hC.prototype.getSize=function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))},hC.prototype.getMetadata=function(e){return pC(e).get(TS.key).next((function(e){return bb(!!e),e}))},hC.prototype.me=function(e,t){return pC(e).put(TS.key,t)},hC.prototype.ye=function(e,t){return!t||(t=lT(this.R,t)).isNoDocument()&&t.version.isEqual(Ib.min())?g_.newInvalidDocument(e):t},hC),cC=($i(lC,aC=Q),lC.prototype.applyChanges=function(e){var t=this,n=[],r=0,i=new vE((function(e,t){return Eb(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(o,a){var s,u=t.Ae.get(o);a.document.isValidDocument()?(s=hT(t.Ie.R,a.document,t.getReadTime(o)),i=i.add(o.path.popLast()),a=jT(s),r+=a-u,n.push(t.Ie.addEntry(e,o,s))):(r-=u,t.trackRemovals?(u=hT(t.Ie.R,g_.newNoDocument(o,Ib.min()),t.getReadTime(o)),n.push(t.Ie.addEntry(e,o,u))):n.push(t.Ie.removeEntry(e,o)))})),i.forEach((function(r){n.push(t.Ie.Ut.addToCollectionParentIndex(e,r))})),n.push(this.Ie.updateMetadata(e,r)),LS.waitFor(n)},lC.prototype.getFromCache=function(e,t){var n=this;return this.Ie.ge(e,t).next((function(e){return n.Ae.set(t,e.size),e.document}))},lC.prototype.getAllFromCache=function(e,t){var n=this;return this.Ie.Ee(e,t).next((function(e){var t=e.documents;return e.Te.forEach((function(e,t){n.Ae.set(e,t)})),t}))},lC);function lC(e,t){var n=this;return(n=aC.call(this)||this).Ie=e,n.trackRemovals=t,n.Ae=new sC((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),n}function hC(e,t){this.R=e,this.Ut=t}function fC(){this.changes=new sC((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}function dC(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={}}function pC(e){return nT(e,TS.store)}function vC(e){return nT(e,SS.store)}function gC(e){return e.path.toArray()}var yC=(mC.prototype.Rt=function(e,t,n,r){var i=this;bb(n<r&&0<=n&&r<=11);var o=new MS("createOrUpgrade",t);n<1&&1<=r&&(e.createObjectStore(vS.store),(a=e).createObjectStore(yS.store,{keyPath:yS.keyPath}),a.createObjectStore(mS.store,{keyPath:mS.keyPath,autoIncrement:!0}).createIndex(mS.userMutationsIndex,mS.userMutationsKeyPath,{unique:!0}),a.createObjectStore(bS.store),bC(e),e.createObjectStore(SS.store));var a,s=LS.resolve();return n<3&&3<=r&&(0!==n&&((a=e).deleteObjectStore(IS.store),a.deleteObjectStore(CS.store),a.deleteObjectStore(kS.store),bC(e)),s=s.next((function(){return e=o.store(kS.store),t=new kS(0,0,Ib.min().toTimestamp(),0),e.put(kS.key,t);var e,t}))),n<4&&4<=r&&(s=(s=0!==n?s.next((function(){return t=e,(n=o).store(mS.store).Nt().next((function(e){t.deleteObjectStore(mS.store),t.createObjectStore(mS.store,{keyPath:mS.keyPath,autoIncrement:!0}).createIndex(mS.userMutationsIndex,mS.userMutationsKeyPath,{unique:!0});var r=n.store(mS.store);return e=e.map((function(e){return r.put(e)})),LS.waitFor(e)}));var t,n})):s).next((function(){e.createObjectStore(xS.store,{keyPath:xS.keyPath})}))),n<5&&5<=r&&(s=s.next((function(){return i.Re(o)}))),n<6&&6<=r&&(s=s.next((function(){return e.createObjectStore(TS.store),i.be(o)}))),n<7&&7<=r&&(s=s.next((function(){return i.ve(o)}))),n<8&&8<=r&&(s=s.next((function(){return i.Pe(e,o)}))),n<9&&9<=r&&(s=s.next((function(){var n;(n=e).objectStoreNames.contains("remoteDocumentChanges")&&n.deleteObjectStore("remoteDocumentChanges"),(n=t.objectStore(SS.store)).createIndex(SS.readTimeIndex,SS.readTimeIndexPath,{unique:!1}),n.createIndex(SS.collectionReadTimeIndex,SS.collectionReadTimeIndexPath,{unique:!1})}))),n<10&&10<=r&&(s=s.next((function(){return i.Ve(o)}))),n<11&&11<=r?s.next((function(){e.createObjectStore(PS.store,{keyPath:PS.keyPath}),e.createObjectStore(NS.store,{keyPath:NS.keyPath})})):s},mC.prototype.be=function(e){var t=0;return e.store(SS.store).$t((function(e,n){t+=jT(n)})).next((function(){var n=new TS(t);return e.store(TS.store).put(TS.key,n)}))},mC.prototype.Re=function(e){var t=this,n=e.store(yS.store),r=e.store(mS.store);return n.Nt().next((function(n){return LS.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.Nt(mS.userMutationsIndex,i).next((function(r){return LS.forEach(r,(function(r){return bb(r.userId===n.userId),r=gT(t.R,r),DT(e,n.userId,r).next((function(){}))}))}))}))}))},mC.prototype.ve=function(e){var t=e.store(IS.store),n=e.store(SS.store);return e.store(kS.store).get(kS.key).next((function(e){var r=[];return n.$t((function(n,i){var o=new Db(n);n=[0,fS(o)],r.push(t.get(n).next((function(n){return n?LS.resolve():t.put(new IS(0,fS(o),e.highestListenSequenceNumber))})))})).next((function(){return LS.waitFor(r)}))}))},mC.prototype.Pe=function(e,t){function n(e){if(i.add(e)){var t=e.lastSegment();return e=e.popLast(),r.put({collectionId:t,parent:fS(e)})}}e.createObjectStore(OS.store,{keyPath:OS.keyPath});var r=t.store(OS.store),i=new CT;return t.store(SS.store).$t({Ft:!0},(function(e,t){return n((e=new Db(e)).popLast())})).next((function(){return t.store(bS.store).$t({Ft:!0},(function(e,t){e[0];var r=e[1];return e[2],n((r=pS(r)).popLast())}))}))},mC.prototype.Ve=function(e){var t=this,n=e.store(CS.store);return n.$t((function(e,r){return r=yT(r),r=mT(t.R,r),n.put(r)}))},mC);function mC(e){this.R=e}function bC(e){e.createObjectStore(IS.store,{keyPath:IS.keyPath}).createIndex(IS.documentTargetsIndex,IS.documentTargetsKeyPath,{unique:!0}),e.createObjectStore(CS.store,{keyPath:CS.keyPath}).createIndex(CS.queryTargetsIndexName,CS.queryTargetsKeyPath,{unique:!0}),e.createObjectStore(kS.store)}var _C="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",wC=(EC.prototype.start=function(){var e=this;return this.je().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new lb(cb.FAILED_PRECONDITION,_C);return e.We(),e.Ge(),e.ze(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.qe.getHighestSequenceNumber(t)}))})).then((function(t){e.Ne=new ab(t,e.De)})).then((function(){e.xe=!0})).catch((function(t){return e.Be&&e.Be.close(),Promise.reject(t)}))},EC.prototype.He=function(e){var t=this;return this.Me=function(n){return Xi(t,void 0,void 0,(function(){return Ji(this,(function(t){return this.started?[2,e(n)]:[2]}))}))},e(this.isPrimary)},EC.prototype.setDatabaseDeletedListener=function(e){var t=this;this.Be.vt((function(n){return Xi(t,void 0,void 0,(function(){return Ji(this,(function(t){switch(t.label){case 0:return null===n.newVersion?[4,e()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))}))},EC.prototype.setNetworkEnabled=function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Se.enqueueAndForget((function(){return Xi(t,void 0,void 0,(function(){return Ji(this,(function(e){switch(e.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))})))},EC.prototype.je=function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return TC(t).put(new xS(e.clientId,Date.now(),e.networkEnabled,e.inForeground)).next((function(){if(e.isPrimary)return e.Je(t).next((function(t){t||(e.isPrimary=!1,e.Se.enqueueRetryable((function(){return e.Me(!1)})))}))})).next((function(){return e.Ye(t)})).next((function(n){return e.isPrimary&&!n?e.Xe(t).next((function(){return!1})):!!n&&e.Ze(t).next((function(){return!0}))}))})).catch((function(t){if(GS(t))return pb("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return pb("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.Se.enqueueRetryable((function(){return e.Me(t)})),e.isPrimary=t}))},EC.prototype.Je=function(e){var t=this;return SC(e).get(vS.key).next((function(e){return LS.resolve(t.tn(e))}))},EC.prototype.en=function(e){return TC(e).delete(this.clientId)},EC.prototype.nn=function(){return Xi(this,void 0,void 0,(function(){var e,t,n,r,i=this;return Ji(this,(function(o){switch(o.label){case 0:return!this.isPrimary||this.sn(this.Oe,18e5)?[3,2]:(this.Oe=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=nT(e,xS.store);return t.Nt().next((function(e){var n=i.rn(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return LS.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}))]);case 1:if(e=o.sent(),this.Qe)for(t=0,n=e;t<n.length;t++)r=n[t],this.Qe.removeItem(this.on(r.clientId));o.label=2;case 2:return[2]}}))}))},EC.prototype.ze=function(){var e=this;this.$e=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.je().then((function(){return e.nn()})).then((function(){return e.ze()}))}))},EC.prototype.tn=function(e){return!!e&&e.ownerId===this.clientId},EC.prototype.Ye=function(e){var t=this;return this.Ce?LS.resolve(!0):SC(e).get(vS.key).next((function(n){if(null!==n&&t.sn(n.leaseTimestampMs,5e3)&&!t.cn(n.ownerId)){if(t.tn(n)&&t.networkEnabled)return!0;if(!t.tn(n)){if(!n.allowTabSynchronization)throw new lb(cb.FAILED_PRECONDITION,_C);return!1}}return!(!t.networkEnabled||!t.inForeground)||TC(e).Nt().next((function(e){return void 0===t.rn(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground;if(e=t.networkEnabled===e.networkEnabled,n||r&&e)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&pb("IndexedDbPersistence","Client "+(e?"is":"is not")+" eligible for a primary lease."),e}))},EC.prototype.shutdown=function(){return Xi(this,void 0,void 0,(function(){var e=this;return Ji(this,(function(t){switch(t.label){case 0:return this.xe=!1,this.un(),this.$e&&(this.$e.cancel(),this.$e=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[vS.store,xS.store],(function(t){var n=new eT(t,ab.o);return e.Xe(n).next((function(){return e.en(n)}))}))];case 1:return t.sent(),this.Be.close(),this.ln(),[2]}}))}))},EC.prototype.rn=function(e,t){var n=this;return e.filter((function(e){return n.sn(e.updateTimeMs,t)&&!n.cn(e.clientId)}))},EC.prototype.fn=function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return TC(t).Nt().next((function(t){return e.rn(t,18e5).map((function(e){return e.clientId}))}))}))},Object.defineProperty(EC.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),EC.prototype.getMutationQueue=function(e){return LT.Qt(e,this.R,this.Ut,this.referenceDelegate)},EC.prototype.getTargetCache=function(){return this.qe},EC.prototype.getRemoteDocumentCache=function(){return this.Ue},EC.prototype.getIndexManager=function(){return this.Ut},EC.prototype.getBundleCache=function(){return this.Ke},EC.prototype.runTransaction=function(e,t,n){var r,i=this;return pb("IndexedDbPersistence","Starting transaction:",e),this.Be.runTransaction(e,"readonly"===t?"readonly":"readwrite",RS,(function(o){return r=new eT(o,i.Ne?i.Ne.next():ab.o),"readwrite-primary"===t?i.Je(r).next((function(e){return!!e||i.Ye(r)})).next((function(t){if(!t)throw vb("Failed to obtain primary lease for action '"+e+"'."),i.isPrimary=!1,i.Se.enqueueRetryable((function(){return i.Me(!1)})),new lb(cb.FAILED_PRECONDITION,DS);return n(r)})).next((function(e){return i.Ze(r).next((function(){return e}))})):i.dn(r).next((function(){return n(r)}))})).then((function(e){return r.raiseOnCommittedEvent(),e}))},EC.prototype.dn=function(e){var t=this;return SC(e).get(vS.key).next((function(e){if(null!==e&&t.sn(e.leaseTimestampMs,5e3)&&!t.cn(e.ownerId)&&!t.tn(e)&&!(t.Ce||t.allowTabSynchronization&&e.allowTabSynchronization))throw new lb(cb.FAILED_PRECONDITION,_C)}))},EC.prototype.Ze=function(e){var t=new vS(this.clientId,this.allowTabSynchronization,Date.now());return SC(e).put(vS.key,t)},EC.yt=function(){return FS.yt()},EC.prototype.Xe=function(e){var t=this,n=SC(e);return n.get(vS.key).next((function(e){return t.tn(e)?(pb("IndexedDbPersistence","Releasing primary lease."),n.delete(vS.key)):LS.resolve()}))},EC.prototype.sn=function(e,t){var n=Date.now();return!(e<n-t||n<e&&(vb("Detected an update time that is in the future: "+e+" > "+n),1))},EC.prototype.We=function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Fe=function(){e.Se.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.je()}))},this.document.addEventListener("visibilitychange",this.Fe),this.inForeground="visible"===this.document.visibilityState)},EC.prototype.an=function(){this.Fe&&(this.document.removeEventListener("visibilitychange",this.Fe),this.Fe=null)},EC.prototype.Ge=function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ke=function(){t.un(),!mo()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")&&navigator.appVersion.match("Version/14")&&t.Se.enterRestrictedMode(!0),t.Se.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("pagehide",this.ke))},EC.prototype.hn=function(){this.ke&&(this.window.removeEventListener("pagehide",this.ke),this.ke=null)},EC.prototype.cn=function(e){var t;try{var n=null!==(null===(t=this.Qe)||void 0===t?void 0:t.getItem(this.on(e)));return pb("IndexedDbPersistence","Client '"+e+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(e){return vb("IndexedDbPersistence","Failed to get zombied client id.",e),!1}},EC.prototype.un=function(){if(this.Qe)try{this.Qe.setItem(this.on(this.clientId),String(Date.now()))}catch(e){vb("Failed to set zombie client id.",e)}},EC.prototype.ln=function(){if(this.Qe)try{this.Qe.removeItem(this.on(this.clientId))}catch(e){}},EC.prototype.on=function(e){return"firestore_zombie_"+this.persistenceKey+"_"+e},EC);function EC(e,t,n,r,i,o,a,s,u,c){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=n,this.Se=i,this.window=o,this.document=a,this.De=u,this.Ce=c,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ke=null,this.inForeground=!1,this.Fe=null,this.$e=null,this.Oe=Number.NEGATIVE_INFINITY,this.Me=function(e){return Promise.resolve()},!EC.yt())throw new lb(cb.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new eC(this,r),this.Le=t+"main",this.R=new aT(s),this.Be=new FS(this.Le,11,new yC(this.R)),this.qe=new WT(this.referenceDelegate,this.R),this.Ut=new IT,this.Ue=(t=this.R,s=this.Ut,new uC(t,s)),this.Ke=new _T,this.window&&this.window.localStorage?this.Qe=this.window.localStorage:(this.Qe=null,!1===c&&vb("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}function SC(e){return nT(e,vS.store)}function TC(e){return nT(e,xS.store)}function CC(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}function IC(e,t){this.progress=e,this.wn=t}var kC=(DC.prototype.mn=function(e,t){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKey(e,t).next((function(r){return n.yn(e,t,r)}))},DC.prototype.yn=function(e,t,n){return this.Ue.getEntry(e,t).next((function(e){for(var t=0,r=n;t<r.length;t++)r[t].applyToLocalView(e);return e}))},DC.prototype.gn=function(e,t){e.forEach((function(e,n){for(var r=0,i=t;r<i.length;r++)i[r].applyToLocalView(n)}))},DC.prototype.pn=function(e,t){var n=this;return this.Ue.getEntries(e,t).next((function(t){return n.En(e,t).next((function(){return t}))}))},DC.prototype.En=function(e,t){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){return n.gn(t,e)}))},DC.prototype.getDocumentsMatchingQuery=function(e,t,n){return r=t,Zb.isDocumentKey(r.path)&&null===r.collectionGroup&&0===r.filters.length?this.Tn(e,t.path):aw(t)?this.In(e,t,n):this.An(e,t,n);var r},DC.prototype.Tn=function(e,t){return this.mn(e,new Zb(t)).next((function(e){var t=_E;return e.isFoundDocument()?t.insert(e.key,e):t}))},DC.prototype.In=function(e,t,n){var r=this,i=t.collectionGroup,o=_E;return this.Ut.getCollectionParents(e,i).next((function(a){return LS.forEach(a,(function(a){var s=(s=t,a=a.child(i),new Z_(a,null,s.explicitOrderBy.slice(),s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt));return r.An(e,s,n).next((function(e){e.forEach((function(e,t){o=o.insert(e,t)}))}))})).next((function(){return o}))}))},DC.prototype.An=function(e,t,n){var r,i,o=this;return this.Ue.getDocumentsMatchingQuery(e,t,n).next((function(n){return r=n,o._n.getAllMutationBatchesAffectingQuery(e,t)})).next((function(t){return i=t,o.Rn(e,i,r).next((function(e){r=e;for(var t=0,n=i;t<n.length;t++)for(var o=n[t],a=0,s=o.mutations;a<s.length;a++){var u=s[a],c=u.key,l=r.get(c);null==l&&(l=g_.newInvalidDocument(c),r=r.insert(c,l)),qw(u,l,o.localWriteTime),l.isFoundDocument()||(r=r.remove(c))}}))})).next((function(){return r.forEach((function(e,n){dw(t,n)||(r=r.remove(e))})),r}))},DC.prototype.Rn=function(e,t,n){for(var r=SE(),i=0,o=t;i<o.length;i++)for(var a=0,s=o[i].mutations;a<s.length;a++){var u=s[a];u instanceof Kw&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.Ue.getEntries(e,r).next((function(e){return e.forEach((function(e,t){t.isFoundDocument()&&(c=c.insert(e,t))})),c}))},DC),OC=(RC.Pn=function(e,t){for(var n=SE(),r=SE(),i=0,o=t.docChanges;i<o.length;i++){var a=o[i];switch(a.type){case 0:n=n.add(a.doc.key);break;case 1:r=r.add(a.doc.key)}}return new RC(e,t.fromCache,n,r)},RC),xC=(AC.prototype.Vn=function(e){this.Sn=e},AC.prototype.getDocumentsMatchingQuery=function(e,t,n,r){var i=this;return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())||n.isEqual(Ib.min())?this.Dn(e,t):this.Sn.pn(e,r).next((function(o){var a=i.Cn(t,o);return(nw(t)||rw(t))&&i.Nn(t.limitType,a,r,n)?i.Dn(e,t):(db()<=la.DEBUG&&pb("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),fw(t)),i.Sn.getDocumentsMatchingQuery(e,t,n).next((function(e){return a.forEach((function(t){e=e.insert(t.key,t)})),e})))}))},AC.prototype.Cn=function(e,t){var n=new vE(pw(e));return t.forEach((function(t,r){dw(e,r)&&(n=n.add(r))})),n},AC.prototype.Nn=function(e,t,n,r){return n.size!==t.size||!!(t="F"===e?t.last():t.first())&&(t.hasPendingWrites||0<t.version.compareTo(r))},AC.prototype.Dn=function(e,t){return db()<=la.DEBUG&&pb("QueryEngine","Using full collection scan to execute query:",fw(t)),this.Sn.getDocumentsMatchingQuery(e,t,Ib.min())},AC),PC=(NC.prototype.collectGarbage=function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.kn)}))},NC);function NC(e,t,n,r){this.persistence=e,this.xn=t,this.R=r,this.kn=new uE(Eb),this.Fn=new sC(__,w_),this.$n=Ib.min(),this._n=e.getMutationQueue(n),this.On=e.getRemoteDocumentCache(),this.qe=e.getTargetCache(),this.Mn=new kC(this.On,this._n,this.persistence.getIndexManager()),this.Ke=e.getBundleCache(),this.xn.Vn(this.Mn)}function AC(){}function RC(e,t,n,r){this.targetId=e,this.fromCache=t,this.bn=n,this.vn=r}function DC(e,t,n){this.Ue=e,this._n=t,this.Ut=n}function jC(e,t,n,r){return new PC(e,t,n,r)}function LC(e,t){return Xi(this,void 0,void 0,(function(){var n,r,i,o;return Ji(this,(function(a){switch(a.label){case 0:return r=(n=e)._n,i=n.Mn,[4,n.persistence.runTransaction("Handle user change","readonly",(function(e){var o;return n._n.getAllMutationBatches(e).next((function(a){return o=a,r=n.persistence.getMutationQueue(t),i=new kC(n.On,r,n.persistence.getIndexManager()),r.getAllMutationBatches(e)})).next((function(t){for(var n=[],r=[],a=SE(),s=0,u=o;s<u.length;s++){var c=u[s];n.push(c.batchId);for(var l=0,h=c.mutations;l<h.length;l++){var f=h[l];a=a.add(f.key)}}for(var d=0,p=t;d<p.length;d++){var v=p[d];r.push(v.batchId);for(var g=0,y=v.mutations;g<y.length;g++){var m=y[g];a=a.add(m.key)}}return i.pn(e,a).next((function(e){return{Ln:e,removedBatchIds:n,addedBatchIds:r}}))}))}))];case 1:return o=a.sent(),[2,(n._n=r,n.Mn=i,n.xn.Vn(n.Mn),o)]}}))}))}function MC(e,t){var n=e;return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r,i,o,a,s,u,c,l=t.batch.keys(),h=n.On.newChangeBuffer({trackRemovals:!0});return r=n,i=e,a=h,u=(s=(o=t).batch).keys(),c=LS.resolve(),u.forEach((function(e){c=c.next((function(){return a.getEntry(i,e)})).next((function(t){var n=o.docVersions.get(e);bb(null!==n),t.version.compareTo(n)<0&&(s.applyToRemoteDocument(t,o),t.isValidDocument()&&a.addEntry(t,o.commitVersion))}))})),c.next((function(){return r._n.removeMutationBatch(i,s)})).next((function(){return h.apply(e)})).next((function(){return n._n.performConsistencyCheck(e)})).next((function(){return n.Mn.pn(e,l)}))}))}function FC(e){var t=e;return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.qe.getLastRemoteSnapshotVersion(e)}))}function UC(e,t){var n=e,r=t.snapshotVersion,i=n.kn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var o=n.On.newChangeBuffer({trackRemovals:!0});i=n.kn;var a=[];t.targetChanges.forEach((function(t,o){var s,u,c,l=i.get(o);l&&(a.push(n.qe.removeMatchingKeys(e,t.removedDocuments,o).next((function(){return n.qe.addMatchingKeys(e,t.addedDocuments,o)}))),0<(c=t.resumeToken).approximateByteSize()&&(s=l.withResumeToken(c,r).withSequenceNumber(e.currentSequenceNumber),i=i.insert(o,s),u=l,c=t,bb(0<(l=s).resumeToken.approximateByteSize()),(0===u.resumeToken.approximateByteSize()||3e8<=l.snapshotVersion.toMicroseconds()-u.snapshotVersion.toMicroseconds()||0<c.addedDocuments.size+c.modifiedDocuments.size+c.removedDocuments.size)&&a.push(n.qe.updateTargetData(e,s))))}));var s,u=yE;return t.documentUpdates.forEach((function(r,i){t.resolvedLimboDocuments.has(r)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),a.push(qC(e,o,t.documentUpdates,r,void 0).next((function(e){u=e}))),r.isEqual(Ib.min())||(s=n.qe.getLastRemoteSnapshotVersion(e).next((function(t){return n.qe.setTargetsMetadata(e,e.currentSequenceNumber,r)})),a.push(s)),LS.waitFor(a).next((function(){return o.apply(e)})).next((function(){return n.Mn.En(e,u)})).next((function(){return u}))})).then((function(e){return n.kn=i,e}))}function qC(e,t,n,r,i){var o=SE();return n.forEach((function(e){return o=o.add(e)})),t.getEntries(e,o).next((function(e){var o=yE;return n.forEach((function(n,a){var s=e.get(n),u=(null==i?void 0:i.get(n))||r;a.isNoDocument()&&a.version.isEqual(Ib.min())?(t.removeEntry(n,u),o=o.insert(n,a)):!s.isValidDocument()||0<a.version.compareTo(s.version)||0===a.version.compareTo(s.version)&&s.hasPendingWrites?(t.addEntry(a,u),o=o.insert(n,a)):pb("LocalStore","Ignoring outdated watch update for ",n,". Current version:",s.version," Watch version:",a.version)})),o}))}function BC(e,t){var n=e;return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.qe.getTargetData(e,t).next((function(i){return i?(r=i,LS.resolve(r)):n.qe.allocateTargetId(e).next((function(i){return r=new oT(t,i,0,e.currentSequenceNumber),n.qe.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.kn.get(e.targetId);return(null===r||0<e.snapshotVersion.compareTo(r.snapshotVersion))&&(n.kn=n.kn.insert(e.targetId,e),n.Fn.set(t,e.targetId)),e}))}function VC(e,t,n){return Xi(this,void 0,void 0,(function(){var r,i,o;return Ji(this,(function(a){switch(a.label){case 0:i=(r=e).kn.get(t),o=n?"readwrite":"readwrite-primary",a.label=1;case 1:return a.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",o,(function(e){return r.persistence.referenceDelegate.removeTarget(e,i)}))];case 2:a.sent(),a.label=3;case 3:return[3,5];case 4:if(!GS(o=a.sent()))throw o;return pb("LocalStore","Failed to update sequence numbers for target "+t+": "+o),[3,5];case 5:return r.kn=r.kn.remove(t),r.Fn.delete(i.target),[2]}}))}))}function WC(e,t,n){var r=e,i=Ib.min(),o=SE();return r.persistence.runTransaction("Execute query","readonly",(function(e){return a=r,s=e,u=uw(t),(void 0!==(a=(c=a).Fn.get(u))?LS.resolve(c.kn.get(a)):c.qe.getTargetData(s,u)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.qe.getMatchingKeysForTargetId(e,t.targetId).next((function(e){o=e}))})).next((function(){return r.xn.getDocumentsMatchingQuery(e,t,n?i:Ib.min(),n?o:SE())})).next((function(e){return{documents:e,Bn:o}}));var a,s,u,c}))}function zC(e,t){var n=e,r=n.qe;return(e=n.kn.get(t))?Promise.resolve(e.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.lt(e,t).next((function(e){return e?e.target:null}))}))}function HC(e){var t=e;return t.persistence.runTransaction("Get new document changes","readonly",(function(e){return n=t.On,r=e,e=t.$n,i=n,o=yE,a=fT(e),e=vC(r),r=IDBKeyRange.lowerBound(a,!0),e.$t({index:SS.readTimeIndex,range:r},(function(e,t){var n=lT(i.R,t);o=o.insert(n.key,n),a=t.readTime})).next((function(){return{wn:o,readTime:dT(a)}}));var n,r,i,o,a})).then((function(e){var n=e.wn;return e=e.readTime,t.$n=e,n}))}function KC(e){return Xi(this,void 0,void 0,(function(){var t;return Ji(this,(function(n){return[2,(t=e).persistence.runTransaction("Synchronize last document change read time","readonly",(function(e){return e=vC(e),t=Ib.min(),e.$t({index:SS.readTimeIndex,reverse:!0},(function(e,n,r){n.readTime&&(t=dT(n.readTime)),r.done()})).next((function(){return t}));var t})).then((function(e){t.$n=e}))]}))}))}var GC,QC,$C=(gI.prototype.getBundleMetadata=function(e,t){return LS.resolve(this.Qn.get(t))},gI.prototype.saveBundleMetadata=function(e,t){return this.Qn.set(t.id,{id:t.id,version:t.version,createTime:WE(t.createTime)}),LS.resolve()},gI.prototype.getNamedQuery=function(e,t){return LS.resolve(this.jn.get(t))},gI.prototype.saveNamedQuery=function(e,t){return this.jn.set(t.name,{name:t.name,query:bT(t.bundledQuery),readTime:WE(t.readTime)}),LS.resolve()},gI),YC=(vI.prototype.isEmpty=function(){return this.Wn.isEmpty()},vI.prototype.addReference=function(e,t){t=new XC(e,t),this.Wn=this.Wn.add(t),this.zn=this.zn.add(t)},vI.prototype.Jn=function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))},vI.prototype.removeReference=function(e,t){this.Yn(new XC(e,t))},vI.prototype.Xn=function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))},vI.prototype.Zn=function(e){var t=this,n=new Zb(new Db([])),r=new XC(n,e),i=(e=new XC(n,e+1),[]);return this.zn.forEachInRange([r,e],(function(e){t.Yn(e),i.push(e.key)})),i},vI.prototype.ts=function(){var e=this;this.Wn.forEach((function(t){return e.Yn(t)}))},vI.prototype.Yn=function(e){this.Wn=this.Wn.delete(e),this.zn=this.zn.delete(e)},vI.prototype.es=function(e){var t=new Zb(new Db([])),n=new XC(t,e),r=(e=new XC(t,e+1),SE());return this.zn.forEachInRange([n,e],(function(e){r=r.add(e.key)})),r},vI.prototype.containsKey=function(e){var t=new XC(e,0);return null!==(t=this.Wn.firstAfterOrEqual(t))&&e.isEqual(t.key)},vI),XC=(pI.Gn=function(e,t){return Zb.comparator(e.key,t.key)||Eb(e.ns,t.ns)},pI.Hn=function(e,t){return Eb(e.ns,t.ns)||Zb.comparator(e.key,t.key)},pI),JC=(dI.prototype.checkEmpty=function(e){return LS.resolve(0===this._n.length)},dI.prototype.addMutationBatch=function(e,t,n,r){var i=this.ss;this.ss++,0<this._n.length&&this._n[this._n.length-1],n=new rT(i,t,n,r),this._n.push(n);for(var o=0,a=r;o<a.length;o++){var s=a[o];this.rs=this.rs.add(new XC(s.key,i)),this.Ut.addToCollectionParentIndex(e,s.key.path.popLast())}return LS.resolve(n)},dI.prototype.lookupMutationBatch=function(e,t){return LS.resolve(this.os(t))},dI.prototype.getNextMutationBatchAfterBatchId=function(e,t){return t=(t=this.cs(t+1))<0?0:t,LS.resolve(this._n.length>t?this._n[t]:null)},dI.prototype.getHighestUnacknowledgedBatchId=function(){return LS.resolve(0===this._n.length?-1:this.ss-1)},dI.prototype.getAllMutationBatches=function(e){return LS.resolve(this._n.slice())},dI.prototype.getAllMutationBatchesAffectingDocumentKey=function(e,t){var n=this,r=new XC(t,0),i=(t=new XC(t,Number.POSITIVE_INFINITY),[]);return this.rs.forEachInRange([r,t],(function(e){e=n.os(e.ns),i.push(e)})),LS.resolve(i)},dI.prototype.getAllMutationBatchesAffectingDocumentKeys=function(e,t){var n=this,r=new vE(Eb);return t.forEach((function(e){var t=new XC(e,0);e=new XC(e,Number.POSITIVE_INFINITY),n.rs.forEachInRange([t,e],(function(e){r=r.add(e.ns)}))})),LS.resolve(this.us(r))},dI.prototype.getAllMutationBatchesAffectingQuery=function(e,t){var n=t.path,r=n.length+1;t=n,Zb.isDocumentKey(t)||(t=t.child("")),t=new XC(new Zb(t),0);var i=new vE(Eb);return this.rs.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(i=i.add(e.ns)),!0)}),t),LS.resolve(this.us(i))},dI.prototype.us=function(e){var t=this,n=[];return e.forEach((function(e){null!==(e=t.os(e))&&n.push(e)})),n},dI.prototype.removeMutationBatch=function(e,t){var n=this;bb(0===this.hs(t.batchId,"removed")),this._n.shift();var r=this.rs;return LS.forEach(t.mutations,(function(i){var o=new XC(i.key,t.batchId);return r=r.delete(o),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.rs=r}))},dI.prototype.Gt=function(e){},dI.prototype.containsKey=function(e,t){var n=new XC(t,0);return n=this.rs.firstAfterOrEqual(n),LS.resolve(t.isEqual(n&&n.key))},dI.prototype.performConsistencyCheck=function(e){return this._n.length,LS.resolve()},dI.prototype.hs=function(e,t){return this.cs(e)},dI.prototype.cs=function(e){return 0===this._n.length?0:e-this._n[0].batchId},dI.prototype.os=function(e){return(e=this.cs(e))<0||e>=this._n.length?null:this._n[e]},dI),ZC=(fI.prototype.addEntry=function(e,t,n){var r=t.key,i=(o=this.docs.get(r))?o.size:0,o=this.ls(t);return this.docs=this.docs.insert(r,{document:t.clone(),size:o,readTime:n}),this.size+=o-i,this.Ut.addToCollectionParentIndex(e,r.path.popLast())},fI.prototype.removeEntry=function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)},fI.prototype.getEntry=function(e,t){var n=this.docs.get(t);return LS.resolve(n?n.document.clone():g_.newInvalidDocument(t))},fI.prototype.getEntries=function(e,t){var n=this,r=yE;return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.clone():g_.newInvalidDocument(e))})),LS.resolve(r)},fI.prototype.getDocumentsMatchingQuery=function(e,t,n){for(var r=yE,i=new Zb(t.path.child("")),o=this.docs.getIteratorFrom(i);o.hasNext();){var a=(s=o.getNext()).key,s=(u=s.value).document,u=u.readTime;if(!t.path.isPrefixOf(a.path))break;u.compareTo(n)<=0||dw(t,s)&&(r=r.insert(s.key,s.clone()))}return LS.resolve(r)},fI.prototype.fs=function(e,t){return LS.forEach(this.docs,(function(e){return t(e)}))},fI.prototype.newChangeBuffer=function(e){return new eI(this)},fI.prototype.getSize=function(e){return LS.resolve(this.size)},fI),eI=($i(hI,QC=Q),hI.prototype.applyChanges=function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.document.isValidDocument()?n.push(t.Ie.addEntry(e,i.document,t.getReadTime(r))):t.Ie.removeEntry(r)})),LS.waitFor(n)},hI.prototype.getFromCache=function(e,t){return this.Ie.getEntry(e,t)},hI.prototype.getAllFromCache=function(e,t){return this.Ie.getEntries(e,t)},hI),tI=(lI.prototype.forEachTarget=function(e,t){return this.ds.forEach((function(e,n){return t(n)})),LS.resolve()},lI.prototype.getLastRemoteSnapshotVersion=function(e){return LS.resolve(this.lastRemoteSnapshotVersion)},lI.prototype.getHighestSequenceNumber=function(e){return LS.resolve(this.ws)},lI.prototype.allocateTargetId=function(e){return this.highestTargetId=this.ys.next(),LS.resolve(this.highestTargetId)},lI.prototype.setTargetsMetadata=function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.ws&&(this.ws=t),LS.resolve()},lI.prototype.te=function(e){this.ds.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.ys=new VT(t),this.highestTargetId=t),e.sequenceNumber>this.ws&&(this.ws=e.sequenceNumber)},lI.prototype.addTargetData=function(e,t){return this.te(t),this.targetCount+=1,LS.resolve()},lI.prototype.updateTargetData=function(e,t){return this.te(t),LS.resolve()},lI.prototype.removeTargetData=function(e,t){return this.ds.delete(t.target),this._s.Zn(t.targetId),--this.targetCount,LS.resolve()},lI.prototype.removeTargets=function(e,t,n){var r=this,i=0,o=[];return this.ds.forEach((function(a,s){s.sequenceNumber<=t&&null===n.get(s.targetId)&&(r.ds.delete(a),o.push(r.removeMatchingKeysForTargetId(e,s.targetId)),i++)})),LS.waitFor(o).next((function(){return i}))},lI.prototype.getTargetCount=function(e){return LS.resolve(this.targetCount)},lI.prototype.getTargetData=function(e,t){return t=this.ds.get(t)||null,LS.resolve(t)},lI.prototype.addMatchingKeys=function(e,t,n){return this._s.Jn(t,n),LS.resolve()},lI.prototype.removeMatchingKeys=function(e,t,n){this._s.Xn(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),LS.waitFor(i)},lI.prototype.removeMatchingKeysForTargetId=function(e,t){return this._s.Zn(t),LS.resolve()},lI.prototype.getMatchingKeysForTargetId=function(e,t){return t=this._s.es(t),LS.resolve(t)},lI.prototype.containsKey=function(e,t){return LS.resolve(this._s.containsKey(t))},lI),nI=(cI.prototype.start=function(){return Promise.resolve()},cI.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(cI.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),cI.prototype.setDatabaseDeletedListener=function(){},cI.prototype.setNetworkEnabled=function(){},cI.prototype.getIndexManager=function(){return this.Ut},cI.prototype.getMutationQueue=function(e){var t=this.gs[e.toKey()];return t||(t=new JC(this.Ut,this.referenceDelegate),this.gs[e.toKey()]=t),t},cI.prototype.getTargetCache=function(){return this.qe},cI.prototype.getRemoteDocumentCache=function(){return this.Ue},cI.prototype.getBundleCache=function(){return this.Ke},cI.prototype.runTransaction=function(e,t,n){var r=this;pb("MemoryPersistence","Starting transaction:",e);var i=new rI(this.Ne.next());return this.referenceDelegate.Es(),n(i).next((function(e){return r.referenceDelegate.Ts(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))},cI.prototype.Is=function(e,t){return LS.or(Object.values(this.gs).map((function(n){return function(){return n.containsKey(e,t)}})))},cI),rI=($i(uI,GC=G),uI),iI=(sI.bs=function(e){return new sI(e)},Object.defineProperty(sI.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw mb()},enumerable:!1,configurable:!0}),sI.prototype.addReference=function(e,t,n){return this.As.addReference(n,t),this.vs.delete(n.toString()),LS.resolve()},sI.prototype.removeReference=function(e,t,n){return this.As.removeReference(n,t),this.vs.add(n.toString()),LS.resolve()},sI.prototype.markPotentiallyOrphaned=function(e,t){return this.vs.add(t.toString()),LS.resolve()},sI.prototype.removeTarget=function(e,t){var n=this;this.As.Zn(t.targetId).forEach((function(e){return n.vs.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.vs.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))},sI.prototype.Es=function(){this.Rs=new Set},sI.prototype.Ts=function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return LS.forEach(this.vs,(function(r){var i=Zb.fromPath(r);return t.Ps(e,i).next((function(e){e||n.removeEntry(i)}))})).next((function(){return t.Rs=null,n.apply(e)}))},sI.prototype.updateLimboDocument=function(e,t){var n=this;return this.Ps(e,t).next((function(e){e?n.vs.delete(t.toString()):n.vs.add(t.toString())}))},sI.prototype.ps=function(e){return 0},sI.prototype.Ps=function(e,t){var n=this;return LS.or([function(){return LS.resolve(n.As.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Is(e,t)}])},sI),oI=(aI.prototype.isAuthenticated=function(){return null!=this.uid},aI.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},aI.prototype.isEqual=function(e){return e.uid===this.uid},aI);function aI(e){this.uid=e}function sI(e){this.persistence=e,this.As=new YC,this.Rs=null}function uI(e){var t=this;return(t=GC.call(this)||this).currentSequenceNumber=e,t}function cI(e,t){var n=this;this.gs={},this.Ne=new ab(0),this.xe=!1,this.xe=!0,this.referenceDelegate=e(this),this.qe=new tI(this),this.Ut=new TT,this.Ue=(e=this.Ut,new ZC(e,(function(e){return n.referenceDelegate.ps(e)}))),this.R=new aT(t),this.Ke=new $C(this.R)}function lI(e){this.persistence=e,this.ds=new sC(__,w_),this.lastRemoteSnapshotVersion=Ib.min(),this.highestTargetId=0,this.ws=0,this._s=new YC,this.targetCount=0,this.ys=VT.Jt()}function hI(e){var t=this;return(t=QC.call(this)||this).Ie=e,t}function fI(e,t){this.Ut=e,this.ls=t,this.docs=new uE(Zb.comparator),this.size=0}function dI(e,t){this.Ut=e,this.referenceDelegate=t,this._n=[],this.ss=1,this.rs=new vE(XC.Gn)}function pI(e,t){this.key=e,this.ns=t}function vI(){this.Wn=new vE(XC.Gn),this.zn=new vE(XC.Hn)}function gI(e){this.R=e,this.Qn=new Map,this.jn=new Map}function yI(e,t){return"firestore_clients_"+e+"_"+t}function mI(e,t,n){return n="firestore_mutations_"+e+"_"+n,t.isAuthenticated()&&(n+="_"+t.uid),n}function bI(e,t){return"firestore_targets_"+e+"_"+t}oI.UNAUTHENTICATED=new oI(null),oI.GOOGLE_CREDENTIALS=new oI("google-credentials-uid"),oI.FIRST_PARTY=new oI("first-party-uid"),oI.MOCK_USER=new oI("mock-user");var _I,wI=(zI.Vs=function(e,t,n){var r,i=JSON.parse(n),o="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new lb(i.error.code,i.error.message)),o?new zI(e,t,i.state,r):(vb("SharedClientState","Failed to parse mutation state for ID '"+t+"': "+n),null)},zI.prototype.Ss=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},zI),EI=(WI.Vs=function(e,t){var n,r=JSON.parse(t),i="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return i&&r.error&&(i="string"==typeof r.error.message&&"string"==typeof r.error.code)&&(n=new lb(r.error.code,r.error.message)),i?new WI(e,r.state,n):(vb("SharedClientState","Failed to parse target state for ID '"+e+"': "+t),null)},WI.prototype.Ss=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},WI),SI=(VI.Vs=function(e,t){for(var n=JSON.parse(t),r="object"==typeof n&&n.activeTargetIds instanceof Array,i=TE,o=0;r&&o<n.activeTargetIds.length;++o)r=Jb(n.activeTargetIds[o]),i=i.add(n.activeTargetIds[o]);return r?new VI(e,i):(vb("SharedClientState","Failed to parse client data for instance '"+e+"': "+t),null)},VI),TI=(BI.Vs=function(e){var t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new BI(t.clientId,t.onlineState):(vb("SharedClientState","Failed to parse online state: "+e),null)},BI),CI=(qI.prototype.Ds=function(e){this.activeTargetIds=this.activeTargetIds.add(e)},qI.prototype.Cs=function(e){this.activeTargetIds=this.activeTargetIds.delete(e)},qI.prototype.Ss=function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)},qI),II=(UI.yt=function(e){return!(!e||!e.localStorage)},UI.prototype.start=function(){return Xi(this,void 0,void 0,(function(){var e,t,n,r,i,o,a,s,u,c,l=this;return Ji(this,(function(h){switch(h.label){case 0:return[4,this.syncEngine.fn()];case 1:for(o=h.sent(),e=0,t=o;e<t.length;e++)(n=t[e])!==this.Ns&&(r=this.getItem(yI(this.persistenceKey,n)))&&(i=SI.Vs(n,r))&&(this.Fs=this.Fs.insert(i.clientId,i));for(this.Qs(),(o=this.storage.getItem(this.Us))&&(a=this.js(o))&&this.Ws(a),s=0,u=this.$s;s<u.length;s++)c=u[s],this.ks(c);return this.$s=[],this.window.addEventListener("pagehide",(function(){return l.shutdown()})),this.started=!0,[2]}}))}))},UI.prototype.writeSequenceNumber=function(e){this.setItem(this.Ms,JSON.stringify(e))},UI.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.Fs)},UI.prototype.isActiveQueryTarget=function(e){var t=!1;return this.Fs.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t},UI.prototype.addPendingMutation=function(e){this.zs(e,"pending")},UI.prototype.updateMutationState=function(e,t,n){this.zs(e,t,n),this.Hs(e)},UI.prototype.addLocalQueryTarget=function(e){var t,n="not-current";return this.isActiveQueryTarget(e)&&(!(t=this.storage.getItem(bI(this.persistenceKey,e)))||(t=EI.Vs(e,t))&&(n=t.state)),this.Js.Ds(e),this.Qs(),n},UI.prototype.removeLocalQueryTarget=function(e){this.Js.Cs(e),this.Qs()},UI.prototype.isLocalQueryTarget=function(e){return this.Js.activeTargetIds.has(e)},UI.prototype.clearQueryState=function(e){this.removeItem(bI(this.persistenceKey,e))},UI.prototype.updateQueryState=function(e,t,n){this.Ys(e,t,n)},UI.prototype.handleUserChange=function(e,t,n){var r=this;t.forEach((function(e){r.Hs(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))},UI.prototype.setOnlineState=function(e){this.Xs(e)},UI.prototype.notifyBundleLoaded=function(){this.Zs()},UI.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.Os),this.started=!1)},UI.prototype.getItem=function(e){var t=this.storage.getItem(e);return pb("SharedClientState","READ",e,t),t},UI.prototype.setItem=function(e,t){pb("SharedClientState","SET",e,t),this.storage.setItem(e,t)},UI.prototype.removeItem=function(e){pb("SharedClientState","REMOVE",e),this.storage.removeItem(e)},UI.prototype.ks=function(e){var t=this,n=e;n.storageArea===this.storage&&(pb("SharedClientState","EVENT",n.key,n.newValue),n.key!==this.Os?this.Se.enqueueRetryable((function(){return Xi(t,void 0,void 0,(function(){var e,t,r,i;return Ji(this,(function(o){if(this.started){if(null!==n.key)if(this.Ls.test(n.key)){if(null==n.newValue)return e=this.ti(n.key),[2,this.ei(e,null)];if(e=this.ni(n.key,n.newValue))return[2,this.ei(e.clientId,e)]}else if(this.Bs.test(n.key)){if(null!==n.newValue&&(t=this.si(n.key,n.newValue)))return[2,this.ii(t)]}else if(this.qs.test(n.key)){if(null!==n.newValue&&(r=this.ri(n.key,n.newValue)))return[2,this.oi(r)]}else if(n.key===this.Us){if(null!==n.newValue&&(i=this.js(n.newValue)))return[2,this.Ws(i)]}else if(n.key===this.Ms)(i=function(e){var t=ab.o;if(null!=e)try{var n=JSON.parse(e);bb("number"==typeof n),t=n}catch(e){vb("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue))!==ab.o&&this.sequenceNumberHandler(i);else if(n.key===this.Ks)return[2,this.syncEngine.ci()]}else this.$s.push(n);return[2]}))}))})):vb("Received WebStorage notification for local change. Another client might have garbage-collected our state"))},Object.defineProperty(UI.prototype,"Js",{get:function(){return this.Fs.get(this.Ns)},enumerable:!1,configurable:!0}),UI.prototype.Qs=function(){this.setItem(this.Os,this.Js.Ss())},UI.prototype.zs=function(e,t,n){n=new wI(this.currentUser,e,t,n),e=mI(this.persistenceKey,this.currentUser,e),this.setItem(e,n.Ss())},UI.prototype.Hs=function(e){e=mI(this.persistenceKey,this.currentUser,e),this.removeItem(e)},UI.prototype.Xs=function(e){e={clientId:this.Ns,onlineState:e},this.storage.setItem(this.Us,JSON.stringify(e))},UI.prototype.Ys=function(e,t,n){var r=bI(this.persistenceKey,e);n=new EI(e,t,n),this.setItem(r,n.Ss())},UI.prototype.Zs=function(){this.setItem(this.Ks,"value-not-used")},UI.prototype.ti=function(e){return(e=this.Ls.exec(e))?e[1]:null},UI.prototype.ni=function(e,t){return e=this.ti(e),SI.Vs(e,t)},UI.prototype.si=function(e,t){var n=this.Bs.exec(e);return e=Number(n[1]),n=void 0!==n[2]?n[2]:null,wI.Vs(new oI(n),e,t)},UI.prototype.ri=function(e,t){return e=this.qs.exec(e),e=Number(e[1]),EI.Vs(e,t)},UI.prototype.js=function(e){return TI.Vs(e)},UI.prototype.ii=function(e){return Xi(this,void 0,void 0,(function(){return Ji(this,(function(t){return e.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(e.batchId,e.state,e.error)]:(pb("SharedClientState","Ignoring mutation for non-active user "+e.user.uid),[2])}))}))},UI.prototype.oi=function(e){return this.syncEngine.ai(e.targetId,e.state,e.error)},UI.prototype.ei=function(e,t){var n=this,r=t?this.Fs.insert(e,t):this.Fs.remove(e),i=this.Gs(this.Fs),o=this.Gs(r),a=[],s=[];return o.forEach((function(e){i.has(e)||a.push(e)})),i.forEach((function(e){o.has(e)||s.push(e)})),this.syncEngine.hi(a,s).then((function(){n.Fs=r}))},UI.prototype.Ws=function(e){this.Fs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)},UI.prototype.Gs=function(e){var t=TE;return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t},UI),kI=(FI.prototype.addPendingMutation=function(e){},FI.prototype.updateMutationState=function(e,t,n){},FI.prototype.addLocalQueryTarget=function(e){return this.li.Ds(e),this.fi[e]||"not-current"},FI.prototype.updateQueryState=function(e,t,n){this.fi[e]=t},FI.prototype.removeLocalQueryTarget=function(e){this.li.Cs(e)},FI.prototype.isLocalQueryTarget=function(e){return this.li.activeTargetIds.has(e)},FI.prototype.clearQueryState=function(e){delete this.fi[e]},FI.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},FI.prototype.isActiveQueryTarget=function(e){return this.li.activeTargetIds.has(e)},FI.prototype.start=function(){return this.li=new CI,Promise.resolve()},FI.prototype.handleUserChange=function(e,t,n){},FI.prototype.setOnlineState=function(e){},FI.prototype.shutdown=function(){},FI.prototype.writeSequenceNumber=function(e){},FI.prototype.notifyBundleLoaded=function(){},FI),OI=(MI.prototype.di=function(e){},MI.prototype.shutdown=function(){},MI),xI=(LI.prototype.di=function(e){this.gi.push(e)},LI.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},LI.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},LI.prototype._i=function(){pb("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var e=0,t=this.gi;e<t.length;e++)(0,t[e])(0)},LI.prototype.yi=function(){pb("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var e=0,t=this.gi;e<t.length;e++)(0,t[e])(1)},LI.yt=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},LI),PI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},NI=(jI.prototype.Ii=function(e){this.Ai=e},jI.prototype.Ri=function(e){this.bi=e},jI.prototype.onMessage=function(e){this.vi=e},jI.prototype.close=function(){this.Ti()},jI.prototype.send=function(e){this.Ei(e)},jI.prototype.Pi=function(){this.Ai()},jI.prototype.Vi=function(e){this.bi(e)},jI.prototype.Si=function(e){this.vi(e)},jI),AI=(DI.prototype.Ni=function(e,t,n,r){var i=this.xi(e,t);return pb("RestConnection","Sending: ",i,n),t={},this.ki(t,r),this.Fi(e,i,t,n).then((function(e){return pb("RestConnection","Received: ",e),e}),(function(t){throw gb("RestConnection",e+" failed with error: ",t,"url: ",i,"request:",n),t}))},DI.prototype.$i=function(e,t,n,r){return this.Ni(e,t,n,r)},DI.prototype.ki=function(e,t){if(e["X-Goog-Api-Client"]="gl-js/ fire/8.10.1",e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t)for(var n in t.authHeaders)t.authHeaders.hasOwnProperty(n)&&(e[n]=t.authHeaders[n])},DI.prototype.xi=function(e,t){return this.Di+"/v1/"+t+":"+PI[e]},$i(RI,_I=DI),RI.prototype.Fi=function(e,t,n,r){return new Promise((function(i,o){var a=new ob;a.listenOnce(Zm.COMPLETE,(function(){try{switch(a.getLastErrorCode()){case Jm.NO_ERROR:var t=a.getResponseJson();pb("Connection","XHR received:",JSON.stringify(t)),i(t);break;case Jm.TIMEOUT:pb("Connection",'RPC "'+e+'" timed out'),o(new lb(cb.DEADLINE_EXCEEDED,"Request time out"));break;case Jm.HTTP_ERROR:var n,r,s=a.getStatus();pb("Connection",'RPC "'+e+'" failed with status:',s,"response text:",a.getResponseText()),0<s?(n=a.getResponseJson().error)&&n.status&&n.message?(u=n.status.toLowerCase().replace(/_/g,"-"),r=0<=Object.values(cb).indexOf(u)?u:cb.UNKNOWN,o(new lb(r,n.message))):o(new lb(cb.UNKNOWN,"Server responded with status "+a.getStatus())):o(new lb(cb.UNAVAILABLE,"Connection failed."));break;default:mb()}}finally{pb("Connection",'RPC "'+e+'" completed.')}var u}));var s=JSON.stringify(r);a.send(t,"POST",s,n,15)}))},RI.prototype.Oi=function(e,t){var n=[this.Di,"/","google.firestore.v1.Firestore","/",e,"/channel"],r=new Km,i=Xm();e={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},this.useFetchStreams&&(e.xmlHttpFactory=new rb({})),this.ki(e.initMessageHeaders,t),yo()||_o()||0<=go().indexOf("Electron/")||0<=(t=go()).indexOf("MSIE ")||0<=t.indexOf("Trident/")||0<=go().indexOf("MSAppHost/")||bo()||(e.httpHeadersOverwriteParam="$httpHeaders"),pb("Connection","Creating WebChannel: "+(n=n.join("")),e);var o=r.createWebChannel(n,e),a=!1,s=!1,u=new NI({Ei:function(e){s?pb("Connection","Not sending because WebChannel is closed:",e):(a||(pb("Connection","Opening WebChannel transport."),o.open(),a=!0),pb("Connection","WebChannel sending:",e),o.send(e))},Ti:function(){return o.close()}});return e=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))},e(o,ib.EventType.OPEN,(function(){s||pb("Connection","WebChannel transport opened.")})),e(o,ib.EventType.CLOSE,(function(){s||(s=!0,pb("Connection","WebChannel transport closed"),u.Vi())})),e(o,ib.EventType.ERROR,(function(e){s||(s=!0,gb("Connection","WebChannel transport errored:",e),u.Vi(new lb(cb.UNAVAILABLE,"The operation could not be completed")))})),e(o,ib.EventType.MESSAGE,(function(e){var t,n,r,i;s||(bb(!!(t=e.data[0])),(n=t.error||(null===(i=t[0])||void 0===i?void 0:i.error))?(pb("Connection","WebChannel received error:",n),r=n.status,e=function(){var e=Zw[r];if(void 0!==e)return sE(e)}(),i=n.message,void 0===e&&(e=cb.INTERNAL,i="Unknown error status: "+r+" with message "+n.message),s=!0,u.Vi(new lb(e,i)),o.close()):(pb("Connection","WebChannel received:",t),u.Si(t)))})),e(i,eb.STAT_EVENT,(function(e){e.stat===tb?pb("Connection","Detected buffering proxy"):e.stat===nb&&pb("Connection","Detected no buffering proxy")})),setTimeout((function(){u.Pi()}),0),u},RI);function RI(e){var t=this;return(t=_I.call(this,e)||this).forceLongPolling=e.forceLongPolling,t.autoDetectLongPolling=e.autoDetectLongPolling,t.useFetchStreams=e.useFetchStreams,t}function DI(e){this.databaseInfo=e,this.databaseId=e.databaseId;var t=e.ssl?"https":"http";this.Di=t+"://"+e.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}function jI(e){this.Ei=e.Ei,this.Ti=e.Ti}function LI(){var e=this;this.wi=function(){return e._i()},this.mi=function(){return e.yi()},this.gi=[],this.pi()}function MI(){}function FI(){this.li=new CI,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}function UI(e,t,n,r,i){this.window=e,this.Se=t,this.persistenceKey=n,this.Ns=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.ks.bind(this),this.Fs=new uE(Eb),this.started=!1,this.$s=[],n=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),this.storage=this.window.localStorage,this.currentUser=i,this.Os=yI(this.persistenceKey,this.Ns),this.Ms="firestore_sequence_number_"+this.persistenceKey,this.Fs=this.Fs.insert(this.Ns,new CI),this.Ls=new RegExp("^firestore_clients_"+n+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+n+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+n+"_(\\d+)$"),this.Us="firestore_online_state_"+this.persistenceKey,this.Ks="firestore_bundle_loaded_"+this.persistenceKey,this.window.addEventListener("storage",this.xs)}function qI(){this.activeTargetIds=TE}function BI(e,t){this.clientId=e,this.onlineState=t}function VI(e,t){this.clientId=e,this.activeTargetIds=t}function WI(e,t,n){this.targetId=e,this.state=t,this.error=n}function zI(e,t,n,r){this.user=e,this.batchId=t,this.state=n,this.error=r}function HI(){return"undefined"!=typeof window?window:null}function KI(){return"undefined"!=typeof document?document:null}function GI(e){return new qE(e,!0)}function QI(e,t,n,r,i){var o=this;this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Fr=[],this.$r=new Map,this.Or=new Set,this.Mr=[],this.Lr=i,this.Lr.di((function(e){n.enqueueAndForget((function(){return Xi(o,void 0,void 0,(function(){return Ji(this,(function(e){switch(e.label){case 0:return yk(this)?(pb("RemoteStore","Restarting streams for network reachability change."),[4,function(e){return Xi(this,void 0,void 0,(function(){var t;return Ji(this,(function(n){switch(n.label){case 0:return(t=e).Or.add(4),[4,lk(t)];case 1:return n.sent(),t.Br.set("Unknown"),t.Or.delete(4),[4,ck(t)];case 2:return n.sent(),[2]}}))}))}(this)]):[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))}))})),this.Br=new nk(n,r)}var $I,YI,XI,JI=(uk.prototype.reset=function(){this.qi=0},uk.prototype.Qi=function(){this.qi=this.Bi},uk.prototype.ji=function(e){var t=this;this.cancel();var n=Math.floor(this.qi+this.Wi()),r=Math.max(0,Date.now()-this.Ki),i=Math.max(0,n-r);0<i&&pb("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.qi+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,i,(function(){return t.Ki=Date.now(),e()})),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},uk.prototype.Gi=function(){null!==this.Ui&&(this.Ui.skipDelay(),this.Ui=null)},uk.prototype.cancel=function(){null!==this.Ui&&(this.Ui.cancel(),this.Ui=null)},uk.prototype.Wi=function(){return(Math.random()-.5)*this.qi},uk),ZI=(sk.prototype.tr=function(){return 1===this.state||2===this.state||4===this.state},sk.prototype.er=function(){return 2===this.state},sk.prototype.start=function(){3!==this.state?this.auth():this.nr()},sk.prototype.stop=function(){return Xi(this,void 0,void 0,(function(){return Ji(this,(function(e){switch(e.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))},sk.prototype.sr=function(){this.state=0,this.Zi.reset()},sk.prototype.ir=function(){var e=this;this.er()&&null===this.Xi&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,(function(){return e.rr()})))},sk.prototype.cr=function(e){this.ur(),this.stream.send(e)},sk.prototype.rr=function(){return Xi(this,void 0,void 0,(function(){return Ji(this,(function(e){return this.er()?[2,this.close(0)]:[2]}))}))},sk.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},sk.prototype.close=function(e,t){return Xi(this,void 0,void 0,(function(){return Ji(this,(function(n){switch(n.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,3!==e?this.Zi.reset():t&&t.code===cb.RESOURCE_EXHAUSTED?(vb(t.toString()),vb("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Qi()):t&&t.code===cb.UNAUTHENTICATED&&this.Ji.invalidateToken(),null!==this.stream&&(this.ar(),this.stream.close(),this.stream=null),this.state=e,[4,this.listener.Ri(t)];case 1:return n.sent(),[2]}}))}))},sk.prototype.ar=function(){},sk.prototype.auth=function(){var e=this;this.state=1;var t=this.hr(this.Yi),n=this.Yi;this.Ji.getToken().then((function(t){e.Yi===n&&e.lr(t)}),(function(n){t((function(){var t=new lb(cb.UNKNOWN,"Fetching auth token failed: "+n.message);return e.dr(t)}))}))},sk.prototype.lr=function(e){var t=this,n=this.hr(this.Yi);this.stream=this.wr(e),this.stream.Ii((function(){n((function(){return t.state=2,t.listener.Ii()}))})),this.stream.Ri((function(e){n((function(){return t.dr(e)}))})),this.stream.onMessage((function(e){n((function(){return t.onMessage(e)}))}))},sk.prototype.nr=function(){var e=this;this.state=4,this.Zi.ji((function(){return Xi(e,void 0,void 0,(function(){return Ji(this,(function(e){return this.state=0,this.start(),[2]}))}))}))},sk.prototype.dr=function(e){return pb("PersistentStream","close with error: "+e),this.stream=null,this.close(3,e)},sk.prototype.hr=function(e){var t=this;return function(n){t.Se.enqueueAndForget((function(){return t.Yi===e?n():(pb("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}},$i(ak,XI=Q=sk),ak.prototype.wr=function(e){return this.Hi.Oi("Listen",e)},ak.prototype.onMessage=function(e){this.Zi.reset();var t=function(e,t){if("targetChange"in t){t.targetChange;var n="NO_CHANGE"===(o=t.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===o?1:"REMOVE"===o?2:"CURRENT"===o?3:"RESET"===o?4:mb(),r=t.targetChange.targetIds||[],i=(a=t.targetChange.resumeToken,e.I?(bb(void 0===a||"string"==typeof a),Fb.fromBase64String(a||"")):(bb(void 0===a||a instanceof Uint8Array),Fb.fromUint8Array(a||new Uint8Array))),o=(s=t.targetChange.cause)&&(u=void 0===(c=s).code?cb.UNKNOWN:sE(c.code),new lb(u,c.message||"")),a=new xE(n,r,i,o||null)}else if("documentChange"in t){t.documentChange,(n=t.documentChange).document,n.document.name,n.document.updateTime,r=GE(e,n.document.name),i=WE(n.document.updateTime);var s=new p_({mapValue:{fields:n.document.fields}}),u=(o=g_.newFoundDocument(r,i,s),n.targetIds||[]),c=n.removedTargetIds||[];a=new kE(u,c,o.key,o)}else if("documentDelete"in t)t.documentDelete,(n=t.documentDelete).document,r=GE(e,n.document),i=n.readTime?WE(n.readTime):Ib.min(),s=g_.newNoDocument(r,i),o=n.removedTargetIds||[],a=new kE([],o,s.key,s);else if("documentRemove"in t)t.documentRemove,(n=t.documentRemove).document,r=GE(e,n.document),i=n.removedTargetIds||[],a=new kE([],i,r,null);else{if(!("filter"in t))return mb();t.filter,(t=t.filter).targetId,r=new Jw(n=t.count||0),i=t.targetId,a=new OE(i,r)}return a}(this.R,e);return e=function(e){return"targetChange"in e?(e=e.targetChange).targetIds&&e.targetIds.length||!e.readTime?Ib.min():WE(e.readTime):Ib.min()}(e),this.listener._r(t,e)},ak.prototype.mr=function(e){var t,n,r,i,o={};o.database=YE(this.R),o.addTarget=(t=this.R,(r=E_(r=(n=e).target)?{documents:nS(t,r)}:{query:rS(t,r)}).targetId=n.targetId,0<n.resumeToken.approximateByteSize()?r.resumeToken=VE(t,n.resumeToken):0<n.snapshotVersion.compareTo(Ib.min())&&(r.readTime=BE(t,n.snapshotVersion.toTimestamp())),r),this.R,i=e,(e=null==(e=function(){switch(i.purpose){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return mb()}}())?null:{"goog-listen-tags":e})&&(o.labels=e),this.cr(o)},ak.prototype.yr=function(e){var t={};t.database=YE(this.R),t.removeTarget=e,this.cr(t)},ak),ek=($i(ok,YI=Q),Object.defineProperty(ok.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),ok.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,YI.prototype.start.call(this)},ok.prototype.ar=function(){this.gr&&this.Er([])},ok.prototype.wr=function(e){return this.Hi.Oi("Write",e)},ok.prototype.onMessage=function(e){if(bb(!!e.streamToken),this.lastStreamToken=e.streamToken,this.gr){this.Zi.reset();var t=(n=e.writeResults,r=e.commitTime,n&&0<n.length?(bb(void 0!==r),n.map((function(e){return n=r,(e=(t=e).updateTime?WE(t.updateTime):WE(n)).isEqual(Ib.min())&&(e=WE(n)),new jw(e,t.transformResults||[]);var t,n}))):[]),n=WE(e.commitTime);return this.listener.Tr(n,t)}var r;return bb(!e.writeResults||0===e.writeResults.length),this.gr=!0,this.listener.Ir()},ok.prototype.Ar=function(){var e={};e.database=YE(this.R),this.cr(e)},ok.prototype.Er=function(e){var t=this;e={streamToken:this.lastStreamToken,writes:e.map((function(e){return eS(t.R,e)}))},this.cr(e)},ok),tk=($i(ik,$I=function(){}),ik.prototype.br=function(){if(this.Rr)throw new lb(cb.FAILED_PRECONDITION,"The client has already been terminated.")},ik.prototype.Ni=function(e,t,n){var r=this;return this.br(),this.credentials.getToken().then((function(i){return r.Hi.Ni(e,t,n,i)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===cb.UNAUTHENTICATED&&r.credentials.invalidateToken(),e):new lb(cb.UNKNOWN,e.toString())}))},ik.prototype.$i=function(e,t,n){var r=this;return this.br(),this.credentials.getToken().then((function(i){return r.Hi.$i(e,t,n,i)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===cb.UNAUTHENTICATED&&r.credentials.invalidateToken(),e):new lb(cb.UNKNOWN,e.toString())}))},ik.prototype.terminate=function(){this.Rr=!0},ik),nk=(rk.prototype.Sr=function(){var e=this;0===this.vr&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.Pr=null,e.Cr("Backend didn't respond within 10 seconds."),e.Dr("Offline"),Promise.resolve()})))},rk.prototype.Nr=function(e){"Online"===this.state?this.Dr("Unknown"):(this.vr++,1<=this.vr&&(this.kr(),this.Cr("Connection failed 1 times. Most recent error: "+e.toString()),this.Dr("Offline")))},rk.prototype.set=function(e){this.kr(),this.vr=0,"Online"===e&&(this.Vr=!1),this.Dr(e)},rk.prototype.Dr=function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))},rk.prototype.Cr=function(e){e="Could not reach Cloud Firestore backend. "+e+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.",this.Vr?(vb(e),this.Vr=!1):pb("OnlineStateTracker",e)},rk.prototype.kr=function(){null!==this.Pr&&(this.Pr.cancel(),this.Pr=null)},rk);function rk(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}function ik(e,t,n){var r=this;return(r=$I.call(this)||this).credentials=e,r.Hi=t,r.R=n,r.Rr=!1,r}function ok(e,t,n,r,i){var o=this;return(o=YI.call(this,e,"write_stream_connection_backoff","write_stream_idle",t,n,i)||this).R=r,o.gr=!1,o}function ak(e,t,n,r,i){var o=this;return(o=XI.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",t,n,i)||this).R=r,o}function sk(e,t,n,r,i,o){this.Se=e,this.zi=n,this.Hi=r,this.Ji=i,this.listener=o,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new JI(e,t)}function uk(e,t,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.Se=e,this.timerId=t,this.Mi=n,this.Li=r,this.Bi=i,this.qi=0,this.Ui=null,this.Ki=Date.now(),this.reset()}function ck(e){return Xi(this,void 0,void 0,(function(){var t,n;return Ji(this,(function(r){switch(r.label){case 0:if(!yk(e))return[3,4];t=0,n=e.Mr,r.label=1;case 1:return t<n.length?[4,(0,n[t])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2]}}))}))}function lk(e){return Xi(this,void 0,void 0,(function(){var t,n;return Ji(this,(function(r){switch(r.label){case 0:t=0,n=e.Mr,r.label=1;case 1:return t<n.length?[4,(0,n[t])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2]}}))}))}function hk(e,t){e.$r.has(t.targetId)||(e.$r.set(t.targetId,t),gk(e)?vk(e):Ik(e).er()&&dk(e,t))}function fk(e,t){var n=e;e=Ik(n),n.$r.delete(t),e.er()&&pk(n,t),0===n.$r.size&&(e.er()?e.ir():yk(n)&&n.Br.set("Unknown"))}function dk(e,t){e.qr.U(t.targetId),Ik(e).mr(t)}function pk(e,t){e.qr.U(t),Ik(e).yr(t)}function vk(e){e.qr=new NE({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},lt:function(t){return e.$r.get(t)||null}}),Ik(e).start(),e.Br.Sr()}function gk(e){return yk(e)&&!Ik(e).tr()&&0<e.$r.size}function yk(e){return 0===e.Or.size}function mk(e){e.qr=void 0}function bk(e,t,n){return Xi(this,void 0,void 0,(function(){var r,i;return Ji(this,(function(o){switch(o.label){case 0:if(e.Br.set("Online"),!(t instanceof xE&&2===t.state&&t.cause))return[3,6];o.label=1;case 1:return o.trys.push([1,3,,5]),[4,function(e,t){return Xi(this,void 0,void 0,(function(){var n,r,i,o;return Ji(this,(function(a){switch(a.label){case 0:n=t.cause,r=0,i=t.targetIds,a.label=1;case 1:return r<i.length?(o=i[r],e.$r.has(o)?[4,e.remoteSyncer.rejectListen(o,n)]:[3,3]):[3,5];case 2:a.sent(),e.$r.delete(o),e.qr.removeTarget(o),a.label=3;case 3:a.label=4;case 4:return r++,[3,1];case 5:return[2]}}))}))}(e,t)];case 2:return o.sent(),[3,5];case 3:return r=o.sent(),pb("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),r),[4,_k(e,r)];case 4:return o.sent(),[3,5];case 5:return[3,13];case 6:if(t instanceof kE?e.qr.X(t):t instanceof OE?e.qr.rt(t):e.qr.et(t),n.isEqual(Ib.min()))return[3,13];o.label=7;case 7:return o.trys.push([7,11,,13]),[4,FC(e.localStore)];case 8:return i=o.sent(),0<=n.compareTo(i)?[4,(s=n,(u=(a=e).qr.ut(s)).targetChanges.forEach((function(e,t){var n;0<e.resumeToken.approximateByteSize()&&(n=a.$r.get(t))&&a.$r.set(t,n.withResumeToken(e.resumeToken,s))})),u.targetMismatches.forEach((function(e){var t=a.$r.get(e);t&&(a.$r.set(e,t.withResumeToken(Fb.EMPTY_BYTE_STRING,t.snapshotVersion)),pk(a,e),t=new oT(t.target,e,1,t.sequenceNumber),dk(a,t))})),a.remoteSyncer.applyRemoteEvent(u))]:[3,10];case 9:o.sent(),o.label=10;case 10:return[3,13];case 11:return pb("RemoteStore","Failed to raise snapshot:",i=o.sent()),[4,_k(e,i)];case 12:return o.sent(),[3,13];case 13:return[2]}var a,s,u}))}))}function _k(e,t,n){return Xi(this,void 0,void 0,(function(){var r=this;return Ji(this,(function(i){switch(i.label){case 0:if(!GS(t))throw t;return e.Or.add(1),[4,lk(e)];case 1:return i.sent(),e.Br.set("Offline"),n=n||function(){return FC(e.localStore)},e.asyncQueue.enqueueRetryable((function(){return Xi(r,void 0,void 0,(function(){return Ji(this,(function(t){switch(t.label){case 0:return pb("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return t.sent(),e.Or.delete(1),[4,ck(e)];case 2:return t.sent(),[2]}}))}))})),[2]}}))}))}function wk(e,t){return t().catch((function(n){return _k(e,n,t)}))}function Ek(e){return Xi(this,void 0,void 0,(function(){var t,n,r,i;return Ji(this,(function(o){switch(o.label){case 0:n=kk(t=e),r=0<t.Fr.length?t.Fr[t.Fr.length-1].batchId:-1,o.label=1;case 1:if(!(yk(t)&&t.Fr.length<10))return[3,7];o.label=2;case 2:return o.trys.push([2,4,,6]),[4,(a=t.localStore,s=r,(u=a).persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===s&&(s=-1),u._n.getNextMutationBatchAfterBatchId(e,s)})))];case 3:return null===(i=o.sent())?(0===t.Fr.length&&n.ir(),[3,7]):(r=i.batchId,function(e,t){e.Fr.push(t),(e=kk(e)).er()&&e.pr&&e.Er(t.mutations)}(t,i),[3,6]);case 4:return i=o.sent(),[4,_k(t,i)];case 5:return o.sent(),[3,6];case 6:return[3,1];case 7:return Sk(t)&&Tk(t),[2]}var a,s,u}))}))}function Sk(e){return yk(e)&&!kk(e).tr()&&0<e.Fr.length}function Tk(e){kk(e).start()}function Ck(e,t){return Xi(this,void 0,void 0,(function(){var n;return Ji(this,(function(r){switch(r.label){case 0:return n=e,t?(n.Or.delete(2),[4,ck(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return t?[3,4]:(n.Or.add(2),[4,lk(n)]);case 3:r.sent(),n.Br.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}}))}))}function Ik(e){var t,n,r,i=this;return e.Ur||(e.Ur=(t=e.datastore,n=e.asyncQueue,r={Ii:function(e){return Xi(this,void 0,void 0,(function(){return Ji(this,(function(t){return e.$r.forEach((function(t,n){dk(e,t)})),[2]}))}))}.bind(null,e),Ri:function(e,t){return Xi(this,void 0,void 0,(function(){return Ji(this,(function(n){return mk(e),gk(e)?(e.Br.Nr(t),vk(e)):e.Br.set("Unknown"),[2]}))}))}.bind(null,e),_r:bk.bind(null,e)},t.br(),new ZI(n,t.Hi,t.credentials,t.R,r)),e.Mr.push((function(t){return Xi(i,void 0,void 0,(function(){return Ji(this,(function(n){switch(n.label){case 0:return t?(e.Ur.sr(),gk(e)?vk(e):e.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,e.Ur.stop()];case 2:n.sent(),mk(e),n.label=3;case 3:return[2]}}))}))}))),e.Ur}function kk(e){var t,n,r,i=this;return e.Kr||(e.Kr=(t=e.datastore,n=e.asyncQueue,r={Ii:function(e){return Xi(this,void 0,void 0,(function(){return Ji(this,(function(t){return kk(e).Ar(),[2]}))}))}.bind(null,e),Ri:function(e,t){return Xi(this,void 0,void 0,(function(){return Ji(this,(function(n){switch(n.label){case 0:return t&&kk(e).pr?[4,function(e,t){return Xi(this,void 0,void 0,(function(){var n,r;return Ji(this,(function(i){switch(i.label){case 0:return aE(r=t.code)&&r!==cb.ABORTED?(n=e.Fr.shift(),kk(e).sr(),[4,wk(e,(function(){return e.remoteSyncer.rejectFailedWrite(n.batchId,t)}))]):[3,3];case 1:return i.sent(),[4,Ek(e)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}(e,t)]:[3,2];case 1:n.sent(),n.label=2;case 2:return Sk(e)&&Tk(e),[2]}}))}))}.bind(null,e),Ir:function(e){return Xi(this,void 0,void 0,(function(){var t,n,r,i;return Ji(this,(function(o){for(t=kk(e),n=0,r=e.Fr;n<r.length;n++)i=r[n],t.Er(i.mutations);return[2]}))}))}.bind(null,e),Tr:function(e,t,n){return Xi(this,void 0,void 0,(function(){var r,i;return Ji(this,(function(o){switch(o.label){case 0:return r=e.Fr.shift(),i=iT.from(r,t,n),[4,wk(e,(function(){return e.remoteSyncer.applySuccessfulWrite(i)}))];case 1:return o.sent(),[4,Ek(e)];case 2:return o.sent(),[2]}}))}))}.bind(null,e)},t.br(),new ek(n,t.Hi,t.credentials,t.R,r)),e.Mr.push((function(t){return Xi(i,void 0,void 0,(function(){return Ji(this,(function(n){switch(n.label){case 0:return t?(e.Kr.sr(),[4,Ek(e)]):[3,2];case 1:return n.sent(),[3,4];case 2:return[4,e.Kr.stop()];case 3:n.sent(),0<e.Fr.length&&(pb("RemoteStore","Stopping write stream with "+e.Fr.length+" pending writes"),e.Fr=[]),n.label=4;case 4:return[2]}}))}))}))),e.Kr}var Ok=(xk.createAndSchedule=function(e,t,n,r,i){return(i=new xk(e,t,Date.now()+n,r,i)).start(n),i},xk.prototype.start=function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)},xk.prototype.skipDelay=function(){return this.handleDelayElapsed()},xk.prototype.cancel=function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new lb(cb.CANCELLED,"Operation cancelled"+(e?": "+e:""))))},xk.prototype.handleDelayElapsed=function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))},xk.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},xk);function xk(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new jS,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}function Pk(e,t){if(vb("AsyncQueue",t+": "+e),GS(e))return new lb(cb.UNAVAILABLE,t+": "+e);throw e}function Nk(){this.queries=new sC(hw,lw),this.onlineState="Unknown",this.Gr=new Set}var Ak=(Fk.emptySet=function(e){return new Fk(e.comparator)},Fk.prototype.has=function(e){return null!=this.keyedMap.get(e)},Fk.prototype.get=function(e){return this.keyedMap.get(e)},Fk.prototype.first=function(){return this.sortedSet.minKey()},Fk.prototype.last=function(){return this.sortedSet.maxKey()},Fk.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},Fk.prototype.indexOf=function(e){return(e=this.keyedMap.get(e))?this.sortedSet.indexOf(e):-1},Object.defineProperty(Fk.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),Fk.prototype.forEach=function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))},Fk.prototype.add=function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))},Fk.prototype.delete=function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this},Fk.prototype.isEqual=function(e){if(!(e instanceof Fk))return!1;if(this.size!==e.size)return!1;for(var t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();t.hasNext();){var r=t.getNext().key,i=n.getNext().key;if(!r.isEqual(i))return!1}return!0},Fk.prototype.toString=function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"},Fk.prototype.copy=function(e,t){var n=new Fk;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n},Fk),Rk=(Mk.prototype.track=function(e){var t=e.doc.key,n=this.Qr.get(t);!n||0!==e.type&&3===n.type?this.Qr=this.Qr.insert(t,e):3===e.type&&1!==n.type?this.Qr=this.Qr.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Qr=this.Qr.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Qr=this.Qr.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Qr=this.Qr.remove(t):1===e.type&&2===n.type?this.Qr=this.Qr.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Qr=this.Qr.insert(t,{type:2,doc:e.doc}):mb()},Mk.prototype.jr=function(){var e=[];return this.Qr.inorderTraversal((function(t,n){e.push(n)})),e},Mk),Dk=(Lk.fromInitialDocuments=function(e,t,n,r){var i=[];return t.forEach((function(e){i.push({type:0,doc:e})})),new Lk(e,t,Ak.emptySet(t),i,n,r,!0,!1)},Object.defineProperty(Lk.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),Lk.prototype.isEqual=function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&lw(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0},Lk),jk=function(){this.Wr=void 0,this.listeners=[]};function Lk(e,t,n,r,i,o,a,s){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=s}function Mk(){this.Qr=new uE(Zb.comparator)}function Fk(e){this.comparator=e?function(t,n){return e(t,n)||Zb.comparator(t.key,n.key)}:function(e,t){return Zb.comparator(e.key,t.key)},this.keyedMap=_E,this.sortedSet=new uE(this.comparator)}function Uk(e,t){return Xi(this,void 0,void 0,(function(){var n,r,i,o,a;return Ji(this,(function(s){switch(s.label){case 0:if(n=e,r=t.query,i=!1,(o=n.queries.get(r))||(i=!0,o=new jk),!i)return[3,4];s.label=1;case 1:return s.trys.push([1,3,,4]),a=o,[4,n.onListen(r)];case 2:return a.Wr=s.sent(),[3,4];case 3:return a=Pk(a=s.sent(),"Initialization of query '"+fw(t.query)+"' failed"),[2,void t.onError(a)];case 4:return n.queries.set(r,o),o.listeners.push(t),t.zr(n.onlineState),o.Wr&&t.Hr(o.Wr)&&Bk(n),[2]}}))}))}function qk(e,t){return Xi(this,void 0,void 0,(function(){var n,r,i,o,a;return Ji(this,(function(s){return n=e,r=t.query,i=!1,(o=n.queries.get(r))&&0<=(a=o.listeners.indexOf(t))&&(o.listeners.splice(a,1),i=0===o.listeners.length),i?[2,(n.queries.delete(r),n.onUnlisten(r))]:[2]}))}))}function Bk(e){e.Gr.forEach((function(e){e.next()}))}var Vk=($k.prototype.Hr=function(e){if(!this.options.includeMetadataChanges){for(var t=[],n=0,r=e.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&t.push(i)}e=new Dk(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var o=!1;return this.Yr?this.Zr(e)&&(this.Jr.next(e),o=!0):this.eo(e,this.onlineState)&&(this.no(e),o=!0),this.Xr=e,o},$k.prototype.onError=function(e){this.Jr.error(e)},$k.prototype.zr=function(e){this.onlineState=e;var t=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,e)&&(this.no(this.Xr),t=!0),t},$k.prototype.eo=function(e,t){return!e.fromCache||!(this.options.so&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)},$k.prototype.Zr=function(e){if(0<e.docChanges.length)return!0;var t=this.Xr&&this.Xr.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges},$k.prototype.no=function(e){e=Dk.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.Yr=!0,this.Jr.next(e)},$k),Wk=(Qk.prototype.io=function(){return"metadata"in this.payload},Qk),zk=(Gk.prototype.qn=function(e){return GE(this.R,e)},Gk.prototype.Un=function(e){return e.metadata.exists?ZE(this.R,e.document,!1):g_.newNoDocument(this.qn(e.metadata.name),this.Kn(e.metadata.readTime))},Gk.prototype.Kn=WE,Gk),Hk=(Kk.prototype.oo=function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;return e.payload.namedQuery?this.queries.push(e.payload.namedQuery):e.payload.documentMetadata?(this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t):e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t),t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null},Kk.prototype.co=function(e){for(var t=new Map,n=new zk(this.R),r=0,i=e;r<i.length;r++){var o=i[r];if(o.metadata.queries)for(var a=n.qn(o.metadata.name),s=0,u=o.metadata.queries;s<u.length;s++){var c=u[s],l=(t.get(c)||SE()).add(a);t.set(c,l)}}return t},Kk.prototype.complete=function(){return Xi(this,void 0,void 0,(function(){var e,t,n,r;return Ji(this,(function(i){switch(i.label){case 0:return[4,function(e,t,n,r){return Xi(this,void 0,void 0,(function(){var i,o,a,s,u,c,l,h,f,d;return Ji(this,(function(p){switch(p.label){case 0:for(i=e,o=SE(),a=yE,s=wE,u=0,c=n;u<c.length;u++)l=c[u],h=t.qn(l.metadata.name),l.document&&(o=o.add(h)),a=a.insert(h,t.Un(l)),s=s.insert(h,t.Kn(l.metadata.readTime));return f=i.On.newChangeBuffer({trackRemovals:!0}),[4,BC(i,uw(tw(Db.fromString("__bundle__/docs/"+r))))];case 1:return d=p.sent(),[2,i.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return qC(e,f,a,Ib.min(),s).next((function(t){return f.apply(e),t})).next((function(t){return i.qe.removeMatchingKeysForTargetId(e,d.targetId).next((function(){return i.qe.addMatchingKeys(e,o,d.targetId)})).next((function(){return i.Mn.En(e,t)})).next((function(){return t}))}))}))]}}))}))}(this.localStore,new zk(this.R),this.documents,this.ro.id)];case 1:e=i.sent(),t=this.co(this.documents),n=0,r=this.queries,i.label=2;case 2:return n<r.length?(r=r[n],[4,function(e,t,n){return void 0===n&&(n=SE()),Xi(this,void 0,void 0,(function(){var r,i;return Ji(this,(function(o){switch(o.label){case 0:return[4,BC(e,uw(bT(t.bundledQuery)))];case 1:return r=o.sent(),[2,(i=e).persistence.runTransaction("Save named query","readwrite",(function(e){var o=WE(t.readTime);return 0<=r.snapshotVersion.compareTo(o)?i.Ke.saveNamedQuery(e,t):(o=r.withResumeToken(Fb.EMPTY_BYTE_STRING,o),i.kn=i.kn.insert(o.targetId,o),i.qe.updateTargetData(e,o).next((function(){return i.qe.removeMatchingKeysForTargetId(e,r.targetId)})).next((function(){return i.qe.addMatchingKeys(e,n,r.targetId)})).next((function(){return i.Ke.saveNamedQuery(e,t)})))}))]}}))}))}(this.localStore,r,t.get(r.name))]):[3,5];case 3:i.sent(),i.label=4;case 4:return n++,[3,2];case 5:return[2,(this.progress.taskState="Success",new IC(Object.assign({},this.progress),e))]}}))}))},Kk);function Kk(e,t,n){this.ro=e,this.localStore=t,this.R=n,this.queries=[],this.documents=[],this.progress=Yk(e)}function Gk(e){this.R=e}function Qk(e,t){this.payload=e,this.byteLength=t}function $k(e,t,n){this.query=e,this.Jr=t,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=n||{}}function Yk(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var Xk=function(e){this.key=e},Jk=function(e){this.key=e},Zk=(Object.defineProperty(iO.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),iO.prototype._o=function(e,t){var n=this,r=t?t.mo:new Rk,i=(t||this).fo,o=(t||this).mutatedKeys,a=i,s=!1,u=nw(this.query)&&i.size===this.query.limit?i.last():null,c=rw(this.query)&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),h=dw(n.query,t)?t:null,f=!!l&&n.mutatedKeys.has(l.key),d=!!h&&(h.hasLocalMutations||n.mutatedKeys.has(h.key)&&h.hasCommittedMutations);t=!1,l&&h?l.data.isEqual(h.data)?f!==d&&(r.track({type:3,doc:h}),t=!0):n.yo(l,h)||(r.track({type:2,doc:h}),t=!0,(u&&0<n.lo(h,u)||c&&n.lo(h,c)<0)&&(s=!0)):!l&&h?(r.track({type:0,doc:h}),t=!0):l&&!h&&(r.track({type:1,doc:l}),t=!0,(u||c)&&(s=!0)),t&&(o=h?(a=a.add(h),d?o.add(e):o.delete(e)):(a=a.delete(e),o.delete(e)))})),nw(this.query)||rw(this.query))for(;a.size>this.query.limit;){var l=nw(this.query)?a.last():a.first();a=a.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{fo:a,mo:r,Nn:s,mutatedKeys:o}},iO.prototype.yo=function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations},iO.prototype.applyChanges=function(e,t,n){var r=this,i=this.fo;this.fo=e.fo,this.mutatedKeys=e.mutatedKeys;var o=e.mo.jr();o.sort((function(e,t){return i=e.type,o=t.type,n(i)-n(o)||r.lo(e.doc,t.doc);function n(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return mb()}}var i,o})),this.po(n);var a=t?this.Eo():[];return t=(n=0===this.ho.size&&this.current?1:0)!==this.ao,this.ao=n,0!==o.length||t?{snapshot:new Dk(this.query,e.fo,i,o,e.mutatedKeys,0==n,t,!1),To:a}:{To:a}},iO.prototype.zr=function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({fo:this.fo,mo:new Rk,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},iO.prototype.Io=function(e){return!this.uo.has(e)&&!!this.fo.has(e)&&!this.fo.get(e).hasLocalMutations},iO.prototype.po=function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.uo=t.uo.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.uo=t.uo.delete(e)})),this.current=e.current)},iO.prototype.Eo=function(){var e=this;if(!this.current)return[];var t=this.ho;this.ho=SE(),this.fo.forEach((function(t){e.Io(t.key)&&(e.ho=e.ho.add(t.key))}));var n=[];return t.forEach((function(t){e.ho.has(t)||n.push(new Jk(t))})),this.ho.forEach((function(e){t.has(e)||n.push(new Xk(e))})),n},iO.prototype.Ao=function(e){return this.uo=e.Bn,this.ho=SE(),e=this._o(e.documents),this.applyChanges(e,!0)},iO.prototype.Ro=function(){return Dk.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,0===this.ao)},iO),eO=function(e,t,n){this.query=e,this.targetId=t,this.view=n},tO=function(e){this.key=e,this.bo=!1},nO=(Object.defineProperty(rO.prototype,"isPrimaryClient",{get:function(){return!0===this.$o},enumerable:!1,configurable:!0}),rO);function rO(e,t,n,r,i,o){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.vo={},this.Po=new sC(hw,lw),this.Vo=new Map,this.So=new Set,this.Do=new uE(Zb.comparator),this.Co=new Map,this.No=new YC,this.xo={},this.ko=new Map,this.Fo=VT.Yt(),this.onlineState="Unknown",this.$o=void 0}function iO(e,t){this.query=e,this.uo=t,this.ao=null,this.current=!1,this.ho=SE(),this.mutatedKeys=SE(),this.lo=pw(e),this.fo=new Ak(this.lo)}function oO(e,t,n,r){return Xi(this,void 0,void 0,(function(){var i,o,a;return Ji(this,(function(s){switch(s.label){case 0:return e.Oo=function(t,n,r){return function(e,t,n,r){return Xi(this,void 0,void 0,(function(){var i,o;return Ji(this,(function(a){switch(a.label){case 0:return(i=t.view._o(n)).Nn?[4,WC(e.localStore,t.query,!1).then((function(e){return e=e.documents,t.view._o(e,i)}))]:[3,2];case 1:i=a.sent(),a.label=2;case 2:return o=r&&r.targetChanges.get(t.targetId),o=t.view.applyChanges(i,e.isPrimaryClient,o),[2,(vO(e,t.targetId,o.To),o.snapshot)]}}))}))}(e,t,n,r)},[4,WC(e.localStore,t,!0)];case 1:return o=s.sent(),a=new Zk(t,o.Bn),i=a._o(o.documents),o=IE.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState),o=a.applyChanges(i,e.isPrimaryClient,o),vO(e,n,o.To),a=new eO(t,n,a),[2,(e.Po.set(t,a),e.Vo.has(n)?e.Vo.get(n).push(t):e.Vo.set(n,[t]),o.snapshot)]}}))}))}function aO(e,t,n){return Xi(this,void 0,void 0,(function(){var r,i;return Ji(this,(function(o){switch(o.label){case 0:i=TO(e),o.label=1;case 1:return o.trys.push([1,5,,6]),[4,(c=i.localStore,l=t,f=c,d=Cb.now(),p=l.reduce((function(e,t){return e.add(t.key)}),SE()),f.persistence.runTransaction("Locally write mutations","readwrite",(function(e){return f.Mn.pn(e,p).next((function(t){h=t;for(var n=[],r=0,i=l;r<i.length;r++){var o=i[r],a=function(e,t){for(var n=null,r=0,i=e.fieldTransforms;r<i.length;r++){var o=i[r],a=t.data.field(o.field);null!=(a=mw(o.transform,a||null))&&(n=null==n?p_.empty():n).set(o.field,a)}return n||null}(o,h.get(o.key));null!=a&&n.push(new Kw(o.key,a,function e(t){var n=[];return Pb(t.fields,(function(t,r){var i=new Lb([t]);if(f_(r))if(0===(r=e(r.mapValue).fields).length)n.push(i);else for(var o=0,a=r;o<a.length;o++){var s=a[o];n.push(i.child(s))}else n.push(i)})),new Mb(n)}(a.value.mapValue),Mw.exists(!0)))}return f._n.addMutationBatch(e,d,n,l)}))})).then((function(e){return e.applyToLocalDocumentSet(h),{batchId:e.batchId,changes:h}})))];case 2:return r=o.sent(),i.sharedClientState.addPendingMutation(r.batchId),a=i,s=r.batchId,u=n,c=(c=(c=a.xo[a.currentUser.toKey()])||new uE(Eb)).insert(s,u),a.xo[a.currentUser.toKey()]=c,[4,yO(i,r.changes)];case 3:return o.sent(),[4,Ek(i.remoteStore)];case 4:return o.sent(),[3,6];case 5:return i=Pk(i=o.sent(),"Failed to persist write"),n.reject(i),[3,6];case 6:return[2]}var a,s,u,c,l,h,f,d,p}))}))}function sO(e,t){return Xi(this,void 0,void 0,(function(){var n,r;return Ji(this,(function(i){switch(i.label){case 0:n=e,i.label=1;case 1:return i.trys.push([1,4,,6]),[4,UC(n.localStore,t)];case 2:return r=i.sent(),t.targetChanges.forEach((function(e,t){(t=n.Co.get(t))&&(bb(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),0<e.addedDocuments.size?t.bo=!0:0<e.modifiedDocuments.size?bb(t.bo):0<e.removedDocuments.size&&(bb(t.bo),t.bo=!1))})),[4,yO(n,r,t)];case 3:return i.sent(),[3,6];case 4:return[4,$T(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}}))}))}function uO(e,t,n){var r;(e.isPrimaryClient&&0===n||!e.isPrimaryClient&&1===n)&&(r=[],e.Po.forEach((function(e,n){(n=n.view.zr(t)).snapshot&&r.push(n.snapshot)})),function(e,t){e.onlineState=t;var n=!1;e.queries.forEach((function(e,r){for(var i=0,o=r.listeners;i<o.length;i++)o[i].zr(t)&&(n=!0)})),n&&Bk(e)}(e.eventManager,t),r.length&&e.vo._r(r),e.onlineState=t,e.isPrimaryClient&&e.sharedClientState.setOnlineState(t))}function cO(e,t,n){return Xi(this,void 0,void 0,(function(){var r,i;return Ji(this,(function(o){switch(o.label){case 0:r=e,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,(a=r.localStore,s=t,(u=a).persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var t;return u._n.lookupMutationBatch(e,s).next((function(n){return bb(null!==n),t=n.keys(),u._n.removeMutationBatch(e,n)})).next((function(){return u._n.performConsistencyCheck(e)})).next((function(){return u.Mn.pn(e,t)}))})))];case 2:return i=o.sent(),fO(r,t,n),hO(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),[4,yO(r,i)];case 3:return o.sent(),[3,6];case 4:return[4,$T(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}var a,s,u}))}))}function lO(e,t){return Xi(this,void 0,void 0,(function(){var n,r,i;return Ji(this,(function(o){switch(o.label){case 0:yk((n=e).remoteStore)||pb("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),o.label=1;case 1:return o.trys.push([1,3,,4]),[4,(a=n.localStore).persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return a._n.getHighestUnacknowledgedBatchId(e)}))];case 2:return-1===(r=o.sent())?[2,void t.resolve()]:((i=n.ko.get(r)||[]).push(t),n.ko.set(r,i),[3,4]);case 3:return i=Pk(i=o.sent(),"Initialization of waitForPendingWrites() operation failed"),t.reject(i),[3,4];case 4:return[2]}var a}))}))}function hO(e,t){(e.ko.get(t)||[]).forEach((function(e){e.resolve()})),e.ko.delete(t)}function fO(e,t,n){var r=e,i=r.xo[r.currentUser.toKey()];i&&((e=i.get(t))&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.xo[r.currentUser.toKey()]=i)}function dO(e,t,n){void 0===n&&(n=null),e.sharedClientState.removeLocalQueryTarget(t);for(var r=0,i=e.Vo.get(t);r<i.length;r++){var o=i[r];e.Po.delete(o),n&&e.vo.Mo(o,n)}e.Vo.delete(t),e.isPrimaryClient&&e.No.Zn(t).forEach((function(t){e.No.containsKey(t)||pO(e,t)}))}function pO(e,t){e.So.delete(t.path.canonicalString());var n=e.Do.get(t);null!==n&&(fk(e.remoteStore,n),e.Do=e.Do.remove(t),e.Co.delete(n),gO(e))}function vO(e,t,n){for(var r,i,o,a=0,s=n;a<s.length;a++){var u=s[a];u instanceof Xk?(e.No.addReference(u.key,t),r=e,o=void 0,i=(o=(i=u).key).path.canonicalString(),r.Do.get(o)||r.So.has(i)||(pb("SyncEngine","New document in limbo: "+o),r.So.add(i),gO(r))):u instanceof Jk?(pb("SyncEngine","Document no longer in limbo: "+u.key),e.No.removeReference(u.key,t),e.No.containsKey(u.key)||pO(e,u.key)):mb()}}function gO(e){for(;0<e.So.size&&e.Do.size<e.maxConcurrentLimboResolutions;){var t=e.So.values().next().value;e.So.delete(t);var n=new Zb(Db.fromString(t));t=e.Fo.next(),e.Co.set(t,new tO(n)),e.Do=e.Do.insert(n,t),hk(e.remoteStore,new oT(uw(tw(n.path)),t,2,ab.o))}}function yO(e,t,n){return Xi(this,void 0,void 0,(function(){var r,i,o,a;return Ji(this,(function(s){switch(s.label){case 0:return i=[],o=[],a=[],(r=e).Po.isEmpty()?[3,3]:(r.Po.forEach((function(e,s){a.push(r.Oo(s,t,n).then((function(e){e&&(r.isPrimaryClient&&r.sharedClientState.updateQueryState(s.targetId,e.fromCache?"not-current":"current"),i.push(e),e=OC.Pn(s.targetId,e),o.push(e))})))})),[4,Promise.all(a)]);case 1:return s.sent(),r.vo._r(i),[4,function(e,t){return Xi(this,void 0,void 0,(function(){var n,r,i,o,a,s,u;return Ji(this,(function(c){switch(c.label){case 0:n=e,c.label=1;case 1:return c.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return LS.forEach(t,(function(t){return LS.forEach(t.bn,(function(r){return n.persistence.referenceDelegate.addReference(e,t.targetId,r)})).next((function(){return LS.forEach(t.vn,(function(r){return n.persistence.referenceDelegate.removeReference(e,t.targetId,r)}))}))}))}))];case 2:return c.sent(),[3,4];case 3:if(!GS(r=c.sent()))throw r;return pb("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,o=t;i<o.length;i++)u=o[i],a=u.targetId,u.fromCache||(s=n.kn.get(a),u=s.snapshotVersion,u=s.withLastLimboFreeSnapshotVersion(u),n.kn=n.kn.insert(a,u));return[2]}}))}))}(r.localStore,o)];case 2:s.sent(),s.label=3;case 3:return[2]}}))}))}function mO(e,t){return Xi(this,void 0,void 0,(function(){var n,r;return Ji(this,(function(i){switch(i.label){case 0:return(n=e).currentUser.isEqual(t)?[3,3]:(pb("SyncEngine","User change. New user:",t.toKey()),[4,LC(n.localStore,t)]);case 1:return r=i.sent(),n.currentUser=t,(o=n).ko.forEach((function(e){e.forEach((function(e){e.reject(new lb(cb.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),o.ko.clear(),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),[4,yO(n,r.Ln)];case 2:i.sent(),i.label=3;case 3:return[2]}var o}))}))}function bO(e,t,n,r){return Xi(this,void 0,void 0,(function(){var i,o;return Ji(this,(function(a){switch(a.label){case 0:return[4,(s=(i=e).localStore,u=t,l=(c=s)._n,c.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return l.jt(e,u).next((function(t){return t?c.Mn.pn(e,t):LS.resolve(null)}))})))];case 1:return null===(o=a.sent())?[3,6]:"pending"!==n?[3,3]:[4,Ek(i.remoteStore)];case 2:return a.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(fO(i,t,r||null),hO(i,t),i.localStore._n.Gt(t)):mb(),a.label=4;case 4:return[4,yO(i,o)];case 5:return a.sent(),[3,7];case 6:pb("SyncEngine","Cannot apply mutation batch with id: "+t),a.label=7;case 7:return[2]}var s,u,c,l}))}))}function _O(e,t){return Xi(this,void 0,void 0,(function(){var n,r,i,o,a,s,u,c;return Ji(this,(function(l){switch(l.label){case 0:return SO(n=e),TO(n),!0!==t||!0===n.$o?[3,3]:(r=n.sharedClientState.getAllActiveQueryTargets(),[4,wO(n,r.toArray())]);case 1:return i=l.sent(),n.$o=!0,[4,Ck(n.remoteStore,!0)];case 2:for(l.sent(),o=0,a=i;o<a.length;o++)s=a[o],hk(n.remoteStore,s);return[3,7];case 3:return!1!==t||!1===n.$o?[3,7]:(u=[],c=Promise.resolve(),n.Vo.forEach((function(e,t){n.sharedClientState.isLocalQueryTarget(t)?u.push(t):c=c.then((function(){return dO(n,t),VC(n.localStore,t,!0)})),fk(n.remoteStore,t)})),[4,c]);case 4:return l.sent(),[4,wO(n,u)];case 5:return l.sent(),(h=n).Co.forEach((function(e,t){fk(h.remoteStore,t)})),h.No.ts(),h.Co=new Map,h.Do=new uE(Zb.comparator),n.$o=!1,[4,Ck(n.remoteStore,!1)];case 6:l.sent(),l.label=7;case 7:return[2]}var h}))}))}function wO(e,t){return Xi(this,void 0,void 0,(function(){var n,r,i,o,a,s,u,c,l,h,f,d;return Ji(this,(function(p){switch(p.label){case 0:n=e,r=[],i=[],o=0,a=t,p.label=1;case 1:return o<a.length?(s=a[o],u=void 0,(c=n.Vo.get(s))&&0!==c.length?[4,BC(n.localStore,uw(c[0]))]:[3,7]):[3,13];case 2:u=p.sent(),l=0,h=c,p.label=3;case 3:return l<h.length?(f=h[l],f=n.Po.get(f),[4,function(e,t){return Xi(this,void 0,void 0,(function(){var n,r;return Ji(this,(function(i){switch(i.label){case 0:return[4,WC((n=e).localStore,t.query,!0)];case 1:return r=i.sent(),r=t.view.Ao(r),[2,(n.isPrimaryClient&&vO(n,t.targetId,r.To),r)]}}))}))}(n,f)]):[3,6];case 4:(f=p.sent()).snapshot&&i.push(f.snapshot),p.label=5;case 5:return l++,[3,3];case 6:return[3,11];case 7:return[4,zC(n.localStore,s)];case 8:return d=p.sent(),[4,BC(n.localStore,d)];case 9:return u=p.sent(),[4,oO(n,EO(d),s,!1)];case 10:p.sent(),p.label=11;case 11:r.push(u),p.label=12;case 12:return o++,[3,1];case 13:return[2,(n.vo._r(i),r)]}}))}))}function EO(e){return ew(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function SO(e){return e.remoteStore.remoteSyncer.applyRemoteEvent=sO.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=function(e,t){var n=e;if((e=n.Co.get(t))&&e.bo)return SE().add(e.key);var r=SE();if(!(t=n.Vo.get(t)))return r;for(var i=0,o=t;i<o.length;i++){var a=o[i];a=n.Po.get(a),r=r.unionWith(a.view.wo)}return r}.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=function(e,t,n){return Xi(this,void 0,void 0,(function(){var r,i,o,a;return Ji(this,(function(s){switch(s.label){case 0:return(r=e).sharedClientState.updateQueryState(t,"rejected",n),a=r.Co.get(t),(i=a&&a.key)?(o=(o=new uE(Zb.comparator)).insert(i,g_.newNoDocument(i,Ib.min())),a=SE().add(i),a=new CE(Ib.min(),new Map,new vE(Eb),o,a),[4,sO(r,a)]):[3,2];case 1:return s.sent(),r.Do=r.Do.remove(i),r.Co.delete(t),gO(r),[3,4];case 2:return[4,VC(r.localStore,t,!1).then((function(){return dO(r,t,n)})).catch($T)];case 3:s.sent(),s.label=4;case 4:return[2]}}))}))}.bind(null,e),e.vo._r=function(e,t){for(var n=e,r=!1,i=0,o=t;i<o.length;i++){var a=o[i],s=a.query;if(s=n.queries.get(s)){for(var u=0,c=s.listeners;u<c.length;u++)c[u].Hr(a)&&(r=!0);s.Wr=a}}r&&Bk(n)}.bind(null,e.eventManager),e.vo.Mo=function(e,t,n){var r=e;if(e=r.queries.get(t))for(var i=0,o=e.listeners;i<o.length;i++)o[i].onError(n);r.queries.delete(t)}.bind(null,e.eventManager),e}function TO(e){return e.remoteStore.remoteSyncer.applySuccessfulWrite=function(e,t){return Xi(this,void 0,void 0,(function(){var n,r,i;return Ji(this,(function(o){switch(o.label){case 0:n=e,r=t.batch.batchId,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,MC(n.localStore,t)];case 2:return i=o.sent(),fO(n,r,null),hO(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),[4,yO(n,i)];case 3:return o.sent(),[3,6];case 4:return[4,$T(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}}))}))}.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=cO.bind(null,e),e}function CO(e,t,n){var r=e;(function(e,t,n){return Xi(this,void 0,void 0,(function(){var r,i,o,a,s;return Ji(this,(function(u){switch(u.label){case 0:return u.trys.push([0,14,,15]),[4,t.getMetadata()];case 1:return r=u.sent(),[4,(h=e.localStore,d=h,p=WE((f=r).createTime),d.persistence.runTransaction("hasNewerBundle","readonly",(function(e){return d.Ke.getBundleMetadata(e,f.id)})).then((function(e){return!!e&&0<=e.createTime.compareTo(p)})))];case 2:return u.sent()?[4,t.close()]:[3,4];case 3:return[2,(u.sent(),void n._completeWith({taskState:"Success",documentsLoaded:r.totalDocuments,bytesLoaded:r.totalBytes,totalDocuments:r.totalDocuments,totalBytes:r.totalBytes}))];case 4:return n._updateProgress(Yk(r)),i=new Hk(r,e.localStore,t.R),[4,t.Lo()];case 5:o=u.sent(),u.label=6;case 6:return o?[4,i.oo(o)]:[3,10];case 7:return(a=u.sent())&&n._updateProgress(a),[4,t.Lo()];case 8:o=u.sent(),u.label=9;case 9:return[3,6];case 10:return[4,i.complete()];case 11:return s=u.sent(),[4,yO(e,s.wn,void 0)];case 12:return u.sent(),[4,(h=e.localStore,c=r,(l=h).persistence.runTransaction("Save bundle","readwrite",(function(e){return l.Ke.saveBundleMetadata(e,c)})))];case 13:return u.sent(),n._completeWith(s.progress),[3,15];case 14:return gb("SyncEngine","Loading bundle failed with "+(s=u.sent())),n._failWith(s),[3,15];case 15:return[2]}var c,l,h,f,d,p}))}))})(r,t,n).then((function(){r.sharedClientState.notifyBundleLoaded()}))}var IO,kO,OO=(jO.prototype.initialize=function(e){return Xi(this,void 0,void 0,(function(){return Ji(this,(function(t){switch(t.label){case 0:return this.R=GI(e.databaseInfo.databaseId),this.sharedClientState=this.Bo(e),this.persistence=this.qo(e),[4,this.persistence.start()];case 1:return t.sent(),this.gcScheduler=this.Uo(e),this.localStore=this.Ko(e),[2]}}))}))},jO.prototype.Uo=function(e){return null},jO.prototype.Ko=function(e){return jC(this.persistence,new xC,e.initialUser,this.R)},jO.prototype.qo=function(e){return new nI(iI.bs,this.R)},jO.prototype.Bo=function(e){return new kI},jO.prototype.terminate=function(){return Xi(this,void 0,void 0,(function(){return Ji(this,(function(e){switch(e.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return e.sent(),[4,this.persistence.shutdown()];case 2:return e.sent(),[2]}}))}))},jO),xO=($i(DO,kO=OO),DO.prototype.initialize=function(e){return Xi(this,void 0,void 0,(function(){var t=this;return Ji(this,(function(n){switch(n.label){case 0:return[4,kO.prototype.initialize.call(this,e)];case 1:return n.sent(),[4,KC(this.localStore)];case 2:return n.sent(),[4,this.Qo.initialize(this,e)];case 3:return n.sent(),[4,TO(this.Qo.syncEngine)];case 4:return n.sent(),[4,Ek(this.Qo.remoteStore)];case 5:return n.sent(),[4,this.persistence.He((function(){return t.gcScheduler&&!t.gcScheduler.started&&t.gcScheduler.start(t.localStore),Promise.resolve()}))];case 6:return n.sent(),[2]}}))}))},DO.prototype.Ko=function(e){return jC(this.persistence,new xC,e.initialUser,this.R)},DO.prototype.Uo=function(e){var t=this.persistence.referenceDelegate.garbageCollector;return new JT(t,e.asyncQueue)},DO.prototype.qo=function(e){var t=CC(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?AT.withCacheSize(this.cacheSizeBytes):AT.DEFAULT;return new wC(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,HI(),KI(),this.R,this.sharedClientState,!!this.forceOwnership)},DO.prototype.Bo=function(e){return new kI},DO),PO=($i(RO,IO=xO),RO.prototype.initialize=function(e){return Xi(this,void 0,void 0,(function(){var t,n=this;return Ji(this,(function(r){switch(r.label){case 0:return[4,IO.prototype.initialize.call(this,e)];case 1:return r.sent(),t=this.Qo.syncEngine,this.sharedClientState instanceof II?(this.sharedClientState.syncEngine={ui:bO.bind(null,t),ai:function(e,t,n,r){return Xi(this,void 0,void 0,(function(){var i,o,a;return Ji(this,(function(s){switch(s.label){case 0:return(i=e).$o?(pb("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Vo.has(t))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,HC(i.localStore)];case 3:return o=s.sent(),a=CE.createSynthesizedRemoteEventForCurrentChange(t,"current"===n),[4,yO(i,o,a)];case 4:return s.sent(),[3,8];case 5:return[4,VC(i.localStore,t,!0)];case 6:return s.sent(),dO(i,t,r),[3,8];case 7:mb(),s.label=8;case 8:return[2]}}))}))}.bind(null,t),hi:function(e,t,n){return Xi(this,void 0,void 0,(function(){var r,i,o,a,s,u,c,l;return Ji(this,(function(h){switch(h.label){case 0:if(!(r=SO(e)).$o)return[3,10];i=0,o=t,h.label=1;case 1:return i<o.length?(o=o[i],r.Vo.has(o)?(pb("SyncEngine","Adding an already active target "+o),[3,5]):[4,zC(r.localStore,o)]):[3,6];case 2:return a=h.sent(),[4,BC(r.localStore,a)];case 3:return s=h.sent(),[4,oO(r,EO(a),s.targetId,!1)];case 4:h.sent(),hk(r.remoteStore,s),h.label=5;case 5:return i++,[3,1];case 6:u=function(e){return Ji(this,(function(t){switch(t.label){case 0:return r.Vo.has(e)?[4,VC(r.localStore,e,!1).then((function(){fk(r.remoteStore,e),dO(r,e)})).catch($T)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))},c=0,l=n,h.label=7;case 7:return c<l.length?(l=l[c],[5,u(l)]):[3,10];case 8:h.sent(),h.label=9;case 9:return c++,[3,7];case 10:return[2]}}))}))}.bind(null,t),fn:function(e){return e.localStore.persistence.fn()}.bind(null,t),ci:function(e){return Xi(this,void 0,void 0,(function(){var t;return Ji(this,(function(n){return[2,HC((t=e).localStore).then((function(e){return yO(t,e)}))]}))}))}.bind(null,t)},[4,this.sharedClientState.start()]):[3,3];case 2:r.sent(),r.label=3;case 3:return[4,this.persistence.He((function(e){return Xi(n,void 0,void 0,(function(){return Ji(this,(function(t){switch(t.label){case 0:return[4,_O(this.Qo.syncEngine,e)];case 1:return t.sent(),this.gcScheduler&&(e&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):e||this.gcScheduler.stop()),[2]}}))}))}))];case 4:return r.sent(),[2]}}))}))},RO.prototype.Bo=function(e){var t=HI();if(!II.yt(t))throw new lb(cb.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=CC(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new II(t,e.asyncQueue,n,e.clientId,e.initialUser)},RO),NO=(AO.prototype.initialize=function(e,t){return Xi(this,void 0,void 0,(function(){var n=this;return Ji(this,(function(r){switch(r.label){case 0:return this.localStore?[3,2]:(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return uO(n.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=mO.bind(null,this.syncEngine),[4,Ck(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:r.sent(),r.label=2;case 2:return[2]}}))}))},AO.prototype.createEventManager=function(e){return new Nk},AO.prototype.createDatastore=function(e){var t=GI(e.databaseInfo.databaseId),n=(n=e.databaseInfo,new AI(n));return e=e.credentials,new tk(e,n,t)},AO.prototype.createRemoteStore=function(e){var t=this,n=function(e){return uO(t.syncEngine,e,0)};return new QI(this.localStore,this.datastore,e.asyncQueue,n,e=new(xI.yt()?xI:OI))},AO.prototype.createSyncEngine=function(e,t){return function(e,t,n,r,i,o,a){return o=new nO(e,t,n,r,i,o),a&&(o.$o=!0),o}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)},AO.prototype.terminate=function(){return function(e){return Xi(this,void 0,void 0,(function(){var t;return Ji(this,(function(n){switch(n.label){case 0:return t=e,pb("RemoteStore","RemoteStore shutting down."),t.Or.add(5),[4,lk(t)];case 1:return n.sent(),t.Lr.shutdown(),t.Br.set("Unknown"),[2]}}))}))}(this.remoteStore)},AO);function AO(){}function RO(e,t){var n=this;return(n=IO.call(this,e,t,!1)||this).Qo=e,n.cacheSizeBytes=t,n.synchronizeTabs=!0,n}function DO(e,t,n){var r=this;return(r=kO.call(this)||this).Qo=e,r.cacheSizeBytes=t,r.forceOwnership=n,r.synchronizeTabs=!1,r}function jO(){this.synchronizeTabs=!1}function LO(e,t){void 0===t&&(t=10240);var n=0;return{read:function(){return Xi(this,void 0,void 0,(function(){var r;return Ji(this,(function(i){return n<e.byteLength?(r={value:e.slice(n,n+t),done:!1},[2,(n+=t,r)]):[2,{done:!0}]}))}))},cancel:function(){return Xi(this,void 0,void 0,(function(){return Ji(this,(function(e){return[2]}))}))},releaseLock:function(){},closed:Promise.reject("unimplemented")}}var MO=(KO.prototype.next=function(e){this.observer.next&&this.jo(this.observer.next,e)},KO.prototype.error=function(e){this.observer.error?this.jo(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)},KO.prototype.Wo=function(){this.muted=!0},KO.prototype.jo=function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)},KO),FO=(HO.prototype.close=function(){return this.Go.cancel()},HO.prototype.getMetadata=function(){return Xi(this,void 0,void 0,(function(){return Ji(this,(function(e){return[2,this.metadata.promise]}))}))},HO.prototype.Lo=function(){return Xi(this,void 0,void 0,(function(){return Ji(this,(function(e){switch(e.label){case 0:return[4,this.getMetadata()];case 1:return[2,(e.sent(),this.Ho())]}}))}))},HO.prototype.Ho=function(){return Xi(this,void 0,void 0,(function(){var e,t,n;return Ji(this,(function(r){switch(r.label){case 0:return[4,this.Jo()];case 1:return null===(e=r.sent())?[2,null]:(n=this.zo.decode(e),t=Number(n),isNaN(t)&&this.Yo("length string ("+n+") is not valid number"),[4,this.Xo(t)]);case 2:return n=r.sent(),[2,new Wk(JSON.parse(n),e.length+t)]}}))}))},HO.prototype.Zo=function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))},HO.prototype.Jo=function(){return Xi(this,void 0,void 0,(function(){var e,t;return Ji(this,(function(n){switch(n.label){case 0:return this.Zo()<0?[4,this.tc()]:[3,3];case 1:if(n.sent())return[3,3];n.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((e=this.Zo())<0&&this.Yo("Reached the end of bundle when a length string is expected."),t=this.buffer.slice(0,e),[2,(this.buffer=this.buffer.slice(e),t)])}}))}))},HO.prototype.Xo=function(e){return Xi(this,void 0,void 0,(function(){var t;return Ji(this,(function(n){switch(n.label){case 0:return this.buffer.length<e?[4,this.tc()]:[3,3];case 1:n.sent()&&this.Yo("Reached the end of bundle when more is expected."),n.label=2;case 2:return[3,0];case 3:return t=this.zo.decode(this.buffer.slice(0,e)),[2,(this.buffer=this.buffer.slice(e),t)]}}))}))},HO.prototype.Yo=function(e){throw this.Go.cancel(),new Error("Invalid bundle format: "+e)},HO.prototype.tc=function(){return Xi(this,void 0,void 0,(function(){var e,t;return Ji(this,(function(n){switch(n.label){case 0:return[4,this.Go.read()];case 1:return(e=n.sent()).done||((t=new Uint8Array(this.buffer.length+e.value.length)).set(this.buffer),t.set(e.value,this.buffer.length),this.buffer=t),[2,e.done]}}))}))},HO),UO=(zO.prototype.lookup=function(e){return Xi(this,void 0,void 0,(function(){var t,n=this;return Ji(this,(function(r){switch(r.label){case 0:if(this.ensureCommitNotCalled(),0<this.mutations.length)throw new lb(cb.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(e,t){return Xi(this,void 0,void 0,(function(){var n,r,i,o,a;return Ji(this,(function(s){switch(s.label){case 0:return r=YE((n=e).R)+"/documents",i={documents:t.map((function(e){return KE(n.R,e)}))},[4,n.$i("BatchGetDocuments",r,i)];case 1:return i=s.sent(),o=new Map,i.forEach((function(e){var t;t=n.R,e="found"in e?function(e,t){bb(!!t.found),t.found.name,t.found.updateTime;var n=GE(e,t.found.name);return e=WE(t.found.updateTime),t=new p_({mapValue:{fields:t.found.fields}}),g_.newFoundDocument(n,e,t)}(t,e):"missing"in e?function(e,t){return bb(!!t.missing),bb(!!t.readTime),e=GE(e,t.missing),t=WE(t.readTime),g_.newNoDocument(e,t)}(t,e):mb(),o.set(e.key.toString(),e)})),a=[],[2,(t.forEach((function(e){bb(!!(e=o.get(e.toString()))),a.push(e)})),a)]}}))}))}(this.datastore,e)];case 1:return[2,((t=r.sent()).forEach((function(e){return n.recordVersion(e)})),t)]}}))}))},zO.prototype.set=function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())},zO.prototype.update=function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())},zO.prototype.delete=function(e){this.write(new nE(e,this.precondition(e))),this.writtenDocs.add(e.toString())},zO.prototype.commit=function(){return Xi(this,void 0,void 0,(function(){var e,t=this;return Ji(this,(function(n){switch(n.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return e=this.readVersions,this.mutations.forEach((function(t){e.delete(t.key.toString())})),e.forEach((function(e,n){n=Zb.fromPath(n),t.mutations.push(new rE(n,t.precondition(n)))})),[4,function(e,t){return Xi(this,void 0,void 0,(function(){var n,r,i;return Ji(this,(function(o){switch(o.label){case 0:return r=YE((n=e).R)+"/documents",i={writes:t.map((function(e){return eS(n.R,e)}))},[4,n.Ni("Commit",r,i)];case 1:return o.sent(),[2]}}))}))}(this.datastore,this.mutations)];case 1:return n.sent(),this.committed=!0,[2]}}))}))},zO.prototype.recordVersion=function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw mb();t=Ib.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new lb(cb.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)},zO.prototype.precondition=function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?Mw.updateTime(t):Mw.none()},zO.prototype.preconditionForUpdate=function(e){var t=this.readVersions.get(e.toString());if(this.writtenDocs.has(e.toString())||!t)return Mw.exists(!0);if(t.isEqual(Ib.min()))throw new lb(cb.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Mw.updateTime(t)},zO.prototype.write=function(e){this.ensureCommitNotCalled(),this.mutations.push(e)},zO.prototype.ensureCommitNotCalled=function(){},zO),qO=(WO.prototype.run=function(){--this.ec,this.nc()},WO.prototype.nc=function(){var e=this;this.Zi.ji((function(){return Xi(e,void 0,void 0,(function(){var e,t,n=this;return Ji(this,(function(r){return e=new UO(this.datastore),(t=this.sc(e))&&t.then((function(t){n.asyncQueue.enqueueAndForget((function(){return e.commit().then((function(){n.deferred.resolve(t)})).catch((function(e){n.ic(e)}))}))})).catch((function(e){n.ic(e)})),[2]}))}))}))},WO.prototype.sc=function(e){try{var t=this.updateFunction(e);return!Yb(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}},WO.prototype.ic=function(e){var t=this;0<this.ec&&this.rc(e)?(--this.ec,this.asyncQueue.enqueueAndForget((function(){return t.nc(),Promise.resolve()}))):this.deferred.reject(e)},WO.prototype.rc=function(e){return"FirebaseError"===e.name&&("aborted"===(e=e.code)||"failed-precondition"===e||!aE(e))},WO),BO=(VO.prototype.getConfiguration=function(){return Xi(this,void 0,void 0,(function(){return Ji(this,(function(e){return[2,{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100}]}))}))},VO.prototype.setCredentialChangeListener=function(e){this.credentialListener=e},VO.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new lb(cb.FAILED_PRECONDITION,"The client has already been terminated.")},VO.prototype.terminate=function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new jS;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((function(){return Xi(e,void 0,void 0,(function(){var e;return Ji(this,(function(n){switch(n.label){case 0:return n.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:n.sent(),n.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:n.sent(),n.label=4;case 4:return this.credentials.removeChangeListener(),t.resolve(),[3,6];case 5:return e=Pk(e=n.sent(),"Failed to shutdown persistence"),t.reject(e),[3,6];case 6:return[2]}}))}))})),t.promise},VO);function VO(e,t,n){var r=this;this.credentials=e,this.asyncQueue=t,this.databaseInfo=n,this.user=oI.UNAUTHENTICATED,this.clientId=_b.u(),this.credentialListener=function(){return Promise.resolve()},this.credentials.setChangeListener(t,(function(e){return Xi(r,void 0,void 0,(function(){return Ji(this,(function(t){switch(t.label){case 0:return pb("FirestoreClient","Received user=",e.uid),[4,this.credentialListener(e)];case 1:return t.sent(),this.user=e,[2]}}))}))}))}function WO(e,t,n,r){this.asyncQueue=e,this.datastore=t,this.updateFunction=n,this.deferred=r,this.ec=5,this.Zi=new JI(this.asyncQueue,"transaction_retry")}function zO(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}function HO(e,t){var n=this;this.Go=e,this.R=t,this.metadata=new jS,this.buffer=new Uint8Array,this.zo=new TextDecoder("utf-8"),this.Ho().then((function(e){e&&e.io()?n.metadata.resolve(e.payload.metadata):n.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==e?void 0:e.payload)))}),(function(e){return n.metadata.reject(e)}))}function KO(e){this.observer=e,this.muted=!1}function GO(e,t){return Xi(this,void 0,void 0,(function(){var n,r,i=this;return Ji(this,(function(o){switch(o.label){case 0:return e.asyncQueue.verifyOperationInProgress(),pb("FirestoreClient","Initializing OfflineComponentProvider"),[4,e.getConfiguration()];case 1:return n=o.sent(),[4,t.initialize(n)];case 2:return o.sent(),r=n.initialUser,e.setCredentialChangeListener((function(e){return Xi(i,void 0,void 0,(function(){return Ji(this,(function(n){switch(n.label){case 0:return r.isEqual(e)?[3,2]:[4,LC(t.localStore,e)];case 1:n.sent(),r=e,n.label=2;case 2:return[2]}}))}))})),t.persistence.setDatabaseDeletedListener((function(){return e.terminate()})),e.offlineComponents=t,[2]}}))}))}function QO(e,t){return Xi(this,void 0,void 0,(function(){var n,r;return Ji(this,(function(i){switch(i.label){case 0:return e.asyncQueue.verifyOperationInProgress(),[4,$O(e)];case 1:return n=i.sent(),pb("FirestoreClient","Initializing OnlineComponentProvider"),[4,e.getConfiguration()];case 2:return r=i.sent(),[4,t.initialize(n,r)];case 3:return i.sent(),e.setCredentialChangeListener((function(e){return function(e,t){return Xi(this,void 0,void 0,(function(){var n,r;return Ji(this,(function(i){switch(i.label){case 0:return(n=e).asyncQueue.verifyOperationInProgress(),pb("RemoteStore","RemoteStore received new credentials"),r=yk(n),n.Or.add(3),[4,lk(n)];case 1:return i.sent(),r&&n.Br.set("Unknown"),[4,n.remoteSyncer.handleCredentialChange(t)];case 2:return i.sent(),n.Or.delete(3),[4,ck(n)];case 3:return i.sent(),[2]}}))}))}(t.remoteStore,e)})),e.onlineComponents=t,[2]}}))}))}function $O(e){return Xi(this,void 0,void 0,(function(){return Ji(this,(function(t){switch(t.label){case 0:return e.offlineComponents?[3,2]:(pb("FirestoreClient","Using default OfflineComponentProvider"),[4,GO(e,new OO)]);case 1:t.sent(),t.label=2;case 2:return[2,e.offlineComponents]}}))}))}function YO(e){return Xi(this,void 0,void 0,(function(){return Ji(this,(function(t){switch(t.label){case 0:return e.onlineComponents?[3,2]:(pb("FirestoreClient","Using default OnlineComponentProvider"),[4,QO(e,new NO)]);case 1:t.sent(),t.label=2;case 2:return[2,e.onlineComponents]}}))}))}function XO(e){return $O(e).then((function(e){return e.persistence}))}function JO(e){return $O(e).then((function(e){return e.localStore}))}function ZO(e){return YO(e).then((function(e){return e.remoteStore}))}function ex(e){return YO(e).then((function(e){return e.syncEngine}))}function tx(e){return Xi(this,void 0,void 0,(function(){var t,n;return Ji(this,(function(r){switch(r.label){case 0:return[4,YO(e)];case 1:return t=r.sent(),[2,((n=t.eventManager).onListen=function(e,t){return Xi(this,void 0,void 0,(function(){var n,r,i,o,a;return Ji(this,(function(s){switch(s.label){case 0:return n=SO(e),(a=n.Po.get(t))?(r=a.targetId,n.sharedClientState.addLocalQueryTarget(r),i=a.view.Ro(),[3,4]):[3,1];case 1:return[4,BC(n.localStore,uw(t))];case 2:return o=s.sent(),a=n.sharedClientState.addLocalQueryTarget(o.targetId),r=o.targetId,[4,oO(n,t,r,"current"===a)];case 3:i=s.sent(),n.isPrimaryClient&&hk(n.remoteStore,o),s.label=4;case 4:return[2,i]}}))}))}.bind(null,t.syncEngine),n.onUnlisten=function(e,t){return Xi(this,void 0,void 0,(function(){var n,r,i;return Ji(this,(function(o){switch(o.label){case 0:return r=(n=e).Po.get(t),1<(i=n.Vo.get(r.targetId)).length?[2,(n.Vo.set(r.targetId,i.filter((function(e){return!lw(e,t)}))),void n.Po.delete(t))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)?[3,2]:[4,VC(n.localStore,r.targetId,!1).then((function(){n.sharedClientState.clearQueryState(r.targetId),fk(n.remoteStore,r.targetId),dO(n,r.targetId)})).catch($T)]):[3,3];case 1:o.sent(),o.label=2;case 2:return[3,5];case 3:return dO(n,r.targetId),[4,VC(n.localStore,r.targetId,!0)];case 4:o.sent(),o.label=5;case 5:return[2]}}))}))}.bind(null,t.syncEngine),n)]}}))}))}function nx(e,t,n){var r=this;void 0===n&&(n={});var i=new jS;return e.asyncQueue.enqueueAndForget((function(){return Xi(r,void 0,void 0,(function(){var r;return Ji(this,(function(o){switch(o.label){case 0:return r=function(e,t,n,r,i){var o=new MO({next:function(o){t.enqueueAndForget((function(){return qk(e,a)}));var s=o.docs.has(n);!s&&o.fromCache?i.reject(new lb(cb.UNAVAILABLE,"Failed to get document because the client is offline.")):s&&o.fromCache&&r&&"server"===r.source?i.reject(new lb(cb.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:function(e){return i.reject(e)}}),a=new Vk(tw(n.path),o,{includeMetadataChanges:!0,so:!0});return Uk(e,a)},[4,tx(e)];case 1:return[2,r.apply(void 0,[o.sent(),e.asyncQueue,t,n,i])]}}))}))})),i.promise}function rx(e,t,n){var r=this;void 0===n&&(n={});var i=new jS;return e.asyncQueue.enqueueAndForget((function(){return Xi(r,void 0,void 0,(function(){var r;return Ji(this,(function(o){switch(o.label){case 0:return r=function(e,t,n,r,i){var o=new MO({next:function(n){t.enqueueAndForget((function(){return qk(e,a)})),n.fromCache&&"server"===r.source?i.reject(new lb(cb.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),a=new Vk(n,o,{includeMetadataChanges:!0,so:!0});return Uk(e,a)},[4,tx(e)];case 1:return[2,r.apply(void 0,[o.sent(),e.asyncQueue,t,n,i])]}}))}))})),i.promise}function ix(e,t){this.user=t,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+e}var ox=function(e,t,n,r,i,o,a,s){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.useFetchStreams=s},ax=(Object.defineProperty(mx.prototype,"isDefaultDatabase",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),mx.prototype.isEqual=function(e){return e instanceof mx&&e.projectId===this.projectId&&e.database===this.database},mx),sx=new Map,ux=(yx.prototype.getToken=function(){return Promise.resolve(null)},yx.prototype.invalidateToken=function(){},yx.prototype.setChangeListener=function(e,t){this.changeListener=t,e.enqueueRetryable((function(){return t(oI.UNAUTHENTICATED)}))},yx.prototype.removeChangeListener=function(){this.changeListener=null},yx),cx=(gx.prototype.getToken=function(){return Promise.resolve(this.token)},gx.prototype.invalidateToken=function(){},gx.prototype.setChangeListener=function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))},gx.prototype.removeChangeListener=function(){this.changeListener=null},gx),lx=(vx.prototype.getToken=function(){var e=this,t=this.cc,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.cc!==t?(pb("FirebaseCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(bb("string"==typeof n.accessToken),new ix(n.accessToken,e.currentUser)):null})):Promise.resolve(null)},vx.prototype.invalidateToken=function(){this.forceRefresh=!0},vx.prototype.setChangeListener=function(e,t){var n=this;this.asyncQueue=e,this.asyncQueue.enqueueRetryable((function(){return Xi(n,void 0,void 0,(function(){return Ji(this,(function(e){switch(e.label){case 0:return[4,this.oc.promise];case 1:return e.sent(),[4,t(this.currentUser)];case 2:return e.sent(),this.changeListener=t,[2]}}))}))}))},vx.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.uc),this.changeListener=function(){return Promise.resolve()}},vx.prototype.ac=function(){var e=this.auth&&this.auth.getUid();return bb(null===e||"string"==typeof e),new oI(e)},vx),hx=(Object.defineProperty(px.prototype,"authHeaders",{get:function(){var e={"X-Goog-AuthUser":this.lc},t=this.hc.auth.getAuthHeaderValueForFirstParty([]);return t&&(e.Authorization=t),this.fc&&(e["X-Goog-Iam-Authorization-Token"]=this.fc),e},enumerable:!1,configurable:!0}),px),fx=(dx.prototype.getToken=function(){return Promise.resolve(new hx(this.hc,this.lc,this.fc))},dx.prototype.setChangeListener=function(e,t){e.enqueueRetryable((function(){return t(oI.FIRST_PARTY)}))},dx.prototype.removeChangeListener=function(){},dx.prototype.invalidateToken=function(){},dx);function dx(e,t,n){this.hc=e,this.lc=t,this.fc=n}function px(e,t,n){this.hc=e,this.lc=t,this.fc=n,this.type="FirstParty",this.user=oI.FIRST_PARTY}function vx(e){var t=this;function n(e){pb("FirebaseCredentialsProvider","Auth detected"),t.auth=e,t.auth.addAuthTokenListener(t.uc)}this.currentUser=oI.UNAUTHENTICATED,this.oc=new jS,this.cc=0,this.forceRefresh=!1,this.auth=null,this.asyncQueue=null,this.uc=function(){t.cc++,t.currentUser=t.ac(),t.oc.resolve(),t.changeListener&&t.asyncQueue.enqueueRetryable((function(){return t.changeListener(t.currentUser)}))},e.onInit(n),setTimeout((function(){var r;t.auth||((r=e.getImmediate({optional:!0}))?n(r):(pb("FirebaseCredentialsProvider","Auth not yet detected"),t.oc.resolve()))}),0)}function gx(e){this.token=e,this.changeListener=null}function yx(){this.changeListener=null}function mx(e,t){this.projectId=e,this.database=t||"(default)"}function bx(e,t,n){if(!n)throw new lb(cb.INVALID_ARGUMENT,"Function "+e+"() cannot be called with an empty "+t+".")}function _x(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new lb(cb.INVALID_ARGUMENT,"Invalid options passed to function "+e+'(): You cannot specify both "merge" and "mergeFields".');return t}function wx(e,t,n,r){if(!0===t&&!0===r)throw new lb(cb.INVALID_ARGUMENT,e+" and "+n+" cannot be used together.")}function Ex(e){if(!Zb.isDocumentKey(e))throw new lb(cb.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e+" has "+e.length+".")}function Sx(e){if(Zb.isDocumentKey(e))throw new lb(cb.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+e+" has "+e.length+".")}function Tx(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return 20<e.length&&(e=e.substring(0,20)+"..."),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"!=typeof e)return"function"==typeof e?"a function":mb();if(e instanceof Array)return"an array";var t=function(){if(e.constructor){var t=/function\s+([^\s(]+)\s*\(/.exec(e.constructor.toString());if(t&&1<t.length)return t[1]}return null}();return t?"a custom "+t+" object":"an object"}function Cx(e,t){if((e="_delegate"in e?e._delegate:e)instanceof t)return e;if(t.name===e.constructor.name)throw new lb(cb.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");throw e=Tx(e),new lb(cb.INVALID_ARGUMENT,"Expected type '"+t.name+"', but it was: "+e)}function Ix(e,t){if(t<=0)throw new lb(cb.INVALID_ARGUMENT,"Function "+e+"() requires a positive number, but it was: "+t+".")}var kx,Ox=(Mx.prototype.isEqual=function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams},Mx),xx=(Object.defineProperty(Lx.prototype,"app",{get:function(){if(!this._app)throw new lb(cb.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(Lx.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(Lx.prototype,"_terminated",{get:function(){return void 0!==this._terminateTask},enumerable:!1,configurable:!0}),Lx.prototype._setSettings=function(e){if(this._settingsFrozen)throw new lb(cb.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Ox(e),void 0!==e.credentials&&(this._credentials=function(e){if(!e)return new ux;switch(e.type){case"gapi":var t=e.client;return bb(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new fx(t,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new lb(cb.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(e.credentials))},Lx.prototype._getSettings=function(){return this._settings},Lx.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},Lx.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},Lx.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},Lx.prototype._terminate=function(){return(e=sx.get(this))&&(pb("ComponentProvider","Removing Datastore"),sx.delete(this),e.terminate()),Promise.resolve();var e},Lx),Px=(Object.defineProperty(jx.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(jx.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(jx.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(jx.prototype,"parent",{get:function(){return new Ax(this.firestore,this.converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),jx.prototype.withConverter=function(e){return new jx(this.firestore,e,this._key)},jx),Nx=(Dx.prototype.withConverter=function(e){return new Dx(this.firestore,e,this._query)},Dx),Ax=($i(Rx,kx=Nx),Object.defineProperty(Rx.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(Rx.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(Rx.prototype,"parent",{get:function(){var e=this._path.popLast();return e.isEmpty()?null:new Px(this.firestore,null,new Zb(e))},enumerable:!1,configurable:!0}),Rx.prototype.withConverter=function(e){return new Rx(this.firestore,e,this._path)},Rx);function Rx(e,t,n){var r=this;return(r=kx.call(this,e,t,tw(n))||this)._path=n,r.type="collection",r}function Dx(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}function jx(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}function Lx(e,t){this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Ox({}),this._settingsFrozen=!1,e instanceof ax?(this._databaseId=e,this._credentials=new ux):(this._app=e,this._databaseId=function(e){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new lb(cb.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ax(e.options.projectId)}(e),this._credentials=new lx(t))}function Mx(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new lb(cb.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new lb(cb.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,wx("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}function Fx(e,t){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(e=na(e),bx("collection","path",t),e instanceof xx)return Sx(n=Db.fromString.apply(Db,to([t],r))),new Ax(e,null,n);if(!(e instanceof Px||e instanceof Ax))throw new lb(cb.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Sx(n=Db.fromString.apply(Db,to([e.path],r)).child(Db.fromString(t))),new Ax(e.firestore,null,n)}function Ux(e,t){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(e=na(e),bx("doc","path",t=1===arguments.length?_b.u():t),e instanceof xx)return Ex(n=Db.fromString.apply(Db,to([t],r))),new Px(e,null,new Zb(n));if(!(e instanceof Px||e instanceof Ax))throw new lb(cb.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Ex(n=e._path.child(Db.fromString.apply(Db,to([t],r)))),new Px(e.firestore,e instanceof Ax?e.converter:null,new Zb(n))}function qx(e,t){return e=na(e),t=na(t),(e instanceof Px||e instanceof Ax)&&(t instanceof Px||t instanceof Ax)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function Bx(e,t){return e=na(e),t=na(t),e instanceof Nx&&t instanceof Nx&&e.firestore===t.firestore&&lw(e._query,t._query)&&e.converter===t.converter}var Vx=(Object.defineProperty(Wx.prototype,"isShuttingDown",{get:function(){return this._c},enumerable:!1,configurable:!0}),Wx.prototype.enqueueAndForget=function(e){this.enqueue(e)},Wx.prototype.enqueueAndForgetEvenWhileRestricted=function(e){this.Ac(),this.Rc(e)},Wx.prototype.enterRestrictedMode=function(e){this._c||(this._c=!0,this.Ec=e||!1,(e=KI())&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.Ic))},Wx.prototype.enqueue=function(e){var t=this;if(this.Ac(),this._c)return new Promise((function(){}));var n=new jS;return this.Rc((function(){return t._c&&t.Ec?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))},Wx.prototype.enqueueRetryable=function(e){var t=this;this.enqueueAndForget((function(){return t.wc.push(e),t.bc()}))},Wx.prototype.bc=function(){return Xi(this,void 0,void 0,(function(){var e,t=this;return Ji(this,(function(n){switch(n.label){case 0:if(0===this.wc.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.wc[0]()];case 2:return n.sent(),this.wc.shift(),this.Zi.reset(),[3,4];case 3:if(!GS(e=n.sent()))throw e;return pb("AsyncQueue","Operation failed with retryable error: "+e),[3,4];case 4:0<this.wc.length&&this.Zi.ji((function(){return t.bc()})),n.label=5;case 5:return[2]}}))}))},Wx.prototype.Rc=function(e){var t=this,n=this.dc.then((function(){return t.gc=!0,e().catch((function(e){throw t.yc=e,t.gc=!1,vb("INTERNAL UNHANDLED ERROR: ",(r=(n=e).message||"",r=n.stack?n.stack.includes(n.message)?n.stack:n.message+"\n"+n.stack:r)),e;var n,r})).then((function(e){return t.gc=!1,e}))}));return this.dc=n},Wx.prototype.enqueueAfterDelay=function(e,t,n){var r=this;return this.Ac(),-1<this.Tc.indexOf(e)&&(t=0),n=Ok.createAndSchedule(this,e,t,n,(function(e){return r.vc(e)})),this.mc.push(n),n},Wx.prototype.Ac=function(){this.yc&&mb()},Wx.prototype.verifyOperationInProgress=function(){},Wx.prototype.Pc=function(){return Xi(this,void 0,void 0,(function(){var e;return Ji(this,(function(t){switch(t.label){case 0:return[4,e=this.dc];case 1:t.sent(),t.label=2;case 2:if(e!==this.dc)return[3,0];t.label=3;case 3:return[2]}}))}))},Wx.prototype.Vc=function(e){for(var t=0,n=this.mc;t<n.length;t++)if(n[t].timerId===e)return!0;return!1},Wx.prototype.Sc=function(e){var t=this;return this.Pc().then((function(){t.mc.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));for(var n=0,r=t.mc;n<r.length;n++){var i=r[n];if(i.skipDelay(),"all"!==e&&i.timerId===e)break}return t.Pc()}))},Wx.prototype.Dc=function(e){this.Tc.push(e)},Wx.prototype.vc=function(e){e=this.mc.indexOf(e),this.mc.splice(e,1)},Wx);function Wx(){var e=this;this.dc=Promise.resolve(),this.wc=[],this._c=!1,this.mc=[],this.yc=null,this.gc=!1,this.Ec=!1,this.Tc=[],this.Zi=new JI(this,"async_queue_retry"),this.Ic=function(){var t=KI();t&&pb("AsyncQueue","Visibility state changed to "+t.visibilityState),e.Zi.Gi()};var t=KI();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Ic)}function zx(e){return function(){if("object"==typeof e&&null!==e)for(var t=e,n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return 1}}()}var Hx,Kx=($x.prototype.onProgress=function(e,t,n){this._progressObserver={next:e,error:t,complete:n}},$x.prototype.catch=function(e){return this._taskCompletionResolver.promise.catch(e)},$x.prototype.then=function(e,t){return this._taskCompletionResolver.promise.then(e,t)},$x.prototype._completeWith=function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)},$x.prototype._failWith=function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)},$x.prototype._updateProgress=function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)},$x),Gx=($i(Qx,Hx=xx),Qx.prototype._terminate=function(){return this._firestoreClient||Xx(this),this._firestoreClient.terminate()},Qx);function Qx(e,t){var n=this;return(n=Hx.call(this,e,t)||this).type="firestore",n._queue=new Vx,n._persistenceKey="name"in e?e.name:"[DEFAULT]",n}function $x(){this._progressObserver={},this._taskCompletionResolver=new jS,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}function Yx(e){return e._firestoreClient||Xx(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function Xx(e){var t,n,r,i=e._freezeSettings();t=e._databaseId,n=(null===(r=e._app)||void 0===r?void 0:r.options.appId)||"",r=e._persistenceKey,i=new ox(t,n,r,i.host,i.ssl,i.experimentalForceLongPolling,i.experimentalAutoDetectLongPolling,i.useFetchStreams),e._firestoreClient=new BO(e._credentials,e._queue,i)}function Jx(e,t,n){var r=this,i=new jS;return e.asyncQueue.enqueue((function(){return Xi(r,void 0,void 0,(function(){var r;return Ji(this,(function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),[4,GO(e,n)];case 1:return o.sent(),[4,QO(e,t)];case 2:return o.sent(),i.resolve(),[3,4];case 3:if(!("FirebaseError"===(r=o.sent()).name?r.code===cb.FAILED_PRECONDITION||r.code===cb.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&r instanceof DOMException)||22===r.code||20===r.code||11===r.code))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}}))}))})).then((function(){return i.promise}))}function Zx(e){if(e._initialized||e._terminated)throw new lb(cb.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var eP=(hP.prototype.isEqual=function(e){return this._internalPath.isEqual(e._internalPath)},hP),tP=(lP.fromBase64String=function(e){try{return new lP(Fb.fromBase64String(e))}catch(e){throw new lb(cb.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}},lP.fromUint8Array=function(e){return new lP(Fb.fromUint8Array(e))},lP.prototype.toBase64=function(){return this._byteString.toBase64()},lP.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},lP.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},lP.prototype.isEqual=function(e){return this._byteString.isEqual(e._byteString)},lP),nP=function(e){this._methodName=e},rP=(Object.defineProperty(cP.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(cP.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),cP.prototype.isEqual=function(e){return this._lat===e._lat&&this._long===e._long},cP.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},cP.prototype._compareTo=function(e){return Eb(this._lat,e._lat)||Eb(this._long,e._long)},cP),iP=/^__.*__$/,oP=(uP.prototype.toMutation=function(e,t){return null!==this.fieldMask?new Kw(e,this.data,this.fieldMask,t,this.fieldTransforms):new Hw(e,this.data,t,this.fieldTransforms)},uP),aP=(sP.prototype.toMutation=function(e,t){return new Kw(e,this.data,this.fieldMask,t,this.fieldTransforms)},sP);function sP(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}function uP(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}function cP(e,t){if(!isFinite(e)||e<-90||90<e)throw new lb(cb.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||180<t)throw new lb(cb.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}function lP(e){this._byteString=e}function hP(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=0;n<e.length;++n)if(0===e[n].length)throw new lb(cb.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Lb(e)}function fP(e){switch(e){case 0:case 2:case 1:return 1;case 3:case 4:return;default:throw mb()}}var dP=(Object.defineProperty(gP.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(gP.prototype,"Nc",{get:function(){return this.settings.Nc},enumerable:!1,configurable:!0}),gP.prototype.xc=function(e){return new gP(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},gP.prototype.kc=function(e){var t=null===(t=this.path)||void 0===t?void 0:t.child(e);return(t=this.xc({path:t,Fc:!1})).$c(e),t},gP.prototype.Oc=function(e){var t;return e=null===(t=this.path)||void 0===t?void 0:t.child(e),(e=this.xc({path:e,Fc:!1})).Cc(),e},gP.prototype.Mc=function(e){return this.xc({path:void 0,Fc:!0})},gP.prototype.Lc=function(e){return HP(e,this.settings.methodName,this.settings.Bc||!1,this.path,this.settings.qc)},gP.prototype.contains=function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))},gP.prototype.Cc=function(){if(this.path)for(var e=0;e<this.path.length;e++)this.$c(this.path.get(e))},gP.prototype.$c=function(e){if(0===e.length)throw this.Lc("Document fields must not be empty");if(fP(this.Nc)&&iP.test(e))throw this.Lc('Document fields cannot begin and end with "__"')},gP),pP=(vP.prototype.Uc=function(e,t,n,r){return void 0===r&&(r=!1),new dP({Nc:e,methodName:t,qc:n,path:Lb.emptyPath(),Fc:!1,Bc:r},this.databaseId,this.R,this.ignoreUndefinedProperties)},vP);function vP(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.R=n||GI(e)}function gP(e,t,n,r,i,o){this.settings=e,this.databaseId=t,this.R=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Cc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}function yP(e){var t=e._freezeSettings(),n=GI(e._databaseId);return new pP(e._databaseId,!!t.ignoreUndefinedProperties,n)}function mP(e,t,n,r,i,o){var a,s,u=e.Uc((o=void 0===o?{}:o).merge||o.mergeFields?2:0,t,n,i);if(BP("Data must be an object, but it was:",u,r),r=UP(r,u),o.merge)a=new Mb(u.fieldMask),s=u.fieldTransforms;else if(o.mergeFields){for(var c=[],l=0,h=o.mergeFields;l<h.length;l++){var f=VP(t,h[l],n);if(!u.contains(f))throw new lb(cb.INVALID_ARGUMENT,"Field '"+f+"' is specified in your field mask but missing from your input data.");KP(c,f)||c.push(f)}a=new Mb(c),s=u.fieldTransforms.filter((function(e){return a.covers(e.field)}))}else a=null,s=u.fieldTransforms;return new oP(new p_(r),a,s)}var bP,_P=($i(wP,bP=nP),wP.prototype._toFieldTransform=function(e){if(2!==e.Nc)throw 1===e.Nc?e.Lc(this._methodName+"() can only appear at the top level of your update data"):e.Lc(this._methodName+"() cannot be used with set() unless you pass {merge:true}");return e.fieldMask.push(e.path),null},wP.prototype.isEqual=function(e){return e instanceof wP},wP);function wP(){return null!==bP&&bP.apply(this,arguments)||this}function EP(e,t,n){return new dP({Nc:3,qc:t.settings.qc,methodName:e._methodName,Fc:n},t.databaseId,t.R,t.ignoreUndefinedProperties)}var SP,TP,CP,IP,kP=($i(DP,IP=nP),DP.prototype._toFieldTransform=function(e){return new Lw(e.path,new ww)},DP.prototype.isEqual=function(e){return e instanceof DP},DP),OP=($i(RP,CP=nP),RP.prototype._toFieldTransform=function(e){var t=EP(this,e,!0),n=this.Kc.map((function(e){return FP(e,t)}));return n=new Ew(n),new Lw(e.path,n)},RP.prototype.isEqual=function(e){return this===e},RP),xP=($i(AP,TP=nP),AP.prototype._toFieldTransform=function(e){var t=EP(this,e,!0),n=this.Kc.map((function(e){return FP(e,t)}));return n=new kw(n),new Lw(e.path,n)},AP.prototype.isEqual=function(e){return this===e},AP),PP=($i(NP,SP=nP),NP.prototype._toFieldTransform=function(e){var t=new Nw(e.R,yw(e.R,this.Qc));return new Lw(e.path,t)},NP.prototype.isEqual=function(e){return this===e},NP);function NP(e,t){var n=this;return(n=SP.call(this,e)||this).Qc=t,n}function AP(e,t){var n=this;return(n=TP.call(this,e)||this).Kc=t,n}function RP(e,t){var n=this;return(n=CP.call(this,e)||this).Kc=t,n}function DP(){return null!==IP&&IP.apply(this,arguments)||this}function jP(e,t,n,r){var i=e.Uc(1,t,n);BP("Data must be an object, but it was:",i,r);var o=[],a=p_.empty();return Pb(r,(function(e,r){var s=zP(t,e,n);r=na(r),e=i.Oc(s),r instanceof _P?o.push(s):null!=(e=FP(r,e))&&(o.push(s),a.set(s,e))})),r=new Mb(o),new aP(a,r,i.fieldTransforms)}function LP(e,t,n,r,i,o){var a=e.Uc(1,t,n),s=[VP(t,r,n)],u=[i];if(o.length%2!=0)throw new lb(cb.INVALID_ARGUMENT,"Function "+t+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var c=0;c<o.length;c+=2)s.push(VP(t,o[c])),u.push(o[c+1]);for(var l,h,f,d=[],p=p_.empty(),v=s.length-1;0<=v;--v)KP(d,s[v])||(l=s[v],h=na(h=u[v]),f=a.Oc(l),h instanceof _P?d.push(l):null!=(f=FP(h,f))&&(d.push(l),p.set(l,f)));return i=new Mb(d),new aP(p,i,a.fieldTransforms)}function MP(e,t,n,r){return FP(n,e.Uc((r=void 0!==r&&r)?4:3,t))}function FP(e,t){if(qP(e=na(e)))return BP("Unsupported field value:",t,e),UP(e,t);if(e instanceof nP)return function(e,t){if(!fP(t.Nc))throw t.Lc(e._methodName+"() can only be used with update() and set()");if(!t.path)throw t.Lc(e._methodName+"() is not currently supported inside arrays");(e=e._toFieldTransform(t))&&t.fieldTransforms.push(e)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Fc&&4!==t.Nc)throw t.Lc("Nested arrays are not supported");return function(t){for(var n=[],r=0,i=0,o=e;i<o.length;i++){var a=FP(o[i],t.Mc(r));null==a&&(a={nullValue:"NULL_VALUE"}),n.push(a),r++}return{arrayValue:{values:n}}}(t)}return function(t,n){if(null===(t=na(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return yw(n.R,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var r=Cb.fromDate(t);return{timestampValue:BE(n.R,r)}}if(t instanceof Cb)return r=new Cb(t.seconds,1e3*Math.floor(t.nanoseconds/1e3)),{timestampValue:BE(n.R,r)};if(t instanceof rP)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof tP)return{bytesValue:VE(n.R,t._byteString)};if(t instanceof Px){r=n.databaseId;var i=t.firestore._databaseId;if(!i.isEqual(r))throw n.Lc("Document reference is for database "+i.projectId+"/"+i.database+" but should be for database "+r.projectId+"/"+r.database);return{referenceValue:zE(t.firestore._databaseId||n.databaseId,t._key.path)}}throw n.Lc("Unsupported field value: "+Tx(t))}(0,t)}function UP(e,t){var n={};return Nb(e)?t.path&&0<t.path.length&&t.fieldMask.push(t.path):Pb(e,(function(e,r){null!=(r=FP(r,t.kc(e)))&&(n[e]=r)})),{mapValue:{fields:n}}}function qP(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Cb||e instanceof rP||e instanceof tP||e instanceof Px||e instanceof nP)}function BP(e,t,n){if(!qP(n)||"object"!=typeof(r=n)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r))throw"an object"===(n=Tx(n))?t.Lc(e+" a custom object"):t.Lc(e+" "+n);var r}function VP(e,t,n){if((t=na(t))instanceof eP)return t._internalPath;if("string"==typeof t)return zP(e,t);throw HP("Field path arguments must be of type string or FieldPath.",e,!1,void 0,n)}var WP=new RegExp("[~\\*/\\[\\]]");function zP(t,n,r){if(0<=n.search(WP))throw HP("Invalid field path ("+n+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,r);try{return(new(eP.bind.apply(eP,to([void 0],n.split(".")))))._internalPath}catch(e){throw HP("Invalid field path ("+n+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,r)}}function HP(e,t,n,r,i){var o=r&&!r.isEmpty(),a=void 0!==i;return t="Function "+t+"() called with invalid data",n&&(t+=" (via `toFirestore()`)"),n="",(o||a)&&(n+=" (found",o&&(n+=" in field "+r),a&&(n+=" in document "+i),n+=")"),new lb(cb.INVALID_ARGUMENT,(t+=". ")+e+n)}function KP(e,t){return e.some((function(e){return e.isEqual(t)}))}var GP,QP=(Object.defineProperty(XP.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(XP.prototype,"ref",{get:function(){return new Px(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),XP.prototype.exists=function(){return null!==this._document},XP.prototype.data=function(){if(this._document){if(this._converter){var e=new $P(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}},XP.prototype.get=function(e){if(this._document&&null!==(e=this._document.data.field(JP("DocumentSnapshot.get",e))))return this._userDataWriter.convertValue(e)},XP),$P=($i(YP,GP=QP),YP.prototype.data=function(){return GP.prototype.data.call(this)},YP);function YP(){return null!==GP&&GP.apply(this,arguments)||this}function XP(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}function JP(e,t){return"string"==typeof t?zP(e,t):(t instanceof eP?t:t._delegate)._internalPath}var ZP,eN,tN=(uN.prototype.isEqual=function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache},uN),nN=($i(sN,eN=QP),sN.prototype.exists=function(){return eN.prototype.exists.call(this)},sN.prototype.data=function(e){if(void 0===e&&(e={}),this._document){if(this._converter){var t=new rN(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}},sN.prototype.get=function(e,t){if(void 0===t&&(t={}),this._document&&null!==(e=this._document.data.field(JP("DocumentSnapshot.get",e))))return this._userDataWriter.convertValue(e,t.serverTimestamps)},sN),rN=($i(aN,ZP=nN),aN.prototype.data=function(e){return ZP.prototype.data.call(this,e=void 0===e?{}:e)},aN),iN=(Object.defineProperty(oN.prototype,"docs",{get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e},enumerable:!1,configurable:!0}),Object.defineProperty(oN.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(oN.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),oN.prototype.forEach=function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new rN(n._firestore,n._userDataWriter,r.key,r,new tN(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))},oN.prototype.docChanges=function(e){if((e=!!(e=void 0===e?{}:e).includeMetadataChanges)&&this._snapshot.excludesMetadataChanges)throw new lb(cb.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){return{type:"added",doc:new rN(e._firestore,e._userDataWriter,t.doc.key,t.doc,new tN(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new rN(e._firestore,e._userDataWriter,t.doc.key,t.doc,new tN(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,o=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(o=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:function(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return mb()}}(t.type),doc:n,oldIndex:i,newIndex:o}}))}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges},oN);function oN(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new tN(r.hasPendingWrites,r.fromCache),this.query=n}function aN(){return null!==ZP&&ZP.apply(this,arguments)||this}function sN(e,t,n,r,i,o){var a=this;return(a=eN.call(this,e,t,n,r,o)||this)._firestore=e,a._firestoreImpl=e,a.metadata=i,a}function uN(e,t){this.hasPendingWrites=e,this.fromCache=t}function cN(e,t){return e instanceof nN&&t instanceof nN?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof iN&&t instanceof iN&&e._firestore===t._firestore&&Bx(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}function lN(e){if(rw(e)&&0===e.explicitOrderBy.length)throw new lb(cb.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}function hN(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0,i=t;r<i.length;r++)e=i[r]._apply(e);return e}var fN,dN,pN,vN,gN,yN=($i(IN,gN=G=function(){}),IN.prototype._apply=function(e){var t=yP(e.firestore);return t=function(e,t,n,r,i,o){if(r.isKeyField()){if("array-contains"===i||"array-contains-any"===i)throw new lb(cb.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+i+"' queries on FieldPath.documentId().");if("in"===i||"not-in"===i){xN(o,i);for(var a=[],s=0,u=o;s<u.length;s++){var c=u[s];a.push(ON(n,e,c))}l={arrayValue:{values:a}}}else l=ON(n,e,o)}else"in"!==i&&"not-in"!==i&&"array-contains-any"!==i||xN(o,i),l=MP(t,"where",o,"in"===i||"not-in"===i);var l=T_.create(r,i,l);return function(e,t){if(t.g()){var n=ow(e);if(null!==n&&!n.isEqual(t.field))throw new lb(cb.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+t.field.toString()+"'");null!==(n=iw(e))&&PN(0,t.field,n)}if(e=function(e,t){for(var n=0,r=e.filters;n<r.length;n++){var i=r[n];if(0<=t.indexOf(i.op))return i.op}return null}(e,function(){switch(t.op){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}()),null!==e)throw e===t.op?new lb(cb.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '"+t.op.toString()+"' filter."):new lb(cb.INVALID_ARGUMENT,"Invalid query. You cannot use '"+t.op.toString()+"' filters with '"+e.toString()+"' filters.")}(e,l),l}(e._query,t,e.firestore._databaseId,this.jc,this.Wc,this.Gc),new Nx(e.firestore,e.converter,(t=(e=e._query).filters.concat([t]),new Z_(e.path,e.collectionGroup,e.explicitOrderBy.slice(),t,e.limit,e.limitType,e.startAt,e.endAt)))},IN),mN=($i(CN,vN=G),CN.prototype._apply=function(e){var t=function(e,t,n){if(null!==e.startAt)throw new lb(cb.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new lb(cb.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new Y_(t,n);return t=r,null!==iw(n=e)||null!==(e=ow(n))&&PN(0,e,t.field),r}(e._query,this.jc,this.zc);return new Nx(e.firestore,e.converter,(t=(e=e._query).explicitOrderBy.concat([t]),new Z_(e.path,e.collectionGroup,t,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)))},CN),bN=($i(TN,pN=G),TN.prototype._apply=function(e){return new Nx(e.firestore,e.converter,cw(e._query,this.Hc,this.Jc))},TN),_N=($i(SN,dN=G),SN.prototype._apply=function(e){var t=kN(e,this.type,this.Yc,this.Xc);return new Nx(e.firestore,e.converter,(e=e._query,new Z_(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)))},SN),wN=($i(EN,fN=G),EN.prototype._apply=function(e){var t=kN(e,this.type,this.Yc,this.Xc);return new Nx(e.firestore,e.converter,(e=e._query,new Z_(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)))},EN);function EN(e,t,n){var r=this;return(r=fN.call(this)||this).type=e,r.Yc=t,r.Xc=n,r}function SN(e,t,n){var r=this;return(r=dN.call(this)||this).type=e,r.Yc=t,r.Xc=n,r}function TN(e,t,n){var r=this;return(r=pN.call(this)||this).type=e,r.Hc=t,r.Jc=n,r}function CN(e,t){var n=this;return(n=vN.call(this)||this).jc=e,n.zc=t,n.type="orderBy",n}function IN(e,t,n){var r=this;return(r=gN.call(this)||this).jc=e,r.Wc=t,r.Gc=n,r.type="where",r}function kN(e,t,n,r){if(n[0]=na(n[0]),n[0]instanceof QP)return function(e,n,r,i){if(!r)throw new lb(cb.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+t+"().");for(var o=[],a=0,s=sw(e);a<s.length;a++){var u=s[a];if(u.field.isKeyField())o.push(s_(n,r.key));else{var c=r.data.field(u.field);if(Qb(c))throw new lb(cb.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c)throw u=u.field.canonicalString(),new lb(cb.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+u+"' (used as the orderBy) does not exist.");o.push(c)}}return new z_(o,i)}(e._query,e.firestore._databaseId,n[0]._document,r);var i=yP(e.firestore);return function(e,t,n,r,i,o){var a=e.explicitOrderBy;if(i.length>a.length)throw new lb(cb.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var s=[],u=0;u<i.length;u++){var c=i[u];if(a[u].field.isKeyField()){if("string"!=typeof c)throw new lb(cb.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!aw(e)&&-1!==c.indexOf("/"))throw new lb(cb.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var l=e.path.child(Db.fromString(c));if(!Zb.isDocumentKey(l))throw new lb(cb.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+l+"' is not because it contains an odd number of segments.");l=new Zb(l),s.push(s_(t,l))}else c=MP(n,r,c),s.push(c)}return new z_(s,o)}(e._query,e.firestore._databaseId,i,t,n,r)}function ON(e,t,n){if("string"==typeof(n=na(n))){if(""===n)throw new lb(cb.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!aw(t)&&-1!==n.indexOf("/"))throw new lb(cb.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");if(t=t.path.child(Db.fromString(n)),!Zb.isDocumentKey(t))throw new lb(cb.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+t+"' is not because it has an odd number of segments ("+t.length+").");return s_(e,new Zb(t))}if(n instanceof Px)return s_(e,n._key);throw new lb(cb.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+Tx(n)+".")}function xN(e,t){if(!Array.isArray(e)||0===e.length)throw new lb(cb.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+t.toString()+"' filters.");if(10<e.length)throw new lb(cb.INVALID_ARGUMENT,"Invalid Query. '"+t.toString()+"' filters support a maximum of 10 elements in the value array.")}function PN(e,t,n){if(!n.isEqual(t))throw new lb(cb.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+t.toString()+"' and so you must also use '"+t.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}function NN(){}function AN(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}NN.prototype.convertValue=function(e,t){switch(void 0===t&&(t="none"),t_(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Kb(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Gb(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw mb()}},NN.prototype.convertObject=function(e,t){var n=this,r={};return Pb(e.fields,(function(e,i){r[e]=n.convertValue(i,t)})),r},NN.prototype.convertGeoPoint=function(e){return new rP(Kb(e.latitude),Kb(e.longitude))},NN.prototype.convertArray=function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))},NN.prototype.convertServerTimestamp=function(e,t){switch(t){case"previous":var n=function e(t){return Qb(t=t.mapValue.fields.__previous_value__)?e(t):t}(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp($b(e));default:return null}},NN.prototype.convertTimestamp=function(e){return e=Hb(e),new Cb(e.seconds,e.nanos)},NN.prototype.convertDocumentKey=function(e,t){var n=Db.fromString(e);return bb(hS(n)),e=new ax(n.get(1),n.get(3)),n=new Zb(n.popFirst(5)),e.isEqual(t)||vb("Document "+n+" contains a document reference within a different database ("+e.projectId+"/"+e.database+") which is not supported. It will be treated as a reference in the current database ("+t.projectId+"/"+t.database+") instead."),n};var RN,DN=($i(MN,RN=Q=NN),MN.prototype.convertBytes=function(e){return new tP(e)},MN.prototype.convertReference=function(e){return e=this.convertDocumentKey(e,this.firestore._databaseId),new Px(this.firestore,null,e)},MN),jN=(LN.prototype.set=function(e,t,n){return this._verifyNotCommitted(),t=AN((e=FN(e,this._firestore)).converter,t,n),n=mP(this._dataReader,"WriteBatch.set",e._key,t,null!==e.converter,n),this._mutations.push(n.toMutation(e._key,Mw.none())),this},LN.prototype.update=function(e,t,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];return this._verifyNotCommitted(),e=FN(e,this._firestore),t="string"==typeof(t=na(t))||t instanceof eP?LP(this._dataReader,"WriteBatch.update",e._key,t,n,r):jP(this._dataReader,"WriteBatch.update",e._key,t),this._mutations.push(t.toMutation(e._key,Mw.exists(!0))),this},LN.prototype.delete=function(e){return this._verifyNotCommitted(),e=FN(e,this._firestore),this._mutations=this._mutations.concat(new nE(e._key,Mw.none())),this},LN.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,0<this._mutations.length?this._commitHandler(this._mutations):Promise.resolve()},LN.prototype._verifyNotCommitted=function(){if(this._committed)throw new lb(cb.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},LN);function LN(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=yP(e)}function MN(e){var t=this;return(t=RN.call(this)||this).firestore=e,t}function FN(e,t){if((e=na(e)).firestore!==t)throw new lb(cb.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var UN,qN=($i(BN,UN=Q),BN.prototype.convertBytes=function(e){return new tP(e)},BN.prototype.convertReference=function(e){return e=this.convertDocumentKey(e,this.firestore._databaseId),new Px(this.firestore,null,e)},BN);function BN(e){var t=this;return(t=UN.call(this)||this).firestore=e,t}function VN(e,t,n){e=Cx(e,Px);var r=Cx(e.firestore,Gx);return t=AN(e.converter,t,n),HN(r,[mP(yP(r),"setDoc",e._key,t,null!==e.converter,n).toMutation(e._key,Mw.none())])}function WN(e,t,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];e=Cx(e,Px);var o=Cx(e.firestore,Gx),a=yP(o);return HN(o,[("string"==typeof(t=na(t))||t instanceof eP?LP(a,"updateDoc",e._key,t,n,r):jP(a,"updateDoc",e._key,t)).toMutation(e._key,Mw.exists(!0))])}function zN(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];e=na(e);var r={includeMetadataChanges:!1},i=0;"object"!=typeof t[i]||zx(t[i])||(r=t[i],i++);var o,a,s,u,c,l,h={includeMetadataChanges:r.includeMetadataChanges};return zx(t[i])&&(o=t[i],t[i]=null===(r=o.next)||void 0===r?void 0:r.bind(o),t[i+1]=null===(r=o.error)||void 0===r?void 0:r.bind(o),t[i+2]=null===(r=o.complete)||void 0===r?void 0:r.bind(o)),e instanceof Px?(s=Cx(e.firestore,Gx),u=tw(e._key.path),l={next:function(n){t[i]&&t[i](KN(s,e,n))},error:t[i+1],complete:t[i+2]}):(a=Cx(e,Nx),s=Cx(a.firestore,Gx),u=a._query,c=new qN(s),l={next:function(e){t[i]&&t[i](new iN(s,c,a,e))},error:t[i+1],complete:t[i+2]},lN(e._query)),function(e,t,n){var r=this,i=new MO(l),o=new Vk(t,i,n);return e.asyncQueue.enqueueAndForget((function(){return Xi(r,void 0,void 0,(function(){var t;return Ji(this,(function(n){switch(n.label){case 0:return t=Uk,[4,tx(e)];case 1:return[2,t.apply(void 0,[n.sent(),o])]}}))}))})),function(){i.Wo(),e.asyncQueue.enqueueAndForget((function(){return Xi(r,void 0,void 0,(function(){var t;return Ji(this,(function(n){switch(n.label){case 0:return t=qk,[4,tx(e)];case 1:return[2,t.apply(void 0,[n.sent(),o])]}}))}))}))}}(Yx(s),u,h)}function HN(e,t){return function(e,t){var n=this,r=new jS;return e.asyncQueue.enqueueAndForget((function(){return Xi(n,void 0,void 0,(function(){var n;return Ji(this,(function(i){switch(i.label){case 0:return n=aO,[4,ex(e)];case 1:return[2,n.apply(void 0,[i.sent(),t,r])]}}))}))})),r.promise}(Yx(e),t)}function KN(e,t,n){var r=n.docs.get(t._key),i=new qN(e);return new nN(e,i,t._key,r,new tN(n.hasPendingWrites,n.fromCache),t.converter)}var GN,QN=(YN.prototype.get=function(e){var t=this,n=FN(e,this._firestore),r=new DN(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return mb();if((e=e[0]).isFoundDocument())return new QP(t._firestore,r,e.key,e,n.converter);if(e.isNoDocument())return new QP(t._firestore,r,n._key,null,n.converter);throw mb()}))},YN.prototype.set=function(e,t,n){return t=AN((e=FN(e,this._firestore)).converter,t,n),n=mP(this._dataReader,"Transaction.set",e._key,t,null!==e.converter,n),this._transaction.set(e._key,n),this},YN.prototype.update=function(e,t,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];return e=FN(e,this._firestore),t="string"==typeof(t=na(t))||t instanceof eP?LP(this._dataReader,"Transaction.update",e._key,t,n,r):jP(this._dataReader,"Transaction.update",e._key,t),this._transaction.update(e._key,t),this},YN.prototype.delete=function(e){return e=FN(e,this._firestore),this._transaction.delete(e._key),this},$i($N,GN=YN),$N.prototype.get=function(e){var t=this,n=FN(e,this._firestore),r=new qN(this._firestore);return GN.prototype.get.call(this,e).then((function(e){return new nN(t._firestore,r,n._key,e._document,new tN(!1,!1),n.converter)}))},$N);function $N(e,t){var n=this;return(n=GN.call(this,e,t)||this)._firestore=e,n}function YN(e,t){this._firestore=e,this._transaction=t,this._dataReader=yP(e)}function XN(){if("undefined"==typeof Uint8Array)throw new lb(cb.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function JN(){if("undefined"==typeof atob)throw new lb(cb.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var ZN,eA=(sA.fromBase64String=function(e){return JN(),new sA(tP.fromBase64String(e))},sA.fromUint8Array=function(e){return XN(),new sA(tP.fromUint8Array(e))},sA.prototype.toBase64=function(){return JN(),this._delegate.toBase64()},sA.prototype.toUint8Array=function(){return XN(),this._delegate.toUint8Array()},sA.prototype.isEqual=function(e){return this._delegate.isEqual(e._delegate)},sA.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},sA),tA=(aA.prototype.enableIndexedDbPersistence=function(e,t){return function(e,t){Zx(e=Cx(e,Gx));var n=Yx(e),r=e._freezeSettings();return Jx(n,e=new NO,new xO(e,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})},aA.prototype.enableMultiTabIndexedDbPersistence=function(e){return function(e){Zx(e=Cx(e,Gx));var t=Yx(e),n=e._freezeSettings();return Jx(t,e=new NO,new PO(e,n.cacheSizeBytes))}(e._delegate)},aA.prototype.clearIndexedDbPersistence=function(e){return function(e){var t=this;if(e._initialized&&!e._terminated)throw new lb(cb.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new jS;return e._queue.enqueueAndForgetEvenWhileRestricted((function(){return Xi(t,void 0,void 0,(function(){var t;return Ji(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(e){return Xi(this,void 0,void 0,(function(){var t;return Ji(this,(function(n){switch(n.label){case 0:return FS.yt()?(t=e+"main",[4,FS.delete(t)]):[2,Promise.resolve()];case 1:return n.sent(),[2]}}))}))}(CC(e._databaseId,e._persistenceKey))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return t=r.sent(),n.reject(t),[3,3];case 3:return[2]}}))}))})),n.promise}(e._delegate)},aA),nA=(Object.defineProperty(oA.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),oA.prototype.settings=function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||gb("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)},oA.prototype.useEmulator=function(e,t,n){!function(e,t,n,r){void 0===r&&(r={});var i,o=(e=Cx(e,xx))._getSettings();if("firestore.googleapis.com"!==o.host&&o.host!==t&&gb("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},o),{host:t+":"+n,ssl:!1})),r.mockUserToken){if("string"==typeof r.mockUserToken)a=r.mockUserToken,i=oI.MOCK_USER;else{var a=vo(r.mockUserToken,null===(n=e._app)||void 0===n?void 0:n.options.projectId);if(!(r=r.mockUserToken.sub||r.mockUserToken.user_id))throw new lb(cb.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");i=new oI(r)}e._credentials=new cx(new ix(a,i))}}(this._delegate,e,t,n=void 0===n?{}:n)},oA.prototype.enableNetwork=function(){return function(e){var t=this;return e.asyncQueue.enqueue((function(){return Xi(t,void 0,void 0,(function(){var t,n;return Ji(this,(function(r){switch(r.label){case 0:return[4,XO(e)];case 1:return t=r.sent(),[4,ZO(e)];case 2:return n=r.sent(),[2,(t.setNetworkEnabled(!0),(i=n).Or.delete(0),ck(i))]}var i}))}))}))}(Yx(Cx(this._delegate,Gx)))},oA.prototype.disableNetwork=function(){return function(e){var t=this;return e.asyncQueue.enqueue((function(){return Xi(t,void 0,void 0,(function(){var t,n;return Ji(this,(function(r){switch(r.label){case 0:return[4,XO(e)];case 1:return t=r.sent(),[4,ZO(e)];case 2:return n=r.sent(),[2,(t.setNetworkEnabled(!1),function(e){return Xi(this,void 0,void 0,(function(){var t;return Ji(this,(function(n){switch(n.label){case 0:return(t=e).Or.add(0),[4,lk(t)];case 1:return n.sent(),t.Br.set("Offline"),[2]}}))}))}(n))]}}))}))}))}(Yx(Cx(this._delegate,Gx)))},oA.prototype.enablePersistence=function(e){var t=!1,n=!1;return e&&wx("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this.Zc.enableMultiTabIndexedDbPersistence(this):this.Zc.enableIndexedDbPersistence(this,n)},oA.prototype.clearPersistence=function(){return this.Zc.clearIndexedDbPersistence(this)},oA.prototype.terminate=function(){return this.tu&&(this.tu._removeServiceInstance("firestore"),this.tu._removeServiceInstance("firestore-exp")),this._delegate._delete()},oA.prototype.waitForPendingWrites=function(){return function(e){var t=this,n=new jS;return e.asyncQueue.enqueueAndForget((function(){return Xi(t,void 0,void 0,(function(){var t;return Ji(this,(function(r){switch(r.label){case 0:return t=lO,[4,ex(e)];case 1:return[2,t.apply(void 0,[r.sent(),n])]}}))}))})),n.promise}(Yx(Cx(this._delegate,Gx)))},oA.prototype.onSnapshotsInSync=function(e){return function(e,t){var n=this,r=new MO(t);return e.asyncQueue.enqueueAndForget((function(){return Xi(n,void 0,void 0,(function(){var t;return Ji(this,(function(n){switch(n.label){case 0:return t=function(e,t){e.Gr.add(t),t.next()},[4,tx(e)];case 1:return[2,t.apply(void 0,[n.sent(),r])]}}))}))})),function(){r.Wo(),e.asyncQueue.enqueueAndForget((function(){return Xi(n,void 0,void 0,(function(){var t;return Ji(this,(function(n){switch(n.label){case 0:return t=function(e,t){e.Gr.delete(t)},[4,tx(e)];case 1:return[2,t.apply(void 0,[n.sent(),r])]}}))}))}))}}(Yx(Cx(this._delegate,Gx)),zx(e)?e:{next:e})},Object.defineProperty(oA.prototype,"app",{get:function(){if(!this.tu)throw new lb(cb.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.tu},enumerable:!1,configurable:!0}),oA.prototype.collection=function(e){try{return new IA(this,Fx(this._delegate,e))}catch(e){throw gA(e,"collection()","Firestore.collection()")}},oA.prototype.doc=function(e){try{return new pA(this,Ux(this._delegate,e))}catch(e){throw gA(e,"doc()","Firestore.doc()")}},oA.prototype.collectionGroup=function(e){try{return new SA(this,function(e,t){if(e=Cx(e,xx),bx("collectionGroup","collection id",t),0<=t.indexOf("/"))throw new lb(cb.INVALID_ARGUMENT,"Invalid collection ID '"+t+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new Nx(e,null,new Z_(Db.emptyPath(),t))}(this._delegate,e))}catch(e){throw gA(e,"collectionGroup()","Firestore.collectionGroup()")}},oA.prototype.runTransaction=function(e){var t,n=this;return function(e,t){var n=this,r=new jS;return e.asyncQueue.enqueueAndForget((function(){return Xi(n,void 0,void 0,(function(){var n;return Ji(this,(function(i){switch(i.label){case 0:return[4,YO(e).then((function(e){return e.datastore}))];case 1:return n=i.sent(),new qO(e.asyncQueue,n,t,r).run(),[2]}}))}))})),r.promise}(Yx(t=this._delegate),(function(r){return r=new QN(t,r),e(new uA(n,r))}))},oA.prototype.batch=function(){var e=this;return Yx(this._delegate),new cA(new jN(this._delegate,(function(t){return HN(e._delegate,t)})))},oA.prototype.loadBundle=function(e){throw new lb(cb.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},oA.prototype.namedQuery=function(e){throw new lb(cb.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},oA),rA=($i(iA,ZN=Q),iA.prototype.convertBytes=function(e){return new eA(new tP(e))},iA.prototype.convertReference=function(e){return e=this.convertDocumentKey(e,this.firestore._databaseId),pA.eu(e,this.firestore,null)},iA);function iA(e){var t=this;return(t=ZN.call(this)||this).firestore=e,t}function oA(e,t,n){var r=this;this._delegate=t,this.Zc=n,this.INTERNAL={delete:function(){return r.terminate()}},e instanceof ax||(this.tu=e)}function aA(){}function sA(e){this._delegate=e}var uA=(dA.prototype.get=function(e){var t=this,n=RA(e);return this._delegate.get(n).then((function(e){return new wA(t._firestore,new nN(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))}))},dA.prototype.set=function(e,t,n){return e=RA(e),n?(_x("Transaction.set",n),this._delegate.set(e,t,n)):this._delegate.set(e,t),this},dA.prototype.update=function(e,t,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var o=RA(e);return 2===arguments.length?this._delegate.update(o,t):(e=this._delegate).update.apply(e,to([o,t,n],r)),this},dA.prototype.delete=function(e){return e=RA(e),this._delegate.delete(e),this},dA),cA=(fA.prototype.set=function(e,t,n){return e=RA(e),n?(_x("WriteBatch.set",n),this._delegate.set(e,t,n)):this._delegate.set(e,t),this},fA.prototype.update=function(e,t,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var o=RA(e);return 2===arguments.length?this._delegate.update(o,t):(e=this._delegate).update.apply(e,to([o,t,n],r)),this},fA.prototype.delete=function(e){return e=RA(e),this._delegate.delete(e),this},fA.prototype.commit=function(){return this._delegate.commit()},fA),lA=(hA.prototype.fromFirestore=function(e,t){return e=new rN(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null),this._delegate.fromFirestore(new EA(this._firestore,e),null!=t?t:{})},hA.prototype.toFirestore=function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)},hA.nu=function(e,t){var n=hA.su,r=n.get(e);return r||(r=new WeakMap,n.set(e,r)),(n=r.get(t))||(n=new hA(e,new rA(e),t),r.set(t,n)),n},hA);function hA(e,t,n){this._firestore=e,this._userDataWriter=t,this._delegate=n}function fA(e){this._delegate=e}function dA(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new rA(e)}lA.su=new WeakMap;var pA=(vA.iu=function(e,t,n){if(e.length%2!=0)throw new lb(cb.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e.canonicalString()+" has "+e.length);return new vA(t,new Px(t._delegate,n,new Zb(e)))},vA.eu=function(e,t,n){return new vA(t,new Px(t._delegate,n,e))},Object.defineProperty(vA.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(vA.prototype,"parent",{get:function(){return new IA(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(vA.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),vA.prototype.collection=function(e){try{return new IA(this.firestore,Fx(this._delegate,e))}catch(e){throw gA(e,"collection()","DocumentReference.collection()")}},vA.prototype.isEqual=function(e){return(e=na(e))instanceof Px&&qx(this._delegate,e)},vA.prototype.set=function(e,t){t=_x("DocumentReference.set",t);try{return t?VN(this._delegate,e,t):VN(this._delegate,e)}catch(e){throw gA(e,"setDoc()","DocumentReference.set()")}},vA.prototype.update=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?WN(this._delegate,e):WN.apply(void 0,to([this._delegate,e,t],n))}catch(e){throw gA(e,"updateDoc()","DocumentReference.update()")}},vA.prototype.delete=function(){return HN(Cx((e=this._delegate).firestore,Gx),[new nE(e._key,Mw.none())]);var e},vA.prototype.onSnapshot=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=yA(t),i=mA(t,(function(t){return new wA(e.firestore,new nN(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}));return zN(this._delegate,r,i)},vA.prototype.get=function(e){var t=this;return("cache"===(null==e?void 0:e.source)?function(e){e=Cx(e,Px);var t=Cx(e.firestore,Gx),n=Yx(t),r=new qN(t);return function(e,t){var n=this,r=new jS;return e.asyncQueue.enqueueAndForget((function(){return Xi(n,void 0,void 0,(function(){var n;return Ji(this,(function(i){switch(i.label){case 0:return n=function(e,t,n){return Xi(this,void 0,void 0,(function(){var r,i;return Ji(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,(a=t,(s=e).persistence.runTransaction("read document","readonly",(function(e){return s.Mn.mn(e,a)})))];case 1:return(i=o.sent()).isFoundDocument()?n.resolve(i):i.isNoDocument()?n.resolve(null):n.reject(new lb(cb.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=o.sent(),i=Pk(r,"Failed to get document '"+t+" from cache"),n.reject(i),[3,3];case 3:return[2]}var a,s}))}))},[4,JO(e)];case 1:return[2,n.apply(void 0,[i.sent(),t,r])]}}))}))})),r.promise}(n,e._key).then((function(n){return new nN(t,r,e._key,n,new tN(null!==n&&n.hasLocalMutations,!0),e.converter)}))}:"server"===(null==e?void 0:e.source)?function(e){e=Cx(e,Px);var t=Cx(e.firestore,Gx);return nx(Yx(t),e._key,{source:"server"}).then((function(n){return KN(t,e,n)}))}:function(e){e=Cx(e,Px);var t=Cx(e.firestore,Gx);return nx(Yx(t),e._key).then((function(n){return KN(t,e,n)}))})(this._delegate).then((function(e){return new wA(t.firestore,new nN(t.firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,t._delegate.converter))}))},vA.prototype.withConverter=function(e){return new vA(this.firestore,e?this._delegate.withConverter(lA.nu(this.firestore,e)):this._delegate.withConverter(null))},vA);function vA(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new rA(e)}function gA(e,t,n){return e.message=e.message.replace(t,n),e}function yA(e){for(var t=0,n=e;t<n.length;t++){var r=n[t];if("object"==typeof r&&!zx(r))return r}return{}}function mA(e,t){var n;return{next:function(e){n.next&&n.next(t(e))},error:null===(e=(n=zx(e[0])?e[0]:zx(e[1])?e[1]:"function"==typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===e?void 0:e.bind(n),complete:null===(e=n.complete)||void 0===e?void 0:e.bind(n)}}var bA,_A,wA=(Object.defineProperty(AA.prototype,"ref",{get:function(){return new pA(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(AA.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(AA.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(AA.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),AA.prototype.data=function(e){return this._delegate.data(e)},AA.prototype.get=function(e,t){return this._delegate.get(e,t)},AA.prototype.isEqual=function(e){return cN(this._delegate,e._delegate)},AA),EA=($i(NA,_A=wA),NA.prototype.data=function(e){return this._delegate.data(e)},NA),SA=(PA.prototype.where=function(e,t,n){try{return new PA(this.firestore,hN(this._delegate,(r=n,i=t,o=JP("where",e),new yN(o,i,r))))}catch(e){throw gA(e,/(orderBy|where)\(\)/,"Query.$1()")}var r,i,o},PA.prototype.orderBy=function(e,t){try{return new PA(this.firestore,hN(this._delegate,(n=void 0===t?"asc":t,r=JP("orderBy",e),new mN(r,n))))}catch(e){throw gA(e,/(orderBy|where)\(\)/,"Query.$1()")}var n,r},PA.prototype.limit=function(e){try{return new PA(this.firestore,hN(this._delegate,(Ix("limit",t=e),new bN("limit",t,"F"))))}catch(e){throw gA(e,"limit()","Query.limit()")}var t},PA.prototype.limitToLast=function(e){try{return new PA(this.firestore,hN(this._delegate,(Ix("limitToLast",t=e),new bN("limitToLast",t,"L"))))}catch(e){throw gA(e,"limitToLast()","Query.limitToLast()")}var t},PA.prototype.startAt=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];try{return new PA(this.firestore,hN(this._delegate,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new _N("startAt",e,!0)}.apply(void 0,e)))}catch(e){throw gA(e,"startAt()","Query.startAt()")}},PA.prototype.startAfter=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];try{return new PA(this.firestore,hN(this._delegate,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new _N("startAfter",e,!1)}.apply(void 0,e)))}catch(e){throw gA(e,"startAfter()","Query.startAfter()")}},PA.prototype.endBefore=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];try{return new PA(this.firestore,hN(this._delegate,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new wN("endBefore",e,!0)}.apply(void 0,e)))}catch(e){throw gA(e,"endBefore()","Query.endBefore()")}},PA.prototype.endAt=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];try{return new PA(this.firestore,hN(this._delegate,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new wN("endAt",e,!1)}.apply(void 0,e)))}catch(e){throw gA(e,"endAt()","Query.endAt()")}},PA.prototype.isEqual=function(e){return Bx(this._delegate,e._delegate)},PA.prototype.get=function(e){var t=this;return("cache"===(null==e?void 0:e.source)?function(e){e=Cx(e,Nx);var t=Cx(e.firestore,Gx),n=Yx(t),r=new qN(t);return function(e,t){var n=this,r=new jS;return e.asyncQueue.enqueueAndForget((function(){return Xi(n,void 0,void 0,(function(){var n;return Ji(this,(function(i){switch(i.label){case 0:return n=function(e,t,n){return Xi(this,void 0,void 0,(function(){var r,i,o;return Ji(this,(function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,WC(e,t,!0)];case 1:return o=a.sent(),r=new Zk(t,o.Bn),i=r._o(o.documents),i=r.applyChanges(i,!1),n.resolve(i.snapshot),[3,3];case 2:return i=a.sent(),o=Pk(i,"Failed to execute query '"+t+" against cache"),n.reject(o),[3,3];case 3:return[2]}}))}))},[4,JO(e)];case 1:return[2,n.apply(void 0,[i.sent(),t,r])]}}))}))})),r.promise}(n,e._query).then((function(n){return new iN(t,r,e,n)}))}:"server"===(null==e?void 0:e.source)?function(e){e=Cx(e,Nx);var t=Cx(e.firestore,Gx),n=Yx(t),r=new qN(t);return rx(n,e._query,{source:"server"}).then((function(n){return new iN(t,r,e,n)}))}:function(e){e=Cx(e,Nx);var t=Cx(e.firestore,Gx),n=Yx(t),r=new qN(t);return lN(e._query),rx(n,e._query).then((function(n){return new iN(t,r,e,n)}))})(this._delegate).then((function(e){return new CA(t.firestore,new iN(t.firestore._delegate,t._userDataWriter,t._delegate,e._snapshot))}))},PA.prototype.onSnapshot=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=yA(t),i=mA(t,(function(t){return new CA(e.firestore,new iN(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return zN(this._delegate,r,i)},PA.prototype.withConverter=function(e){return new PA(this.firestore,e?this._delegate.withConverter(lA.nu(this.firestore,e)):this._delegate.withConverter(null))},PA),TA=(Object.defineProperty(xA.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(xA.prototype,"doc",{get:function(){return new EA(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(xA.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(xA.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),xA),CA=(Object.defineProperty(OA.prototype,"query",{get:function(){return new SA(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(OA.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(OA.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(OA.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(OA.prototype,"docs",{get:function(){var e=this;return this._delegate.docs.map((function(t){return new EA(e._firestore,t)}))},enumerable:!1,configurable:!0}),OA.prototype.docChanges=function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new TA(t._firestore,e)}))},OA.prototype.forEach=function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new EA(n._firestore,r))}))},OA.prototype.isEqual=function(e){return cN(this._delegate,e._delegate)},OA),IA=($i(kA,bA=SA),Object.defineProperty(kA.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(kA.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(kA.prototype,"parent",{get:function(){var e=this._delegate.parent;return e?new pA(this.firestore,e):null},enumerable:!1,configurable:!0}),kA.prototype.doc=function(e){try{return new pA(this.firestore,void 0===e?Ux(this._delegate):Ux(this._delegate,e))}catch(e){throw gA(e,"doc()","CollectionReference.doc()")}},kA.prototype.add=function(e){var t,n,r,i=this;return n=e,e=Cx((t=this._delegate).firestore,Gx),r=Ux(t),n=AN(t.converter,n),HN(e,[mP(yP(t.firestore),"addDoc",r._key,n,null!==t.converter,{}).toMutation(r._key,Mw.exists(!1))]).then((function(){return r})).then((function(e){return new pA(i.firestore,e)}))},kA.prototype.isEqual=function(e){return qx(this._delegate,e._delegate)},kA.prototype.withConverter=function(e){return new kA(this.firestore,e?this._delegate.withConverter(lA.nu(this.firestore,e)):this._delegate.withConverter(null))},kA);function kA(e,t){var n=this;return(n=bA.call(this,e,t)||this).firestore=e,n._delegate=t,n}function OA(e,t){this._firestore=e,this._delegate=t}function xA(e,t){this._firestore=e,this._delegate=t}function PA(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new rA(e)}function NA(){return null!==_A&&_A.apply(this,arguments)||this}function AA(e,t){this._firestore=e,this._delegate=t}function RA(e){return Cx(e,Px)}function DA(e){this._delegate=e}function jA(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._delegate=new(eP.bind.apply(eP,to([void 0],e)))}function LA(e){return t=this._delegate,n=e,r=Yx(t=Cx(t,Gx)),e=new Kx,function(e,t,r){var i,o=this,a=(i=n,t=GI(t),i=function(e){if(e instanceof Uint8Array)return LO(e,void 0);if(e instanceof ArrayBuffer)return LO(new Uint8Array(e),void 0);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof i?(new TextEncoder).encode(i):i),new FO(i,t));e.asyncQueue.enqueueAndForget((function(){return Xi(o,void 0,void 0,(function(){var t;return Ji(this,(function(n){switch(n.label){case 0:return t=CO,[4,ex(e)];case 1:return t.apply(void 0,[n.sent(),a,r]),[2]}}))}))}))}(r,t._databaseId,e),e;var t,n,r}function MA(e){var t=this,n=this._delegate;return function(e,t){var n=this;return e.asyncQueue.enqueue((function(){return Xi(n,void 0,void 0,(function(){var n;return Ji(this,(function(r){switch(r.label){case 0:return n=function(e,t){var n=e;return n.persistence.runTransaction("Get named query","readonly",(function(e){return n.Ke.getNamedQuery(e,t)}))},[4,JO(e)];case 1:return[2,n.apply(void 0,[r.sent(),t])]}}))}))}))}(Yx(n=Cx(n,Gx)),e).then((function(e){return e?new Nx(n,null,e.query):null})).then((function(e){return e?new SA(t,e):null}))}jA.documentId=function(){return new jA(Lb.keyField().canonicalString())},jA.prototype.isEqual=function(e){return(e=na(e))instanceof eP&&this._delegate._internalPath.isEqual(e._internalPath)},G=jA,DA.serverTimestamp=function(){var e=new kP("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new DA(e)},DA.delete=function(){var e=new _P("deleteField");return e._methodName="FieldValue.delete",new DA(e)},DA.arrayUnion=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new OP("arrayUnion",e)}.apply(void 0,e);return n._methodName="FieldValue.arrayUnion",new DA(n)},DA.arrayRemove=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new xP("arrayRemove",e)}.apply(void 0,e);return n._methodName="FieldValue.arrayRemove",new DA(n)},DA.increment=function(e){return(e=new PP("increment",e))._methodName="FieldValue.increment",new DA(e)},DA.prototype.isEqual=function(e){return this._delegate.isEqual(e._delegate)};var FA,UA,qA={Firestore:nA,GeoPoint:rP,Timestamp:Cb,Blob:eA,Transaction:uA,WriteBatch:cA,DocumentReference:pA,DocumentSnapshot:wA,Query:SA,QueryDocumentSnapshot:EA,QuerySnapshot:CA,CollectionReference:IA,FieldPath:G,FieldValue:Q=DA,setLogLevel:function(e){hb.setLogLevel(e)},CACHE_SIZE_UNLIMITED:-1};(FA=Da).INTERNAL.registerComponent(new ra("firestore",(function(e){var t=e.getProvider("app").getImmediate();return e=e.getProvider("auth-internal"),new nA(t,new Gx(t,e),new tA)}),"PUBLIC").setServiceProps(Object.assign({},qA))),FA.registerVersion("@firebase/firestore","2.4.1"),(UA=nA).prototype.loadBundle=LA,UA.prototype.namedQuery=MA;var BA,VA={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},WA=($i(zA,BA=Error),zA);function zA(e,t,n){return t=BA.call(this,t)||this,Object.setPrototypeOf(t,zA.prototype),t.code=e,t.details=n,t}function HA(e,t,n){var r=function(e){if(200<=e&&e<300)return"ok";switch(e){case 0:case 500:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}(e),i=r;e=void 0;try{var o=t&&t.error;if(o){var a=o.status;if("string"==typeof a){if(!VA[a])return new WA("internal","internal");r=VA[a],i=a}var s=o.message;"string"==typeof s&&(i=s),void 0!==(e=o.details)&&(e=n.decode(e))}}catch(e){}return"ok"===r?null:new WA(r,i,e)}var KA=(GA.prototype.getAuthToken=function(){return Xi(this,void 0,void 0,(function(){var e;return Ji(this,(function(t){switch(t.label){case 0:if(!this.auth)return[2,void 0];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,this.auth.getToken()];case 2:return(e=t.sent())?[2,e.accessToken]:[2,void 0];case 3:return t.sent(),[2,void 0];case 4:return[2]}}))}))},GA.prototype.getInstanceIdToken=function(){return Xi(this,void 0,void 0,(function(){return Ji(this,(function(e){switch(e.label){case 0:if(!this.messaging||!("Notification"in self)||"granted"!==Notification.permission)return[2,void 0];e.label=1;case 1:return e.trys.push([1,3,,4]),[4,this.messaging.getToken()];case 2:return[2,e.sent()];case 3:return e.sent(),[2,void 0];case 4:return[2]}}))}))},GA.prototype.getContext=function(){return Xi(this,void 0,void 0,(function(){var e,t;return Ji(this,(function(n){switch(n.label){case 0:return[4,this.getAuthToken()];case 1:return e=n.sent(),[4,this.getInstanceIdToken()];case 2:return t=n.sent(),[2,{authToken:e,instanceIdToken:t}]}}))}))},GA);function GA(e,t){var n=this;this.auth=null,this.messaging=null,this.auth=e.getImmediate({optional:!0}),this.messaging=t.getImmediate({optional:!0}),this.auth||e.get().then((function(e){return n.auth=e}),(function(){})),this.messaging||t.get().then((function(e){return n.messaging=e}),(function(){}))}function QA(e,t){var n,r={};for(n in e)e.hasOwnProperty(n)&&(r[n]=t(e[n]));return r}var $A=(YA.prototype.encode=function(e){var t=this;if(null==e)return null;if("number"==typeof(e=e instanceof Number?e.valueOf():e)&&isFinite(e))return e;if(!0===e||!1===e)return e;if("[object String]"===Object.prototype.toString.call(e))return e;if(e instanceof Date)return e.toISOString();if(Array.isArray(e))return e.map((function(e){return t.encode(e)}));if("function"==typeof e||"object"==typeof e)return QA(e,(function(e){return t.encode(e)}));throw new Error("Data cannot be encoded in JSON: "+e)},YA.prototype.decode=function(e){var t=this;if(null==e)return e;if(e["@type"])switch(e["@type"]){case"type.googleapis.com/google.protobuf.Int64Value":case"type.googleapis.com/google.protobuf.UInt64Value":var n=Number(e.value);if(isNaN(n))throw new Error("Data cannot be decoded from JSON: "+e);return n;default:throw new Error("Data cannot be decoded from JSON: "+e)}return Array.isArray(e)?e.map((function(e){return t.decode(e)})):"function"==typeof e||"object"==typeof e?QA(e,(function(e){return t.decode(e)})):e},YA);function YA(){}var XA,JA,ZA,eR=(Object.defineProperty(tR.prototype,"app",{get:function(){return this.app_},enumerable:!1,configurable:!0}),tR.prototype._url=function(e){var t=this.app_.options.projectId;return null===this.emulatorOrigin?null!==this.customDomain?this.customDomain+"/"+e:"https://"+this.region+"-"+t+".cloudfunctions.net/"+e:this.emulatorOrigin+"/"+t+"/"+this.region+"/"+e},tR.prototype.useEmulator=function(e,t){this.emulatorOrigin="http://"+e+":"+t},tR.prototype.useFunctionsEmulator=function(e){this.emulatorOrigin=e},tR.prototype.httpsCallable=function(e,t){var n=this;return function(r){return n.call(e,r,t||{})}},tR.prototype.postJSON=function(e,t,n){return Xi(this,void 0,void 0,(function(){var r,i,o;return Ji(this,(function(a){switch(a.label){case 0:return n["Content-Type"]="application/json",[4,this.getAppCheckToken()];case 1:null!==(r=a.sent())&&(n["X-Firebase-AppCheck"]=r),a.label=2;case 2:return a.trys.push([2,4,,5]),[4,this.fetchImpl(e,{method:"POST",body:JSON.stringify(t),headers:n})];case 3:return i=a.sent(),[3,5];case 4:return a.sent(),[2,{status:0,json:null}];case 5:o=null,a.label=6;case 6:return a.trys.push([6,8,,9]),[4,i.json()];case 7:return o=a.sent(),[3,9];case 8:return a.sent(),[3,9];case 9:return[2,{status:i.status,json:o}]}}))}))},tR.prototype.getAppCheckToken=function(){return Xi(this,void 0,void 0,(function(){var e;return Ji(this,(function(t){switch(t.label){case 0:return(e=this.appCheckProvider.getImmediate({optional:!0}))?[4,e.getToken()]:[3,2];case 1:return[2,t.sent().token];case 2:return[2,null]}}))}))},tR.prototype.call=function(e,t,n){return Xi(this,void 0,void 0,(function(){var r,i,o,a,s;return Ji(this,(function(u){switch(u.label){case 0:return r=this._url(e),t=this.serializer.encode(t),i={data:t},o={},[4,this.contextProvider.getContext()];case 1:return(a=u.sent()).authToken&&(o.Authorization="Bearer "+a.authToken),a.instanceIdToken&&(o["Firebase-Instance-ID-Token"]=a.instanceIdToken),s=n.timeout||7e4,c=s,h=new Promise((function(e,t){l=setTimeout((function(){t(new WA("deadline-exceeded","deadline-exceeded"))}),c)})),s=(a={timer:l,promise:h}).timer,a=a.promise,[4,Promise.race([nR(s,this.postJSON(r,i,o)),a,nR(s,this.cancelAllRequests)])];case 2:if(!(a=u.sent()))throw new WA("cancelled","Firebase Functions instance was deleted.");if(s=HA(a.status,a.json,this.serializer))throw s;if(!a.json)throw new WA("internal","Response is not valid JSON object.");if(void 0===(s=void 0===(s=a.json.data)?a.json.result:s))throw new WA("internal","Response is missing data field.");return[2,{data:this.serializer.decode(s)}]}var c,l,h}))}))},tR);function tR(e,t,n,r,i,o){var a=this;void 0===i&&(i="us-central1"),this.app_=e,this.appCheckProvider=r,this.fetchImpl=o,this.serializer=new $A,this.emulatorOrigin=null,this.INTERNAL={delete:function(){return Promise.resolve(a.deleteService())}},this.contextProvider=new KA(t,n),this.cancelAllRequests=new Promise((function(e){a.deleteService=function(){return e()}}));try{var s=new URL(i);this.customDomain=s.origin,this.region="us-central1"}catch(e){this.customDomain=null,this.region=i}}function nR(e,t){return Xi(this,void 0,void 0,(function(){var n;return Ji(this,(function(r){switch(r.label){case 0:return[4,t];case 1:return n=r.sent(),clearTimeout(e),[2,n]}}))}))}function rR(e){return new Promise((function(t,n){e.onsuccess=function(){t(e.result)},e.onerror=function(){n(e.error)}}))}function iR(e,t,n){var r,i=new Promise((function(i,o){rR(r=e[t].apply(e,n)).then(i,o)}));return i.request=r,i}function oR(e,t,n){n.forEach((function(n){Object.defineProperty(e.prototype,n,{get:function(){return this[t][n]},set:function(e){this[t][n]=e}})}))}function aR(e,t,n,r){r.forEach((function(r){r in n.prototype&&(e.prototype[r]=function(){return iR(this[t],r,arguments)})}))}function sR(e,t,n,r){r.forEach((function(r){r in n.prototype&&(e.prototype[r]=function(){return this[t][r].apply(this[t],arguments)})}))}function uR(e,t,n,r){r.forEach((function(r){r in n.prototype&&(e.prototype[r]=function(){return e=this[t],(n=iR(e,r,arguments)).then((function(e){if(e)return new lR(e,n.request)}));var e,n})}))}function cR(e){this._index=e}function lR(e,t){this._cursor=e,this._request=t}function hR(e){this._store=e}function fR(e){this._tx=e,this.complete=new Promise((function(t,n){e.oncomplete=function(){t()},e.onerror=function(){n(e.error)},e.onabort=function(){n(e.error)}}))}function dR(e,t,n){this._db=e,this.oldVersion=t,this.transaction=new fR(n)}function pR(e){this._db=e}function vR(e,t,n){var r=(t=iR(indexedDB,"open",[e,t])).request;return r&&(r.onupgradeneeded=function(e){n&&n(new dR(r.result,e.oldVersion,r.transaction))}),t.then((function(e){return new pR(e)}))}function gR(e){return iR(indexedDB,"deleteDatabase",[e])}XA=Da,JA=fetch.bind(self),ZA={Functions:eR},XA.INTERNAL.registerComponent(new ra("functions",(function(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal");return t=e.getProvider("app-check-internal"),e=e.getProvider("messaging"),new eR(r,i,e,t,n,JA)}),"PUBLIC").setServiceProps(ZA).setMultipleInstances(!0)),Da.registerVersion("@firebase/functions","0.6.16"),oR(cR,"_index",["name","keyPath","multiEntry","unique"]),aR(cR,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),uR(cR,"_index",IDBIndex,["openCursor","openKeyCursor"]),oR(lR,"_cursor",["direction","key","primaryKey","value"]),aR(lR,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach((function(e){e in IDBCursor.prototype&&(lR.prototype[e]=function(){var t=this,n=arguments;return Promise.resolve().then((function(){return t._cursor[e].apply(t._cursor,n),rR(t._request).then((function(e){if(e)return new lR(e,t._request)}))}))})})),hR.prototype.createIndex=function(){return new cR(this._store.createIndex.apply(this._store,arguments))},hR.prototype.index=function(){return new cR(this._store.index.apply(this._store,arguments))},oR(hR,"_store",["name","keyPath","indexNames","autoIncrement"]),aR(hR,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),uR(hR,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),sR(hR,"_store",IDBObjectStore,["deleteIndex"]),fR.prototype.objectStore=function(){return new hR(this._tx.objectStore.apply(this._tx,arguments))},oR(fR,"_tx",["objectStoreNames","mode"]),sR(fR,"_tx",IDBTransaction,["abort"]),dR.prototype.createObjectStore=function(){return new hR(this._db.createObjectStore.apply(this._db,arguments))},oR(dR,"_db",["name","version","objectStoreNames"]),sR(dR,"_db",IDBDatabase,["deleteObjectStore","close"]),pR.prototype.transaction=function(){return new fR(this._db.transaction.apply(this._db,arguments))},oR(pR,"_db",["name","version","objectStoreNames"]),sR(pR,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach((function(e){[hR,cR].forEach((function(t){e in t.prototype&&(t.prototype[e.replace("open","iterate")]=function(){var t=(r=arguments,Array.prototype.slice.call(r)),n=t[t.length-1],r=this._store||this._index,i=r[e].apply(r,t.slice(0,-1));i.onsuccess=function(){n(i.result)}})}))})),[cR,hR].forEach((function(e){e.prototype.getAll||(e.prototype.getAll=function(e,t){var n=this,r=[];return new Promise((function(i){n.iterateCursor(e,(function(e){e?(r.push(e.value),void 0===t||r.length!=t?e.continue():i(r)):i(r)}))}))})}));var yR=1e4,mR="w:0.4.32",bR="FIS_v2",_R="https://firebaseinstallations.googleapis.com/v1",wR=36e5,ER=((G={})["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',G["not-registered"]="Firebase Installation is not registered.",G["installation-not-found"]="Firebase Installation not found.",G["request-failed"]='{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',G["app-offline"]="Could not process request. Application offline.",G["delete-pending-registration"]="Can't delete installation while there is a pending registration request.",new xo("installations","Installations",Q=G));function SR(e){return e instanceof ko&&e.code.includes("request-failed")}function TR(e){return e=e.projectId,_R+"/projects/"+e+"/installations"}function CR(e){return{token:e.token,requestStatus:2,expiresIn:(e=e.expiresIn,Number(e.replace("s","000"))),creationTime:Date.now()}}function IR(e,t){return Xi(this,void 0,void 0,(function(){var n;return Ji(this,(function(r){switch(r.label){case 0:return[4,t.json()];case 1:return n=(n=r.sent()).error,[2,ER.create("request-failed",{requestName:e,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})]}}))}))}function kR(e){return e=e.apiKey,new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}function OR(e,t){return t=t.refreshToken,(e=kR(e)).append("Authorization",bR+" "+t),e}function xR(e){return Xi(this,void 0,void 0,(function(){var t;return Ji(this,(function(n){switch(n.label){case 0:return[4,e()];case 1:return 500<=(t=n.sent()).status&&t.status<600?[2,e()]:[2,t]}}))}))}function PR(e){return new Promise((function(t){setTimeout(t,e)}))}var NR=/^[cdef][\w-]{21}$/,AR="";function RR(){try{var e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;var t=function(e){return btoa(String.fromCharCode.apply(String,to([],eo(e)))).replace(/\+/g,"-").replace(/\//g,"_")}(e).substr(0,22);return NR.test(t)?t:AR}catch(e){return AR}}function DR(e){return e.appName+"!"+e.appId}var jR=new Map;function LR(e,t){MR(e=DR(e),t),function(e,t){var n=UR();n&&n.postMessage({key:e,fid:t}),qR()}(e,t)}function MR(e,t){var n,r;if(e=jR.get(e))try{for(var i=Zi(e),o=i.next();!o.done;o=i.next())(0,o.value)(t)}catch(e){n={error:e}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}}var FR=null;function UR(){return!FR&&"BroadcastChannel"in self&&((FR=new BroadcastChannel("[Firebase] FID Change")).onmessage=function(e){MR(e.data.key,e.data.fid)}),FR}function qR(){0===jR.size&&FR&&(FR.close(),FR=null)}var BR,VR="firebase-installations-database",WR=1,zR="firebase-installations-store",HR=null;function KR(){return HR=HR||vR(VR,WR,(function(e){0===e.oldVersion&&e.createObjectStore(zR)}))}function GR(e,t){return Xi(this,void 0,void 0,(function(){var n,r,i,o;return Ji(this,(function(a){switch(a.label){case 0:return n=DR(e),[4,KR()];case 1:return i=a.sent(),r=i.transaction(zR,"readwrite"),[4,(i=r.objectStore(zR)).get(n)];case 2:return o=a.sent(),[4,i.put(t,n)];case 3:return a.sent(),[4,r.complete];case 4:return a.sent(),o&&o.fid===t.fid||LR(e,t.fid),[2,t]}}))}))}function QR(e){return Xi(this,void 0,void 0,(function(){var t,n;return Ji(this,(function(r){switch(r.label){case 0:return t=DR(e),[4,KR()];case 1:return[4,(n=(n=r.sent()).transaction(zR,"readwrite")).objectStore(zR).delete(t)];case 2:return r.sent(),[4,n.complete];case 3:return r.sent(),[2]}}))}))}function $R(e,t){return Xi(this,void 0,void 0,(function(){var n,r,i,o,a;return Ji(this,(function(s){switch(s.label){case 0:return n=DR(e),[4,KR()];case 1:return i=s.sent(),r=i.transaction(zR,"readwrite"),[4,(i=r.objectStore(zR)).get(n)];case 2:return o=s.sent(),void 0!==(a=t(o))?[3,4]:[4,i.delete(n)];case 3:return s.sent(),[3,6];case 4:return[4,i.put(a,n)];case 5:s.sent(),s.label=6;case 6:return[4,r.complete];case 7:return s.sent(),!a||o&&o.fid===a.fid||LR(e,a.fid),[2,a]}}))}))}function YR(e){return Xi(this,void 0,void 0,(function(){var t,n,r;return Ji(this,(function(i){switch(i.label){case 0:return[4,$R(e,(function(n){return n=JR(n||{fid:RR(),registrationStatus:0}),n=function(e,t){return 0!==t.registrationStatus?1===t.registrationStatus?{installationEntry:t,registrationPromise:function(e){return Xi(this,void 0,void 0,(function(){var t,n,r;return Ji(this,(function(i){switch(i.label){case 0:return[4,XR(e)];case 1:t=i.sent(),i.label=2;case 2:return 1!==t.registrationStatus?[3,5]:[4,PR(100)];case 3:return i.sent(),[4,XR(e)];case 4:return t=i.sent(),[3,2];case 5:return 0!==t.registrationStatus?[3,7]:[4,YR(e)];case 6:return r=i.sent(),n=r.installationEntry,(r=r.registrationPromise)?[2,r]:[2,n];case 7:return[2,t]}}))}))}(e)}:{installationEntry:t}:navigator.onLine?(e=function(e,t){return Xi(this,void 0,void 0,(function(){var n,r;return Ji(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,7]),[4,function(e,t){var n=t.fid;return Xi(this,void 0,void 0,(function(){var t,r,i,o,a;return Ji(this,(function(s){switch(s.label){case 0:return t=TR(e),r=kR(e),a={fid:n,authVersion:bR,appId:e.appId,sdkVersion:mR},i={method:"POST",headers:r,body:JSON.stringify(a)},[4,xR((function(){return fetch(t,i)}))];case 1:return(o=s.sent()).ok?[4,o.json()]:[3,3];case 2:return[2,{fid:(a=s.sent()).fid||n,registrationStatus:2,refreshToken:a.refreshToken,authToken:CR(a.authToken)}];case 3:return[4,IR("Create Installation",o)];case 4:throw s.sent()}}))}))}(e,t)];case 1:return n=i.sent(),[2,GR(e,n)];case 2:return SR(r=i.sent())&&409===r.customData.serverCode?[4,QR(e)]:[3,4];case 3:return i.sent(),[3,6];case 4:return[4,GR(e,{fid:t.fid,registrationStatus:0})];case 5:i.sent(),i.label=6;case 6:throw r;case 7:return[2]}}))}))}(e,t={fid:t.fid,registrationStatus:1,registrationTime:Date.now()}),{installationEntry:t,registrationPromise:e}):{installationEntry:t,registrationPromise:Promise.reject(ER.create("app-offline"))}}(e,n),t=n.registrationPromise,n.installationEntry}))];case 1:return(n=i.sent()).fid!==AR?[3,3]:(r={},[4,t]);case 2:return[2,(r.installationEntry=i.sent(),r)];case 3:return[2,{installationEntry:n,registrationPromise:t}]}}))}))}function XR(e){return $R(e,(function(e){if(!e)throw ER.create("installation-not-found");return JR(e)}))}function JR(e){return 1===(t=e).registrationStatus&&t.registrationTime+yR<Date.now()?{fid:e.fid,registrationStatus:0}:e;var t}function ZR(e,t){var n=e.appConfig,r=e.platformLoggerProvider;return Xi(this,void 0,void 0,(function(){var e,i,o,a,s;return Ji(this,(function(u){switch(u.label){case 0:return e=function(e,t){return t=t.fid,TR(e)+"/"+t+"/authTokens:generate"}(n,t),i=OR(n,t),(s=r.getImmediate({optional:!0}))&&i.append("x-firebase-client",s.getPlatformInfoString()),s={installation:{sdkVersion:mR}},o={method:"POST",headers:i,body:JSON.stringify(s)},[4,xR((function(){return fetch(e,o)}))];case 1:return(a=u.sent()).ok?[4,a.json()]:[3,3];case 2:return[2,CR(s=u.sent())];case 3:return[4,IR("Generate Auth Token",a)];case 4:throw u.sent()}}))}))}function eD(e,t){return void 0===t&&(t=!1),Xi(this,void 0,void 0,(function(){var n,r,i;return Ji(this,(function(o){switch(o.label){case 0:return[4,$R(e.appConfig,(function(r){if(!nD(r))throw ER.create("not-registered");var i,o=r.authToken;if(t||2!==(i=o).requestStatus||function(e){var t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+wR}(i)){if(1===o.requestStatus)return n=function(e,t){return Xi(this,void 0,void 0,(function(){var n;return Ji(this,(function(r){switch(r.label){case 0:return[4,tD(e.appConfig)];case 1:n=r.sent(),r.label=2;case 2:return 1!==n.authToken.requestStatus?[3,5]:[4,PR(100)];case 3:return r.sent(),[4,tD(e.appConfig)];case 4:return n=r.sent(),[3,2];case 5:return 0===(n=n.authToken).requestStatus?[2,eD(e,t)]:[2,n]}}))}))}(e,t),r;if(!navigator.onLine)throw ER.create("app-offline");return i=r,o={requestStatus:1,requestTime:Date.now()},o=Yi(Yi({},i),{authToken:o}),n=function(e,t){return Xi(this,void 0,void 0,(function(){var n,r,i;return Ji(this,(function(o){switch(o.label){case 0:return o.trys.push([0,3,,8]),[4,ZR(e,t)];case 1:return n=o.sent(),i=Yi(Yi({},t),{authToken:n}),[4,GR(e.appConfig,i)];case 2:return o.sent(),[2,n];case 3:return!SR(r=o.sent())||401!==r.customData.serverCode&&404!==r.customData.serverCode?[3,5]:[4,QR(e.appConfig)];case 4:return o.sent(),[3,7];case 5:return i=Yi(Yi({},t),{authToken:{requestStatus:0}}),[4,GR(e.appConfig,i)];case 6:o.sent(),o.label=7;case 7:throw r;case 8:return[2]}}))}))}(e,o),o}return r}))];case 1:return r=o.sent(),n?[4,n]:[3,3];case 2:return i=o.sent(),[3,4];case 3:i=r.authToken,o.label=4;case 4:return[2,i]}}))}))}function tD(e){return $R(e,(function(e){if(!nD(e))throw ER.create("not-registered");var t=e.authToken;return 1===t.requestStatus&&t.requestTime+yR<Date.now()?Yi(Yi({},e),{authToken:{requestStatus:0}}):e}))}function nD(e){return void 0!==e&&2===e.registrationStatus}function rD(e,t){return void 0===t&&(t=!1),Xi(this,void 0,void 0,(function(){return Ji(this,(function(n){switch(n.label){case 0:return[4,function(e){return Xi(this,void 0,void 0,(function(){var t;return Ji(this,(function(n){switch(n.label){case 0:return[4,YR(e)];case 1:return(t=n.sent().registrationPromise)?[4,t]:[3,3];case 2:n.sent(),n.label=3;case 3:return[2]}}))}))}(e.appConfig)];case 1:return n.sent(),[4,eD(e,t)];case 2:return[2,n.sent().token]}}))}))}function iD(e,t){return Xi(this,void 0,void 0,(function(){var n,r,i;return Ji(this,(function(o){switch(o.label){case 0:return n=function(e,t){return t=t.fid,TR(e)+"/"+t}(e,t),i=OR(e,t),r={method:"DELETE",headers:i},[4,xR((function(){return fetch(n,r)}))];case 1:return(i=o.sent()).ok?[3,3]:[4,IR("Delete Installation",i)];case 2:throw o.sent();case 3:return[2]}}))}))}function oD(e,t){var n=e.appConfig;return function(e,t){UR();var n=DR(e);(e=jR.get(n))||(e=new Set,jR.set(n,e)),e.add(t)}(n,t),function(){var e,r,i;r=t,i=DR(e=n),(e=jR.get(i))&&(e.delete(r),0===e.size&&jR.delete(i),qR())}}function aD(e){return ER.create("missing-app-config-values",{valueName:e})}(BR=Da).INTERNAL.registerComponent(new ra("installations",(function(e){var t=e.getProvider("app").getImmediate(),n={appConfig:function(e){var t,n;if(!e||!e.options)throw aD("App Configuration");if(!e.name)throw aD("App Name");try{for(var r=Zi(["projectId","apiKey","appId"]),i=r.next();!i.done;i=r.next()){var o=i.value;if(!e.options[o])throw aD(o)}}catch(e){t={error:e}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}(t),platformLoggerProvider:e.getProvider("platform-logger")};return{app:t,getId:function(){return function(e){return Xi(this,void 0,void 0,(function(){var t,n;return Ji(this,(function(r){switch(r.label){case 0:return[4,YR(e.appConfig)];case 1:return t=r.sent(),n=t.installationEntry,(t.registrationPromise||eD(e)).catch(console.error),[2,n.fid]}}))}))}(n)},getToken:function(e){return rD(n,e)},delete:function(){return function(e){return Xi(this,void 0,void 0,(function(){var t,n;return Ji(this,(function(r){switch(r.label){case 0:return[4,$R(t=e.appConfig,(function(e){if(!e||0!==e.registrationStatus)return e}))];case 1:if(!(n=r.sent()))return[3,6];if(1!==n.registrationStatus)return[3,2];throw ER.create("delete-pending-registration");case 2:if(2!==n.registrationStatus)return[3,6];if(navigator.onLine)return[3,3];throw ER.create("app-offline");case 3:return[4,iD(t,n)];case 4:return r.sent(),[4,QR(t)];case 5:r.sent(),r.label=6;case 6:return[2]}}))}))}(n)},onIdChange:function(e){return oD(n,e)}}}),"PUBLIC")),BR.registerVersion("@firebase/installations","0.4.32"),(G={})["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',G["only-available-in-window"]="This method is available in a Window context.",G["only-available-in-sw"]="This method is available in a service worker context.",G["permission-default"]="The notification permission was not granted and dismissed instead.",G["permission-blocked"]="The notification permission was not granted and blocked instead.",G["unsupported-browser"]="This browser doesn't support the API's required to use the firebase SDK.",G["failed-service-worker-registration"]="We are unable to register the default service worker. {$browserErrorMessage}",G["token-subscribe-failed"]="A problem occurred while subscribing the user to FCM: {$errorInfo}",G["token-subscribe-no-token"]="FCM returned no token when subscribing the user to push.",G["token-unsubscribe-failed"]="A problem occurred while unsubscribing the user from FCM: {$errorInfo}",G["token-update-failed"]="A problem occurred while updating the user from FCM: {$errorInfo}",G["token-update-no-token"]="FCM returned no token when updating the user to push.",G["use-sw-after-get-token"]="The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.",G["invalid-sw-registration"]="The input to useServiceWorker() must be a ServiceWorkerRegistration.",G["invalid-bg-handler"]="The input to setBackgroundMessageHandler() must be a function.",G["invalid-vapid-key"]="The public VAPID key must be a string.",G["use-vapid-key-after-get-token"]="The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used.";var sD,uD=new xo("messaging","Messaging",Q=G),cD="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",lD="https://fcmregistrations.googleapis.com/v1",hD="FCM_MSG",fD="google.c.a.c_id";function dD(e){return e=new Uint8Array(e),btoa(String.fromCharCode.apply(String,to([],eo(e)))).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}(G=sD=sD||{}).PUSH_RECEIVED="push-received",G.NOTIFICATION_CLICKED="notification-clicked";var pD="fcm_token_details_db",vD=5,gD="fcm_token_object_Store";function yD(e){return Xi(this,void 0,void 0,(function(){var t,n=this;return Ji(this,(function(r){switch(r.label){case 0:return"databases"in indexedDB?[4,indexedDB.databases()]:[3,2];case 1:if(!r.sent().map((function(e){return e.name})).includes(pD))return[2,null];r.label=2;case 2:return t=null,[4,vR(pD,vD,(function(r){return Xi(n,void 0,void 0,(function(){var n,i,o;return Ji(this,(function(a){switch(a.label){case 0:return r.oldVersion<2?[2]:r.objectStoreNames.contains(gD)?[4,(o=r.transaction.objectStore(gD)).index("fcmSenderId").get(e)]:[2];case 1:return n=a.sent(),[4,o.clear()];case 2:if(a.sent(),!n)return[2];if(2===r.oldVersion){if(!(i=n).auth||!i.p256dh||!i.endpoint)return[2];t={token:i.fcmToken,createTime:null!==(o=i.createTime)&&void 0!==o?o:Date.now(),subscriptionOptions:{auth:i.auth,p256dh:i.p256dh,endpoint:i.endpoint,swScope:i.swScope,vapidKey:"string"==typeof i.vapidKey?i.vapidKey:dD(i.vapidKey)}}}else(3===r.oldVersion||4===r.oldVersion)&&(t={token:(i=n).fcmToken,createTime:i.createTime,subscriptionOptions:{auth:dD(i.auth),p256dh:dD(i.p256dh),endpoint:i.endpoint,swScope:i.swScope,vapidKey:dD(i.vapidKey)}});return[2]}}))}))}))];case 3:return r.sent().close(),[4,gR(pD)];case 4:return r.sent(),[4,gR("fcm_vapid_details_db")];case 5:return r.sent(),[4,gR("undefined")];case 6:return r.sent(),[2,function(e){if(!e||!e.subscriptionOptions)return!1;var t=e.subscriptionOptions;return"number"==typeof e.createTime&&0<e.createTime&&"string"==typeof e.token&&0<e.token.length&&"string"==typeof t.auth&&0<t.auth.length&&"string"==typeof t.p256dh&&0<t.p256dh.length&&"string"==typeof t.endpoint&&0<t.endpoint.length&&"string"==typeof t.swScope&&0<t.swScope.length&&"string"==typeof t.vapidKey&&0<t.vapidKey.length}(t)?t:null]}}))}))}var mD="firebase-messaging-database",bD=1,_D="firebase-messaging-store",wD=null;function ED(){return wD=wD||vR(mD,bD,(function(e){0===e.oldVersion&&e.createObjectStore(_D)}))}function SD(e){return Xi(this,void 0,void 0,(function(){var t,n;return Ji(this,(function(r){switch(r.label){case 0:return t=CD(e),[4,ED()];case 1:return[4,r.sent().transaction(_D).objectStore(_D).get(t)];case 2:return(t=r.sent())?[2,t]:[3,3];case 3:return[4,yD(e.appConfig.senderId)];case 4:return(n=r.sent())?[4,TD(e,n)]:[3,6];case 5:return r.sent(),[2,n];case 6:return[2]}}))}))}function TD(e,t){return Xi(this,void 0,void 0,(function(){var n,r;return Ji(this,(function(i){switch(i.label){case 0:return n=CD(e),[4,ED()];case 1:return[4,(r=(r=i.sent()).transaction(_D,"readwrite")).objectStore(_D).put(t,n)];case 2:return i.sent(),[4,r.complete];case 3:return i.sent(),[2,t]}}))}))}function CD(e){return e.appConfig.appId}function ID(e,t){return Xi(this,void 0,void 0,(function(){var n,r;return Ji(this,(function(i){switch(i.label){case 0:return[4,OD(e)];case 1:n={method:"DELETE",headers:n=i.sent()},i.label=2;case 2:return i.trys.push([2,5,,6]),[4,fetch(kD(e.appConfig)+"/"+t,n)];case 3:return[4,i.sent().json()];case 4:if((n=i.sent()).error)throw r=n.error.message,uD.create("token-unsubscribe-failed",{errorInfo:r});return[3,6];case 5:throw r=i.sent(),uD.create("token-unsubscribe-failed",{errorInfo:r});case 6:return[2]}}))}))}function kD(e){return e=e.projectId,lD+"/projects/"+e+"/registrations"}function OD(e){var t=e.appConfig,n=e.installations;return Xi(this,void 0,void 0,(function(){var e;return Ji(this,(function(r){switch(r.label){case 0:return[4,n.getToken()];case 1:return e=r.sent(),[2,new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":"FIS "+e})]}}))}))}function xD(e){var t=e.p256dh,n=e.auth;return t={web:{endpoint:e.endpoint,auth:n,p256dh:t}},(e=e.vapidKey)!==cD&&(t.web.applicationPubKey=e),t}function PD(e,t,n){return Xi(this,void 0,void 0,(function(){var r,i,o;return Ji(this,(function(a){switch(a.label){case 0:if("granted"!==Notification.permission)throw uD.create("permission-blocked");return[4,function(e,t){return Xi(this,void 0,void 0,(function(){var n;return Ji(this,(function(r){switch(r.label){case 0:return[4,e.pushManager.getSubscription()];case 1:return(n=r.sent())?[2,n]:[2,e.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:function(e){e=(e+"=".repeat((4-e.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/");for(var t=atob(e),n=new Uint8Array(t.length),r=0;r<t.length;++r)n[r]=t.charCodeAt(r);return n}(t)})]}}))}))}(t,n)];case 1:return o=a.sent(),[4,SD(e)];case 2:return r=a.sent(),i={vapidKey:n,swScope:t.scope,endpoint:o.endpoint,auth:dD(o.getKey("auth")),p256dh:dD(o.getKey("p256dh"))},r?[3,3]:[2,AD(e,i)];case 3:if(s=r.subscriptionOptions,u=i.vapidKey===s.vapidKey,c=i.endpoint===s.endpoint,l=i.auth===s.auth,s=i.p256dh===s.p256dh,u&&c&&l&&s)return[3,8];a.label=4;case 4:return a.trys.push([4,6,,7]),[4,ID(e,r.token)];case 5:return a.sent(),[3,7];case 6:return o=a.sent(),console.warn(o),[3,7];case 7:return[2,AD(e,i)];case 8:return Date.now()>=r.createTime+6048e5?[2,function(e,t,n){return Xi(this,void 0,void 0,(function(){var r,i,o;return Ji(this,(function(a){switch(a.label){case 0:return a.trys.push([0,3,,5]),[4,function(e,t){return Xi(this,void 0,void 0,(function(){var n,r,i,o;return Ji(this,(function(a){switch(a.label){case 0:return[4,OD(e)];case 1:n=a.sent(),r=xD(t.subscriptionOptions),r={method:"PATCH",headers:n,body:JSON.stringify(r)},a.label=2;case 2:return a.trys.push([2,5,,6]),[4,fetch(kD(e.appConfig)+"/"+t.token,r)];case 3:return[4,a.sent().json()];case 4:return i=a.sent(),[3,6];case 5:throw o=a.sent(),uD.create("token-update-failed",{errorInfo:o});case 6:if(i.error)throw o=i.error.message,uD.create("token-update-failed",{errorInfo:o});if(!i.token)throw uD.create("token-update-no-token");return[2,i.token]}}))}))}(t,e)];case 1:return r=a.sent(),i=Yi(Yi({},e),{token:r,createTime:Date.now()}),[4,TD(t,i)];case 2:return a.sent(),[2,r];case 3:return o=a.sent(),[4,ND(t,n)];case 4:throw a.sent(),o;case 5:return[2]}}))}))}({token:r.token,createTime:Date.now(),subscriptionOptions:i},e,t)]:[2,r.token];case 9:return[2]}var s,u,c,l}))}))}function ND(e,t){return Xi(this,void 0,void 0,(function(){var n;return Ji(this,(function(r){switch(r.label){case 0:return[4,SD(e)];case 1:return(n=r.sent())?[4,ID(e,n.token)]:[3,4];case 2:return r.sent(),[4,function(e){return Xi(this,void 0,void 0,(function(){var t,n;return Ji(this,(function(r){switch(r.label){case 0:return t=CD(e),[4,ED()];case 1:return[4,(n=(n=r.sent()).transaction(_D,"readwrite")).objectStore(_D).delete(t)];case 2:return r.sent(),[4,n.complete];case 3:return r.sent(),[2]}}))}))}(e)];case 3:r.sent(),r.label=4;case 4:return[4,t.pushManager.getSubscription()];case 5:return(n=r.sent())?[2,n.unsubscribe()]:[2,!0]}}))}))}function AD(e,t){return Xi(this,void 0,void 0,(function(){var n;return Ji(this,(function(r){switch(r.label){case 0:return[4,function(e,t){return Xi(this,void 0,void 0,(function(){var n,r,i,o;return Ji(this,(function(a){switch(a.label){case 0:return[4,OD(e)];case 1:n=a.sent(),r=xD(t),r={method:"POST",headers:n,body:JSON.stringify(r)},a.label=2;case 2:return a.trys.push([2,5,,6]),[4,fetch(kD(e.appConfig),r)];case 3:return[4,a.sent().json()];case 4:return i=a.sent(),[3,6];case 5:throw o=a.sent(),uD.create("token-subscribe-failed",{errorInfo:o});case 6:if(i.error)throw o=i.error.message,uD.create("token-subscribe-failed",{errorInfo:o});if(!i.token)throw uD.create("token-subscribe-no-token");return[2,i.token]}}))}))}(e,t)];case 1:return n={token:n=r.sent(),createTime:Date.now(),subscriptionOptions:t},[4,TD(e,n)];case 2:return r.sent(),[2,n.token]}}))}))}function RD(e){return"object"==typeof e&&e&&fD in e}function DD(e){return new Promise((function(t){setTimeout(t,e)}))}var jD=(Object.defineProperty(LD.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),LD.prototype.setBackgroundMessageHandler=function(e){if(this.isOnBackgroundMessageUsed=!1,!e||"function"!=typeof e)throw uD.create("invalid-bg-handler");this.bgMessageHandler=e},LD.prototype.onBackgroundMessage=function(e){var t=this;return this.isOnBackgroundMessageUsed=!0,this.bgMessageHandler=e,function(){t.bgMessageHandler=null}},LD.prototype.getToken=function(){var e;return Xi(this,void 0,void 0,(function(){var t;return Ji(this,(function(n){switch(n.label){case 0:return this.vapidKey?[3,2]:[4,SD(this.firebaseDependencies)];case 1:t=n.sent(),this.vapidKey=null!==(e=null===(e=null==t?void 0:t.subscriptionOptions)||void 0===e?void 0:e.vapidKey)&&void 0!==e?e:cD,n.label=2;case 2:return[2,PD(this.firebaseDependencies,self.registration,this.vapidKey)]}}))}))},LD.prototype.deleteToken=function(){return ND(this.firebaseDependencies,self.registration)},LD.prototype.requestPermission=function(){throw uD.create("only-available-in-window")},LD.prototype.usePublicVapidKey=function(e){if(null!==this.vapidKey)throw uD.create("use-vapid-key-after-get-token");if("string"!=typeof e||0===e.length)throw uD.create("invalid-vapid-key");this.vapidKey=e},LD.prototype.useServiceWorker=function(){throw uD.create("only-available-in-window")},LD.prototype.onMessage=function(){throw uD.create("only-available-in-window")},LD.prototype.onTokenRefresh=function(){throw uD.create("only-available-in-window")},LD.prototype.onPush=function(e){return Xi(this,void 0,void 0,(function(){var t,n,r;return Ji(this,(function(i){switch(i.label){case 0:return(r=function(e){if(!(e=e.data))return null;try{return e.json()}catch(e){return null}}(e))?[4,MD()]:(console.debug("FirebaseMessaging: failed to get parsed MessagePayload from the PushEvent. Skip handling the push."),[2]);case 1:return(t=i.sent()).some((function(e){return"visible"===e.visibilityState&&!e.url.startsWith("chrome-extension://")}))?[2,function(e,t){var n,r;t.isFirebaseMessaging=!0,t.messageType=sD.PUSH_RECEIVED;try{for(var i=Zi(e),o=i.next();!o.done;o=i.next())o.value.postMessage(t)}catch(e){n={error:e}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}}(t,r)]:(n=!1,r.notification?[4,function(e){var t=e.actions,n=Notification.maxActions;return t&&n&&t.length>n&&console.warn("This browser only supports "+n+" actions. The remaining actions will not be displayed."),self.registration.showNotification(null!==(n=e.title)&&void 0!==n?n:"",e)}(((c=Yi({},(s=r).notification)).data=((u={})[hD]=s,u),c))]:[3,3]);case 2:i.sent(),n=!0,i.label=3;case 3:return!0===n&&!1===this.isOnBackgroundMessageUsed?[2]:(this.bgMessageHandler&&(s=a={from:(o=r).from,collapseKey:o.collapse_key,messageId:o.fcm_message_id},(u=o).notification&&(s.notification={},(c=u.notification.title)&&(s.notification.title=c),(c=u.notification.body)&&(s.notification.body=c),(u=u.notification.image)&&(s.notification.image=u)),s=a,(u=o).data&&(s.data=u.data),s=a,(u=o).fcmOptions&&(s.fcmOptions={},(o=u.fcmOptions.link)&&(s.fcmOptions.link=o),(u=u.fcmOptions.analytics_label)&&(s.fcmOptions.analyticsLabel=u)),r=a,"function"==typeof this.bgMessageHandler?this.bgMessageHandler(r):this.bgMessageHandler.next(r)),[4,DD(1e3)]);case 4:return i.sent(),[2]}var o,a,s,u,c}))}))},LD.prototype.onSubChange=function(e){var t;return Xi(this,void 0,void 0,(function(){var n;return Ji(this,(function(r){switch(r.label){case 0:return e.newSubscription?[3,2]:[4,ND(this.firebaseDependencies,self.registration)];case 1:case 5:return r.sent(),[2];case 2:return[4,SD(this.firebaseDependencies)];case 3:return n=r.sent(),[4,ND(this.firebaseDependencies,self.registration)];case 4:return r.sent(),[4,PD(this.firebaseDependencies,self.registration,null!==(t=null===(t=null==n?void 0:n.subscriptionOptions)||void 0===t?void 0:t.vapidKey)&&void 0!==t?t:cD)]}}))}))},LD.prototype.onNotificationClick=function(e){var t;return Xi(this,void 0,void 0,(function(){var n,r,i,o,a;return Ji(this,(function(s){switch(s.label){case 0:return(n=null===(t=null===(t=e.notification)||void 0===t?void 0:t.data)||void 0===t?void 0:t[hD])?e.action?[2]:(e.stopImmediatePropagation(),e.notification.close(),(r=function(e){var t,n=null!==(t=null===(t=e.fcmOptions)||void 0===t?void 0:t.link)&&void 0!==t?t:null===(n=e.notification)||void 0===n?void 0:n.click_action;return n||(RD(e.data)?self.location.origin:null)}(n))?(i=new URL(r,self.location.href),o=new URL(self.location.origin),i.host!==o.host?[2]:[4,function(e){return Xi(this,void 0,void 0,(function(){var t,n,r,i,o,a,s;return Ji(this,(function(u){switch(u.label){case 0:return[4,MD()];case 1:t=u.sent();try{for(n=Zi(t),r=n.next();!r.done;r=n.next())if(i=r.value,o=new URL(i.url,self.location.href),e.host===o.host)return[2,i]}catch(u){a={error:u}}finally{try{r&&!r.done&&(s=n.return)&&s.call(n)}finally{if(a)throw a.error}}return[2,null]}}))}))}(i)]):[2]):[2];case 1:return(a=s.sent())?[3,4]:[4,self.clients.openWindow(r)];case 2:return a=s.sent(),[4,DD(3e3)];case 3:return s.sent(),[3,6];case 4:return[4,a.focus()];case 5:a=s.sent(),s.label=6;case 6:return a?(n.messageType=sD.NOTIFICATION_CLICKED,n.isFirebaseMessaging=!0,[2,a.postMessage(n)]):[2]}}))}))},LD);function LD(e){var t=this;this.firebaseDependencies=e,this.isOnBackgroundMessageUsed=null,this.vapidKey=null,this.bgMessageHandler=null,self.addEventListener("push",(function(e){e.waitUntil(t.onPush(e))})),self.addEventListener("pushsubscriptionchange",(function(e){e.waitUntil(t.onSubChange(e))})),self.addEventListener("notificationclick",(function(e){e.waitUntil(t.onNotificationClick(e))}))}function MD(){return self.clients.matchAll({type:"window",includeUncontrolled:!0})}var FD=(Object.defineProperty(UD.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),UD.prototype.messageEventListener=function(e){return Xi(this,void 0,void 0,(function(){var t,n;return Ji(this,(function(r){switch(r.label){case 0:return(t=e.data).isFirebaseMessaging?(this.onMessageCallback&&t.messageType===sD.PUSH_RECEIVED&&("function"==typeof this.onMessageCallback?this.onMessageCallback((delete(i=Object.assign({},t)).messageType,delete i.isFirebaseMessaging,i)):this.onMessageCallback.next(Object.assign({},t))),RD(n=t.data)&&"1"===n["google.c.a.e"]?[4,this.logEvent(t.messageType,n)]:[3,2]):[2];case 1:r.sent(),r.label=2;case 2:return[2]}var i}))}))},UD.prototype.getVapidKey=function(){return this.vapidKey},UD.prototype.getSwReg=function(){return this.swRegistration},UD.prototype.getToken=function(e){return Xi(this,void 0,void 0,(function(){return Ji(this,(function(t){switch(t.label){case 0:return"default"!==Notification.permission?[3,2]:[4,Notification.requestPermission()];case 1:t.sent(),t.label=2;case 2:if("granted"!==Notification.permission)throw uD.create("permission-blocked");return[4,this.updateVapidKey(null==e?void 0:e.vapidKey)];case 3:return t.sent(),[4,this.updateSwReg(null==e?void 0:e.serviceWorkerRegistration)];case 4:return t.sent(),[2,PD(this.firebaseDependencies,this.swRegistration,this.vapidKey)]}}))}))},UD.prototype.updateVapidKey=function(e){return Xi(this,void 0,void 0,(function(){return Ji(this,(function(t){return e?this.vapidKey=e:this.vapidKey||(this.vapidKey=cD),[2]}))}))},UD.prototype.updateSwReg=function(e){return Xi(this,void 0,void 0,(function(){return Ji(this,(function(t){switch(t.label){case 0:return e||this.swRegistration?[3,2]:[4,this.registerDefaultSw()];case 1:t.sent(),t.label=2;case 2:if(!e&&this.swRegistration)return[2];if(!(e instanceof ServiceWorkerRegistration))throw uD.create("invalid-sw-registration");return this.swRegistration=e,[2]}}))}))},UD.prototype.registerDefaultSw=function(){return Xi(this,void 0,void 0,(function(){var e;return Ji(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),e=this,[4,navigator.serviceWorker.register("/firebase-messaging-sw.js",{scope:"/firebase-cloud-messaging-push-scope"})];case 1:return e.swRegistration=t.sent(),this.swRegistration.update().catch((function(){})),[3,3];case 2:throw e=t.sent(),uD.create("failed-service-worker-registration",{browserErrorMessage:e.message});case 3:return[2]}}))}))},UD.prototype.deleteToken=function(){return Xi(this,void 0,void 0,(function(){return Ji(this,(function(e){switch(e.label){case 0:return this.swRegistration?[3,2]:[4,this.registerDefaultSw()];case 1:e.sent(),e.label=2;case 2:return[2,ND(this.firebaseDependencies,this.swRegistration)]}}))}))},UD.prototype.requestPermission=function(){return Xi(this,void 0,void 0,(function(){var e;return Ji(this,(function(t){switch(t.label){case 0:return"granted"===Notification.permission?[2]:[4,Notification.requestPermission()];case 1:if("granted"===(e=t.sent()))return[2];throw"denied"===e?uD.create("permission-blocked"):uD.create("permission-default")}}))}))},UD.prototype.usePublicVapidKey=function(e){if(null!==this.vapidKey)throw uD.create("use-vapid-key-after-get-token");if("string"!=typeof e||0===e.length)throw uD.create("invalid-vapid-key");this.vapidKey=e},UD.prototype.useServiceWorker=function(e){if(!(e instanceof ServiceWorkerRegistration))throw uD.create("invalid-sw-registration");if(this.swRegistration)throw uD.create("use-sw-after-get-token");this.swRegistration=e},UD.prototype.onMessage=function(e){var t=this;return this.onMessageCallback=e,function(){t.onMessageCallback=null}},UD.prototype.setBackgroundMessageHandler=function(){throw uD.create("only-available-in-sw")},UD.prototype.onBackgroundMessage=function(){throw uD.create("only-available-in-sw")},UD.prototype.onTokenRefresh=function(){return function(){}},UD.prototype.logEvent=function(e,t){return Xi(this,void 0,void 0,(function(){var n;return Ji(this,(function(r){switch(r.label){case 0:return n=function(e){switch(e){case sD.NOTIFICATION_CLICKED:return"notification_open";case sD.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(e),[4,this.firebaseDependencies.analyticsProvider.get()];case 1:return r.sent().logEvent(n,{message_id:t[fD],message_name:t["google.c.a.c_l"],message_time:t["google.c.a.ts"],message_device_time:Math.floor(Date.now()/1e3)}),[2]}}))}))},UD);function UD(e){var t=this;this.firebaseDependencies=e,this.vapidKey=null,this.onMessageCallback=null,navigator.serviceWorker.addEventListener("message",(function(e){return t.messageEventListener(e)}))}function qD(e){return uD.create("missing-app-config-values",{valueName:e})}function BD(){return self&&"ServiceWorkerGlobalScope"in self?"indexedDB"in self&&null!==indexedDB&&"PushManager"in self&&"Notification"in self&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey"):"indexedDB"in window&&null!==indexedDB&&navigator.cookieEnabled&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}Q={isSupported:BD},Da.INTERNAL.registerComponent(new ra("messaging",(function(e){var t=e.getProvider("app").getImmediate();if(e={app:t,appConfig:function(e){var t,n;if(!e||!e.options)throw qD("App Configuration Object");if(!e.name)throw qD("App Name");var r=e.options;try{for(var i=Zi(["projectId","apiKey","appId","messagingSenderId"]),o=i.next();!o.done;o=i.next()){var a=o.value;if(!r[a])throw qD(a)}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return{appName:e.name,projectId:r.projectId,apiKey:r.apiKey,appId:r.appId,senderId:r.messagingSenderId}}(t),installations:e.getProvider("installations").getImmediate(),analyticsProvider:e.getProvider("analytics-internal")},!BD())throw uD.create("unsupported-browser");return new(self&&"ServiceWorkerGlobalScope"in self?jD:FD)(e)}),"PUBLIC").setServiceProps(Q));var VD,WD="firebasestorage.googleapis.com",zD="storageBucket",HD=($i(KD,VD=ko),KD.prototype._codeEquals=function(e){return GD(e)===this.code},Object.defineProperty(KD.prototype,"serverResponse",{get:function(){return this.customData.serverResponse},set:function(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=this._baseMessage+"\n"+this.customData.serverResponse:this.message=this._baseMessage},enumerable:!1,configurable:!0}),KD);function KD(e,t){return(e=VD.call(this,GD(e),"Firebase Storage: "+t+" ("+GD(e)+")")||this).customData={serverResponse:null},e._baseMessage=e.message,Object.setPrototypeOf(e,KD.prototype),e}function GD(e){return"storage/"+e}function QD(){return new HD("unknown","An unknown error occurred, please check the error payload for server response.")}function $D(){return new HD("canceled","User canceled the upload/download.")}function YD(){return new HD("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function XD(e){return new HD("invalid-argument",e)}function JD(){return new HD("app-deleted","The Firebase app was deleted.")}function ZD(e){return new HD("invalid-root-operation","The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function ej(e,t){return new HD("invalid-format","String does not match format '"+e+"': "+t)}function tj(e){throw new HD("internal-error","Internal error: "+e)}var nj={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},rj=function(e,t){this.data=e,this.contentType=t||null};function ij(e,t){switch(e){case nj.RAW:return new rj(oj(t));case nj.BASE64:case nj.BASE64URL:return new rj(aj(e,t));case nj.DATA_URL:return new rj(function(e){return(e=new uj(e)).base64?aj(nj.BASE64,e.rest):function(e){var t;try{t=decodeURIComponent(e)}catch(e){throw ej(nj.DATA_URL,"Malformed data URL.")}return oj(t)}(e.rest)}(t),new uj(t).contentType)}throw QD()}function oj(e){for(var t=[],n=0;n<e.length;n++){var r,i,o=e.charCodeAt(n);o<=127?t.push(o):o<=2047?t.push(192|o>>6,128|63&o):55296==(64512&o)?n<e.length-1&&56320==(64512&e.charCodeAt(n+1))?(r=o,i=e.charCodeAt(++n),t.push(240|(o=65536|(1023&r)<<10|1023&i)>>18,128|o>>12&63,128|o>>6&63,128|63&o)):t.push(239,191,189):56320==(64512&o)?t.push(239,191,189):t.push(224|o>>12,128|o>>6&63,128|63&o)}return new Uint8Array(t)}function aj(e,t){switch(e){case nj.BASE64:var n=-1!==t.indexOf("-"),r=-1!==t.indexOf("_");if(n||r)throw ej(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case nj.BASE64URL:if(r=-1!==t.indexOf("+"),n=-1!==t.indexOf("/"),r||n)throw ej(e,"Invalid character '"+(r?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/")}var i;try{i=atob(t)}catch(t){throw ej(e,"Invalid character found")}for(var o=new Uint8Array(i.length),a=0;a<i.length;a++)o[a]=i.charCodeAt(a);return o}var sj,uj=function(e){var t;if(this.base64=!1,(this.contentType=null)===(t=e.match(/^data:([^,]+)?,/)))throw ej(nj.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var n,r=t[1]||null;null!=r&&(this.base64=(n=";base64",(t=r).length>=n.length&&t.substring(t.length-n.length)===n),this.contentType=this.base64?r.substring(0,r.length-";base64".length):r),this.rest=e.substring(e.indexOf(",")+1)},cj={STATE_CHANGED:"state_changed"},lj={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function hj(e){switch(e){case"running":case"pausing":case"canceling":return lj.RUNNING;case"paused":return lj.PAUSED;case"success":return lj.SUCCESS;case"canceled":return lj.CANCELED;default:return lj.ERROR}}(G=sj=sj||{})[G.NO_ERROR=0]="NO_ERROR",G[G.NETWORK_ERROR=1]="NETWORK_ERROR",G[G.ABORT=2]="ABORT";var fj=(dj.prototype.send=function(e,t,n,r){if(this.sent_)throw tj("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(var i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_},dj.prototype.getErrorCode=function(){if(!this.sent_)throw tj("cannot .getErrorCode() before sending");return this.errorCode_},dj.prototype.getStatus=function(){if(!this.sent_)throw tj("cannot .getStatus() before sending");try{return this.xhr_.status}catch(e){return-1}},dj.prototype.getResponseText=function(){if(!this.sent_)throw tj("cannot .getResponseText() before sending");return this.xhr_.responseText},dj.prototype.abort=function(){this.xhr_.abort()},dj.prototype.getResponseHeader=function(e){return this.xhr_.getResponseHeader(e)},dj.prototype.addUploadProgressListener=function(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)},dj.prototype.removeUploadProgressListener=function(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)},dj);function dj(){var e=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=sj.NO_ERROR,this.sendPromise_=new Promise((function(t){e.xhr_.addEventListener("abort",(function(){e.errorCode_=sj.ABORT,t()})),e.xhr_.addEventListener("error",(function(){e.errorCode_=sj.NETWORK_ERROR,t()})),e.xhr_.addEventListener("load",(function(){t()}))}))}var pj=(vj.prototype.createConnection=function(){return new fj},vj);function vj(){}var gj=(Object.defineProperty(yj.prototype,"path",{get:function(){return this.path_},enumerable:!1,configurable:!0}),Object.defineProperty(yj.prototype,"isRoot",{get:function(){return 0===this.path.length},enumerable:!1,configurable:!0}),yj.prototype.fullServerUrl=function(){var e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)},yj.prototype.bucketOnlyServerUrl=function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"},yj.makeFromBucketSpec=function(e,t){var n;try{n=yj.makeFromUrl(e,t)}catch(t){return new yj(e,"")}if(""===n.path)return n;throw new HD("invalid-default-bucket","Invalid default bucket '"+e+"'.")},yj.makeFromUrl=function(e,t){var n=null,r="([A-Za-z0-9.\\-_]+)",i=new RegExp("^gs://"+r+"(/(.*))?$","i");function o(e){e.path_=decodeURIComponent(e.path)}for(var a=t.replace(/[.]/g,"\\."),s=[{regex:i,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp("^https?://"+a+"/v[A-Za-z0-9_]+/b/"+r+"/o(/([^?#]*).*)?$","i"),indices:{bucket:1,path:3},postModify:o},{regex:new RegExp("^https?://"+(t===WD?"(?:storage.googleapis.com|storage.cloud.google.com)":t)+"/"+r+"/([^?#]*)","i"),indices:{bucket:1,path:2},postModify:o}],u=0;u<s.length;u++){var c=s[u],l=c.regex.exec(e);if(l){n=new yj(l[c.indices.bucket],l[c.indices.path]||""),c.postModify(n);break}}if(null==n)throw new HD("invalid-url","Invalid URL '"+e+"'.");return n},yj);function yj(e,t){this.bucket=e,this.path_=t}var mj=(bj.prototype.getPromise=function(){return this.promise_},bj.prototype.cancel=function(e){},bj);function bj(e){this.promise_=Promise.reject(e)}function _j(e){return"string"==typeof e||e instanceof String}function wj(e){return Ej()&&e instanceof Blob}function Ej(){return"undefined"!=typeof Blob}function Sj(e,t,n,r){if(r<t)throw XD("Invalid value for '"+e+"'. Expected "+t+" or greater.");if(n<r)throw XD("Invalid value for '"+e+"'. Expected "+n+" or less.")}function Tj(e,t){var n=t.match(/^(\w+):\/\/.+/);return(null==(null==n?void 0:n[1])?"https://"+t:t)+"/v0"+e}function Cj(e){var t,n=encodeURIComponent,r="?";for(t in e)e.hasOwnProperty(t)&&(r=r+(n(t)+"=")+n(e[t])+"&");return r.slice(0,-1)}var Ij=(kj.prototype.start_=function(){var e,t,n,r,i,o,a,s,u,c=this;function l(e,t){var n,r=c.resolve_,i=c.reject_,o=t.connection;if(t.wasSuccessCode)try{var a=c.callback_(o,o.getResponseText());void 0!==a?r(a):r()}catch(e){i(e)}else null!==o?((n=QD()).serverResponse=o.getResponseText(),c.errorCallback_?i(c.errorCallback_(o,n)):i(n)):t.canceled?i(n=(c.appDelete_?JD:$D)()):i(n=new HD("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))}function h(){return 2===a}function f(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];s||(s=!0,t.apply(null,e))}function d(t){i=setTimeout((function(){i=null,e(p,h())}),t)}function p(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];s||(e||h()||o?f.call.apply(f,to([null,e],t)):(r<64&&(r*=2),d(1===a?(a=2,0):1e3*(r+Math.random()))))}function v(e){u||(u=!0,s||(null!==i?(e||(a=2),clearTimeout(i),d(0)):e||(a=1)))}this.canceled_?l(0,new Oj(!1,null,!0)):this.backoffId_=(e=function(e,t){var n;function r(e){var t=e.loaded;e=e.lengthComputable?e.total:-1,null!==c.progressCallback_&&c.progressCallback_(t,e)}t?e(!1,new Oj(!1,null,!0)):(n=c.pool_.createConnection(),c.pendingConnection_=n,null!==c.progressCallback_&&n.addUploadProgressListener(r),n.send(c.url_,c.method_,c.body_,c.headers_).then((function(){null!==c.progressCallback_&&n.removeUploadProgressListener(r),c.pendingConnection_=null;var t,i=n.getErrorCode()===sj.NO_ERROR,o=n.getStatus();i&&!c.isRetryStatusCode_(o)?(t=-1!==c.successCodes_.indexOf(o),e(!0,new Oj(t,n))):(t=n.getErrorCode()===sj.ABORT,e(!1,new Oj(!1,null,t)))})))},t=l,n=this.timeout_,i=null,u=s=o=!(r=1),d(a=0),setTimeout((function(){o=!0,v(!0)}),n),v)},kj.prototype.getPromise=function(){return this.promise_},kj.prototype.cancel=function(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingConnection_&&this.pendingConnection_.abort()},kj.prototype.isRetryStatusCode_=function(e){var t=500<=e&&e<600,n=-1!==[408,429].indexOf(e);return e=-1!==this.additionalRetryCodes_.indexOf(e),t||n||e},kj);function kj(e,t,n,r,i,o,a,s,u,c,l){var h=this;this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=e,this.method_=t,this.headers_=n,this.body_=r,this.successCodes_=i.slice(),this.additionalRetryCodes_=o.slice(),this.callback_=a,this.errorCallback_=s,this.progressCallback_=c,this.timeout_=u,this.pool_=l,this.promise_=new Promise((function(e,t){h.resolve_=e,h.reject_=t,h.start_()}))}var Oj=function(e,t,n){this.wasSuccessCode=e,this.connection=t,this.canceled=!!n};function xj(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0;if(void 0!==n){for(var r=new n,i=0;i<e.length;i++)r.append(e[i]);return r.getBlob()}if(Ej())return new Blob(e);throw new HD("unsupported-environment","This browser doesn't seem to support creating Blobs")}var Pj=(Nj.prototype.size=function(){return this.size_},Nj.prototype.type=function(){return this.type_},Nj.prototype.slice=function(e,t){if(wj(this.data_)){var n=this.data_;return null===(r=e,i=t,i=n.webkitSlice?n.webkitSlice(r,i):n.mozSlice?n.mozSlice(r,i):n.slice?n.slice(r,i):null)?null:new Nj(i)}var r,i;return new Nj(new Uint8Array(this.data_.buffer,e,t-e),!0)},Nj.getBlob=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(Ej()){var n=e.map((function(e){return e instanceof Nj?e.data_:e}));return new Nj(xj.apply(null,n))}n=e.map((function(e){return _j(e)?ij(nj.RAW,e).data:e.data_}));var r=0;n.forEach((function(e){r+=e.byteLength}));var i=new Uint8Array(r),o=0;return n.forEach((function(e){for(var t=0;t<e.length;t++)i[o++]=e[t]})),new Nj(i,!0)},Nj.prototype.uploadData=function(){return this.data_},Nj);function Nj(e,t){var n=0,r="";wj(e)?(n=(this.data_=e).size,r=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),n=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),n=e.length),this.size_=n,this.type_=r}function Aj(e){var t;try{t=JSON.parse(e)}catch(e){return null}return"object"!=typeof(e=t)||Array.isArray(e)?null:t}function Rj(e){var t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function Dj(e,t){return t}var jj=function(e,t,n,r){this.server=e,this.local=t||e,this.writable=!!n,this.xform=r||Dj},Lj=null;function Mj(){if(Lj)return Lj;var e=[];e.push(new jj("bucket")),e.push(new jj("generation")),e.push(new jj("metageneration")),e.push(new jj("name","fullPath",!0));var t=new jj("name");return t.xform=function(e,t){return!_j(t)||t.length<2?t:Rj(t)},e.push(t),(t=new jj("size")).xform=function(e,t){return void 0!==t?Number(t):t},e.push(t),e.push(new jj("timeCreated")),e.push(new jj("updated")),e.push(new jj("md5Hash",null,!0)),e.push(new jj("cacheControl",null,!0)),e.push(new jj("contentDisposition",null,!0)),e.push(new jj("contentEncoding",null,!0)),e.push(new jj("contentLanguage",null,!0)),e.push(new jj("contentType",null,!0)),e.push(new jj("metadata","customMetadata",!0)),Lj=e}function Fj(e,t){Object.defineProperty(e,"ref",{get:function(){var n=e.bucket,r=e.fullPath;return r=new gj(n,r),t._makeStorageReference(r)}})}function Uj(e,t,n){return null===(t=Aj(t))?null:function(e,t,n){for(var r={type:"file"},i=n.length,o=0;o<i;o++){var a=n[o];r[a.local]=a.xform(r,t[a.server])}return Fj(r,e),r}(e,t,n)}function qj(e,t){for(var n={},r=t.length,i=0;i<r;i++){var o=t[i];o.writable&&(n[o.server]=e[o.local])}return JSON.stringify(n)}var Bj="prefixes",Vj="items";function Wj(e,t,n){return null===(n=Aj(n))?null:function(e,t,n){var r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n[Bj])for(var i=0,o=n[Bj];i<o.length;i++){var a=o[i].replace(/\/$/,""),s=e._makeStorageReference(new gj(t,a));r.prefixes.push(s)}if(n[Vj])for(var u=0,c=n[Vj];u<c.length;u++){var l=c[u];s=e._makeStorageReference(new gj(t,l.name)),r.items.push(s)}return r}(e,t,n)}var zj=function(e,t,n,r){this.url=e,this.method=t,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]};function Hj(e){if(!e)throw QD()}function Kj(e,t){return function(n,r){return Hj(null!==(r=Uj(e,r,t))),r}}function Gj(e,t){return function(n,r){return Hj(null!==(r=Wj(e,t,r))),r}}function Qj(e,t){return function(n,r){var i=Uj(e,r,t);return Hj(null!==i),function(e,t,n){if(null===(t=Aj(t)))return null;if(!_j(t.downloadTokens))return null;if(0===(t=t.downloadTokens).length)return null;var r=encodeURIComponent;return t.split(",").map((function(t){var i=e.bucket,o=e.fullPath;return Tj("/b/"+r(i)+"/o/"+r(o),n)+Cj({alt:"media",token:t})}))[0]}(i,r,e.host)}}function $j(e){return function(t,n){var r,i=401===t.getStatus()?t.getResponseText().includes("Firebase App Check token is invalid")?new HD("unauthorized-app","This app does not have permission to access Firebase Storage on this project."):new HD("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?(r=e.bucket,new HD("quota-exceeded","Quota for bucket '"+r+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===t.getStatus()?(i=e.path,new HD("unauthorized","User does not have permission to access '"+i+"'.")):n;return i.serverResponse=n.serverResponse,i}}function Yj(e){var t=$j(e);return function(n,r){var i=t(n,r);return 404===n.getStatus()&&(n=e.path,i=new HD("object-not-found","Object '"+n+"' does not exist.")),i.serverResponse=r.serverResponse,i}}function Xj(e,t,n){var r=Tj(t.fullServerUrl(),e.host),i=e.maxOperationRetryTime;return(i=new zj(r,"GET",Kj(e,n),i)).errorHandler=Yj(t),i}function Jj(e,t,n){return(n=Object.assign({},n)).fullPath=e.path,n.size=t.size(),n.contentType||(n.contentType=(e=t,(t=null)&&t.contentType||e&&e.type()||"application/octet-stream")),n}function Zj(e,t,n,r,i){var o=t.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"},s=function(){for(var e="",t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();a["Content-Type"]="multipart/related; boundary="+s;var u=Jj(t,r,i);if(i="--"+s+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+qj(u,n)+"\r\n--"+s+"\r\nContent-Type: "+u.contentType+"\r\n\r\n",null===(r=Pj.getBlob(i,r,"\r\n--"+s+"--")))throw YD();return s={name:u.fullPath},u=Tj(o,e.host),o=e.maxUploadRetryTime,(o=new zj(u,"POST",Kj(e,n),o)).urlParams=s,o.headers=a,o.body=r.uploadData(),o.errorHandler=$j(t),o}var eL=function(e,t,n,r){this.current=e,this.total=t,this.finalized=!!n,this.metadata=r||null};function tL(e,t){var n=null;try{n=e.getResponseHeader("X-Goog-Upload-Status")}catch(e){Hj(!1)}return Hj(!!n&&-1!==(t||["active"]).indexOf(n)),n}function nL(e,t,n,r,i){var o=t.bucketOnlyServerUrl(),a=Jj(t,r,i);return i={name:a.fullPath},o=Tj(o,e.host),r={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":""+r.size(),"X-Goog-Upload-Header-Content-Type":a.contentType,"Content-Type":"application/json; charset=utf-8"},n=qj(a,n),e=e.maxUploadRetryTime,e=new zj(o,"POST",(function(e){var t;tL(e);try{t=e.getResponseHeader("X-Goog-Upload-URL")}catch(e){Hj(!1)}return Hj(_j(t)),t}),e),e.urlParams=i,e.headers=r,e.body=n,e.errorHandler=$j(t),e}function rL(e,t,n,r){return e=e.maxUploadRetryTime,e=new zj(n,"POST",(function(e){var t=tL(e,["active","final"]),n=null;try{n=e.getResponseHeader("X-Goog-Upload-Size-Received")}catch(e){Hj(!1)}return n||Hj(!1),n=Number(n),Hj(!isNaN(n)),new eL(n,r.size(),"final"===t)}),e),e.headers={"X-Goog-Upload-Command":"query"},e.errorHandler=$j(t),e}function iL(e,t,n,r,i,o,a,s){var u=new eL(0,0);if(a?(u.current=a.current,u.total=a.total):(u.current=0,u.total=r.size()),r.size()!==u.total)throw new HD("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");var c=u.total-u.current,l=c;if(0<i&&(l=Math.min(l,i)),a=u.current,i={"X-Goog-Upload-Command":l===c?"upload, finalize":"upload","X-Goog-Upload-Offset":""+u.current},null===(c=r.slice(a,a+l)))throw YD();return a=t.maxUploadRetryTime,a=new zj(n,"POST",(function(e,n){var i=tL(e,["active","final"]),a=u.current+l,s=r.size();return n="final"===i?Kj(t,o)(e,n):null,new eL(a,s,"final"===i,n)}),a),a.headers=i,a.body=c.uploadData(),a.progressCallback=s||null,a.errorHandler=$j(e),a}var oL=function(e,t,n){"function"==typeof e||null!=t||null!=n?(this.next=e,this.error=t,this.complete=n):(this.next=e.next,this.error=e.error,this.complete=e.complete)};function aL(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];Promise.resolve().then((function(){return e.apply(void 0,t)}))}}var sL=(uL.prototype._makeProgressCallback=function(){var e=this,t=this._transferred;return function(n){return e._updateProgress(t+n)}},uL.prototype._shouldDoResumable=function(e){return 262144<e.size()},uL.prototype._start=function(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())},uL.prototype._resolveToken=function(e){var t=this;Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then((function(n){var r=n[0],i=n[1];switch(t._state){case"running":e(r,i);break;case"canceling":t._transition("canceled");break;case"pausing":t._transition("paused")}}))},uL.prototype._createResumable=function(){var e=this;this._resolveToken((function(t,n){var r=nL(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata);n=e._ref.storage._makeRequest(r,t,n),(e._request=n).getPromise().then((function(t){e._request=void 0,e._uploadUrl=t,e._needToFetchStatus=!1,e.completeTransitions_()}),e._errorHandler)}))},uL.prototype._fetchStatus=function(){var e=this,t=this._uploadUrl;this._resolveToken((function(n,r){var i=rL(e._ref.storage,e._ref._location,t,e._blob);r=e._ref.storage._makeRequest(i,n,r),(e._request=r).getPromise().then((function(t){e._request=void 0,e._updateProgress(t.current),e._needToFetchStatus=!1,t.finalized&&(e._needToFetchMetadata=!0),e.completeTransitions_()}),e._errorHandler)}))},uL.prototype._continueUpload=function(){var e=this,t=262144*this._chunkMultiplier,n=new eL(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((function(i,o){var a;try{a=iL(e._ref._location,e._ref.storage,r,e._blob,t,e._mappings,n,e._makeProgressCallback())}catch(i){return e._error=i,void e._transition("error")}o=e._ref.storage._makeRequest(a,i,o),(e._request=o).getPromise().then((function(t){e._increaseMultiplier(),e._request=void 0,e._updateProgress(t.current),t.finalized?(e._metadata=t.metadata,e._transition("success")):e.completeTransitions_()}),e._errorHandler)}))},uL.prototype._increaseMultiplier=function(){262144*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)},uL.prototype._fetchMetadata=function(){var e=this;this._resolveToken((function(t,n){var r=Xj(e._ref.storage,e._ref._location,e._mappings);n=e._ref.storage._makeRequest(r,t,n),(e._request=n).getPromise().then((function(t){e._request=void 0,e._metadata=t,e._transition("success")}),e._metadataErrorHandler)}))},uL.prototype._oneShotUpload=function(){var e=this;this._resolveToken((function(t,n){var r=Zj(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata);n=e._ref.storage._makeRequest(r,t,n),(e._request=n).getPromise().then((function(t){e._request=void 0,e._metadata=t,e._updateProgress(e._blob.size()),e._transition("success")}),e._errorHandler)}))},uL.prototype._updateProgress=function(e){var t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()},uL.prototype._transition=function(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request&&this._request.cancel();break;case"running":var t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=$D(),this._state=e,this._notifyObservers()}},uL.prototype.completeTransitions_=function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}},Object.defineProperty(uL.prototype,"snapshot",{get:function(){var e=hj(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}},enumerable:!1,configurable:!0}),uL.prototype.on=function(e,t,n,r){var i=this,o=new oL(t,n,r);return this._addObserver(o),function(){i._removeObserver(o)}},uL.prototype.then=function(e,t){return this._promise.then(e,t)},uL.prototype.catch=function(e){return this.then(null,e)},uL.prototype._addObserver=function(e){this._observers.push(e),this._notifyObserver(e)},uL.prototype._removeObserver=function(e){-1!==(e=this._observers.indexOf(e))&&this._observers.splice(e,1)},uL.prototype._notifyObservers=function(){var e=this;this._finishPromise(),this._observers.slice().forEach((function(t){e._notifyObserver(t)}))},uL.prototype._finishPromise=function(){if(void 0!==this._resolve){var e=!0;switch(hj(this._state)){case lj.SUCCESS:aL(this._resolve.bind(null,this.snapshot))();break;case lj.CANCELED:case lj.ERROR:aL(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}},uL.prototype._notifyObserver=function(e){switch(hj(this._state)){case lj.RUNNING:case lj.PAUSED:e.next&&aL(e.next.bind(e,this.snapshot))();break;case lj.SUCCESS:e.complete&&aL(e.complete.bind(e))();break;case lj.CANCELED:case lj.ERROR:default:e.error&&aL(e.error.bind(e,this._error))()}},uL.prototype.resume=function(){var e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e},uL.prototype.pause=function(){var e="running"===this._state;return e&&this._transition("pausing"),e},uL.prototype.cancel=function(){var e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e},uL);function uL(e,t,n){var r=this;void 0===n&&(n=null),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=n,this._mappings=Mj(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(e){r._request=void 0,r._chunkMultiplier=1,e._codeEquals("canceled")?(r._needToFetchStatus=!0,r.completeTransitions_()):(r._error=e,r._transition("error"))},this._metadataErrorHandler=function(e){r._request=void 0,e._codeEquals("canceled")?r.completeTransitions_():(r._error=e,r._transition("error"))},this._promise=new Promise((function(e,t){r._resolve=e,r._reject=t,r._start()})),this._promise.then(null,(function(){}))}var cL=(lL.prototype.toString=function(){return"gs://"+this._location.bucket+"/"+this._location.path},lL.prototype._newRef=function(e,t){return new lL(e,t)},Object.defineProperty(lL.prototype,"root",{get:function(){var e=new gj(this._location.bucket,"");return this._newRef(this._service,e)},enumerable:!1,configurable:!0}),Object.defineProperty(lL.prototype,"bucket",{get:function(){return this._location.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(lL.prototype,"fullPath",{get:function(){return this._location.path},enumerable:!1,configurable:!0}),Object.defineProperty(lL.prototype,"name",{get:function(){return Rj(this._location.path)},enumerable:!1,configurable:!0}),Object.defineProperty(lL.prototype,"storage",{get:function(){return this._service},enumerable:!1,configurable:!0}),Object.defineProperty(lL.prototype,"parent",{get:function(){var e=function(e){if(0===e.length)return null;var t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);return null===e?null:(e=new gj(this._location.bucket,e),new lL(this._service,e))},enumerable:!1,configurable:!0}),lL.prototype._throwIfRoot=function(e){if(""===this._location.path)throw ZD(e)},lL);function lL(e,t){this._service=e,this._location=t instanceof gj?t:gj.makeFromUrl(t,e.host)}function hL(e){var t={prefixes:[],items:[]};return function e(t,n,r){return Xi(this,void 0,void 0,(function(){var i,o;return Ji(this,(function(a){switch(a.label){case 0:return[4,fL(t,{pageToken:r})];case 1:return i=a.sent(),(o=n.prefixes).push.apply(o,i.prefixes),(o=n.items).push.apply(o,i.items),null==i.nextPageToken?[3,3]:[4,e(t,n,i.nextPageToken)];case 2:a.sent(),a.label=3;case 3:return[2]}}))}))}(e,t).then((function(){return t}))}function fL(e,t){return Xi(this,void 0,void 0,(function(){var n;return Ji(this,(function(r){switch(r.label){case 0:return null!=t&&"number"==typeof t.maxResults&&Sj("options.maxResults",1,1e3,t.maxResults),n=t||{},i=e.storage,o=e._location,a="/",s=n.pageToken,u=n.maxResults,c={},o.isRoot?c.prefix="":c.prefix=o.path+"/",a&&0<a.length&&(c.delimiter=a),s&&(c.pageToken=s),u&&(c.maxResults=u),s=Tj(o.bucketOnlyServerUrl(),i.host),u=i.maxOperationRetryTime,(u=new zj(s,"GET",Gj(i,o.bucket),u)).urlParams=c,u.errorHandler=$j(o),[4,e.storage.makeRequestWithTokens(u)];case 1:return[2,r.sent().getPromise()]}var i,o,a,s,u,c}))}))}function dL(e,t){return Xi(this,void 0,void 0,(function(){return Ji(this,(function(n){switch(n.label){case 0:return e._throwIfRoot("updateMetadata"),r=e.storage,i=e._location,o=t,a=Mj(),s=Tj(i.fullServerUrl(),r.host),u=qj(o,a),o=r.maxOperationRetryTime,(o=new zj(s,"PATCH",Kj(r,a),o)).headers={"Content-Type":"application/json; charset=utf-8"},o.body=u,o.errorHandler=Yj(i),[4,e.storage.makeRequestWithTokens(o)];case 1:return[2,n.sent().getPromise()]}var r,i,o,a,s,u}))}))}function pL(e){return Xi(this,void 0,void 0,(function(){return Ji(this,(function(t){switch(t.label){case 0:return e._throwIfRoot("getDownloadURL"),n=e.storage,r=e._location,i=Mj(),o=Tj(r.fullServerUrl(),n.host),a=n.maxOperationRetryTime,(a=new zj(o,"GET",Qj(n,i),a)).errorHandler=Yj(r),[4,e.storage.makeRequestWithTokens(a)];case 1:return[2,t.sent().getPromise().then((function(e){if(null===e)throw new HD("no-download-url","The given file does not have any download URLs.");return e}))]}var n,r,i,o,a}))}))}function vL(e){return Xi(this,void 0,void 0,(function(){return Ji(this,(function(t){switch(t.label){case 0:return e._throwIfRoot("deleteObject"),n=e.storage,i=Tj((r=e._location).fullServerUrl(),n.host),n=n.maxOperationRetryTime,(n=new zj(i,"DELETE",(function(e,t){}),n)).successCodes=[200,204],n.errorHandler=Yj(r),[4,e.storage.makeRequestWithTokens(n)];case 1:return[2,t.sent().getPromise()]}var n,r,i}))}))}function gL(e,t){var n;return n=e._location.path,t=t.split("/").filter((function(e){return 0<e.length})).join("/"),t=0===n.length?t:n+"/"+t,t=new gj(e._location.bucket,t),new cL(e.storage,t)}function yL(e){return/^[A-Za-z]+:\/\//.test(e)}function mL(e,t){if(e instanceof wL){var n=e;if(null==n._bucket)throw new HD("no-default-bucket","No default bucket found. Did you set the '"+zD+"' property when initializing the app?");return n=new cL(n,n._bucket),null!=t?mL(n,t):n}return void 0!==t?gL(e,t):e}function bL(e,t){if(t&&yL(t)){if(e instanceof wL)return new cL(e,t);throw XD("To use ref(service, url), the first argument must be a Storage instance.")}return mL(e,t)}function _L(e,t){return null==(t=null==t?void 0:t[zD])?null:gj.makeFromBucketSpec(t,e)}var wL=(Object.defineProperty(EL.prototype,"host",{get:function(){return this._host},set:function(e){this._host=e,null!=this._url?this._bucket=gj.makeFromBucketSpec(this._url,e):this._bucket=_L(e,this.app.options)},enumerable:!1,configurable:!0}),Object.defineProperty(EL.prototype,"maxUploadRetryTime",{get:function(){return this._maxUploadRetryTime},set:function(e){Sj("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e},enumerable:!1,configurable:!0}),Object.defineProperty(EL.prototype,"maxOperationRetryTime",{get:function(){return this._maxOperationRetryTime},set:function(e){Sj("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e},enumerable:!1,configurable:!0}),EL.prototype._getAuthToken=function(){return Xi(this,void 0,void 0,(function(){var e;return Ji(this,(function(t){switch(t.label){case 0:return this._overrideAuthToken?[2,this._overrideAuthToken]:(e=this._authProvider.getImmediate({optional:!0}))?[4,e.getToken()]:[3,2];case 1:if(null!==(e=t.sent()))return[2,e.accessToken];t.label=2;case 2:return[2,null]}}))}))},EL.prototype._getAppCheckToken=function(){return Xi(this,void 0,void 0,(function(){var e;return Ji(this,(function(t){switch(t.label){case 0:return(e=this._appCheckProvider.getImmediate({optional:!0}))?[4,e.getToken()]:[3,2];case 1:return[2,t.sent().token];case 2:return[2,null]}}))}))},EL.prototype._delete=function(){return this._deleted||(this._deleted=!0,this._requests.forEach((function(e){return e.cancel()})),this._requests.clear()),Promise.resolve()},EL.prototype._makeStorageReference=function(e){return new cL(this,e)},EL.prototype._makeRequest=function(e,t,n){var r=this;if(this._deleted)return new mj(JD());var i,o,a,s,u,c,l=(i=e,o=this._appId,a=t,s=n,u=this._pool,c=this._firebaseVersion,e=Cj(i.urlParams),t=i.url+e,e=n=Object.assign({},i.headers),o&&(e["X-Firebase-GMPID"]=o),o=n,null!==a&&0<a.length&&(o.Authorization="Firebase "+a),n["X-Firebase-Storage-Version"]="webjs/"+(null!=c?c:"AppManager"),c=n,null!==s&&(c["X-Firebase-AppCheck"]=s),new Ij(t,i.method,n,i.body,i.successCodes,i.additionalRetryCodes,i.handler,i.errorHandler,i.timeout,i.progressCallback,u));return this._requests.add(l),l.getPromise().then((function(){return r._requests.delete(l)}),(function(){return r._requests.delete(l)})),l},EL.prototype.makeRequestWithTokens=function(e){return Xi(this,void 0,void 0,(function(){var t,n;return Ji(this,(function(r){switch(r.label){case 0:return[4,Promise.all([this._getAuthToken(),this._getAppCheckToken()])];case 1:return n=r.sent(),t=n[0],n=n[1],[2,this._makeRequest(e,t,n)]}}))}))},EL);function EL(e,t,n,r,i,o){this.app=e,this._authProvider=t,this._appCheckProvider=n,this._pool=r,this._url=i,this._firebaseVersion=o,this._bucket=null,this._host=WD,this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?gj.makeFromBucketSpec(i,this._host):_L(this._host,this.app.options)}function SL(e,t,n){return(e=na(e))._throwIfRoot("uploadBytesResumable"),new sL(e,new Pj(t),n)}function TL(e){return function(e){return Xi(this,void 0,void 0,(function(){var t;return Ji(this,(function(n){switch(n.label){case 0:return e._throwIfRoot("getMetadata"),t=Xj(e.storage,e._location,Mj()),[4,e.storage.makeRequestWithTokens(t)];case 1:return[2,n.sent().getPromise()]}}))}))}(e=na(e))}function CL(e,t){return bL(e=na(e),t)}function IL(e,t,n,r){void 0===(r=r=void 0===r?{}:r)&&(r={}),e.host="http://"+t+":"+n,(r=r.mockUserToken)&&(e._overrideAuthToken="string"==typeof r?r:vo(r,e.app.options.projectId))}var kL=(Object.defineProperty(OL.prototype,"bytesTransferred",{get:function(){return this._delegate.bytesTransferred},enumerable:!1,configurable:!0}),Object.defineProperty(OL.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(OL.prototype,"state",{get:function(){return this._delegate.state},enumerable:!1,configurable:!0}),Object.defineProperty(OL.prototype,"totalBytes",{get:function(){return this._delegate.totalBytes},enumerable:!1,configurable:!0}),OL);function OL(e,t,n){this._delegate=e,this.task=t,this.ref=n}var xL=(Object.defineProperty(PL.prototype,"snapshot",{get:function(){return new kL(this._delegate.snapshot,this,this._ref)},enumerable:!1,configurable:!0}),PL.prototype.then=function(e,t){var n=this;return this._delegate.then((function(t){if(e)return e(new kL(t,n,n._ref))}),t)},PL.prototype.on=function(e,t,n,r){var i=this,o=void 0;return t&&(o="function"==typeof t?function(e){return t(new kL(e,i,i._ref))}:{next:t.next?function(e){return t.next(new kL(e,i,i._ref))}:void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,o,n||void 0,r||void 0)},PL);function PL(e,t){this._delegate=e,this._ref=t,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}var NL=(Object.defineProperty(AL.prototype,"prefixes",{get:function(){var e=this;return this._delegate.prefixes.map((function(t){return new RL(t,e._service)}))},enumerable:!1,configurable:!0}),Object.defineProperty(AL.prototype,"items",{get:function(){var e=this;return this._delegate.items.map((function(t){return new RL(t,e._service)}))},enumerable:!1,configurable:!0}),Object.defineProperty(AL.prototype,"nextPageToken",{get:function(){return this._delegate.nextPageToken||null},enumerable:!1,configurable:!0}),AL);function AL(e,t){this._delegate=e,this._service=t}var RL=(Object.defineProperty(DL.prototype,"name",{get:function(){return this._delegate.name},enumerable:!1,configurable:!0}),Object.defineProperty(DL.prototype,"bucket",{get:function(){return this._delegate.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(DL.prototype,"fullPath",{get:function(){return this._delegate.fullPath},enumerable:!1,configurable:!0}),DL.prototype.toString=function(){return this._delegate.toString()},DL.prototype.child=function(e){return new DL(gL(this._delegate,e),this.storage)},Object.defineProperty(DL.prototype,"root",{get:function(){return new DL(this._delegate.root,this.storage)},enumerable:!1,configurable:!0}),Object.defineProperty(DL.prototype,"parent",{get:function(){var e=this._delegate.parent;return null==e?null:new DL(e,this.storage)},enumerable:!1,configurable:!0}),DL.prototype.put=function(e,t){return this._throwIfRoot("put"),new xL(SL(this._delegate,e,t),this)},DL.prototype.putString=function(e,t,n){return void 0===t&&(t=nj.RAW),this._throwIfRoot("putString"),e=ij(t,e),null==(n=Yi({},n)).contentType&&null!=e.contentType&&(n.contentType=e.contentType),new xL(new sL(this._delegate,new Pj(e.data,!0),n),this)},DL.prototype.listAll=function(){var e=this;return hL(na(this._delegate)).then((function(t){return new NL(t,e.storage)}))},DL.prototype.list=function(e){var t=this;return e=e||void 0,fL(na(this._delegate),e).then((function(e){return new NL(e,t.storage)}))},DL.prototype.getMetadata=function(){return TL(this._delegate)},DL.prototype.updateMetadata=function(e){return dL(na(this._delegate),e)},DL.prototype.getDownloadURL=function(){return pL(na(this._delegate))},DL.prototype.delete=function(){return this._throwIfRoot("delete"),vL(na(this._delegate))},DL.prototype._throwIfRoot=function(e){if(""===this._delegate._location.path)throw ZD(e)},DL);function DL(e,t){this._delegate=e,this.storage=t}var jL,LL,ML=(Object.defineProperty(FL.prototype,"maxOperationRetryTime",{get:function(){return this._delegate.maxOperationRetryTime},enumerable:!1,configurable:!0}),Object.defineProperty(FL.prototype,"maxUploadRetryTime",{get:function(){return this._delegate.maxUploadRetryTime},enumerable:!1,configurable:!0}),FL.prototype.ref=function(e){if(yL(e))throw XD("ref() expected a child path but got a URL, use refFromURL instead.");return new RL(CL(this._delegate,e),this)},FL.prototype.refFromURL=function(e){if(!yL(e))throw XD("refFromURL() expected a full URL but got a child path, use ref() instead.");try{gj.makeFromUrl(e,this._delegate.host)}catch(e){throw XD("refFromUrl() expected a valid full URL but got an invalid one.")}return new RL(CL(this._delegate,e),this)},FL.prototype.setMaxUploadRetryTime=function(e){this._delegate.maxUploadRetryTime=e},FL.prototype.setMaxOperationRetryTime=function(e){this._delegate.maxOperationRetryTime=e},FL.prototype.useEmulator=function(e,t,n){IL(this._delegate,e,t,n=void 0===n?{}:n)},FL);function FL(e,t){this.app=e,this._delegate=t}function UL(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate();return t=e.getProvider("auth-internal"),e=e.getProvider("app-check-internal"),new ML(r,new wL(r,t,e,new pj,n,Da.SDK_VERSION))}LL={TaskState:lj,TaskEvent:cj,StringFormat:nj,Storage:wL,Reference:RL},(jL=Da).INTERNAL.registerComponent(new ra("storage",UL,"PUBLIC").setServiceProps(LL).setMultipleInstances(!0)),jL.registerVersion("@firebase/storage","0.7.1");var qL,BL,VL="0.4.18",WL="FB-PERF-TRACE-MEASURE",zL="@firebase/performance/config",HL="@firebase/performance/configexpire",KL=(Q="Performance",(G={})["trace started"]="Trace {$traceName} was started before.",G["trace stopped"]="Trace {$traceName} is not running.",G["nonpositive trace startTime"]="Trace {$traceName} startTime should be positive.",G["nonpositive trace duration"]="Trace {$traceName} duration should be positive.",G["no window"]="Window is not available.",G["no app id"]="App id is not available.",G["no project id"]="Project id is not available.",G["no api key"]="Api key is not available.",G["invalid cc log"]="Attempted to queue invalid cc event",G["FB not default"]="Performance can only start when Firebase app instance is the default one.",G["RC response not ok"]="RC response is not ok",G["invalid attribute name"]="Attribute name {$attributeName} is invalid.",G["invalid attribute value"]="Attribute value {$attributeValue} is invalid.",G["invalid custom metric name"]="Custom metric name {$customMetricName} is invalid",G["invalid String merger input"]="Input for String merger is invalid, contact support team to resolve.",new xo("performance",Q,G)),GL=new ga(Q);GL.logLevel=la.INFO;var QL,$L=(YL.prototype.getUrl=function(){return this.windowLocation.href.split("?")[0]},YL.prototype.mark=function(e){this.performance&&this.performance.mark&&this.performance.mark(e)},YL.prototype.measure=function(e,t,n){this.performance&&this.performance.measure&&this.performance.measure(e,t,n)},YL.prototype.getEntriesByType=function(e){return this.performance&&this.performance.getEntriesByType?this.performance.getEntriesByType(e):[]},YL.prototype.getEntriesByName=function(e){return this.performance&&this.performance.getEntriesByName?this.performance.getEntriesByName(e):[]},YL.prototype.getTimeOrigin=function(){return this.performance&&(this.performance.timeOrigin||this.performance.timing.navigationStart)},YL.prototype.requiredApisAvailable=function(){return fetch&&Promise&&this.navigator&&this.navigator.cookieEnabled?!!Eo()||(GL.info("IndexedDB is not supported by current browswer"),!1):(GL.info("Firebase Performance cannot start if browser does not support fetch and Promise or cookie is disabled."),!1)},YL.prototype.setupObserver=function(e,t){this.PerformanceObserver&&new this.PerformanceObserver((function(e){for(var n=0,r=e.getEntries();n<r.length;n++){var i=r[n];t(i)}})).observe({entryTypes:[e]})},YL.getInstance=function(){return qL=void 0===qL?new YL(BL):qL},YL);function YL(e){if(!(this.window=e))throw KL.create("no window");this.performance=e.performance,this.PerformanceObserver=e.PerformanceObserver,this.windowLocation=e.location,this.navigator=e.navigator,this.document=e.document,this.navigator&&this.navigator.cookieEnabled&&(this.localStorage=e.localStorage),e.perfMetrics&&e.perfMetrics.onFirstInputDelay&&(this.onFirstInputDelay=e.perfMetrics.onFirstInputDelay)}function XL(e,t){var n=e.length-t.length;if(n<0||1<n)throw KL.create("invalid String merger input");for(var r=[],i=0;i<e.length;i++)r.push(e.charAt(i)),t.length>i&&r.push(t.charAt(i));return r.join("")}var JL,ZL,eM=(tM.prototype.getAppId=function(){var e=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.appId;if(!e)throw KL.create("no app id");return e},tM.prototype.getProjectId=function(){var e=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.projectId;if(!e)throw KL.create("no project id");return e},tM.prototype.getApiKey=function(){var e=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.apiKey;if(!e)throw KL.create("no api key");return e},tM.prototype.getFlTransportFullUrl=function(){return this.flTransportEndpointUrl.concat("?key=",this.transportKey)},tM.getInstance=function(){return QL=void 0===QL?new tM:QL},tM);function tM(){this.instrumentationEnabled=!0,this.dataCollectionEnabled=!0,this.loggingEnabled=!1,this.tracesSamplingRate=1,this.networkRequestsSamplingRate=1,this.logEndPointUrl="https://firebaselogging.googleapis.com/v0cc/log?format=json_proto",this.flTransportEndpointUrl=XL("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),this.transportKey=XL("AzSC8r6ReiGqFMyfvgow","Iayx0u-XT3vksVM-pIV"),this.logSource=462,this.logTraceAfterSampling=!1,this.logNetworkAfterSampling=!1,this.configTimeToLive=12}(Q=ZL=ZL||{})[Q.UNKNOWN=0]="UNKNOWN",Q[Q.VISIBLE=1]="VISIBLE",Q[Q.HIDDEN=2]="HIDDEN";var nM=["firebase_","google_","ga_"],rM=new RegExp("^[a-zA-Z]\\w*$");function iM(){switch($L.getInstance().document.visibilityState){case"visible":return ZL.VISIBLE;case"hidden":return ZL.HIDDEN;default:return ZL.UNKNOWN}}var oM="0.0.1",aM={loggingEnabled:!0},sM="FIREBASE_INSTALLATIONS_AUTH";function uM(e){var t,n=function(){var e=$L.getInstance().localStorage;if(e){var t=e.getItem(HL);if(t&&function(e){return Number(e)>Date.now()}(t)&&(e=e.getItem(zL)))try{return JSON.parse(e)}catch(e){return}}}();return n?(lM(n),Promise.resolve()):(t=e,function(){var e=eM.getInstance().installationsService.getToken();return e.then((function(e){})),e}().then((function(e){var n="https://firebaseremoteconfig.googleapis.com/v1/projects/"+eM.getInstance().getProjectId()+"/namespaces/fireperf:fetch?key="+eM.getInstance().getApiKey();return e=new Request(n,{method:"POST",headers:{Authorization:sM+" "+e},body:JSON.stringify({app_instance_id:t,app_instance_id_token:e,app_id:eM.getInstance().getAppId(),app_version:VL,sdk_version:oM})}),fetch(e).then((function(e){if(e.ok)return e.json();throw KL.create("RC response not ok")}))})).catch((function(){GL.info(cM)})).then(lM).then((function(e){var t;t=e,e=$L.getInstance().localStorage,t&&e&&(e.setItem(zL,JSON.stringify(t)),e.setItem(HL,String(Date.now()+60*eM.getInstance().configTimeToLive*60*1e3)))}),(function(){})))}var cM="Could not fetch config, will use default configs";function lM(e){if(!e)return e;var t=eM.getInstance(),n=e.entries||{};return void 0!==n.fpr_enabled?t.loggingEnabled="true"===String(n.fpr_enabled):t.loggingEnabled=aM.loggingEnabled,n.fpr_log_source&&(t.logSource=Number(n.fpr_log_source)),n.fpr_log_endpoint_url&&(t.logEndPointUrl=n.fpr_log_endpoint_url),n.fpr_log_transport_key&&(t.transportKey=n.fpr_log_transport_key),void 0!==n.fpr_vc_network_request_sampling_rate&&(t.networkRequestsSamplingRate=Number(n.fpr_vc_network_request_sampling_rate)),void 0!==n.fpr_vc_trace_sampling_rate&&(t.tracesSamplingRate=Number(n.fpr_vc_trace_sampling_rate)),t.logTraceAfterSampling=hM(t.tracesSamplingRate),t.logNetworkAfterSampling=hM(t.networkRequestsSamplingRate),e}function hM(e){return Math.random()<=e}var fM,dM=1;function pM(){return dM=2,fM=fM||function(){var e=$L.getInstance().document;return new Promise((function(t){var n;e&&"complete"!==e.readyState?(n=function(){"complete"===e.readyState&&(e.removeEventListener("readystatechange",n),t())},e.addEventListener("readystatechange",n)):t()}))}().then((function(){return(e=eM.getInstance().installationsService.getId()).then((function(e){JL=e})),e;var e})).then(uM).then(vM,vM)}function vM(){dM=3}var gM,yM=1e4,mM=5500,bM=3,_M=1e3,wM=bM,EM=[],SM=!1;function TM(e){setTimeout((function(){var e,t;if(0!==wM)return EM.length?(t=(e=EM.splice(0,_M)).map((function(e){return{source_extension_json_proto3:e.message,event_time_ms:String(e.eventTime)}})),void function(e,t){return function(e){var t=eM.getInstance().getFlTransportFullUrl();return fetch(t,{method:"POST",body:JSON.stringify(e)})}(e).then((function(e){return e.ok||GL.info("Call to Firebase backend failed."),e.json()})).then((function(e){var n=Number(e.nextRequestWaitMillis),r=yM;isNaN(n)||(r=Math.max(n,r)),e=e.logResponseDetails,Array.isArray(e)&&0<e.length&&"RETRY_REQUEST_LATER"===e[0].responseAction&&(EM=to(to([],t),EM),GL.info("Retry transport request later.")),wM=bM,TM(r)}))}({request_time_ms:String(Date.now()),client_info:{client_type:1,js_client_info:{}},log_source:eM.getInstance().logSource,log_event:t},e).catch((function(){EM=to(to([],e),EM),wM--,GL.info("Tries left: "+wM+"."),TM(yM)}))):TM(yM)}),e)}function CM(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];!function(e){if(!e.eventTime||!e.message)throw KL.create("invalid cc log");EM=to(to([],EM),[e])}({message:e.apply(void 0,t),eventTime:Date.now()})}}function IM(e,t){(gM=gM||CM(xM))(e,t)}function kM(e){var t=eM.getInstance();!t.instrumentationEnabled&&e.isAuto||(t.dataCollectionEnabled||e.isAuto)&&$L.getInstance().requiredApisAvailable()&&(e.isAuto&&iM()!==ZL.VISIBLE||(3===dM?OM(e):pM().then((function(){return OM(e)}),(function(){return OM(e)}))))}function OM(e){var t;!JL||(t=eM.getInstance()).loggingEnabled&&t.logTraceAfterSampling&&setTimeout((function(){return IM(e,1)}),0)}function xM(e,t){return(0===t?function(e){return e={url:e.url,http_method:e.httpMethod||0,http_response_code:200,response_payload_bytes:e.responsePayloadBytes,client_start_time_us:e.startTimeUs,time_to_response_initiated_us:e.timeToResponseInitiatedUs,time_to_response_completed_us:e.timeToResponseCompletedUs},e={application_info:PM(),network_request_metric:e},JSON.stringify(e)}:function(e){var t={name:e.name,is_auto:e.isAuto,client_start_time_us:e.startTimeUs,duration_us:e.durationUs};return 0!==Object.keys(e.counters).length&&(t.counters=e.counters),e=e.getAttributes(),0!==Object.keys(e).length&&(t.custom_attributes=e),t={application_info:PM(),trace_metric:t},JSON.stringify(t)})(e)}function PM(){return{google_app_id:eM.getInstance().getAppId(),app_instance_id:JL,web_app_info:{sdk_version:VL,page_url:$L.getInstance().getUrl(),service_worker_status:"serviceWorker"in(e=$L.getInstance().navigator)?e.serviceWorker.controller?2:3:1,visibility_state:iM(),effective_connection_type:function(){var e=$L.getInstance().navigator.connection;switch(e&&e.effectiveType){case"slow-2g":return 1;case"2g":return 2;case"3g":return 3;case"4g":return 4;default:return 0}}()},application_process_state:0};var e}var NM=["_fp","_fcp","_fid"],AM=(RM.prototype.start=function(){if(1!==this.state)throw KL.create("trace started",{traceName:this.name});this.api.mark(this.traceStartMark),this.state=2},RM.prototype.stop=function(){if(2!==this.state)throw KL.create("trace stopped",{traceName:this.name});this.state=3,this.api.mark(this.traceStopMark),this.api.measure(this.traceMeasure,this.traceStartMark,this.traceStopMark),this.calculateTraceMetrics(),kM(this)},RM.prototype.record=function(e,t,n){if(e<=0)throw KL.create("nonpositive trace startTime",{traceName:this.name});if(t<=0)throw KL.create("nonpositive trace duration",{traceName:this.name});if(this.durationUs=Math.floor(1e3*t),this.startTimeUs=Math.floor(1e3*e),n&&n.attributes&&(this.customAttributes=Yi({},n.attributes)),n&&n.metrics)for(var r=0,i=Object.keys(n.metrics);r<i.length;r++){var o=i[r];isNaN(Number(n.metrics[o]))||(this.counters[o]=Number(Math.floor(n.metrics[o])))}kM(this)},RM.prototype.incrementMetric=function(e,t){void 0===t&&(t=1),void 0===this.counters[e]?this.putMetric(e,t):this.putMetric(e,this.counters[e]+t)},RM.prototype.putMetric=function(e,t){if(n=e,r=this.name,0===n.length||100<n.length||!(r&&r.startsWith("_wt_")&&-1<NM.indexOf(n))&&n.startsWith("_"))throw KL.create("invalid custom metric name",{customMetricName:e});var n,r;this.counters[e]=(e=t,(t=Math.floor(e))<e&&GL.info("Metric value should be an Integer, setting the value as : "+t+"."),t)},RM.prototype.getMetric=function(e){return this.counters[e]||0},RM.prototype.putAttribute=function(e,t){var n,r=!(0===(n=e).length||40<n.length)&&!nM.some((function(e){return n.startsWith(e)}))&&!!n.match(rM),i=0!==(i=t).length&&i.length<=100;if(r&&i)this.customAttributes[e]=t;else{if(!r)throw KL.create("invalid attribute name",{attributeName:e});if(!i)throw KL.create("invalid attribute value",{attributeValue:t})}},RM.prototype.getAttribute=function(e){return this.customAttributes[e]},RM.prototype.removeAttribute=function(e){void 0!==this.customAttributes[e]&&delete this.customAttributes[e]},RM.prototype.getAttributes=function(){return Yi({},this.customAttributes)},RM.prototype.setStartTime=function(e){this.startTimeUs=e},RM.prototype.setDuration=function(e){this.durationUs=e},RM.prototype.calculateTraceMetrics=function(){var e;(e=(e=this.api.getEntriesByName(this.traceMeasure))&&e[0])&&(this.durationUs=Math.floor(1e3*e.duration),this.startTimeUs=Math.floor(1e3*(e.startTime+this.api.getTimeOrigin())))},RM.createOobTrace=function(e,t,n){var r,i=$L.getInstance().getUrl();i&&(r=new RM("_wt_"+i,!0),i=Math.floor(1e3*$L.getInstance().getTimeOrigin()),r.setStartTime(i),e&&e[0]&&(r.setDuration(Math.floor(1e3*e[0].duration)),r.putMetric("domInteractive",Math.floor(1e3*e[0].domInteractive)),r.putMetric("domContentLoadedEventEnd",Math.floor(1e3*e[0].domContentLoadedEventEnd)),r.putMetric("loadEventEnd",Math.floor(1e3*e[0].loadEventEnd))),t&&((e=t.find((function(e){return"first-paint"===e.name})))&&e.startTime&&r.putMetric("_fp",Math.floor(1e3*e.startTime)),(t=t.find((function(e){return"first-contentful-paint"===e.name})))&&t.startTime&&r.putMetric("_fcp",Math.floor(1e3*t.startTime)),n&&r.putMetric("_fid",Math.floor(1e3*n))),kM(r))},RM.createUserTimingTrace=function(e){kM(new RM(e,!1,e))},RM);function RM(e,t,n){void 0===t&&(t=!1),this.name=e,this.isAuto=t,this.state=1,this.customAttributes={},this.counters={},this.api=$L.getInstance(),this.randomId=Math.floor(1e6*Math.random()),this.isAuto||(this.traceStartMark="FB-PERF-TRACE-START-"+this.randomId+"-"+this.name,this.traceStopMark="FB-PERF-TRACE-STOP-"+this.randomId+"-"+this.name,this.traceMeasure=n||WL+"-"+this.randomId+"-"+this.name,n&&this.calculateTraceMetrics())}function DM(e){var t,n,r,i=e;i&&void 0!==i.responseStart&&(n=$L.getInstance().getTimeOrigin(),r=Math.floor(1e3*(i.startTime+n)),e=i.responseStart?Math.floor(1e3*(i.responseStart-i.startTime)):void 0,n=Math.floor(1e3*(i.responseEnd-i.startTime)),i={url:i.name&&i.name.split("?")[0],responsePayloadBytes:i.transferSize,startTimeUs:r,timeToResponseInitiatedUs:e,timeToResponseCompletedUs:n},t=i,(r=eM.getInstance()).instrumentationEnabled&&(e=t.url,n=r.logEndPointUrl.split("?")[0],i=r.flTransportEndpointUrl.split("?")[0],e!==n&&e!==i&&r.loggingEnabled&&r.logNetworkAfterSampling&&setTimeout((function(){return IM(t,0)}),0)))}var jM=5e3;function LM(){JL&&(setTimeout((function(){var e,t=$L.getInstance(),n=t.getEntriesByType("navigation"),r=t.getEntriesByType("paint");t.onFirstInputDelay?(e=setTimeout((function(){AM.createOobTrace(n,r),e=void 0}),jM),t.onFirstInputDelay((function(t){e&&(clearTimeout(e),AM.createOobTrace(n,r,t))}))):AM.createOobTrace(n,r)}),0),setTimeout((function(){for(var e=$L.getInstance(),t=0,n=e.getEntriesByType("resource");t<n.length;t++)DM(n[t]);e.setupObserver("resource",DM)}),0),setTimeout((function(){for(var e=$L.getInstance(),t=0,n=e.getEntriesByType("measure");t<n.length;t++)MM(n[t]);e.setupObserver("measure",MM)}),0))}function MM(e){(e=e.name).substring(0,WL.length)!==WL&&AM.createUserTimingTrace(e)}var FM,UM=(qM.prototype.trace=function(e){return new AM(e)},Object.defineProperty(qM.prototype,"instrumentationEnabled",{get:function(){return eM.getInstance().instrumentationEnabled},set:function(e){eM.getInstance().instrumentationEnabled=e},enumerable:!1,configurable:!0}),Object.defineProperty(qM.prototype,"dataCollectionEnabled",{get:function(){return eM.getInstance().dataCollectionEnabled},set:function(e){eM.getInstance().dataCollectionEnabled=e},enumerable:!1,configurable:!0}),qM);function qM(e){this.app=e,$L.getInstance().requiredApisAvailable()&&So().then((function(e){e&&(SM||(TM(mM),SM=!0),pM().then(LM,LM))})).catch((function(e){GL.info("Environment doesn't support IndexedDB: "+e)}))}function BM(e,t){if("[DEFAULT]"!==e.name)throw KL.create("FB not default");if("undefined"==typeof window)throw KL.create("no window");return BL=window,eM.getInstance().firebaseAppInstance=e,eM.getInstance().installationsService=t,new UM(e)}(FM=Da).INTERNAL.registerComponent(new ra("performance",(function(e){return BM(e.getProvider("app").getImmediate(),e=e.getProvider("installations").getImmediate())}),"PUBLIC")),FM.registerVersion("@firebase/performance","0.4.18");var VM,WM,zM="firebase_id",HM="origin",KM=6e4,GM="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",QM="https://www.googletagmanager.com/gtag/js";(Q=VM=VM||{}).EVENT="event",Q.SET="set",Q.CONFIG="config",(Q=WM=WM||{}).ADD_SHIPPING_INFO="add_shipping_info",Q.ADD_PAYMENT_INFO="add_payment_info",Q.ADD_TO_CART="add_to_cart",Q.ADD_TO_WISHLIST="add_to_wishlist",Q.BEGIN_CHECKOUT="begin_checkout",Q.CHECKOUT_PROGRESS="checkout_progress",Q.EXCEPTION="exception",Q.GENERATE_LEAD="generate_lead",Q.LOGIN="login",Q.PAGE_VIEW="page_view",Q.PURCHASE="purchase",Q.REFUND="refund",Q.REMOVE_FROM_CART="remove_from_cart",Q.SCREEN_VIEW="screen_view",Q.SEARCH="search",Q.SELECT_CONTENT="select_content",Q.SELECT_ITEM="select_item",Q.SELECT_PROMOTION="select_promotion",Q.SET_CHECKOUT_OPTION="set_checkout_option",Q.SHARE="share",Q.SIGN_UP="sign_up",Q.TIMING_COMPLETE="timing_complete",Q.VIEW_CART="view_cart",Q.VIEW_ITEM="view_item",Q.VIEW_ITEM_LIST="view_item_list",Q.VIEW_PROMOTION="view_promotion",Q.VIEW_SEARCH_RESULTS="view_search_results";var $M=new ga("@firebase/analytics");function YM(e,t,n,r){return function(i,o,a){return Xi(this,void 0,void 0,(function(){var s;return Ji(this,(function(u){switch(u.label){case 0:return u.trys.push([0,6,,7]),i!==VM.EVENT?[3,2]:[4,function(e,t,n,r,i){return Xi(this,void 0,void 0,(function(){var o,a,s,u,c,l,h;return Ji(this,(function(f){switch(f.label){case 0:return f.trys.push([0,4,,5]),o=[],i&&i.send_to?(h=i.send_to,Array.isArray(h)||(h=[h]),[4,Promise.all(n)]):[3,2];case 1:for(a=f.sent(),s=function(e){var n;if(!(n=(n=a.find((function(t){return t.measurementId===e})))&&t[n.appId]))return o=[],"break";o.push(n)},u=0,c=h;u<c.length&&(l=c[u],"break"!==s(l));u++);f.label=2;case 2:return 0===o.length&&(o=Object.values(t)),[4,Promise.all(o)];case 3:return f.sent(),e(VM.EVENT,r,i||{}),[3,5];case 4:return h=f.sent(),$M.error(h),[3,5];case 5:return[2]}}))}))}(e,t,n,o,a)];case 1:return u.sent(),[3,5];case 2:return i!==VM.CONFIG?[3,4]:[4,function(e,t,n,r,i,o){return Xi(this,void 0,void 0,(function(){var a,s;return Ji(this,(function(u){switch(u.label){case 0:a=r[i],u.label=1;case 1:return u.trys.push([1,7,,8]),a?[4,t[a]]:[3,3];case 2:return u.sent(),[3,6];case 3:return[4,Promise.all(n)];case 4:return(s=(s=u.sent()).find((function(e){return e.measurementId===i})))?[4,t[s.appId]]:[3,6];case 5:u.sent(),u.label=6;case 6:return[3,8];case 7:return s=u.sent(),$M.error(s),[3,8];case 8:return e(VM.CONFIG,i,o),[2]}}))}))}(e,t,n,r,o,a)];case 3:return u.sent(),[3,5];case 4:e(VM.SET,o),u.label=5;case 5:return[3,7];case 6:return s=u.sent(),$M.error(s),[3,7];case 7:return[2]}}))}))}}(Q={})["already-exists"]="A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.",Q["already-initialized"]="Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.",Q["interop-component-reg-failed"]="Firebase Analytics Interop Component failed to instantiate: {$reason}",Q["invalid-analytics-context"]="Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",Q["indexeddb-unavailable"]="IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",Q["fetch-throttle"]="The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.",Q["config-fetch-failed"]="Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}",Q["no-api-key"]='The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',Q["no-app-id"]='The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.';var XM=new xo("analytics","Analytics",Q),JM=30;function ZM(e,t){void 0===t&&(t=1e3),this.throttleMetadata=e=void 0===e?{}:e,this.intervalMillis=t}var eF=new(ZM.prototype.getThrottleMetadata=function(e){return this.throttleMetadata[e]},ZM.prototype.setThrottleMetadata=function(e,t){this.throttleMetadata[e]=t},ZM.prototype.deleteThrottleMetadata=function(e){delete this.throttleMetadata[e]},ZM);function tF(e){var t;return Xi(this,void 0,void 0,(function(){var n,r,i,o;return Ji(this,(function(a){switch(a.label){case 0:return n=e.appId,o=e.apiKey,o={method:"GET",headers:new Headers({Accept:"application/json","x-goog-api-key":o})},n=GM.replace("{app-id}",n),[4,fetch(n,o)];case 1:if(200===(r=a.sent()).status||304===r.status)return[3,6];i="",a.label=2;case 2:return a.trys.push([2,4,,5]),[4,r.json()];case 3:return o=a.sent(),null!==(t=o.error)&&void 0!==t&&t.message&&(i=o.error.message),[3,5];case 4:return a.sent(),[3,5];case 5:throw XM.create("config-fetch-failed",{httpStatus:r.status,responseMessage:i});case 6:return[2,r.json()]}}))}))}function nF(e,t,n){return void 0===t&&(t=eF),Xi(this,void 0,void 0,(function(){var r,i,o,a,s,u=this;return Ji(this,(function(c){if(a=e.options,r=a.appId,i=a.apiKey,o=a.measurementId,!r)throw XM.create("no-app-id");if(i)return a=t.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},s=new oF,setTimeout((function(){return Xi(u,void 0,void 0,(function(){return Ji(this,(function(e){return s.abort(),[2]}))}))}),void 0!==n?n:KM),[2,function e(t,n,r,i){var o=n.throttleEndTimeMillis,a=n.backoffCount;return void 0===i&&(i=eF),Xi(this,void 0,void 0,(function(){var n,s,u,c,l;return Ji(this,(function(h){switch(h.label){case 0:n=t.appId,s=t.measurementId,h.label=1;case 1:return h.trys.push([1,3,,4]),[4,rF(r,o)];case 2:return h.sent(),[3,4];case 3:if(c=h.sent(),s)return $M.warn("Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID "+s+' provided in the "measurementId" field in the local Firebase config. ['+c.message+"]"),[2,{appId:n,measurementId:s}];throw c;case 4:return h.trys.push([4,6,,7]),[4,tF(t)];case 5:return l=h.sent(),i.deleteThrottleMetadata(n),[2,l];case 6:if(iF(u=h.sent()))return c=503===Number(u.customData.httpStatus)?ta(a,i.intervalMillis,JM):ta(a,i.intervalMillis),l={throttleEndTimeMillis:Date.now()+c,backoffCount:a+1},i.setThrottleMetadata(n,l),$M.debug("Calling attemptFetch again in "+c+" millis"),[2,e(t,l,r,i)];if(i.deleteThrottleMetadata(n),s)return $M.warn("Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID "+s+' provided in the "measurementId" field in the local Firebase config. ['+u.message+"]"),[2,{appId:n,measurementId:s}];throw u;case 7:return[2]}}))}))}({appId:r,apiKey:i,measurementId:o},a,s,t)];if(o)return[2,{measurementId:o,appId:r}];throw XM.create("no-api-key")}))}))}function rF(e,t){return new Promise((function(n,r){var i=Math.max(t-Date.now(),0),o=setTimeout(n,i);e.addEventListener((function(){clearTimeout(o),r(XM.create("fetch-throttle",{throttleEndTimeMillis:t}))}))}))}function iF(e){if(e instanceof ko&&e.customData)return 429===(e=Number(e.customData.httpStatus))||500===e||503===e||504===e}var oF=(aF.prototype.addEventListener=function(e){this.listeners.push(e)},aF.prototype.abort=function(){this.listeners.forEach((function(e){return e()}))},aF);function aF(){this.listeners=[]}function sF(e,t,n,r,i,o){return Xi(this,void 0,void 0,(function(){var a,s,u;return Ji(this,(function(c){switch(c.label){case 0:return(a=nF(e)).then((function(t){n[t.measurementId]=t.appId,e.options.measurementId&&t.measurementId!==e.options.measurementId&&$M.warn("The measurement ID in the local Firebase config ("+e.options.measurementId+") does not match the measurement ID fetched from the server ("+t.measurementId+"). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.")})).catch((function(e){return $M.error(e)})),t.push(a),s=function(){return Xi(this,void 0,void 0,(function(){var e;return Ji(this,(function(t){switch(t.label){case 0:return Eo()?[3,1]:($M.warn(XM.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),[2,!1]);case 1:return t.trys.push([1,3,,4]),[4,So()];case 2:return t.sent(),[3,4];case 3:return e=t.sent(),$M.warn(XM.create("indexeddb-unavailable",{errorInfo:e}).message),[2,!1];case 4:return[2,!0]}}))}))}().then((function(e){if(e)return r.getId()})),[4,Promise.all([a,s])];case 1:return u=c.sent(),a=u[0],s=u[1],function(){for(var e=window.document.getElementsByTagName("script"),t=0,n=Object.values(e);t<n.length;t++){var r=n[t];if(r.src&&r.src.includes(QM))return r}}()||(l=o,h=a.measurementId,(f=document.createElement("script")).src=QM+"?l="+l+"&id="+h,f.async=!0,document.head.appendChild(f)),i("js",new Date),(u={})[HM]="firebase",u.update=!0,null!=s&&(u[zM]=s),i(VM.CONFIG,a.measurementId,u),[2,a.measurementId]}var l,h,f}))}))}var uF,cF,lF={},hF=[],fF={},dF="dataLayer",pF="gtag",vF=!1;function gF(e){if(vF)throw XM.create("already-initialized");e.dataLayerName&&(dF=e.dataLayerName),e.gtagName&&(pF=e.gtagName)}function yF(e,t){i=[],bo()&&i.push("This is a browser extension environment."),To()||i.push("Cookies are not available."),0<i.length&&(i=i.map((function(e,t){return"("+(t+1)+") "+e})).join(" "),i=XM.create("invalid-analytics-context",{errorInfo:i}),$M.warn(i.message));var n,r,i,o=e.options.appId;if(!o)throw XM.create("no-app-id");if(!e.options.apiKey){if(!e.options.measurementId)throw XM.create("no-api-key");$M.warn('The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID '+e.options.measurementId+' provided in the "measurementId" field in the local Firebase config.')}if(null!=lF[o])throw XM.create("already-exists",{id:o});return vF||(r=dF,i=[],Array.isArray(window[r])?i=window[r]:window[r]=i,n=dF,r=pF,i=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];window[n].push(arguments)},window[r]&&"function"==typeof window[r]&&(i=window[r]),window[r]=YM(i,lF,hF,fF),r={gtagCore:i,wrappedGtag:window[r]},cF=r.wrappedGtag,uF=r.gtagCore,vF=!0),lF[o]=sF(e,hF,fF,t,uF,dF),{app:e,logEvent:function(e,t,n){(function(e,t,n,r,i){return Xi(this,void 0,void 0,(function(){var o;return Ji(this,(function(a){switch(a.label){case 0:return i&&i.global?(e(VM.EVENT,n,r),[2]):[3,1];case 1:return[4,t];case 2:o=a.sent(),o=Yi(Yi({},r),{send_to:o}),e(VM.EVENT,n,o),a.label=3;case 3:return[2]}}))}))})(cF,lF[o],e,t,n).catch((function(e){return $M.error(e)}))},setCurrentScreen:function(e,t){(function(e,t,n,r){return Xi(this,void 0,void 0,(function(){var i;return Ji(this,(function(o){switch(o.label){case 0:return r&&r.global?(e(VM.SET,{screen_name:n}),[2,Promise.resolve()]):[3,1];case 1:return[4,t];case 2:i=o.sent(),e(VM.CONFIG,i,{update:!0,screen_name:n}),o.label=3;case 3:return[2]}}))}))})(cF,lF[o],e,t).catch((function(e){return $M.error(e)}))},setUserId:function(e,t){(function(e,t,n,r){return Xi(this,void 0,void 0,(function(){var i;return Ji(this,(function(o){switch(o.label){case 0:return r&&r.global?(e(VM.SET,{user_id:n}),[2,Promise.resolve()]):[3,1];case 1:return[4,t];case 2:i=o.sent(),e(VM.CONFIG,i,{update:!0,user_id:n}),o.label=3;case 3:return[2]}}))}))})(cF,lF[o],e,t).catch((function(e){return $M.error(e)}))},setUserProperties:function(e,t){(function(e,t,n,r){return Xi(this,void 0,void 0,(function(){var i,o,a,s,u;return Ji(this,(function(c){switch(c.label){case 0:if(!r||!r.global)return[3,1];for(i={},o=0,a=Object.keys(n);o<a.length;o++)s=a[o],i["user_properties."+s]=n[s];return e(VM.SET,i),[2,Promise.resolve()];case 1:return[4,t];case 2:u=c.sent(),e(VM.CONFIG,u,{update:!0,user_properties:n}),c.label=3;case 3:return[2]}}))}))})(cF,lF[o],e,t).catch((function(e){return $M.error(e)}))},setAnalyticsCollectionEnabled:function(e){(function(e,t){return Xi(this,void 0,void 0,(function(){var n;return Ji(this,(function(r){switch(r.label){case 0:return[4,e];case 1:return n=r.sent(),window["ga-disable-"+n]=!t,[2]}}))}))})(lF[o],e).catch((function(e){return $M.error(e)}))},INTERNAL:{delete:function(){return delete lF[o],Promise.resolve()}}}}var mF,bF="analytics";function _F(){return Xi(this,void 0,void 0,(function(){return Ji(this,(function(e){switch(e.label){case 0:if(bo())return[2,!1];if(!To())return[2,!1];if(!Eo())return[2,!1];e.label=1;case 1:return e.trys.push([1,3,,4]),[4,So()];case 2:return[2,e.sent()];case 3:return e.sent(),[2,!1];case 4:return[2]}}))}))}(mF=Da).INTERNAL.registerComponent(new ra(bF,(function(e){return yF(e.getProvider("app").getImmediate(),e.getProvider("installations").getImmediate())}),"PUBLIC").setServiceProps({settings:gF,EventName:WM,isSupported:_F})),mF.INTERNAL.registerComponent(new ra("analytics-internal",(function(e){try{return{logEvent:e.getProvider(bF).getImmediate().logEvent}}catch(e){throw XM.create("interop-component-reg-failed",{reason:e})}}),"PRIVATE")),mF.registerVersion("@firebase/analytics","0.6.18");var wF=(EF.prototype.isCachedDataFresh=function(e,t){if(!t)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;var n=Date.now()-t;return t=n<=e,this.logger.debug("Config fetch cache check. Cache age millis: "+n+". Cache max age millis (minimumFetchIntervalMillis setting): "+e+". Is cache hit: "+t+"."),t},EF.prototype.fetch=function(e){return Xi(this,void 0,void 0,(function(){var t,n,r;return Ji(this,(function(i){switch(i.label){case 0:return[4,Promise.all([this.storage.getLastSuccessfulFetchTimestampMillis(),this.storage.getLastSuccessfulFetchResponse()])];case 1:return r=i.sent(),t=r[0],(r=r[1])&&this.isCachedDataFresh(e.cacheMaxAgeMillis,t)?[2,r]:(e.eTag=r&&r.eTag,[4,this.client.fetch(e)]);case 2:return n=i.sent(),r=[this.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())],200===n.status&&r.push(this.storage.setLastSuccessfulFetchResponse(n)),[4,Promise.all(r)];case 3:return i.sent(),[2,n]}}))}))},EF);function EF(e,t,n,r){this.client=e,this.storage=t,this.storageCache=n,this.logger=r}(Q={})["registration-window"]="Undefined window object. This SDK only supports usage in a browser environment.",Q["registration-project-id"]="Undefined project identifier. Check Firebase app initialization.",Q["registration-api-key"]="Undefined API key. Check Firebase app initialization.",Q["registration-app-id"]="Undefined app identifier. Check Firebase app initialization.",Q["storage-open"]="Error thrown when opening storage. Original error: {$originalErrorMessage}.",Q["storage-get"]="Error thrown when reading from storage. Original error: {$originalErrorMessage}.",Q["storage-set"]="Error thrown when writing to storage. Original error: {$originalErrorMessage}.",Q["storage-delete"]="Error thrown when deleting from storage. Original error: {$originalErrorMessage}.",Q["fetch-client-network"]="Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.",Q["fetch-timeout"]='The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',Q["fetch-throttle"]='The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',Q["fetch-client-parse"]="Fetch client could not parse response. Original error: {$originalErrorMessage}.",Q["fetch-status"]="Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.";var SF=new xo("remoteconfig","Remote Config",Q),TF=(CF.prototype.fetch=function(e){return Xi(this,void 0,void 0,(function(){var t,n,r,i,o,a,s,u,c,l;return Ji(this,(function(h){switch(h.label){case 0:return[4,Promise.all([this.firebaseInstallations.getId(),this.firebaseInstallations.getToken()])];case 1:i=h.sent(),t=i[0],r=i[1],n=window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com",i=n+"/v1/projects/"+this.projectId+"/namespaces/"+this.namespace+":fetch?key="+this.apiKey,n={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},r={sdk_version:this.sdkVersion,app_instance_id:t,app_instance_id_token:r,app_id:this.appId,language_code:(f=void 0===f?navigator:f).languages&&f.languages[0]||f.language},r={method:"POST",headers:n,body:JSON.stringify(r)},i=fetch(i,r),r=new Promise((function(t,n){e.signal.addEventListener((function(){var e=new Error("The operation was aborted.");e.name="AbortError",n(e)}))})),h.label=2;case 2:return h.trys.push([2,5,,6]),[4,Promise.race([i,r])];case 3:return h.sent(),[4,i];case 4:return l=h.sent(),[3,6];case 5:throw r=h.sent(),i="fetch-client-network","AbortError"===r.name&&(i="fetch-timeout"),SF.create(i,{originalErrorMessage:r.message});case 6:if(o=l.status,a=l.headers.get("ETag")||void 0,200!==l.status)return[3,11];c=void 0,h.label=7;case 7:return h.trys.push([7,9,,10]),[4,l.json()];case 8:return c=h.sent(),[3,10];case 9:throw l=h.sent(),SF.create("fetch-client-parse",{originalErrorMessage:l.message});case 10:s=c.entries,u=c.state,h.label=11;case 11:if("INSTANCE_STATE_UNSPECIFIED"===u?o=500:"NO_CHANGE"===u?o=304:"NO_TEMPLATE"!==u&&"EMPTY_CONFIG"!==u||(s={}),304!==o&&200!==o)throw SF.create("fetch-status",{httpStatus:o});return[2,{status:o,eTag:a,config:s}]}var f}))}))},CF);function CF(e,t,n,r,i,o){this.firebaseInstallations=e,this.sdkVersion=t,this.namespace=n,this.projectId=r,this.apiKey=i,this.appId=o}var IF=(kF.prototype.addEventListener=function(e){this.listeners.push(e)},kF.prototype.abort=function(){this.listeners.forEach((function(e){return e()}))},kF);function kF(){this.listeners=[]}var OF=["1","true","t","yes","y","on"],xF=(PF.prototype.asString=function(){return this._value},PF.prototype.asBoolean=function(){return"static"!==this._source&&0<=OF.indexOf(this._value.toLowerCase())},PF.prototype.asNumber=function(){if("static"===this._source)return 0;var e=Number(this._value);return isNaN(e)?0:e},PF.prototype.getSource=function(){return this._source},PF);function PF(e,t){void 0===t&&(t=""),this._source=e,this._value=t}var NF=(AF.prototype.setLogLevel=function(e){switch(e){case"debug":this._logger.logLevel=la.DEBUG;break;case"silent":this._logger.logLevel=la.SILENT;break;default:this._logger.logLevel=la.ERROR}},Object.defineProperty(AF.prototype,"fetchTimeMillis",{get:function(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1},enumerable:!1,configurable:!0}),Object.defineProperty(AF.prototype,"lastFetchStatus",{get:function(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"},enumerable:!1,configurable:!0}),AF.prototype.activate=function(){return Xi(this,void 0,void 0,(function(){var e,t;return Ji(this,(function(n){switch(n.label){case 0:return[4,Promise.all([this._storage.getLastSuccessfulFetchResponse(),this._storage.getActiveConfigEtag()])];case 1:return t=n.sent(),e=t[0],t=t[1],e&&e.config&&e.eTag&&e.eTag!==t?[4,Promise.all([this._storageCache.setActiveConfig(e.config),this._storage.setActiveConfigEtag(e.eTag)])]:[2,!1];case 2:return n.sent(),[2,!0]}}))}))},AF.prototype.ensureInitialized=function(){var e=this;return this._initializePromise||(this._initializePromise=this._storageCache.loadFromStorage().then((function(){e._isInitializationComplete=!0}))),this._initializePromise},AF.prototype.fetch=function(){return Xi(this,void 0,void 0,(function(){var e,t,n,r=this;return Ji(this,(function(i){switch(i.label){case 0:e=new IF,setTimeout((function(){return Xi(r,void 0,void 0,(function(){return Ji(this,(function(t){return e.abort(),[2]}))}))}),this.settings.fetchTimeoutMillis),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,this._client.fetch({cacheMaxAgeMillis:this.settings.minimumFetchIntervalMillis,signal:e})];case 2:return i.sent(),[4,this._storageCache.setLastFetchStatus("success")];case 3:return i.sent(),[3,6];case 4:return t=i.sent(),a="fetch-throttle",n=(o=t)instanceof ko&&-1!==o.code.indexOf(a)?"throttle":"failure",[4,this._storageCache.setLastFetchStatus(n)];case 5:throw i.sent(),t;case 6:return[2]}var o,a}))}))},AF.prototype.fetchAndActivate=function(){return Xi(this,void 0,void 0,(function(){return Ji(this,(function(e){switch(e.label){case 0:return[4,this.fetch()];case 1:return e.sent(),[2,this.activate()]}}))}))},AF.prototype.getAll=function(){var e=this;return function(e,t){return void 0===e&&(e={}),void 0===t&&(t={}),Object.keys(Yi(Yi({},e),t))}(this._storageCache.getActiveConfig(),this.defaultConfig).reduce((function(t,n){return t[n]=e.getValue(n),t}),{})},AF.prototype.getBoolean=function(e){return this.getValue(e).asBoolean()},AF.prototype.getNumber=function(e){return this.getValue(e).asNumber()},AF.prototype.getString=function(e){return this.getValue(e).asString()},AF.prototype.getValue=function(e){this._isInitializationComplete||this._logger.debug('A value was requested for key "'+e+'" before SDK initialization completed. Await on ensureInitialized if the intent was to get a previously activated value.');var t=this._storageCache.getActiveConfig();return t&&void 0!==t[e]?new xF("remote",t[e]):this.defaultConfig&&void 0!==this.defaultConfig[e]?new xF("default",String(this.defaultConfig[e])):(this._logger.debug('Returning static value for key "'+e+'". Define a default or remote value if this is unintentional.'),new xF("static"))},AF);function AF(e,t,n,r,i){this.app=e,this._client=t,this._storageCache=n,this._storage=r,this._logger=i,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}function RF(e,t){return e=e.target.error||void 0,SF.create(t,{originalErrorMessage:e&&e.message})}var DF="app_namespace_store",jF="firebase_remote_config",LF=1,MF=(FF.prototype.getLastFetchStatus=function(){return this.get("last_fetch_status")},FF.prototype.setLastFetchStatus=function(e){return this.set("last_fetch_status",e)},FF.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.get("last_successful_fetch_timestamp_millis")},FF.prototype.setLastSuccessfulFetchTimestampMillis=function(e){return this.set("last_successful_fetch_timestamp_millis",e)},FF.prototype.getLastSuccessfulFetchResponse=function(){return this.get("last_successful_fetch_response")},FF.prototype.setLastSuccessfulFetchResponse=function(e){return this.set("last_successful_fetch_response",e)},FF.prototype.getActiveConfig=function(){return this.get("active_config")},FF.prototype.setActiveConfig=function(e){return this.set("active_config",e)},FF.prototype.getActiveConfigEtag=function(){return this.get("active_config_etag")},FF.prototype.setActiveConfigEtag=function(e){return this.set("active_config_etag",e)},FF.prototype.getThrottleMetadata=function(){return this.get("throttle_metadata")},FF.prototype.setThrottleMetadata=function(e){return this.set("throttle_metadata",e)},FF.prototype.deleteThrottleMetadata=function(){return this.delete("throttle_metadata")},FF.prototype.get=function(e){return Xi(this,void 0,void 0,(function(){var t,n=this;return Ji(this,(function(r){switch(r.label){case 0:return[4,this.openDbPromise];case 1:return t=r.sent(),[2,new Promise((function(r,i){var o=t.transaction([DF],"readonly").objectStore(DF),a=n.createCompositeKey(e);try{var s=o.get(a);s.onerror=function(e){i(RF(e,"storage-get"))},s.onsuccess=function(e){e=e.target.result,r(e?e.value:void 0)}}catch(o){i(SF.create("storage-get",{originalErrorMessage:o&&o.message}))}}))]}}))}))},FF.prototype.set=function(e,t){return Xi(this,void 0,void 0,(function(){var n,r=this;return Ji(this,(function(i){switch(i.label){case 0:return[4,this.openDbPromise];case 1:return n=i.sent(),[2,new Promise((function(i,o){var a=n.transaction([DF],"readwrite").objectStore(DF),s=r.createCompositeKey(e);try{var u=a.put({compositeKey:s,value:t});u.onerror=function(e){o(RF(e,"storage-set"))},u.onsuccess=function(){i()}}catch(i){o(SF.create("storage-set",{originalErrorMessage:i&&i.message}))}}))]}}))}))},FF.prototype.delete=function(e){return Xi(this,void 0,void 0,(function(){var t,n=this;return Ji(this,(function(r){switch(r.label){case 0:return[4,this.openDbPromise];case 1:return t=r.sent(),[2,new Promise((function(r,i){var o=t.transaction([DF],"readwrite").objectStore(DF),a=n.createCompositeKey(e);try{var s=o.delete(a);s.onerror=function(e){i(RF(e,"storage-delete"))},s.onsuccess=function(){r()}}catch(r){i(SF.create("storage-delete",{originalErrorMessage:r&&r.message}))}}))]}}))}))},FF.prototype.createCompositeKey=function(e){return[this.appId,this.appName,this.namespace,e].join()},FF);function FF(e,t,n,r){void 0===r&&(r=new Promise((function(e,t){var n=indexedDB.open(jF,LF);n.onerror=function(e){t(RF(e,"storage-open"))},n.onsuccess=function(t){e(t.target.result)},n.onupgradeneeded=function(e){var t=e.target.result;0===e.oldVersion&&t.createObjectStore(DF,{keyPath:"compositeKey"})}}))),this.appId=e,this.appName=t,this.namespace=n,this.openDbPromise=r}var UF=(qF.prototype.getLastFetchStatus=function(){return this.lastFetchStatus},qF.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.lastSuccessfulFetchTimestampMillis},qF.prototype.getActiveConfig=function(){return this.activeConfig},qF.prototype.loadFromStorage=function(){return Xi(this,void 0,void 0,(function(){var e,t,n;return Ji(this,(function(r){switch(r.label){case 0:return e=this.storage.getLastFetchStatus(),t=this.storage.getLastSuccessfulFetchTimestampMillis(),n=this.storage.getActiveConfig(),[4,e];case 1:return(e=r.sent())&&(this.lastFetchStatus=e),[4,t];case 2:return(t=r.sent())&&(this.lastSuccessfulFetchTimestampMillis=t),[4,n];case 3:return(n=r.sent())&&(this.activeConfig=n),[2]}}))}))},qF.prototype.setLastFetchStatus=function(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)},qF.prototype.setLastSuccessfulFetchTimestampMillis=function(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)},qF.prototype.setActiveConfig=function(e){return this.activeConfig=e,this.storage.setActiveConfig(e)},qF);function qF(e){this.storage=e}var BF=(VF.prototype.fetch=function(e){return Xi(this,void 0,void 0,(function(){var t;return Ji(this,(function(n){switch(n.label){case 0:return[4,this.storage.getThrottleMetadata()];case 1:return t=n.sent()||{backoffCount:0,throttleEndTimeMillis:Date.now()},[2,this.attemptFetch(e,t)]}}))}))},VF.prototype.attemptFetch=function(e,t){var n=t.throttleEndTimeMillis,r=t.backoffCount;return Xi(this,void 0,void 0,(function(){var t,i;return Ji(this,(function(o){switch(o.label){case 0:return[4,(a=e.signal,s=n,new Promise((function(e,t){var n=Math.max(s-Date.now(),0),r=setTimeout(e,n);a.addEventListener((function(){clearTimeout(r),t(SF.create("fetch-throttle",{throttleEndTimeMillis:s}))}))})))];case 1:o.sent(),o.label=2;case 2:return o.trys.push([2,5,,7]),[4,this.client.fetch(e)];case 3:return t=o.sent(),[4,this.storage.deleteThrottleMetadata()];case 4:return o.sent(),[2,t];case 5:if(!function(e){if(e instanceof ko&&e.customData)return 429===(e=Number(e.customData.httpStatus))||500===e||503===e||504===e}(i=o.sent()))throw i;return i={throttleEndTimeMillis:Date.now()+ta(r),backoffCount:r+1},[4,this.storage.setThrottleMetadata(i)];case 6:return o.sent(),[2,this.attemptFetch(e,i)];case 7:return[2]}var a,s}))}))},VF);function VF(e,t){this.client=e,this.storage=t}var WF,zF="@firebase/remote-config";(WF=Da).INTERNAL.registerComponent(new ra("remoteConfig",(function(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),i=e.getProvider("installations").getImmediate();if("undefined"==typeof window)throw SF.create("registration-window");var o=r.options,a=o.projectId,s=o.apiKey,u=o.appId;if(!a)throw SF.create("registration-project-id");if(!s)throw SF.create("registration-api-key");if(!u)throw SF.create("registration-app-id");return n=n||"firebase",t=new MF(u,r.name,n),e=new UF(t),(o=new ga(zF)).logLevel=la.ERROR,u=new TF(i,WF.SDK_VERSION,n,a,s,u),u=new BF(u,t),u=new wF(u,t,e,o),(o=new NF(r,u,e,t,o)).ensureInitialized(),o}),"PUBLIC").setMultipleInstances(!0)),WF.registerVersion(zF,"0.1.43"),(Q={})["already-activated"]="You are trying to activate AppCheck for FirebaseApp {$appName}, while it is already activated. AppCheck can only be activated once.",Q["use-before-activation"]="AppCheck is being used before activate() is called for FirebaseApp {$appName}. Please make sure you call activate() before instantiating other Firebase services.",Q["fetch-network-error"]="Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.",Q["fetch-parse-error"]="Fetch client could not parse response. Original error: {$originalErrorMessage}.",Q["fetch-status-error"]="Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.",Q["storage-open"]="Error thrown when opening storage. Original error: {$originalErrorMessage}.",Q["storage-get"]="Error thrown when reading from storage. Original error: {$originalErrorMessage}.",Q["storage-set"]="Error thrown when writing to storage. Original error: {$originalErrorMessage}.",Q["recaptcha-error"]="ReCAPTCHA error.";var HF=new xo("appCheck","AppCheck",Q),KF=new Map,GF={activated:!1,tokenObservers:[]},QF={enabled:!1};function $F(e){return KF.get(e)||GF}function YF(e,t){KF.set(e,t)}var XF="https://content-firebaseappcheck.googleapis.com/v1beta",JF="exchangeDebugToken",ZF={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4},eU=(tU.prototype.start=function(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch((function(){}))},tU.prototype.stop=function(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)},tU.prototype.isRunning=function(){return!!this.pending},tU.prototype.process=function(e){return Xi(this,void 0,void 0,(function(){var t;return Ji(this,(function(n){switch(n.label){case 0:this.stop(),n.label=1;case 1:return n.trys.push([1,6,,7]),this.pending=new fo,[4,(r=this.getNextRun(e),new Promise((function(e){setTimeout(e,r)})))];case 2:return n.sent(),this.pending.resolve(),[4,this.pending.promise];case 3:return n.sent(),this.pending=new fo,[4,this.operation()];case 4:return n.sent(),this.pending.resolve(),[4,this.pending.promise];case 5:return n.sent(),this.process(!0).catch((function(){})),[3,7];case 6:return t=n.sent(),this.retryPolicy(t)?this.process(!1).catch((function(){})):this.stop(),[3,7];case 7:return[2]}var r}))}))},tU.prototype.getNextRun=function(e){return e?(this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration()):(e=this.nextErrorWaitInterval,this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),e)},tU);function tU(e,t,n,r,i){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=n,this.lowerBound=r,this.upperBound=i,this.pending=null,i<(this.nextErrorWaitInterval=r))throw new Error("Proactive refresh lower bound greater than upper bound!")}function nU(){return self.grecaptcha}function rU(e){if(!$F(e).activated)throw HF.create("use-before-activation",{appName:e.name})}function iU(e,t){var n=e.url,r=e.body;return Xi(this,void 0,void 0,(function(){var e,i,o,a,s;return Ji(this,(function(u){switch(u.label){case 0:i={"Content-Type":"application/json"},(e=t.getImmediate({optional:!0}))&&(i["X-Firebase-Client"]=e.getPlatformInfoString()),i={method:"POST",body:JSON.stringify(r),headers:i},u.label=1;case 1:return u.trys.push([1,3,,4]),[4,fetch(n,i)];case 2:return s=u.sent(),[3,4];case 3:throw i=u.sent(),HF.create("fetch-network-error",{originalErrorMessage:i.message});case 4:if(200!==s.status)throw HF.create("fetch-status-error",{httpStatus:s.status});u.label=5;case 5:return u.trys.push([5,7,,8]),[4,s.json()];case 6:return o=u.sent(),[3,8];case 7:throw a=u.sent(),HF.create("fetch-parse-error",{originalErrorMessage:a.message});case 8:if(!(s=o.ttl.match(/^([\d.]+)(s)$/))||!s[2]||isNaN(Number(s[1])))throw HF.create("fetch-parse-error",{originalErrorMessage:"ttl field (timeToLive) is not in standard Protobuf Duration format: "+o.ttl});return a=1e3*Number(s[1]),s=Date.now(),[2,{token:o.attestationToken,expireTimeMillis:s+a,issuedAtTimeMillis:s}]}}))}))}function oU(e,t){var n=(r=e.options).projectId,r=(e=r.appId,r.apiKey);return{url:XF+"/projects/"+n+"/apps/"+e+":"+JF+"?key="+r,body:{debug_token:t}}}var aU="firebase-app-check-database",sU=1,uU="firebase-app-check-store",cU="debug-token",lU=null;function hU(){return lU=lU||new Promise((function(e,t){try{var n=indexedDB.open(aU,sU);n.onsuccess=function(t){e(t.target.result)},n.onerror=function(e){t(HF.create("storage-open",{originalErrorMessage:null===(e=e.target.error)||void 0===e?void 0:e.message}))},n.onupgradeneeded=function(e){var t=e.target.result;0===e.oldVersion&&t.createObjectStore(uU,{keyPath:"compositeKey"})}}catch(n){t(HF.create("storage-open",{originalErrorMessage:n.message}))}}))}function fU(e,t){return Xi(this,void 0,void 0,(function(){var n,r,i;return Ji(this,(function(o){switch(o.label){case 0:return[4,hU()];case 1:return r=o.sent(),n=r.transaction(uU,"readwrite"),r=n.objectStore(uU),i=r.put({compositeKey:e,value:t}),[2,new Promise((function(e,t){i.onsuccess=function(t){e()},n.onerror=function(e){t(HF.create("storage-set",{originalErrorMessage:null===(e=e.target.error)||void 0===e?void 0:e.message}))}}))]}}))}))}function dU(e){return Xi(this,void 0,void 0,(function(){var t,n,r;return Ji(this,(function(i){switch(i.label){case 0:return[4,hU()];case 1:return n=i.sent(),t=n.transaction(uU,"readonly"),n=t.objectStore(uU),r=n.get(e),[2,new Promise((function(e,n){r.onsuccess=function(t){t=t.target.result,e(t?t.value:void 0)},t.onerror=function(e){n(HF.create("storage-get",{originalErrorMessage:null===(e=e.target.error)||void 0===e?void 0:e.message}))}}))]}}))}))}function pU(e){return e.options.appId+"-"+e.name}var vU=new ga("@firebase/app-check");function gU(e){return Xi(this,void 0,void 0,(function(){var t,n;return Ji(this,(function(r){switch(r.label){case 0:if(!Eo())return[3,5];t=void 0,r.label=1;case 1:return r.trys.push([1,3,,4]),[4,dU(pU(e))];case 2:return t=r.sent(),[3,4];case 3:return n=r.sent(),vU.warn("Failed to read token from indexeddb. Error: "+n),[3,4];case 4:return[2,t];case 5:return[2,void 0]}}))}))}function yU(e,t){return Eo()?fU(pU(e),t).catch((function(e){vU.warn("Failed to write token to indexeddb. Error: "+e)})):Promise.resolve()}function mU(){return Xi(this,void 0,void 0,(function(){var e;return Ji(this,(function(t){switch(t.label){case 0:e=void 0,t.label=1;case 1:return t.trys.push([1,3,,4]),[4,dU(cU)];case 2:return e=t.sent(),[3,4];case 3:return t.sent(),[3,4];case 4:return e||(e="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})),fU(cU,e).catch((function(e){return vU.warn("Failed to persist debug token to indexeddb. Error: "+e)})),console.log("AppCheck debug token: "+e+". You will need to whitelist it in the Firebase console for it to work")),[2,e]}}))}))}var bU={error:"UNKNOWN_ERROR"};function _U(e,t,n){return void 0===n&&(n=!1),Xi(this,void 0,void 0,(function(){var r,i,o,a,s,u,c,l,h;return Ji(this,(function(f){switch(f.label){case 0:return rU(e),r=$F(e),i=r.token,o=void 0,i?[3,2]:[4,r.cachedTokenPromise];case 1:(a=f.sent())&&TU(a)&&(i=a,YF(e,Yi(Yi({},r),{token:i})),SU(e,{token:i.token})),f.label=2;case 2:return!n&&i&&TU(i)?[2,{token:i.token}]:QF.enabled?(s=iU,u=oU,c=[e],[4,function(){return Xi(this,void 0,void 0,(function(){var e;return Ji(this,(function(t){if((e=QF).enabled&&e.token)return[2,e.token.promise];throw Error("\n            Can't get debug token in production mode.\n        ")}))}))}()]):[3,6];case 3:return[4,s.apply(void 0,[u.apply(void 0,c.concat([f.sent()])),t])];case 4:return l=f.sent(),[4,yU(e,l)];case 5:return f.sent(),YF(e,Yi(Yi({},r),{token:l})),[2,{token:l.token}];case 6:return f.trys.push([6,8,,9]),[4,r.provider.getToken()];case 7:return i=f.sent(),[3,9];case 8:return l=f.sent(),vU.error(l),o=l,[3,9];case 9:return i?[3,10]:(d=o,h={token:function(e){return uo.encodeString(JSON.stringify(e),!1)}(bU),error:d},[3,12]);case 10:return h={token:i.token},YF(e,Yi(Yi({},r),{token:i})),[4,yU(e,i)];case 11:f.sent(),f.label=12;case 12:return SU(e,h),[2,h]}var d}))}))}function wU(e,t,n,r,i){var o,a=$F(e);n={next:r,error:i,type:n},(n=Yi(Yi({},a),{tokenObservers:to(to([],a.tokenObservers),[n])})).tokenRefresher||(t=function(e,t){var n=this;return new eU((function(){return Xi(n,void 0,void 0,(function(){var n;return Ji(this,(function(r){switch(r.label){case 0:return $F(e).token?[3,2]:[4,_U(e,t)];case 1:return n=r.sent(),[3,4];case 2:return[4,_U(e,t,!0)];case 3:n=r.sent(),r.label=4;case 4:if(n.error)throw n.error;return[2]}}))}))}),(function(){return!0}),(function(){if((n=$F(e)).token){var t=n.token.issuedAtTimeMillis+.5*(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)+3e5,n=n.token.expireTimeMillis-3e5;return t=Math.min(t,n),Math.max(0,t-Date.now())}return 0}),ZF.RETRIAL_MIN_WAIT,ZF.RETRIAL_MAX_WAIT)}(e,t),n.tokenRefresher=t),!n.tokenRefresher.isRunning()&&a.isTokenAutoRefreshEnabled&&n.tokenRefresher.start(),a.token&&TU(a.token)?(o=a.token,Promise.resolve().then((function(){return r({token:o.token})})).catch((function(){}))):null==a.token&&a.cachedTokenPromise.then((function(e){e&&TU(e)&&r({token:e.token})})).catch((function(){})),YF(e,n)}function EU(e,t){var n=$F(e),r=n.tokenObservers.filter((function(e){return e.next!==t}));0===r.length&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),YF(e,Yi(Yi({},n),{tokenObservers:r}))}function SU(e,t){for(var n=0,r=$F(e).tokenObservers;n<r.length;n++){var i=r[n];try{"EXTERNAL"===i.type&&null!=t.error?i.error(t.error):i.next(t)}catch(e){}}}function TU(e){return 0<e.expireTimeMillis-Date.now()}var CU="https://www.google.com/recaptcha/api.js";function IU(e,t){var n=$F(e),r=new fo;YF(e,Yi(Yi({},n),{reCAPTCHAState:{initialized:r}}));var i="fire_app_check_"+e.name,o=document.createElement("div");o.id=i,o.style.display="none",document.body.appendChild(o);var a=nU();return a?a.ready((function(){kU(e,t,a,i),r.resolve(a)})):(n=function(){var n=nU();if(!n)throw new Error("no recaptcha");n.ready((function(){kU(e,t,n,i),r.resolve(n)}))},(o=document.createElement("script")).src=""+CU,o.onload=n,document.head.appendChild(o)),r.promise}function kU(e,t,n,r){r=n.render(r,{sitekey:t,size:"invisible"}),t=$F(e),YF(e,Yi(Yi({},t),{reCAPTCHAState:Yi(Yi({},t.reCAPTCHAState),{widgetId:r})}))}var OU=(xU.prototype.getToken=function(){return Xi(this,void 0,void 0,(function(){var e;return Ji(this,(function(t){switch(t.label){case 0:if(!this._app||!this._platformLoggerProvider)throw HF.create("use-before-activation",{appName:""});t.label=1;case 1:return t.trys.push([1,3,,4]),[4,function(e){return Xi(this,void 0,void 0,(function(){var t;return Ji(this,(function(n){switch(n.label){case 0:return rU(e),[4,$F(e).reCAPTCHAState.initialized.promise];case 1:return t=n.sent(),[2,new Promise((function(n,r){var i=$F(e).reCAPTCHAState;t.ready((function(){n(t.execute(i.widgetId,{action:"fire_app_check"}))}))}))]}}))}))}(this._app)];case 2:return e=t.sent(),[3,4];case 3:throw t.sent(),HF.create("recaptcha-error");case 4:return[2,iU((n=this._app,r=(i=n.options).projectId,n=i.appId,i=i.apiKey,{url:XF+"/projects/"+r+"/apps/"+n+":exchangeRecaptchaToken?key="+i,body:{recaptcha_token:e}}),this._platformLoggerProvider)]}var n,r,i}))}))},xU.prototype.initialize=function(e,t){this._app=e,this._platformLoggerProvider=t,IU(e,this._siteKey).catch((function(){}))},xU);function xU(e){this._siteKey=e}var PU=(NU.prototype.getToken=function(){return Xi(this,void 0,void 0,(function(){var e,t;return Ji(this,(function(n){switch(n.label){case 0:if(!this._app)throw HF.create("use-before-activation",{appName:""});return[4,this._customProviderOptions.getToken()];case 1:return e=n.sent(),t=function(e){return"object"==typeof(e=Do(e).claims)&&e.hasOwnProperty("iat")?e.iat:null}(e.token),t=null!==t&&t<Date.now()&&0<t?1e3*t:Date.now(),[2,Yi(Yi({},e),{issuedAtTimeMillis:t})]}}))}))},NU.prototype.initialize=function(e){this._app=e},NU);function NU(e){this._customProviderOptions=e}function AU(e,t){return{app:e,activate:function(n,r){return function(e,t,n,r){var i=$F(e);if(i.activated)throw HF.create("already-activated",{appName:e.name});(i=Yi(Yi({},i),{activated:!0})).cachedTokenPromise=gU(e).then((function(t){return t&&TU(t)&&YF(e,Yi(Yi({},$F(e)),{token:t})),t})),i.provider="string"==typeof t?new OU(t):t instanceof OU||t instanceof PU?t:new PU({getToken:t.getToken}),i.isTokenAutoRefreshEnabled=void 0===r?e.automaticDataCollectionEnabled:r,YF(e,i),i.provider.initialize(e,n)}(e,n,t,r)},setTokenAutoRefreshEnabled:function(t){return r=t,(t=$F(n=e)).tokenRefresher&&(!0===r?t.tokenRefresher.start():t.tokenRefresher.stop()),void YF(n,Yi(Yi({},t),{isTokenAutoRefreshEnabled:r}));var n,r},getToken:function(n){return function(e,t,n){return Xi(this,void 0,void 0,(function(){var r;return Ji(this,(function(i){switch(i.label){case 0:return[4,_U(e,t,n)];case 1:if((r=i.sent()).error)throw r.error;return[2,{token:r.token}]}}))}))}(e,t,n)},onTokenChanged:function(n,r,i){return o=e,a=t,s=r,u=function(){},r=function(){},u=null!=n.next?n.next.bind(n):n,null!=n.error?r=n.error.bind(n):s&&(r=s),wU(o,a,"EXTERNAL",u,r),function(){return EU(o,u)};var o,a,s,u},INTERNAL:{delete:function(){for(var t=0,n=$F(e).tokenObservers;t<n.length;t++){var r=n[t];EU(e,r.next)}return Promise.resolve()}}}}var RU,DU,jU,LU,MU="app-check-internal";return(RU=Da).INTERNAL.registerComponent(new ra("appCheck",(function(e){return AU(e.getProvider("app").getImmediate(),e.getProvider("platform-logger"))}),"PUBLIC").setServiceProps({ReCaptchaV3Provider:OU,CustomProvider:PU}).setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider(MU).initialize()}))),RU.INTERNAL.registerComponent(new ra(MU,(function(e){var t,n,r=e.getProvider("app").getImmediate();return e=e.getProvider("platform-logger"),t=r,n=e,{getToken:function(e){return _U(t,n,e)},addTokenListener:function(e){return wU(t,n,"INTERNAL",e)},removeTokenListener:function(e){return EU(t,e)}}}),"PUBLIC").setInstantiationMode("EXPLICIT")),RU.registerVersion("@firebase/app-check","0.3.2"),"string"!=typeof(LU=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof t)return t;throw new Error("Unable to locate global object.")}()).FIREBASE_APPCHECK_DEBUG_TOKEN&&!0!==LU.FIREBASE_APPCHECK_DEBUG_TOKEN||((DU=QF).enabled=!0,jU=new fo,DU.token=jU,"string"==typeof LU.FIREBASE_APPCHECK_DEBUG_TOKEN?jU.resolve(LU.FIREBASE_APPCHECK_DEBUG_TOKEN):jU.resolve(mU())),console.warn("\nIt looks like you're using the development build of the Firebase JS SDK.\nWhen deploying Firebase apps to production, it is advisable to only import\nthe individual SDK components you intend to use.\n\nFor the CDN builds, these are available in the following manner\n(replace <PACKAGE> with the name of a component - i.e. auth, database, etc):\n\nhttps://www.gstatic.com/firebasejs/5.0.0/firebase-<PACKAGE>.js\n"),Da.registerVersion("firebase","8.10.1","cdn"),Da}()}).call(this,n(33),n(26))},function(e,t,n){"use strict";var r=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;function a(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(i){return!1}}()?Object.assign:function(e,t){for(var n,s,u=a(e),c=1;c<arguments.length;c++){for(var l in n=Object(arguments[c]))i.call(n,l)&&(u[l]=n[l]);if(r){s=r(n);for(var h=0;h<s.length;h++)o.call(n,s[h])&&(u[s[h]]=n[s[h]])}}return u}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useScreenClass=t.screenClasses=void 0;var r=n(1),i=n(19),o=n(21);function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(u){s=!0,i=u}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var u=["xs","sm","md","lg","xl","xxl"];t.screenClasses=u;t.useScreenClass=function(e,t){var n=function(){var n=(0,i.getConfiguration)(),r=n.breakpoints,a=n.defaultScreenClass,s=n.maxScreenClass,c=a,l=function(e){return e&&e.current&&e.current.clientWidth?e.current.clientWidth:"undefined"!==typeof o.Window&&o.Window.innerWidth?o.Window.innerWidth:null}(e);l?(c="xs",r[0]&&l>=r[0]&&(c="sm"),r[1]&&l>=r[1]&&(c="md"),r[2]&&l>=r[2]&&(c="lg"),r[3]&&l>=r[3]&&(c="xl"),r[4]&&l>=r[4]&&(c="xxl")):t&&(c=t);var h=u.indexOf(c),f=u.indexOf(s);return f>=0&&h>f&&(c=u[f]),c},s=a((0,r.useState)((function(){return n()})),2),c=s[0],l=s[1];return(0,r.useEffect)((function(){var e=function(){return l(n())};return o.Window.addEventListener("resize",e,!1),function(){o.Window.removeEventListener("resize",e,!1)}}),[]),c}},function(e,t,n){"use strict";(function(t){var r=n(11),i=n(82),o=n(42),a={"Content-Type":"application/x-www-form-urlencoded"};function s(e,t){!r.isUndefined(e)&&r.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var u={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:function(){var e;return("undefined"!==typeof XMLHttpRequest||"undefined"!==typeof t&&"[object process]"===Object.prototype.toString.call(t))&&(e=n(43)),e}(),transformRequest:[function(e,t){return i(t,"Accept"),i(t,"Content-Type"),r.isFormData(e)||r.isArrayBuffer(e)||r.isBuffer(e)||r.isStream(e)||r.isFile(e)||r.isBlob(e)?e:r.isArrayBufferView(e)?e.buffer:r.isURLSearchParams(e)?(s(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):r.isObject(e)||t&&"application/json"===t["Content-Type"]?(s(t,"application/json"),function(e,t,n){if(r.isString(e))try{return(t||JSON.parse)(e),r.trim(e)}catch(i){if("SyntaxError"!==i.name)throw i}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){var t=this.transitional,n=t&&t.silentJSONParsing,i=t&&t.forcedJSONParsing,a=!n&&"json"===this.responseType;if(a||i&&r.isString(e)&&e.length)try{return JSON.parse(e)}catch(s){if(a){if("SyntaxError"===s.name)throw o(s,this,"E_JSON_PARSE");throw s}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};r.forEach(["delete","get","head"],(function(e){u.headers[e]={}})),r.forEach(["post","put","patch"],(function(e){u.headers[e]=r.merge(a)})),e.exports=u}).call(this,n(26))},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(r){"object"===typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";e.exports=n(58)},function(e,t,n){var r=n(95);e.exports=d,e.exports.parse=o,e.exports.compile=function(e,t){return s(o(e,t),t)},e.exports.tokensToFunction=s,e.exports.tokensToRegExp=f;var i=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function o(e,t){for(var n,r=[],o=0,a=0,s="",l=t&&t.delimiter||"/";null!=(n=i.exec(e));){var h=n[0],f=n[1],d=n.index;if(s+=e.slice(a,d),a=d+h.length,f)s+=f[1];else{var p=e[a],v=n[2],g=n[3],y=n[4],m=n[5],b=n[6],_=n[7];s&&(r.push(s),s="");var w=null!=v&&null!=p&&p!==v,E="+"===b||"*"===b,S="?"===b||"*"===b,T=n[2]||l,C=y||m;r.push({name:g||o++,prefix:v||"",delimiter:T,optional:S,repeat:E,partial:w,asterisk:!!_,pattern:C?c(C):_?".*":"[^"+u(T)+"]+?"})}}return a<e.length&&(s+=e.substr(a)),s&&r.push(s),r}function a(e){return encodeURI(e).replace(/[\/?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))}function s(e,t){for(var n=new Array(e.length),i=0;i<e.length;i++)"object"===typeof e[i]&&(n[i]=new RegExp("^(?:"+e[i].pattern+")$",h(t)));return function(t,i){for(var o="",s=t||{},u=(i||{}).pretty?a:encodeURIComponent,c=0;c<e.length;c++){var l=e[c];if("string"!==typeof l){var h,f=s[l.name];if(null==f){if(l.optional){l.partial&&(o+=l.prefix);continue}throw new TypeError('Expected "'+l.name+'" to be defined')}if(r(f)){if(!l.repeat)throw new TypeError('Expected "'+l.name+'" to not repeat, but received `'+JSON.stringify(f)+"`");if(0===f.length){if(l.optional)continue;throw new TypeError('Expected "'+l.name+'" to not be empty')}for(var d=0;d<f.length;d++){if(h=u(f[d]),!n[c].test(h))throw new TypeError('Expected all "'+l.name+'" to match "'+l.pattern+'", but received `'+JSON.stringify(h)+"`");o+=(0===d?l.prefix:l.delimiter)+h}}else{if(h=l.asterisk?encodeURI(f).replace(/[?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})):u(f),!n[c].test(h))throw new TypeError('Expected "'+l.name+'" to match "'+l.pattern+'", but received "'+h+'"');o+=l.prefix+h}}else o+=l}return o}}function u(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function c(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function l(e,t){return e.keys=t,e}function h(e){return e&&e.sensitive?"":"i"}function f(e,t,n){r(t)||(n=t||n,t=[]);for(var i=(n=n||{}).strict,o=!1!==n.end,a="",s=0;s<e.length;s++){var c=e[s];if("string"===typeof c)a+=u(c);else{var f=u(c.prefix),d="(?:"+c.pattern+")";t.push(c),c.repeat&&(d+="(?:"+f+d+")*"),a+=d=c.optional?c.partial?f+"("+d+")?":"(?:"+f+"("+d+"))?":f+"("+d+")"}}var p=u(n.delimiter||"/"),v=a.slice(-p.length)===p;return i||(a=(v?a.slice(0,-p.length):a)+"(?:"+p+"(?=$))?"),a+=o?"$":i&&v?"":"(?="+p+"|$)",l(new RegExp("^"+a,h(n)),t)}function d(e,t,n){return r(t)||(n=t||n,t=[]),n=n||{},e instanceof RegExp?function(e,t){var n=e.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)t.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return l(e,t)}(e,t):r(e)?function(e,t,n){for(var r=[],i=0;i<e.length;i++)r.push(d(e[i],t,n).source);return l(new RegExp("(?:"+r.join("|")+")",h(n)),t)}(e,t,n):function(e,t,n){return f(o(e,n),t,n)}(e,t,n)}},function(e,t,n){"use strict";var r=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,i=function(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}((function(e){return r.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91}));t.a=i},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.GutterWidthContext=void 0;var r=c(n(1)),i=c(n(14)),o=n(19),a=c(n(69)),s=n(21),u=["children","style","align","justify","debug","nogutter","gutterWidth","component","nowrap","direction"];function c(e){return e&&e.__esModule?e:{default:e}}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var d=r.default.createContext(!1);t.GutterWidthContext=d;var p=function(e){var t=e.children,n=e.style,i=e.align,s=e.justify,c=e.debug,p=e.nogutter,v=e.gutterWidth,g=e.component,y=e.nowrap,m=e.direction,b=f(e,u),_=(0,o.getConfiguration)().gutterWidth;p&&(_=0),"number"===typeof v&&(_=v);var w=(0,a.default)({gutterWidth:_,align:i,justify:s,debug:c,moreStyle:n,nowrap:y,direction:m});return r.default.createElement(g,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){h(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({style:w},b),r.default.createElement(d.Provider,{value:_},t))};p.propTypes={children:i.default.node.isRequired,align:i.default.oneOf(["normal","start","center","end","stretch"]),justify:i.default.oneOf(["start","center","end","between","around","initial","inherit"]),direction:i.default.oneOf(["column","row","column-reverse","row-reverse"]),nogutter:i.default.bool,gutterWidth:i.default.number,style:i.default.objectOf(i.default.oneOfType([i.default.number,i.default.string])),debug:i.default.bool,component:i.default.elementType,nowrap:i.default.bool},p.defaultProps={align:"normal",justify:"start",direction:"row",nogutter:!1,gutterWidth:null,style:{},debug:!1,component:s.Div,nowrap:!1};var v=p;t.default=v},function(e,t,n){"use strict";function r(e){return r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.ScreenClassContext=t.NO_PROVIDER_FLAG=void 0;var i,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=o?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(i,a,s):i[a]=e[a]}i.default=e,n&&n.set(e,i);return i}(n(1)),a=(i=n(14))&&i.__esModule?i:{default:i},s=n(31),u=n(19),c=n(21);function l(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function h(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(u){s=!0,i=u}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var d="NO_PROVIDER_FLAG";t.NO_PROVIDER_FLAG=d;var p=o.default.createContext(d);t.ScreenClassContext=p;var v=function(e){var t=e.useOwnWidth,n=e.children,r=e.fallbackScreenClass,i=(0,o.useRef)(),a=h((0,o.useState)(!1),2),l=a[0],f=a[1],d=(0,s.useScreenClass)(i,r),v=(0,u.getConfiguration)().defaultScreenClass,g=l?d:r||v;return(0,o.useEffect)((function(){return f(!0)}),[]),o.default.createElement(p.Provider,{value:g},t?o.default.createElement(c.Div,{ref:t?i:null},n):o.default.createElement(o.default.Fragment,null,n))};v.propTypes={children:a.default.node.isRequired,useOwnWidth:a.default.bool,fallbackScreenClass:a.default.oneOf([null,"xs","sm","md","lg","xl","xxl"])},v.defaultProps={useOwnWidth:!1,fallbackScreenClass:null};var g=v;t.default=g},function(e,t,n){"use strict";e.exports=function(e,t){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return e.apply(t,n)}}},function(e,t,n){"use strict";var r=n(11);function i(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,n){if(!t)return e;var o;if(n)o=n(t);else if(r.isURLSearchParams(t))o=t.toString();else{var a=[];r.forEach(t,(function(e,t){null!==e&&"undefined"!==typeof e&&(r.isArray(e)?t+="[]":e=[e],r.forEach(e,(function(e){r.isDate(e)?e=e.toISOString():r.isObject(e)&&(e=JSON.stringify(e)),a.push(i(t)+"="+i(e))})))})),o=a.join("&")}if(o){var s=e.indexOf("#");-1!==s&&(e=e.slice(0,s)),e+=(-1===e.indexOf("?")?"?":"&")+o}return e}},function(e,t,n){"use strict";e.exports=function(e,t,n,r,i){return e.config=t,n&&(e.code=n),e.request=r,e.response=i,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},e}},function(e,t,n){"use strict";var r=n(11),i=n(83),o=n(84),a=n(41),s=n(85),u=n(88),c=n(89),l=n(44);e.exports=function(e){return new Promise((function(t,n){var h=e.data,f=e.headers,d=e.responseType;r.isFormData(h)&&delete f["Content-Type"];var p=new XMLHttpRequest;if(e.auth){var v=e.auth.username||"",g=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";f.Authorization="Basic "+btoa(v+":"+g)}var y=s(e.baseURL,e.url);function m(){if(p){var r="getAllResponseHeaders"in p?u(p.getAllResponseHeaders()):null,o={data:d&&"text"!==d&&"json"!==d?p.response:p.responseText,status:p.status,statusText:p.statusText,headers:r,config:e,request:p};i(t,n,o),p=null}}if(p.open(e.method.toUpperCase(),a(y,e.params,e.paramsSerializer),!0),p.timeout=e.timeout,"onloadend"in p?p.onloadend=m:p.onreadystatechange=function(){p&&4===p.readyState&&(0!==p.status||p.responseURL&&0===p.responseURL.indexOf("file:"))&&setTimeout(m)},p.onabort=function(){p&&(n(l("Request aborted",e,"ECONNABORTED",p)),p=null)},p.onerror=function(){n(l("Network Error",e,null,p)),p=null},p.ontimeout=function(){var t="timeout of "+e.timeout+"ms exceeded";e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(l(t,e,e.transitional&&e.transitional.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",p)),p=null},r.isStandardBrowserEnv()){var b=(e.withCredentials||c(y))&&e.xsrfCookieName?o.read(e.xsrfCookieName):void 0;b&&(f[e.xsrfHeaderName]=b)}"setRequestHeader"in p&&r.forEach(f,(function(e,t){"undefined"===typeof h&&"content-type"===t.toLowerCase()?delete f[t]:p.setRequestHeader(t,e)})),r.isUndefined(e.withCredentials)||(p.withCredentials=!!e.withCredentials),d&&"json"!==d&&(p.responseType=e.responseType),"function"===typeof e.onDownloadProgress&&p.addEventListener("progress",e.onDownloadProgress),"function"===typeof e.onUploadProgress&&p.upload&&p.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then((function(e){p&&(p.abort(),n(e),p=null)})),h||(h=null),p.send(h)}))}},function(e,t,n){"use strict";var r=n(42);e.exports=function(e,t,n,i,o){var a=new Error(e);return r(a,t,n,i,o)}},function(e,t,n){"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},function(e,t,n){"use strict";var r=n(11);e.exports=function(e,t){t=t||{};var n={},i=["url","method","data"],o=["headers","auth","proxy","params"],a=["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","timeoutMessage","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","decompress","maxContentLength","maxBodyLength","maxRedirects","transport","httpAgent","httpsAgent","cancelToken","socketPath","responseEncoding"],s=["validateStatus"];function u(e,t){return r.isPlainObject(e)&&r.isPlainObject(t)?r.merge(e,t):r.isPlainObject(t)?r.merge({},t):r.isArray(t)?t.slice():t}function c(i){r.isUndefined(t[i])?r.isUndefined(e[i])||(n[i]=u(void 0,e[i])):n[i]=u(e[i],t[i])}r.forEach(i,(function(e){r.isUndefined(t[e])||(n[e]=u(void 0,t[e]))})),r.forEach(o,c),r.forEach(a,(function(i){r.isUndefined(t[i])?r.isUndefined(e[i])||(n[i]=u(void 0,e[i])):n[i]=u(void 0,t[i])})),r.forEach(s,(function(r){r in t?n[r]=u(e[r],t[r]):r in e&&(n[r]=u(void 0,e[r]))}));var l=i.concat(o).concat(a).concat(s),h=Object.keys(e).concat(Object.keys(t)).filter((function(e){return-1===l.indexOf(e)}));return r.forEach(h,c),n}},function(e,t,n){"use strict";function r(e){this.message=e}r.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},r.prototype.__CANCEL__=!0,e.exports=r},function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(54)},function(e,t){e.exports=function(e,t,n,r){var i=n?n.call(r,e,t):void 0;if(void 0!==i)return!!i;if(e===t)return!0;if("object"!==typeof e||!e||"object"!==typeof t||!t)return!1;var o=Object.keys(e),a=Object.keys(t);if(o.length!==a.length)return!1;for(var s=Object.prototype.hasOwnProperty.bind(t),u=0;u<o.length;u++){var c=o[u];if(!s(c))return!1;var l=e[c],h=t[c];if(!1===(i=n?n.call(r,l,h,c):void 0)||void 0===i&&l!==h)return!1}return!0}},function(e,t,n){"use strict";t.a=function(e){function t(e,r,u,c,f){for(var d,p,v,g,_,E=0,S=0,T=0,C=0,I=0,A=0,D=v=d=0,L=0,M=0,F=0,U=0,q=u.length,B=q-1,V="",W="",z="",H="";L<q;){if(p=u.charCodeAt(L),L===B&&0!==S+C+T+E&&(0!==S&&(p=47===S?10:47),C=T=E=0,q++,B++),0===S+C+T+E){if(L===B&&(0<M&&(V=V.replace(h,"")),0<V.trim().length)){switch(p){case 32:case 9:case 59:case 13:case 10:break;default:V+=u.charAt(L)}p=59}switch(p){case 123:for(d=(V=V.trim()).charCodeAt(0),v=1,U=++L;L<q;){switch(p=u.charCodeAt(L)){case 123:v++;break;case 125:v--;break;case 47:switch(p=u.charCodeAt(L+1)){case 42:case 47:e:{for(D=L+1;D<B;++D)switch(u.charCodeAt(D)){case 47:if(42===p&&42===u.charCodeAt(D-1)&&L+2!==D){L=D+1;break e}break;case 10:if(47===p){L=D+1;break e}}L=D}}break;case 91:p++;case 40:p++;case 34:case 39:for(;L++<B&&u.charCodeAt(L)!==p;);}if(0===v)break;L++}if(v=u.substring(U,L),0===d&&(d=(V=V.replace(l,"").trim()).charCodeAt(0)),64===d){switch(0<M&&(V=V.replace(h,"")),p=V.charCodeAt(1)){case 100:case 109:case 115:case 45:M=r;break;default:M=N}if(U=(v=t(r,M,v,p,f+1)).length,0<R&&(_=s(3,v,M=n(N,V,F),r,O,k,U,p,f,c),V=M.join(""),void 0!==_&&0===(U=(v=_.trim()).length)&&(p=0,v="")),0<U)switch(p){case 115:V=V.replace(w,a);case 100:case 109:case 45:v=V+"{"+v+"}";break;case 107:v=(V=V.replace(y,"$1 $2"))+"{"+v+"}",v=1===P||2===P&&o("@"+v,3)?"@-webkit-"+v+"@"+v:"@"+v;break;default:v=V+v,112===c&&(W+=v,v="")}else v=""}else v=t(r,n(r,V,F),v,c,f+1);z+=v,v=F=M=D=d=0,V="",p=u.charCodeAt(++L);break;case 125:case 59:if(1<(U=(V=(0<M?V.replace(h,""):V).trim()).length))switch(0===D&&(d=V.charCodeAt(0),45===d||96<d&&123>d)&&(U=(V=V.replace(" ",":")).length),0<R&&void 0!==(_=s(1,V,r,e,O,k,W.length,c,f,c))&&0===(U=(V=_.trim()).length)&&(V="\0\0"),d=V.charCodeAt(0),p=V.charCodeAt(1),d){case 0:break;case 64:if(105===p||99===p){H+=V+u.charAt(L);break}default:58!==V.charCodeAt(U-1)&&(W+=i(V,d,p,V.charCodeAt(2)))}F=M=D=d=0,V="",p=u.charCodeAt(++L)}}switch(p){case 13:case 10:47===S?S=0:0===1+d&&107!==c&&0<V.length&&(M=1,V+="\0"),0<R*j&&s(0,V,r,e,O,k,W.length,c,f,c),k=1,O++;break;case 59:case 125:if(0===S+C+T+E){k++;break}default:switch(k++,g=u.charAt(L),p){case 9:case 32:if(0===C+E+S)switch(I){case 44:case 58:case 9:case 32:g="";break;default:32!==p&&(g=" ")}break;case 0:g="\\0";break;case 12:g="\\f";break;case 11:g="\\v";break;case 38:0===C+S+E&&(M=F=1,g="\f"+g);break;case 108:if(0===C+S+E+x&&0<D)switch(L-D){case 2:112===I&&58===u.charCodeAt(L-3)&&(x=I);case 8:111===A&&(x=A)}break;case 58:0===C+S+E&&(D=L);break;case 44:0===S+T+C+E&&(M=1,g+="\r");break;case 34:case 39:0===S&&(C=C===p?0:0===C?p:C);break;case 91:0===C+S+T&&E++;break;case 93:0===C+S+T&&E--;break;case 41:0===C+S+E&&T--;break;case 40:if(0===C+S+E){if(0===d)if(2*I+3*A===533);else d=1;T++}break;case 64:0===S+T+C+E+D+v&&(v=1);break;case 42:case 47:if(!(0<C+E+T))switch(S){case 0:switch(2*p+3*u.charCodeAt(L+1)){case 235:S=47;break;case 220:U=L,S=42}break;case 42:47===p&&42===I&&U+2!==L&&(33===u.charCodeAt(U+2)&&(W+=u.substring(U,L+1)),g="",S=0)}}0===S&&(V+=g)}A=I,I=p,L++}if(0<(U=W.length)){if(M=r,0<R&&(void 0!==(_=s(2,W,M,e,O,k,U,c,f,c))&&0===(W=_).length))return H+W+z;if(W=M.join(",")+"{"+W+"}",0!==P*x){switch(2!==P||o(W,2)||(x=0),x){case 111:W=W.replace(b,":-moz-$1")+W;break;case 112:W=W.replace(m,"::-webkit-input-$1")+W.replace(m,"::-moz-$1")+W.replace(m,":-ms-input-$1")+W}x=0}}return H+W+z}function n(e,t,n){var i=t.trim().split(v);t=i;var o=i.length,a=e.length;switch(a){case 0:case 1:var s=0;for(e=0===a?"":e[0]+" ";s<o;++s)t[s]=r(e,t[s],n).trim();break;default:var u=s=0;for(t=[];s<o;++s)for(var c=0;c<a;++c)t[u++]=r(e[c]+" ",i[s],n).trim()}return t}function r(e,t,n){var r=t.charCodeAt(0);switch(33>r&&(r=(t=t.trim()).charCodeAt(0)),r){case 38:return t.replace(g,"$1"+e.trim());case 58:return e.trim()+t.replace(g,"$1"+e.trim());default:if(0<1*n&&0<t.indexOf("\f"))return t.replace(g,(58===e.charCodeAt(0)?"":"$1")+e.trim())}return e+t}function i(e,t,n,r){var a=e+";",s=2*t+3*n+4*r;if(944===s){e=a.indexOf(":",9)+1;var u=a.substring(e,a.length-1).trim();return u=a.substring(0,e).trim()+u+";",1===P||2===P&&o(u,1)?"-webkit-"+u+u:u}if(0===P||2===P&&!o(a,1))return a;switch(s){case 1015:return 97===a.charCodeAt(10)?"-webkit-"+a+a:a;case 951:return 116===a.charCodeAt(3)?"-webkit-"+a+a:a;case 963:return 110===a.charCodeAt(5)?"-webkit-"+a+a:a;case 1009:if(100!==a.charCodeAt(4))break;case 969:case 942:return"-webkit-"+a+a;case 978:return"-webkit-"+a+"-moz-"+a+a;case 1019:case 983:return"-webkit-"+a+"-moz-"+a+"-ms-"+a+a;case 883:if(45===a.charCodeAt(8))return"-webkit-"+a+a;if(0<a.indexOf("image-set(",11))return a.replace(I,"$1-webkit-$2")+a;break;case 932:if(45===a.charCodeAt(4))switch(a.charCodeAt(5)){case 103:return"-webkit-box-"+a.replace("-grow","")+"-webkit-"+a+"-ms-"+a.replace("grow","positive")+a;case 115:return"-webkit-"+a+"-ms-"+a.replace("shrink","negative")+a;case 98:return"-webkit-"+a+"-ms-"+a.replace("basis","preferred-size")+a}return"-webkit-"+a+"-ms-"+a+a;case 964:return"-webkit-"+a+"-ms-flex-"+a+a;case 1023:if(99!==a.charCodeAt(8))break;return"-webkit-box-pack"+(u=a.substring(a.indexOf(":",15)).replace("flex-","").replace("space-between","justify"))+"-webkit-"+a+"-ms-flex-pack"+u+a;case 1005:return d.test(a)?a.replace(f,":-webkit-")+a.replace(f,":-moz-")+a:a;case 1e3:switch(t=(u=a.substring(13).trim()).indexOf("-")+1,u.charCodeAt(0)+u.charCodeAt(t)){case 226:u=a.replace(_,"tb");break;case 232:u=a.replace(_,"tb-rl");break;case 220:u=a.replace(_,"lr");break;default:return a}return"-webkit-"+a+"-ms-"+u+a;case 1017:if(-1===a.indexOf("sticky",9))break;case 975:switch(t=(a=e).length-10,s=(u=(33===a.charCodeAt(t)?a.substring(0,t):a).substring(e.indexOf(":",7)+1).trim()).charCodeAt(0)+(0|u.charCodeAt(7))){case 203:if(111>u.charCodeAt(8))break;case 115:a=a.replace(u,"-webkit-"+u)+";"+a;break;case 207:case 102:a=a.replace(u,"-webkit-"+(102<s?"inline-":"")+"box")+";"+a.replace(u,"-webkit-"+u)+";"+a.replace(u,"-ms-"+u+"box")+";"+a}return a+";";case 938:if(45===a.charCodeAt(5))switch(a.charCodeAt(6)){case 105:return u=a.replace("-items",""),"-webkit-"+a+"-webkit-box-"+u+"-ms-flex-"+u+a;case 115:return"-webkit-"+a+"-ms-flex-item-"+a.replace(S,"")+a;default:return"-webkit-"+a+"-ms-flex-line-pack"+a.replace("align-content","").replace(S,"")+a}break;case 973:case 989:if(45!==a.charCodeAt(3)||122===a.charCodeAt(4))break;case 931:case 953:if(!0===C.test(e))return 115===(u=e.substring(e.indexOf(":")+1)).charCodeAt(0)?i(e.replace("stretch","fill-available"),t,n,r).replace(":fill-available",":stretch"):a.replace(u,"-webkit-"+u)+a.replace(u,"-moz-"+u.replace("fill-",""))+a;break;case 962:if(a="-webkit-"+a+(102===a.charCodeAt(5)?"-ms-"+a:"")+a,211===n+r&&105===a.charCodeAt(13)&&0<a.indexOf("transform",10))return a.substring(0,a.indexOf(";",27)+1).replace(p,"$1-webkit-$2")+a}return a}function o(e,t){var n=e.indexOf(1===t?":":"{"),r=e.substring(0,3!==t?n:10);return n=e.substring(n+1,e.length-1),D(2!==t?r:r.replace(T,"$1"),n,t)}function a(e,t){var n=i(t,t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2));return n!==t+";"?n.replace(E," or ($1)").substring(4):"("+t+")"}function s(e,t,n,r,i,o,a,s,u,l){for(var h,f=0,d=t;f<R;++f)switch(h=A[f].call(c,e,d,n,r,i,o,a,s,u,l)){case void 0:case!1:case!0:case null:break;default:d=h}if(d!==t)return d}function u(e){return void 0!==(e=e.prefix)&&(D=null,e?"function"!==typeof e?P=1:(P=2,D=e):P=0),u}function c(e,n){var r=e;if(33>r.charCodeAt(0)&&(r=r.trim()),r=[r],0<R){var i=s(-1,n,r,r,O,k,0,0,0,0);void 0!==i&&"string"===typeof i&&(n=i)}var o=t(N,r,n,0,0);return 0<R&&(void 0!==(i=s(-2,o,r,r,O,k,o.length,0,0,0))&&(o=i)),"",x=0,k=O=1,o}var l=/^\0+/g,h=/[\0\r\f]/g,f=/: */g,d=/zoo|gra/,p=/([,: ])(transform)/g,v=/,\r+?/g,g=/([\t\r\n ])*\f?&/g,y=/@(k\w+)\s*(\S*)\s*/,m=/::(place)/g,b=/:(read-only)/g,_=/[svh]\w+-[tblr]{2}/,w=/\(\s*(.*)\s*\)/g,E=/([\s\S]*?);/g,S=/-self|flex-/g,T=/[^]*?(:[rp][el]a[\w-]+)[^]*/,C=/stretch|:\s*\w+\-(?:conte|avail)/,I=/([^-])(image-set\()/,k=1,O=1,x=0,P=1,N=[],A=[],R=0,D=null,j=0;return c.use=function e(t){switch(t){case void 0:case null:R=A.length=0;break;default:if("function"===typeof t)A[R++]=t;else if("object"===typeof t)for(var n=0,r=t.length;n<r;++n)e(t[n]);else j=0|!!t}return e},c.set=u,void 0!==e&&u(e),c}},function(e,t,n){"use strict";t.a={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(23);var i=n(28);function o(e){return function(e){if(Array.isArray(e))return Object(r.a)(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Object(i.a)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},function(e,t,n){"use strict";var r=n(30),i=60103,o=60106;t.Fragment=60107,t.StrictMode=60108,t.Profiler=60114;var a=60109,s=60110,u=60112;t.Suspense=60113;var c=60115,l=60116;if("function"===typeof Symbol&&Symbol.for){var h=Symbol.for;i=h("react.element"),o=h("react.portal"),t.Fragment=h("react.fragment"),t.StrictMode=h("react.strict_mode"),t.Profiler=h("react.profiler"),a=h("react.provider"),s=h("react.context"),u=h("react.forward_ref"),t.Suspense=h("react.suspense"),c=h("react.memo"),l=h("react.lazy")}var f="function"===typeof Symbol&&Symbol.iterator;function d(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v={};function g(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}function y(){}function m(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}g.prototype.isReactComponent={},g.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error(d(85));this.updater.enqueueSetState(this,e,t,"setState")},g.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=g.prototype;var b=m.prototype=new y;b.constructor=m,r(b,g.prototype),b.isPureReactComponent=!0;var _={current:null},w=Object.prototype.hasOwnProperty,E={key:!0,ref:!0,__self:!0,__source:!0};function S(e,t,n){var r,o={},a=null,s=null;if(null!=t)for(r in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(a=""+t.key),t)w.call(t,r)&&!E.hasOwnProperty(r)&&(o[r]=t[r]);var u=arguments.length-2;if(1===u)o.children=n;else if(1<u){for(var c=Array(u),l=0;l<u;l++)c[l]=arguments[l+2];o.children=c}if(e&&e.defaultProps)for(r in u=e.defaultProps)void 0===o[r]&&(o[r]=u[r]);return{$$typeof:i,type:e,key:a,ref:s,props:o,_owner:_.current}}function T(e){return"object"===typeof e&&null!==e&&e.$$typeof===i}var C=/\/+/g;function I(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function k(e,t,n,r,a){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var u=!1;if(null===e)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case i:case o:u=!0}}if(u)return a=a(u=e),e=""===r?"."+I(u,0):r,Array.isArray(a)?(n="",null!=e&&(n=e.replace(C,"$&/")+"/"),k(a,t,n,"",(function(e){return e}))):null!=a&&(T(a)&&(a=function(e,t){return{$$typeof:i,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,n+(!a.key||u&&u.key===a.key?"":(""+a.key).replace(C,"$&/")+"/")+e)),t.push(a)),1;if(u=0,r=""===r?".":r+":",Array.isArray(e))for(var c=0;c<e.length;c++){var l=r+I(s=e[c],c);u+=k(s,t,n,l,a)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(s=e.next()).done;)u+=k(s=s.value,t,n,l=r+I(s,c++),a);else if("object"===s)throw t=""+e,Error(d(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return u}function O(e,t,n){if(null==e)return e;var r=[],i=0;return k(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function x(e){if(-1===e._status){var t=e._result;t=t(),e._status=0,e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}if(1===e._status)return e._result;throw e._result}var P={current:null};function N(){var e=P.current;if(null===e)throw Error(d(321));return e}var A={ReactCurrentDispatcher:P,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:_,IsSomeRendererActing:{current:!1},assign:r};t.Children={map:O,forEach:function(e,t,n){O(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return O(e,(function(){t++})),t},toArray:function(e){return O(e,(function(e){return e}))||[]},only:function(e){if(!T(e))throw Error(d(143));return e}},t.Component=g,t.PureComponent=m,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=A,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error(d(267,e));var o=r({},e.props),a=e.key,s=e.ref,u=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,u=_.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(l in t)w.call(t,l)&&!E.hasOwnProperty(l)&&(o[l]=void 0===t[l]&&void 0!==c?c[l]:t[l])}var l=arguments.length-2;if(1===l)o.children=n;else if(1<l){c=Array(l);for(var h=0;h<l;h++)c[h]=arguments[h+2];o.children=c}return{$$typeof:i,type:e.type,key:a,ref:s,props:o,_owner:u}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:s,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:a,_context:e},e.Consumer=e},t.createElement=S,t.createFactory=function(e){var t=S.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:u,render:e}},t.isValidElement=T,t.lazy=function(e){return{$$typeof:l,_payload:{_status:-1,_result:e},_init:x}},t.memo=function(e,t){return{$$typeof:c,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return N().useCallback(e,t)},t.useContext=function(e,t){return N().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return N().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return N().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return N().useLayoutEffect(e,t)},t.useMemo=function(e,t){return N().useMemo(e,t)},t.useReducer=function(e,t,n){return N().useReducer(e,t,n)},t.useRef=function(e){return N().useRef(e)},t.useState=function(e){return N().useState(e)},t.version="17.0.2"},function(e,t,n){"use strict";var r=n(1),i=n(30),o=n(55);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(a(227));var s=new Set,u={};function c(e,t){l(e,t),l(e+"Capture",t)}function l(e,t){for(u[e]=t,e=0;e<t.length;e++)s.add(t[e])}var h=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d=Object.prototype.hasOwnProperty,p={},v={};function g(e,t,n,r,i,o,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var y={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){y[e]=new g(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];y[t]=new g(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){y[e]=new g(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){y[e]=new g(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){y[e]=new g(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){y[e]=new g(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){y[e]=new g(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){y[e]=new g(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){y[e]=new g(e,5,!1,e.toLowerCase(),null,!1,!1)}));var m=/[\-:]([a-z])/g;function b(e){return e[1].toUpperCase()}function _(e,t,n,r){var i=y.hasOwnProperty(t)?y[t]:null;(null!==i?0===i.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!d.call(v,e)||!d.call(p,e)&&(f.test(e)?v[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(m,b);y[t]=new g(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(m,b);y[t]=new g(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(m,b);y[t]=new g(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){y[e]=new g(e,1,!1,e.toLowerCase(),null,!1,!1)})),y.xlinkHref=new g("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){y[e]=new g(e,1,!1,e.toLowerCase(),null,!0,!0)}));var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,E=60103,S=60106,T=60107,C=60108,I=60114,k=60109,O=60110,x=60112,P=60113,N=60120,A=60115,R=60116,D=60121,j=60128,L=60129,M=60130,F=60131;if("function"===typeof Symbol&&Symbol.for){var U=Symbol.for;E=U("react.element"),S=U("react.portal"),T=U("react.fragment"),C=U("react.strict_mode"),I=U("react.profiler"),k=U("react.provider"),O=U("react.context"),x=U("react.forward_ref"),P=U("react.suspense"),N=U("react.suspense_list"),A=U("react.memo"),R=U("react.lazy"),D=U("react.block"),U("react.scope"),j=U("react.opaque.id"),L=U("react.debug_trace_mode"),M=U("react.offscreen"),F=U("react.legacy_hidden")}var q,B="function"===typeof Symbol&&Symbol.iterator;function V(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=B&&e[B]||e["@@iterator"])?e:null}function W(e){if(void 0===q)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);q=t&&t[1]||""}return"\n"+q+e}var z=!1;function H(e,t){if(!e||z)return"";z=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&"string"===typeof u.stack){for(var i=u.stack.split("\n"),o=r.stack.split("\n"),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(1!==a||1!==s)do{if(a--,0>--s||i[a]!==o[s])return"\n"+i[a].replace(" at new "," at ")}while(1<=a&&0<=s);break}}}finally{z=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?W(e):""}function K(e){switch(e.tag){case 5:return W(e.type);case 16:return W("Lazy");case 13:return W("Suspense");case 19:return W("SuspenseList");case 0:case 2:case 15:return e=H(e.type,!1);case 11:return e=H(e.type.render,!1);case 22:return e=H(e.type._render,!1);case 1:return e=H(e.type,!0);default:return""}}function G(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case T:return"Fragment";case S:return"Portal";case I:return"Profiler";case C:return"StrictMode";case P:return"Suspense";case N:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case O:return(e.displayName||"Context")+".Consumer";case k:return(e._context.displayName||"Context")+".Provider";case x:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case A:return G(e.type);case D:return G(e._render);case R:t=e._payload,e=e._init;try{return G(e(t))}catch(n){}}return null}function Q(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function $(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function Y(e){e._valueTracker||(e._valueTracker=function(e){var t=$(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function X(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=$(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function J(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Z(e,t){var n=t.checked;return i({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function ee(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=Q(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function te(e,t){null!=(t=t.checked)&&_(e,"checked",t,!1)}function ne(e,t){te(e,t);var n=Q(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ie(e,t.type,n):t.hasOwnProperty("defaultValue")&&ie(e,t.type,Q(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function re(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ie(e,t,n){"number"===t&&J(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function oe(e,t){return e=i({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function ae(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Q(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function se(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return i({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ue(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:Q(n)}}function ce(e,t){var n=Q(t.value),r=Q(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function le(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var he="http://www.w3.org/1999/xhtml",fe="http://www.w3.org/2000/svg";function de(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function pe(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?de(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ve,ge,ye=(ge=function(e,t){if(e.namespaceURI!==fe||"innerHTML"in e)e.innerHTML=t;else{for((ve=ve||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ve.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ge(e,t)}))}:ge);function me(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var be={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},_e=["Webkit","ms","Moz","O"];function we(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||be.hasOwnProperty(e)&&be[e]?(""+t).trim():t+"px"}function Ee(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=we(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(be).forEach((function(e){_e.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),be[t]=be[e]}))}));var Se=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Te(e,t){if(t){if(Se[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function Ce(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Ie(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var ke=null,Oe=null,xe=null;function Pe(e){if(e=ri(e)){if("function"!==typeof ke)throw Error(a(280));var t=e.stateNode;t&&(t=oi(t),ke(e.stateNode,e.type,t))}}function Ne(e){Oe?xe?xe.push(e):xe=[e]:Oe=e}function Ae(){if(Oe){var e=Oe,t=xe;if(xe=Oe=null,Pe(e),t)for(e=0;e<t.length;e++)Pe(t[e])}}function Re(e,t){return e(t)}function De(e,t,n,r,i){return e(t,n,r,i)}function je(){}var Le=Re,Me=!1,Fe=!1;function Ue(){null===Oe&&null===xe||(je(),Ae())}function qe(e,t){var n=e.stateNode;if(null===n)return null;var r=oi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Be=!1;if(h)try{var Ve={};Object.defineProperty(Ve,"passive",{get:function(){Be=!0}}),window.addEventListener("test",Ve,Ve),window.removeEventListener("test",Ve,Ve)}catch(ge){Be=!1}function We(e,t,n,r,i,o,a,s,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var ze=!1,He=null,Ke=!1,Ge=null,Qe={onError:function(e){ze=!0,He=e}};function $e(e,t,n,r,i,o,a,s,u){ze=!1,He=null,We.apply(Qe,arguments)}function Ye(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(1026&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Xe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Je(e){if(Ye(e)!==e)throw Error(a(188))}function Ze(e){if(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ye(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Je(i),e;if(o===r)return Je(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,u=i.child;u;){if(u===n){s=!0,n=i,r=o;break}if(u===r){s=!0,r=i,n=o;break}u=u.sibling}if(!s){for(u=o.child;u;){if(u===n){s=!0,n=o,r=i;break}if(u===r){s=!0,r=o,n=i;break}u=u.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e),!e)return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function et(e,t){for(var n=e.alternate;null!==t;){if(t===e||t===n)return!0;t=t.return}return!1}var tt,nt,rt,it,ot=!1,at=[],st=null,ut=null,ct=null,lt=new Map,ht=new Map,ft=[],dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function pt(e,t,n,r,i){return{blockedOn:e,domEventName:t,eventSystemFlags:16|n,nativeEvent:i,targetContainers:[r]}}function vt(e,t){switch(e){case"focusin":case"focusout":st=null;break;case"dragenter":case"dragleave":ut=null;break;case"mouseover":case"mouseout":ct=null;break;case"pointerover":case"pointerout":lt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ht.delete(t.pointerId)}}function gt(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e=pt(t,n,r,i,o),null!==t&&(null!==(t=ri(t))&&nt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function yt(e){var t=ni(e.target);if(null!==t){var n=Ye(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Xe(n)))return e.blockedOn=t,void it(e.lanePriority,(function(){o.unstable_runWithPriority(e.priority,(function(){rt(n)}))}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function mt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Zt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ri(n))&&nt(t),e.blockedOn=n,!1;t.shift()}return!0}function bt(e,t,n){mt(e)&&n.delete(t)}function _t(){for(ot=!1;0<at.length;){var e=at[0];if(null!==e.blockedOn){null!==(e=ri(e.blockedOn))&&tt(e);break}for(var t=e.targetContainers;0<t.length;){var n=Zt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n){e.blockedOn=n;break}t.shift()}null===e.blockedOn&&at.shift()}null!==st&&mt(st)&&(st=null),null!==ut&&mt(ut)&&(ut=null),null!==ct&&mt(ct)&&(ct=null),lt.forEach(bt),ht.forEach(bt)}function wt(e,t){e.blockedOn===t&&(e.blockedOn=null,ot||(ot=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,_t)))}function Et(e){function t(t){return wt(t,e)}if(0<at.length){wt(at[0],e);for(var n=1;n<at.length;n++){var r=at[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==st&&wt(st,e),null!==ut&&wt(ut,e),null!==ct&&wt(ct,e),lt.forEach(t),ht.forEach(t),n=0;n<ft.length;n++)(r=ft[n]).blockedOn===e&&(r.blockedOn=null);for(;0<ft.length&&null===(n=ft[0]).blockedOn;)yt(n),null===n.blockedOn&&ft.shift()}function St(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Tt={animationend:St("Animation","AnimationEnd"),animationiteration:St("Animation","AnimationIteration"),animationstart:St("Animation","AnimationStart"),transitionend:St("Transition","TransitionEnd")},Ct={},It={};function kt(e){if(Ct[e])return Ct[e];if(!Tt[e])return e;var t,n=Tt[e];for(t in n)if(n.hasOwnProperty(t)&&t in It)return Ct[e]=n[t];return e}h&&(It=document.createElement("div").style,"AnimationEvent"in window||(delete Tt.animationend.animation,delete Tt.animationiteration.animation,delete Tt.animationstart.animation),"TransitionEvent"in window||delete Tt.transitionend.transition);var Ot=kt("animationend"),xt=kt("animationiteration"),Pt=kt("animationstart"),Nt=kt("transitionend"),At=new Map,Rt=new Map,Dt=["abort","abort",Ot,"animationEnd",xt,"animationIteration",Pt,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Nt,"transitionEnd","waiting","waiting"];function jt(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],i=e[n+1];i="on"+(i[0].toUpperCase()+i.slice(1)),Rt.set(r,t),At.set(r,i),c(i,[r])}}(0,o.unstable_now)();var Lt=8;function Mt(e){if(0!==(1&e))return Lt=15,1;if(0!==(2&e))return Lt=14,2;if(0!==(4&e))return Lt=13,4;var t=24&e;return 0!==t?(Lt=12,t):0!==(32&e)?(Lt=11,32):0!==(t=192&e)?(Lt=10,t):0!==(256&e)?(Lt=9,256):0!==(t=3584&e)?(Lt=8,t):0!==(4096&e)?(Lt=7,4096):0!==(t=4186112&e)?(Lt=6,t):0!==(t=62914560&e)?(Lt=5,t):67108864&e?(Lt=4,67108864):0!==(134217728&e)?(Lt=3,134217728):0!==(t=805306368&e)?(Lt=2,t):0!==(1073741824&e)?(Lt=1,1073741824):(Lt=8,e)}function Ft(e,t){var n=e.pendingLanes;if(0===n)return Lt=0;var r=0,i=0,o=e.expiredLanes,a=e.suspendedLanes,s=e.pingedLanes;if(0!==o)r=o,i=Lt=15;else if(0!==(o=134217727&n)){var u=o&~a;0!==u?(r=Mt(u),i=Lt):0!==(s&=o)&&(r=Mt(s),i=Lt)}else 0!==(o=n&~a)?(r=Mt(o),i=Lt):0!==s&&(r=Mt(s),i=Lt);if(0===r)return 0;if(r=n&((0>(r=31-zt(r))?0:1<<r)<<1)-1,0!==t&&t!==r&&0===(t&a)){if(Mt(t),i<=Lt)return t;Lt=i}if(0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-zt(t)),r|=e[n],t&=~i;return r}function Ut(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function qt(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return 0===(e=Bt(24&~t))?qt(10,t):e;case 10:return 0===(e=Bt(192&~t))?qt(8,t):e;case 8:return 0===(e=Bt(3584&~t))&&(0===(e=Bt(4186112&~t))&&(e=512)),e;case 2:return 0===(t=Bt(805306368&~t))&&(t=268435456),t}throw Error(a(358,e))}function Bt(e){return e&-e}function Vt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Wt(e,t,n){e.pendingLanes|=t;var r=t-1;e.suspendedLanes&=r,e.pingedLanes&=r,(e=e.eventTimes)[t=31-zt(t)]=n}var zt=Math.clz32?Math.clz32:function(e){return 0===e?32:31-(Ht(e)/Kt|0)|0},Ht=Math.log,Kt=Math.LN2;var Gt=o.unstable_UserBlockingPriority,Qt=o.unstable_runWithPriority,$t=!0;function Yt(e,t,n,r){Me||je();var i=Jt,o=Me;Me=!0;try{De(i,e,t,n,r)}finally{(Me=o)||Ue()}}function Xt(e,t,n,r){Qt(Gt,Jt.bind(null,e,t,n,r))}function Jt(e,t,n,r){var i;if($t)if((i=0===(4&t))&&0<at.length&&-1<dt.indexOf(e))e=pt(null,e,t,n,r),at.push(e);else{var o=Zt(e,t,n,r);if(null===o)i&&vt(e,r);else{if(i){if(-1<dt.indexOf(e))return e=pt(o,e,t,n,r),void at.push(e);if(function(e,t,n,r,i){switch(t){case"focusin":return st=gt(st,e,t,n,r,i),!0;case"dragenter":return ut=gt(ut,e,t,n,r,i),!0;case"mouseover":return ct=gt(ct,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return lt.set(o,gt(lt.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,ht.set(o,gt(ht.get(o)||null,e,t,n,r,i)),!0}return!1}(o,e,t,n,r))return;vt(e,r)}jr(e,t,r,null,n)}}}function Zt(e,t,n,r){var i=Ie(r);if(null!==(i=ni(i))){var o=Ye(i);if(null===o)i=null;else{var a=o.tag;if(13===a){if(null!==(i=Xe(o)))return i;i=null}else if(3===a){if(o.stateNode.hydrate)return 3===o.tag?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null)}}return jr(e,t,r,i,n),null}var en=null,tn=null,nn=null;function rn(){if(nn)return nn;var e,t,n=tn,r=n.length,i="value"in en?en.value:en.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[o-t];t++);return nn=i.slice(e,1<t?1-t:void 0)}function on(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function an(){return!0}function sn(){return!1}function un(e){function t(t,n,r,i,o){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?an:sn,this.isPropagationStopped=sn,this}return i(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=an)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=an)},persist:function(){},isPersistent:an}),t}var cn,ln,hn,fn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dn=un(fn),pn=i({},fn,{view:0,detail:0}),vn=un(pn),gn=i({},pn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:On,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==hn&&(hn&&"mousemove"===e.type?(cn=e.screenX-hn.screenX,ln=e.screenY-hn.screenY):ln=cn=0,hn=e),cn)},movementY:function(e){return"movementY"in e?e.movementY:ln}}),yn=un(gn),mn=un(i({},gn,{dataTransfer:0})),bn=un(i({},pn,{relatedTarget:0})),_n=un(i({},fn,{animationName:0,elapsedTime:0,pseudoElement:0})),wn=i({},fn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),En=un(wn),Sn=un(i({},fn,{data:0})),Tn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Cn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},In={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=In[e])&&!!t[e]}function On(){return kn}var xn=i({},pn,{key:function(e){if(e.key){var t=Tn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=on(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Cn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:On,charCode:function(e){return"keypress"===e.type?on(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?on(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Pn=un(xn),Nn=un(i({},gn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),An=un(i({},pn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:On})),Rn=un(i({},fn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Dn=i({},gn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),jn=un(Dn),Ln=[9,13,27,32],Mn=h&&"CompositionEvent"in window,Fn=null;h&&"documentMode"in document&&(Fn=document.documentMode);var Un=h&&"TextEvent"in window&&!Fn,qn=h&&(!Mn||Fn&&8<Fn&&11>=Fn),Bn=String.fromCharCode(32),Vn=!1;function Wn(e,t){switch(e){case"keyup":return-1!==Ln.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Hn=!1;var Kn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Kn[e.type]:"textarea"===t}function Qn(e,t,n,r){Ne(r),0<(t=Mr(t,"onChange")).length&&(n=new dn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var $n=null,Yn=null;function Xn(e){xr(e,0)}function Jn(e){if(X(ii(e)))return e}function Zn(e,t){if("change"===e)return t}var er=!1;if(h){var tr;if(h){var nr="oninput"in document;if(!nr){var rr=document.createElement("div");rr.setAttribute("oninput","return;"),nr="function"===typeof rr.oninput}tr=nr}else tr=!1;er=tr&&(!document.documentMode||9<document.documentMode)}function ir(){$n&&($n.detachEvent("onpropertychange",or),Yn=$n=null)}function or(e){if("value"===e.propertyName&&Jn(Yn)){var t=[];if(Qn(t,Yn,e,Ie(e)),e=Xn,Me)e(t);else{Me=!0;try{Re(e,t)}finally{Me=!1,Ue()}}}}function ar(e,t,n){"focusin"===e?(ir(),Yn=n,($n=t).attachEvent("onpropertychange",or)):"focusout"===e&&ir()}function sr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Jn(Yn)}function ur(e,t){if("click"===e)return Jn(t)}function cr(e,t){if("input"===e||"change"===e)return Jn(t)}var lr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},hr=Object.prototype.hasOwnProperty;function fr(e,t){if(lr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!hr.call(t,n[r])||!lr(e[n[r]],t[n[r]]))return!1;return!0}function dr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function pr(e,t){var n,r=dr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=dr(r)}}function vr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?vr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function gr(){for(var e=window,t=J();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=J((e=t.contentWindow).document)}return t}function yr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var mr=h&&"documentMode"in document&&11>=document.documentMode,br=null,_r=null,wr=null,Er=!1;function Sr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;Er||null==br||br!==J(r)||("selectionStart"in(r=br)&&yr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},wr&&fr(wr,r)||(wr=r,0<(r=Mr(_r,"onSelect")).length&&(t=new dn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=br)))}jt("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),jt("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),jt(Dt,2);for(var Tr="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Cr=0;Cr<Tr.length;Cr++)Rt.set(Tr[Cr],0);l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ir="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),kr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ir));function Or(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,s,u,c){if($e.apply(this,arguments),ze){if(!ze)throw Error(a(198));var l=He;ze=!1,He=null,Ke||(Ke=!0,Ge=l)}}(r,t,void 0,e),e.currentTarget=null}function xr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var a=r.length-1;0<=a;a--){var s=r[a],u=s.instance,c=s.currentTarget;if(s=s.listener,u!==o&&i.isPropagationStopped())break e;Or(i,s,c),o=u}else for(a=0;a<r.length;a++){if(u=(s=r[a]).instance,c=s.currentTarget,s=s.listener,u!==o&&i.isPropagationStopped())break e;Or(i,s,c),o=u}}}if(Ke)throw e=Ge,Ke=!1,Ge=null,e}function Pr(e,t){var n=ai(t),r=e+"__bubble";n.has(r)||(Dr(t,e,2,!1),n.add(r))}var Nr="_reactListening"+Math.random().toString(36).slice(2);function Ar(e){e[Nr]||(e[Nr]=!0,s.forEach((function(t){kr.has(t)||Rr(t,!1,e,null),Rr(t,!0,e,null)})))}function Rr(e,t,n,r){var i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,o=n;if("selectionchange"===e&&9!==n.nodeType&&(o=n.ownerDocument),null!==r&&!t&&kr.has(e)){if("scroll"!==e)return;i|=2,o=r}var a=ai(o),s=e+"__"+(t?"capture":"bubble");a.has(s)||(t&&(i|=4),Dr(o,e,i,t),a.add(s))}function Dr(e,t,n,r){var i=Rt.get(t);switch(void 0===i?2:i){case 0:i=Yt;break;case 1:i=Xt;break;default:i=Jt}n=i.bind(null,t,n,e),i=void 0,!Be||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function jr(e,t,n,r,i){var o=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var u=a.tag;if((3===u||4===u)&&((u=a.stateNode.containerInfo)===i||8===u.nodeType&&u.parentNode===i))return;a=a.return}for(;null!==s;){if(null===(a=ni(s)))return;if(5===(u=a.tag)||6===u){r=o=a;continue e}s=s.parentNode}}r=r.return}!function(e,t,n){if(Fe)return e(t,n);Fe=!0;try{Le(e,t,n)}finally{Fe=!1,Ue()}}((function(){var r=o,i=Ie(n),a=[];e:{var s=At.get(e);if(void 0!==s){var u=dn,c=e;switch(e){case"keypress":if(0===on(n))break e;case"keydown":case"keyup":u=Pn;break;case"focusin":c="focus",u=bn;break;case"focusout":c="blur",u=bn;break;case"beforeblur":case"afterblur":u=bn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=yn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=An;break;case Ot:case xt:case Pt:u=_n;break;case Nt:u=Rn;break;case"scroll":u=vn;break;case"wheel":u=jn;break;case"copy":case"cut":case"paste":u=En;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=Nn}var l=0!==(4&t),h=!l&&"scroll"===e,f=l?null!==s?s+"Capture":null:s;l=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==f&&(null!=(v=qe(p,f))&&l.push(Lr(p,v,d)))),h)break;p=p.return}0<l.length&&(s=new u(s,c,null,n,i),a.push({event:s,listeners:l}))}}if(0===(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||0!==(16&t)||!(c=n.relatedTarget||n.fromElement)||!ni(c)&&!c[ei])&&(u||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,u?(u=r,null!==(c=(c=n.relatedTarget||n.toElement)?ni(c):null)&&(c!==(h=Ye(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(u=null,c=r),u!==c)){if(l=yn,v="onMouseLeave",f="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=Nn,v="onPointerLeave",f="onPointerEnter",p="pointer"),h=null==u?s:ii(u),d=null==c?s:ii(c),(s=new l(v,p+"leave",u,n,i)).target=h,s.relatedTarget=d,v=null,ni(i)===r&&((l=new l(f,p+"enter",c,n,i)).target=d,l.relatedTarget=h,v=l),h=v,u&&c)e:{for(f=c,p=0,d=l=u;d;d=Fr(d))p++;for(d=0,v=f;v;v=Fr(v))d++;for(;0<p-d;)l=Fr(l),p--;for(;0<d-p;)f=Fr(f),d--;for(;p--;){if(l===f||null!==f&&l===f.alternate)break e;l=Fr(l),f=Fr(f)}l=null}else l=null;null!==u&&Ur(a,s,u,l,!1),null!==c&&null!==h&&Ur(a,h,c,l,!0)}if("select"===(u=(s=r?ii(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===u&&"file"===s.type)var g=Zn;else if(Gn(s))if(er)g=cr;else{g=sr;var y=ar}else(u=s.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(g=ur);switch(g&&(g=g(e,r))?Qn(a,g,n,i):(y&&y(e,s,r),"focusout"===e&&(y=s._wrapperState)&&y.controlled&&"number"===s.type&&ie(s,"number",s.value)),y=r?ii(r):window,e){case"focusin":(Gn(y)||"true"===y.contentEditable)&&(br=y,_r=r,wr=null);break;case"focusout":wr=_r=br=null;break;case"mousedown":Er=!0;break;case"contextmenu":case"mouseup":case"dragend":Er=!1,Sr(a,n,i);break;case"selectionchange":if(mr)break;case"keydown":case"keyup":Sr(a,n,i)}var m;if(Mn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Hn?Wn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(qn&&"ko"!==n.locale&&(Hn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Hn&&(m=rn()):(tn="value"in(en=i)?en.value:en.textContent,Hn=!0)),0<(y=Mr(r,b)).length&&(b=new Sn(b,e,null,n,i),a.push({event:b,listeners:y}),m?b.data=m:null!==(m=zn(n))&&(b.data=m))),(m=Un?function(e,t){switch(e){case"compositionend":return zn(t);case"keypress":return 32!==t.which?null:(Vn=!0,Bn);case"textInput":return(e=t.data)===Bn&&Vn?null:e;default:return null}}(e,n):function(e,t){if(Hn)return"compositionend"===e||!Mn&&Wn(e,t)?(e=rn(),nn=tn=en=null,Hn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return qn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Mr(r,"onBeforeInput")).length&&(i=new Sn("onBeforeInput","beforeinput",null,n,i),a.push({event:i,listeners:r}),i.data=m))}xr(a,t)}))}function Lr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Mr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=qe(e,n))&&r.unshift(Lr(e,o,i)),null!=(o=qe(e,t))&&r.push(Lr(e,o,i))),e=e.return}return r}function Fr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Ur(e,t,n,r,i){for(var o=t._reactName,a=[];null!==n&&n!==r;){var s=n,u=s.alternate,c=s.stateNode;if(null!==u&&u===r)break;5===s.tag&&null!==c&&(s=c,i?null!=(u=qe(n,o))&&a.unshift(Lr(n,u,s)):i||null!=(u=qe(n,o))&&a.push(Lr(n,u,s))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}function qr(){}var Br=null,Vr=null;function Wr(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function zr(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Hr="function"===typeof setTimeout?setTimeout:void 0,Kr="function"===typeof clearTimeout?clearTimeout:void 0;function Gr(e){1===e.nodeType?e.textContent="":9===e.nodeType&&(null!=(e=e.body)&&(e.textContent=""))}function Qr(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function $r(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var Yr=0;var Xr=Math.random().toString(36).slice(2),Jr="__reactFiber$"+Xr,Zr="__reactProps$"+Xr,ei="__reactContainer$"+Xr,ti="__reactEvents$"+Xr;function ni(e){var t=e[Jr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ei]||n[Jr]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=$r(e);null!==e;){if(n=e[Jr])return n;e=$r(e)}return t}n=(e=n).parentNode}return null}function ri(e){return!(e=e[Jr]||e[ei])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ii(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function oi(e){return e[Zr]||null}function ai(e){var t=e[ti];return void 0===t&&(t=e[ti]=new Set),t}var si=[],ui=-1;function ci(e){return{current:e}}function li(e){0>ui||(e.current=si[ui],si[ui]=null,ui--)}function hi(e,t){ui++,si[ui]=e.current,e.current=t}var fi={},di=ci(fi),pi=ci(!1),vi=fi;function gi(e,t){var n=e.type.contextTypes;if(!n)return fi;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function yi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function mi(){li(pi),li(di)}function bi(e,t,n){if(di.current!==fi)throw Error(a(168));hi(di,t),hi(pi,n)}function _i(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var o in r=r.getChildContext())if(!(o in e))throw Error(a(108,G(t)||"Unknown",o));return i({},n,r)}function wi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||fi,vi=di.current,hi(di,e),hi(pi,pi.current),!0}function Ei(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=_i(e,t,vi),r.__reactInternalMemoizedMergedChildContext=e,li(pi),li(di),hi(di,e)):li(pi),hi(pi,n)}var Si=null,Ti=null,Ci=o.unstable_runWithPriority,Ii=o.unstable_scheduleCallback,ki=o.unstable_cancelCallback,Oi=o.unstable_shouldYield,xi=o.unstable_requestPaint,Pi=o.unstable_now,Ni=o.unstable_getCurrentPriorityLevel,Ai=o.unstable_ImmediatePriority,Ri=o.unstable_UserBlockingPriority,Di=o.unstable_NormalPriority,ji=o.unstable_LowPriority,Li=o.unstable_IdlePriority,Mi={},Fi=void 0!==xi?xi:function(){},Ui=null,qi=null,Bi=!1,Vi=Pi(),Wi=1e4>Vi?Pi:function(){return Pi()-Vi};function zi(){switch(Ni()){case Ai:return 99;case Ri:return 98;case Di:return 97;case ji:return 96;case Li:return 95;default:throw Error(a(332))}}function Hi(e){switch(e){case 99:return Ai;case 98:return Ri;case 97:return Di;case 96:return ji;case 95:return Li;default:throw Error(a(332))}}function Ki(e,t){return e=Hi(e),Ci(e,t)}function Gi(e,t,n){return e=Hi(e),Ii(e,t,n)}function Qi(){if(null!==qi){var e=qi;qi=null,ki(e)}$i()}function $i(){if(!Bi&&null!==Ui){Bi=!0;var e=0;try{var t=Ui;Ki(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),Ui=null}catch(n){throw null!==Ui&&(Ui=Ui.slice(e+1)),Ii(Ai,Qi),n}finally{Bi=!1}}}var Yi=w.ReactCurrentBatchConfig;function Xi(e,t){if(e&&e.defaultProps){for(var n in t=i({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var Ji=ci(null),Zi=null,eo=null,to=null;function no(){to=eo=Zi=null}function ro(e){var t=Ji.current;li(Ji),e.type._context._currentValue=t}function io(e,t){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)===t){if(null===n||(n.childLanes&t)===t)break;n.childLanes|=t}else e.childLanes|=t,null!==n&&(n.childLanes|=t);e=e.return}}function oo(e,t){Zi=e,to=eo=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(Ma=!0),e.firstContext=null)}function ao(e,t){if(to!==e&&!1!==t&&0!==t)if("number"===typeof t&&1073741823!==t||(to=e,t=1073741823),t={context:e,observedBits:t,next:null},null===eo){if(null===Zi)throw Error(a(308));eo=t,Zi.dependencies={lanes:0,firstContext:t,responders:null}}else eo=eo.next=t;return e._currentValue}var so=!1;function uo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function co(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function lo(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ho(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function fo(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=a:o=o.next=a,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function po(e,t,n,r){var o=e.updateQueue;so=!1;var a=o.firstBaseUpdate,s=o.lastBaseUpdate,u=o.shared.pending;if(null!==u){o.shared.pending=null;var c=u,l=c.next;c.next=null,null===s?a=l:s.next=l,s=c;var h=e.alternate;if(null!==h){var f=(h=h.updateQueue).lastBaseUpdate;f!==s&&(null===f?h.firstBaseUpdate=l:f.next=l,h.lastBaseUpdate=c)}}if(null!==a){for(f=o.baseState,s=0,h=l=c=null;;){u=a.lane;var d=a.eventTime;if((r&u)===u){null!==h&&(h=h.next={eventTime:d,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=e,v=a;switch(u=t,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){f=p.call(d,f,u);break e}f=p;break e;case 3:p.flags=-4097&p.flags|64;case 0:if(null===(u="function"===typeof(p=v.payload)?p.call(d,f,u):p)||void 0===u)break e;f=i({},f,u);break e;case 2:so=!0}}null!==a.callback&&(e.flags|=32,null===(u=o.effects)?o.effects=[a]:u.push(a))}else d={eventTime:d,lane:u,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===h?(l=h=d,c=f):h=h.next=d,s|=u;if(null===(a=a.next)){if(null===(u=o.shared.pending))break;a=u.next,u.next=null,o.lastBaseUpdate=u,o.shared.pending=null}}null===h&&(c=f),o.baseState=c,o.firstBaseUpdate=l,o.lastBaseUpdate=h,Bs|=s,e.lanes=s,e.memoizedState=f}}function vo(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var go=(new r.Component).refs;function yo(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:i({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var mo={isMounted:function(e){return!!(e=e._reactInternals)&&Ye(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=fu(),i=du(e),o=lo(r,i);o.payload=t,void 0!==n&&null!==n&&(o.callback=n),ho(e,o),pu(e,i,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=fu(),i=du(e),o=lo(r,i);o.tag=1,o.payload=t,void 0!==n&&null!==n&&(o.callback=n),ho(e,o),pu(e,i,r)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=fu(),r=du(e),i=lo(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),ho(e,i),pu(e,r,n)}};function bo(e,t,n,r,i,o,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,a):!t.prototype||!t.prototype.isPureReactComponent||(!fr(n,r)||!fr(i,o))}function _o(e,t,n){var r=!1,i=fi,o=t.contextType;return"object"===typeof o&&null!==o?o=ao(o):(i=yi(t)?vi:di.current,o=(r=null!==(r=t.contextTypes)&&void 0!==r)?gi(e,i):fi),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=mo,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function wo(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&mo.enqueueReplaceState(t,t.state,null)}function Eo(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=go,uo(e);var o=t.contextType;"object"===typeof o&&null!==o?i.context=ao(o):(o=yi(t)?vi:di.current,i.context=gi(e,o)),po(e,n,i,r),i.state=e.memoizedState,"function"===typeof(o=t.getDerivedStateFromProps)&&(yo(e,t,o,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&mo.enqueueReplaceState(i,i.state,null),po(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4)}var So=Array.isArray;function To(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===i?t.ref:(t=function(e){var t=r.refs;t===go&&(t=r.refs={}),null===e?delete t[i]:t[i]=e},t._stringRef=i,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function Co(e,t){if("textarea"!==e.type)throw Error(a(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function Io(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.flags=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Ku(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags=2,n):r:(t.flags=2,n):n}function s(t){return e&&null===t.alternate&&(t.flags=2),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=Yu(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){return null!==t&&t.elementType===n.type?((r=i(t,n.props)).ref=To(e,t,n),r.return=e,r):((r=Gu(n.type,n.key,n.props,null,e.mode,r)).ref=To(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Xu(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function h(e,t,n,r,o){return null===t||7!==t.tag?((t=Qu(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function f(e,t,n){if("string"===typeof t||"number"===typeof t)return(t=Yu(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case E:return(n=Gu(t.type,t.key,t.props,null,e.mode,n)).ref=To(e,null,t),n.return=e,n;case S:return(t=Xu(t,e.mode,n)).return=e,t}if(So(t)||V(t))return(t=Qu(t,e.mode,n,null)).return=e,t;Co(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n||"number"===typeof n)return null!==i?null:u(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case E:return n.key===i?n.type===T?h(e,t,n.props.children,r,i):c(e,t,n,r):null;case S:return n.key===i?l(e,t,n,r):null}if(So(n)||V(n))return null!==i?null:h(e,t,n,r,null);Co(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r||"number"===typeof r)return u(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case E:return e=e.get(null===r.key?n:r.key)||null,r.type===T?h(t,e,r.props.children,i,r.key):c(t,e,r,i);case S:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(So(r)||V(r))return h(t,e=e.get(n)||null,r,i,null);Co(t,r)}return null}function v(i,a,s,u){for(var c=null,l=null,h=a,v=a=0,g=null;null!==h&&v<s.length;v++){h.index>v?(g=h,h=null):g=h.sibling;var y=d(i,h,s[v],u);if(null===y){null===h&&(h=g);break}e&&h&&null===y.alternate&&t(i,h),a=o(y,a,v),null===l?c=y:l.sibling=y,l=y,h=g}if(v===s.length)return n(i,h),c;if(null===h){for(;v<s.length;v++)null!==(h=f(i,s[v],u))&&(a=o(h,a,v),null===l?c=h:l.sibling=h,l=h);return c}for(h=r(i,h);v<s.length;v++)null!==(g=p(h,i,v,s[v],u))&&(e&&null!==g.alternate&&h.delete(null===g.key?v:g.key),a=o(g,a,v),null===l?c=g:l.sibling=g,l=g);return e&&h.forEach((function(e){return t(i,e)})),c}function g(i,s,u,c){var l=V(u);if("function"!==typeof l)throw Error(a(150));if(null==(u=l.call(u)))throw Error(a(151));for(var h=l=null,v=s,g=s=0,y=null,m=u.next();null!==v&&!m.done;g++,m=u.next()){v.index>g?(y=v,v=null):y=v.sibling;var b=d(i,v,m.value,c);if(null===b){null===v&&(v=y);break}e&&v&&null===b.alternate&&t(i,v),s=o(b,s,g),null===h?l=b:h.sibling=b,h=b,v=y}if(m.done)return n(i,v),l;if(null===v){for(;!m.done;g++,m=u.next())null!==(m=f(i,m.value,c))&&(s=o(m,s,g),null===h?l=m:h.sibling=m,h=m);return l}for(v=r(i,v);!m.done;g++,m=u.next())null!==(m=p(v,i,g,m.value,c))&&(e&&null!==m.alternate&&v.delete(null===m.key?g:m.key),s=o(m,s,g),null===h?l=m:h.sibling=m,h=m);return e&&v.forEach((function(e){return t(i,e)})),l}return function(e,r,o,u){var c="object"===typeof o&&null!==o&&o.type===T&&null===o.key;c&&(o=o.props.children);var l="object"===typeof o&&null!==o;if(l)switch(o.$$typeof){case E:e:{for(l=o.key,c=r;null!==c;){if(c.key===l){if(7===c.tag){if(o.type===T){n(e,c.sibling),(r=i(c,o.props.children)).return=e,e=r;break e}}else if(c.elementType===o.type){n(e,c.sibling),(r=i(c,o.props)).ref=To(e,c,o),r.return=e,e=r;break e}n(e,c);break}t(e,c),c=c.sibling}o.type===T?((r=Qu(o.props.children,e.mode,u,o.key)).return=e,e=r):((u=Gu(o.type,o.key,o.props,null,e.mode,u)).ref=To(e,r,o),u.return=e,e=u)}return s(e);case S:e:{for(c=o.key;null!==r;){if(r.key===c){if(4===r.tag&&r.stateNode.containerInfo===o.containerInfo&&r.stateNode.implementation===o.implementation){n(e,r.sibling),(r=i(r,o.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=Xu(o,e.mode,u)).return=e,e=r}return s(e)}if("string"===typeof o||"number"===typeof o)return o=""+o,null!==r&&6===r.tag?(n(e,r.sibling),(r=i(r,o)).return=e,e=r):(n(e,r),(r=Yu(o,e.mode,u)).return=e,e=r),s(e);if(So(o))return v(e,r,o,u);if(V(o))return g(e,r,o,u);if(l&&Co(e,o),"undefined"===typeof o&&!c)switch(e.tag){case 1:case 22:case 0:case 11:case 15:throw Error(a(152,G(e.type)||"Component"))}return n(e,r)}}var ko=Io(!0),Oo=Io(!1),xo={},Po=ci(xo),No=ci(xo),Ao=ci(xo);function Ro(e){if(e===xo)throw Error(a(174));return e}function Do(e,t){switch(hi(Ao,t),hi(No,e),hi(Po,xo),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:pe(null,"");break;default:t=pe(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}li(Po),hi(Po,t)}function jo(){li(Po),li(No),li(Ao)}function Lo(e){Ro(Ao.current);var t=Ro(Po.current),n=pe(t,e.type);t!==n&&(hi(No,e),hi(Po,n))}function Mo(e){No.current===e&&(li(Po),li(No))}var Fo=ci(0);function Uo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(64&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var qo=null,Bo=null,Vo=!1;function Wo(e,t){var n=zu(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.flags=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function zo(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);default:return!1}}function Ho(e){if(Vo){var t=Bo;if(t){var n=t;if(!zo(e,t)){if(!(t=Qr(n.nextSibling))||!zo(e,t))return e.flags=-1025&e.flags|2,Vo=!1,void(qo=e);Wo(qo,n)}qo=e,Bo=Qr(t.firstChild)}else e.flags=-1025&e.flags|2,Vo=!1,qo=e}}function Ko(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;qo=e}function Go(e){if(e!==qo)return!1;if(!Vo)return Ko(e),Vo=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!zr(t,e.memoizedProps))for(t=Bo;t;)Wo(e,t),t=Qr(t.nextSibling);if(Ko(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Bo=Qr(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}Bo=null}}else Bo=qo?Qr(e.stateNode.nextSibling):null;return!0}function Qo(){Bo=qo=null,Vo=!1}var $o=[];function Yo(){for(var e=0;e<$o.length;e++)$o[e]._workInProgressVersionPrimary=null;$o.length=0}var Xo=w.ReactCurrentDispatcher,Jo=w.ReactCurrentBatchConfig,Zo=0,ea=null,ta=null,na=null,ra=!1,ia=!1;function oa(){throw Error(a(321))}function aa(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!lr(e[n],t[n]))return!1;return!0}function sa(e,t,n,r,i,o){if(Zo=o,ea=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Xo.current=null===e||null===e.memoizedState?Ra:Da,e=n(r,i),ia){o=0;do{if(ia=!1,!(25>o))throw Error(a(301));o+=1,na=ta=null,t.updateQueue=null,Xo.current=ja,e=n(r,i)}while(ia)}if(Xo.current=Aa,t=null!==ta&&null!==ta.next,Zo=0,na=ta=ea=null,ra=!1,t)throw Error(a(300));return e}function ua(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===na?ea.memoizedState=na=e:na=na.next=e,na}function ca(){if(null===ta){var e=ea.alternate;e=null!==e?e.memoizedState:null}else e=ta.next;var t=null===na?ea.memoizedState:na.next;if(null!==t)na=t,ta=e;else{if(null===e)throw Error(a(310));e={memoizedState:(ta=e).memoizedState,baseState:ta.baseState,baseQueue:ta.baseQueue,queue:ta.queue,next:null},null===na?ea.memoizedState=na=e:na=na.next=e}return na}function la(e,t){return"function"===typeof t?t(e):t}function ha(e){var t=ca(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=ta,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var u=s=o=null,c=i;do{var l=c.lane;if((Zo&l)===l)null!==u&&(u=u.next={lane:0,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null}),r=c.eagerReducer===e?c.eagerState:e(r,c.action);else{var h={lane:l,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null};null===u?(s=u=h,o=r):u=u.next=h,ea.lanes|=l,Bs|=l}c=c.next}while(null!==c&&c!==i);null===u?o=r:u.next=s,lr(r,t.memoizedState)||(Ma=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=u,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function fa(e){var t=ca(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{o=e(o,s.action),s=s.next}while(s!==i);lr(o,t.memoizedState)||(Ma=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function da(e,t,n){var r=t._getVersion;r=r(t._source);var i=t._workInProgressVersionPrimary;if(null!==i?e=i===r:(e=e.mutableReadLanes,(e=(Zo&e)===e)&&(t._workInProgressVersionPrimary=r,$o.push(t))),e)return n(t._source);throw $o.push(t),Error(a(350))}function pa(e,t,n,r){var i=Rs;if(null===i)throw Error(a(349));var o=t._getVersion,s=o(t._source),u=Xo.current,c=u.useState((function(){return da(i,t,n)})),l=c[1],h=c[0];c=na;var f=e.memoizedState,d=f.refs,p=d.getSnapshot,v=f.source;f=f.subscribe;var g=ea;return e.memoizedState={refs:d,source:t,subscribe:r},u.useEffect((function(){d.getSnapshot=n,d.setSnapshot=l;var e=o(t._source);if(!lr(s,e)){e=n(t._source),lr(h,e)||(l(e),e=du(g),i.mutableReadLanes|=e&i.pendingLanes),e=i.mutableReadLanes,i.entangledLanes|=e;for(var r=i.entanglements,a=e;0<a;){var u=31-zt(a),c=1<<u;r[u]|=e,a&=~c}}}),[n,t,r]),u.useEffect((function(){return r(t._source,(function(){var e=d.getSnapshot,n=d.setSnapshot;try{n(e(t._source));var r=du(g);i.mutableReadLanes|=r&i.pendingLanes}catch(o){n((function(){throw o}))}}))}),[t,r]),lr(p,n)&&lr(v,t)&&lr(f,r)||((e={pending:null,dispatch:null,lastRenderedReducer:la,lastRenderedState:h}).dispatch=l=Na.bind(null,ea,e),c.queue=e,c.baseQueue=null,h=da(i,t,n),c.memoizedState=c.baseState=h),h}function va(e,t,n){return pa(ca(),e,t,n)}function ga(e){var t=ua();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:la,lastRenderedState:e}).dispatch=Na.bind(null,ea,e),[t.memoizedState,e]}function ya(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=ea.updateQueue)?(t={lastEffect:null},ea.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function ma(e){return e={current:e},ua().memoizedState=e}function ba(){return ca().memoizedState}function _a(e,t,n,r){var i=ua();ea.flags|=e,i.memoizedState=ya(1|t,n,void 0,void 0===r?null:r)}function wa(e,t,n,r){var i=ca();r=void 0===r?null:r;var o=void 0;if(null!==ta){var a=ta.memoizedState;if(o=a.destroy,null!==r&&aa(r,a.deps))return void ya(t,n,o,r)}ea.flags|=e,i.memoizedState=ya(1|t,n,o,r)}function Ea(e,t){return _a(516,4,e,t)}function Sa(e,t){return wa(516,4,e,t)}function Ta(e,t){return wa(4,2,e,t)}function Ca(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Ia(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,wa(4,2,Ca.bind(null,t,e),n)}function ka(){}function Oa(e,t){var n=ca();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&aa(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function xa(e,t){var n=ca();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&aa(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Pa(e,t){var n=zi();Ki(98>n?98:n,(function(){e(!0)})),Ki(97<n?97:n,(function(){var n=Jo.transition;Jo.transition=1;try{e(!1),t()}finally{Jo.transition=n}}))}function Na(e,t,n){var r=fu(),i=du(e),o={lane:i,action:n,eagerReducer:null,eagerState:null,next:null},a=t.pending;if(null===a?o.next=o:(o.next=a.next,a.next=o),t.pending=o,a=e.alternate,e===ea||null!==a&&a===ea)ia=ra=!0;else{if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var s=t.lastRenderedState,u=a(s,n);if(o.eagerReducer=a,o.eagerState=u,lr(u,s))return}catch(c){}pu(e,i,r)}}var Aa={readContext:ao,useCallback:oa,useContext:oa,useEffect:oa,useImperativeHandle:oa,useLayoutEffect:oa,useMemo:oa,useReducer:oa,useRef:oa,useState:oa,useDebugValue:oa,useDeferredValue:oa,useTransition:oa,useMutableSource:oa,useOpaqueIdentifier:oa,unstable_isNewReconciler:!1},Ra={readContext:ao,useCallback:function(e,t){return ua().memoizedState=[e,void 0===t?null:t],e},useContext:ao,useEffect:Ea,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,_a(4,2,Ca.bind(null,t,e),n)},useLayoutEffect:function(e,t){return _a(4,2,e,t)},useMemo:function(e,t){var n=ua();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=ua();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=Na.bind(null,ea,e),[r.memoizedState,e]},useRef:ma,useState:ga,useDebugValue:ka,useDeferredValue:function(e){var t=ga(e),n=t[0],r=t[1];return Ea((function(){var t=Jo.transition;Jo.transition=1;try{r(e)}finally{Jo.transition=t}}),[e]),n},useTransition:function(){var e=ga(!1),t=e[0];return ma(e=Pa.bind(null,e[1])),[e,t]},useMutableSource:function(e,t,n){var r=ua();return r.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:n},pa(r,e,t,n)},useOpaqueIdentifier:function(){if(Vo){var e=!1,t=function(e){return{$$typeof:j,toString:e,valueOf:e}}((function(){throw e||(e=!0,n("r:"+(Yr++).toString(36))),Error(a(355))})),n=ga(t)[1];return 0===(2&ea.mode)&&(ea.flags|=516,ya(5,(function(){n("r:"+(Yr++).toString(36))}),void 0,null)),t}return ga(t="r:"+(Yr++).toString(36)),t},unstable_isNewReconciler:!1},Da={readContext:ao,useCallback:Oa,useContext:ao,useEffect:Sa,useImperativeHandle:Ia,useLayoutEffect:Ta,useMemo:xa,useReducer:ha,useRef:ba,useState:function(){return ha(la)},useDebugValue:ka,useDeferredValue:function(e){var t=ha(la),n=t[0],r=t[1];return Sa((function(){var t=Jo.transition;Jo.transition=1;try{r(e)}finally{Jo.transition=t}}),[e]),n},useTransition:function(){var e=ha(la)[0];return[ba().current,e]},useMutableSource:va,useOpaqueIdentifier:function(){return ha(la)[0]},unstable_isNewReconciler:!1},ja={readContext:ao,useCallback:Oa,useContext:ao,useEffect:Sa,useImperativeHandle:Ia,useLayoutEffect:Ta,useMemo:xa,useReducer:fa,useRef:ba,useState:function(){return fa(la)},useDebugValue:ka,useDeferredValue:function(e){var t=fa(la),n=t[0],r=t[1];return Sa((function(){var t=Jo.transition;Jo.transition=1;try{r(e)}finally{Jo.transition=t}}),[e]),n},useTransition:function(){var e=fa(la)[0];return[ba().current,e]},useMutableSource:va,useOpaqueIdentifier:function(){return fa(la)[0]},unstable_isNewReconciler:!1},La=w.ReactCurrentOwner,Ma=!1;function Fa(e,t,n,r){t.child=null===e?Oo(t,null,n,r):ko(t,e.child,n,r)}function Ua(e,t,n,r,i){n=n.render;var o=t.ref;return oo(t,i),r=sa(e,t,n,r,o,i),null===e||Ma?(t.flags|=1,Fa(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,os(e,t,i))}function qa(e,t,n,r,i,o){if(null===e){var a=n.type;return"function"!==typeof a||Hu(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Gu(n.type,null,r,t,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Ba(e,t,a,r,i,o))}return a=e.child,0===(i&o)&&(i=a.memoizedProps,(n=null!==(n=n.compare)?n:fr)(i,r)&&e.ref===t.ref)?os(e,t,o):(t.flags|=1,(e=Ku(a,r)).ref=t.ref,e.return=t,t.child=e)}function Ba(e,t,n,r,i,o){if(null!==e&&fr(e.memoizedProps,r)&&e.ref===t.ref){if(Ma=!1,0===(o&i))return t.lanes=e.lanes,os(e,t,o);0!==(16384&e.flags)&&(Ma=!0)}return za(e,t,n,r,o)}function Va(e,t,n){var r=t.pendingProps,i=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode||"unstable-defer-without-hiding"===r.mode)if(0===(4&t.mode))t.memoizedState={baseLanes:0},Eu(t,n);else{if(0===(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},Eu(t,e),null;t.memoizedState={baseLanes:0},Eu(t,null!==o?o.baseLanes:n)}else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,Eu(t,r);return Fa(e,t,i,n),t.child}function Wa(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=128)}function za(e,t,n,r,i){var o=yi(n)?vi:di.current;return o=gi(t,o),oo(t,i),n=sa(e,t,n,r,o,i),null===e||Ma?(t.flags|=1,Fa(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,os(e,t,i))}function Ha(e,t,n,r,i){if(yi(n)){var o=!0;wi(t)}else o=!1;if(oo(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),_o(t,n,r),Eo(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var u=a.context,c=n.contextType;"object"===typeof c&&null!==c?c=ao(c):c=gi(t,c=yi(n)?vi:di.current);var l=n.getDerivedStateFromProps,h="function"===typeof l||"function"===typeof a.getSnapshotBeforeUpdate;h||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==r||u!==c)&&wo(t,a,r,c),so=!1;var f=t.memoizedState;a.state=f,po(t,r,a,i),u=t.memoizedState,s!==r||f!==u||pi.current||so?("function"===typeof l&&(yo(t,n,l,r),u=t.memoizedState),(s=so||bo(t,n,s,r,f,u,c))?(h||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4)):("function"===typeof a.componentDidMount&&(t.flags|=4),t.memoizedProps=r,t.memoizedState=u),a.props=r,a.state=u,a.context=c,r=s):("function"===typeof a.componentDidMount&&(t.flags|=4),r=!1)}else{a=t.stateNode,co(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:Xi(t.type,s),a.props=c,h=t.pendingProps,f=a.context,"object"===typeof(u=n.contextType)&&null!==u?u=ao(u):u=gi(t,u=yi(n)?vi:di.current);var d=n.getDerivedStateFromProps;(l="function"===typeof d||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==h||f!==u)&&wo(t,a,r,u),so=!1,f=t.memoizedState,a.state=f,po(t,r,a,i);var p=t.memoizedState;s!==h||f!==p||pi.current||so?("function"===typeof d&&(yo(t,n,d,r),p=t.memoizedState),(c=so||bo(t,n,c,r,f,p,u))?(l||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,p,u),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,p,u)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=256)):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=256),t.memoizedProps=r,t.memoizedState=p),a.props=r,a.state=p,a.context=u,r=c):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=256),r=!1)}return Ka(e,t,n,r,o,i)}function Ka(e,t,n,r,i,o){Wa(e,t);var a=0!==(64&t.flags);if(!r&&!a)return i&&Ei(t,n,!1),os(e,t,o);r=t.stateNode,La.current=t;var s=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=ko(t,e.child,null,o),t.child=ko(t,null,s,o)):Fa(e,t,s,o),t.memoizedState=r.state,i&&Ei(t,n,!0),t.child}function Ga(e){var t=e.stateNode;t.pendingContext?bi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&bi(0,t.context,!1),Do(e,t.containerInfo)}var Qa,$a,Ya,Xa={dehydrated:null,retryLane:0};function Ja(e,t,n){var r,i=t.pendingProps,o=Fo.current,a=!1;return(r=0!==(64&t.flags))||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(a=!0,t.flags&=-65):null!==e&&null===e.memoizedState||void 0===i.fallback||!0===i.unstable_avoidThisFallback||(o|=1),hi(Fo,1&o),null===e?(void 0!==i.fallback&&Ho(t),e=i.children,o=i.fallback,a?(e=Za(t,e,o,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Xa,e):"number"===typeof i.unstable_expectedLoadTime?(e=Za(t,e,o,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Xa,t.lanes=33554432,e):((n=$u({mode:"visible",children:e},t.mode,n,null)).return=t,t.child=n)):(e.memoizedState,a?(i=ts(e,t,i.children,i.fallback,n),a=t.child,o=e.child.memoizedState,a.memoizedState=null===o?{baseLanes:n}:{baseLanes:o.baseLanes|n},a.childLanes=e.childLanes&~n,t.memoizedState=Xa,i):(n=es(e,t,i.children,n),t.memoizedState=null,n))}function Za(e,t,n,r){var i=e.mode,o=e.child;return t={mode:"hidden",children:t},0===(2&i)&&null!==o?(o.childLanes=0,o.pendingProps=t):o=$u(t,i,0,null),n=Qu(n,i,r,null),o.return=e,n.return=e,o.sibling=n,e.child=o,n}function es(e,t,n,r){var i=e.child;return e=i.sibling,n=Ku(i,{mode:"visible",children:n}),0===(2&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=n}function ts(e,t,n,r,i){var o=t.mode,a=e.child;e=a.sibling;var s={mode:"hidden",children:n};return 0===(2&o)&&t.child!==a?((n=t.child).childLanes=0,n.pendingProps=s,null!==(a=n.lastEffect)?(t.firstEffect=n.firstEffect,t.lastEffect=a,a.nextEffect=null):t.firstEffect=t.lastEffect=null):n=Ku(a,s),null!==e?r=Ku(e,r):(r=Qu(r,o,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function ns(e,t){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),io(e.return,t)}function rs(e,t,n,r,i,o){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,lastEffect:o}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i,a.lastEffect=o)}function is(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(Fa(e,t,r.children,n),0!==(2&(r=Fo.current)))r=1&r|2,t.flags|=64;else{if(null!==e&&0!==(64&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&ns(e,n);else if(19===e.tag)ns(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(hi(Fo,r),0===(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===Uo(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),rs(t,!1,i,n,o,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===Uo(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}rs(t,!0,n,null,o,t.lastEffect);break;case"together":rs(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function os(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Bs|=t.lanes,0!==(n&t.childLanes)){if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Ku(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Ku(e,e.pendingProps)).return=t;n.sibling=null}return t.child}return null}function as(e,t){if(!Vo)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ss(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:case 17:return yi(t.type)&&mi(),null;case 3:return jo(),li(pi),li(di),Yo(),(r=t.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(Go(t)?t.flags|=4:r.hydrate||(t.flags|=256)),null;case 5:Mo(t);var o=Ro(Ao.current);if(n=t.type,null!==e&&null!=t.stateNode)$a(e,t,n,r),e.ref!==t.ref&&(t.flags|=128);else{if(!r){if(null===t.stateNode)throw Error(a(166));return null}if(e=Ro(Po.current),Go(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[Jr]=t,r[Zr]=s,n){case"dialog":Pr("cancel",r),Pr("close",r);break;case"iframe":case"object":case"embed":Pr("load",r);break;case"video":case"audio":for(e=0;e<Ir.length;e++)Pr(Ir[e],r);break;case"source":Pr("error",r);break;case"img":case"image":case"link":Pr("error",r),Pr("load",r);break;case"details":Pr("toggle",r);break;case"input":ee(r,s),Pr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Pr("invalid",r);break;case"textarea":ue(r,s),Pr("invalid",r)}for(var c in Te(n,s),e=null,s)s.hasOwnProperty(c)&&(o=s[c],"children"===c?"string"===typeof o?r.textContent!==o&&(e=["children",o]):"number"===typeof o&&r.textContent!==""+o&&(e=["children",""+o]):u.hasOwnProperty(c)&&null!=o&&"onScroll"===c&&Pr("scroll",r));switch(n){case"input":Y(r),re(r,s,!0);break;case"textarea":Y(r),le(r);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(r.onclick=qr)}r=e,t.updateQueue=r,null!==r&&(t.flags|=4)}else{switch(c=9===o.nodeType?o:o.ownerDocument,e===he&&(e=de(n)),e===he?"script"===n?((e=c.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=c.createElement(n,{is:r.is}):(e=c.createElement(n),"select"===n&&(c=e,r.multiple?c.multiple=!0:r.size&&(c.size=r.size))):e=c.createElementNS(e,n),e[Jr]=t,e[Zr]=r,Qa(e,t),t.stateNode=e,c=Ce(n,r),n){case"dialog":Pr("cancel",e),Pr("close",e),o=r;break;case"iframe":case"object":case"embed":Pr("load",e),o=r;break;case"video":case"audio":for(o=0;o<Ir.length;o++)Pr(Ir[o],e);o=r;break;case"source":Pr("error",e),o=r;break;case"img":case"image":case"link":Pr("error",e),Pr("load",e),o=r;break;case"details":Pr("toggle",e),o=r;break;case"input":ee(e,r),o=Z(e,r),Pr("invalid",e);break;case"option":o=oe(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=i({},r,{value:void 0}),Pr("invalid",e);break;case"textarea":ue(e,r),o=se(e,r),Pr("invalid",e);break;default:o=r}Te(n,o);var l=o;for(s in l)if(l.hasOwnProperty(s)){var h=l[s];"style"===s?Ee(e,h):"dangerouslySetInnerHTML"===s?null!=(h=h?h.__html:void 0)&&ye(e,h):"children"===s?"string"===typeof h?("textarea"!==n||""!==h)&&me(e,h):"number"===typeof h&&me(e,""+h):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(u.hasOwnProperty(s)?null!=h&&"onScroll"===s&&Pr("scroll",e):null!=h&&_(e,s,h,c))}switch(n){case"input":Y(e),re(e,r,!1);break;case"textarea":Y(e),le(e);break;case"option":null!=r.value&&e.setAttribute("value",""+Q(r.value));break;case"select":e.multiple=!!r.multiple,null!=(s=r.value)?ae(e,!!r.multiple,s,!1):null!=r.defaultValue&&ae(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof o.onClick&&(e.onclick=qr)}Wr(n,r)&&(t.flags|=4)}null!==t.ref&&(t.flags|=128)}return null;case 6:if(e&&null!=t.stateNode)Ya(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));n=Ro(Ao.current),Ro(Po.current),Go(t)?(r=t.stateNode,n=t.memoizedProps,r[Jr]=t,r.nodeValue!==n&&(t.flags|=4)):((r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[Jr]=t,t.stateNode=r)}return null;case 13:return li(Fo),r=t.memoizedState,0!==(64&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?void 0!==t.memoizedProps.fallback&&Go(t):n=null!==e.memoizedState,r&&!n&&0!==(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!==(1&Fo.current)?0===Fs&&(Fs=3):(0!==Fs&&3!==Fs||(Fs=4),null===Rs||0===(134217727&Bs)&&0===(134217727&Vs)||mu(Rs,js))),(r||n)&&(t.flags|=4),null);case 4:return jo(),null===e&&Ar(t.stateNode.containerInfo),null;case 10:return ro(t),null;case 19:if(li(Fo),null===(r=t.memoizedState))return null;if(s=0!==(64&t.flags),null===(c=r.rendering))if(s)as(r,!1);else{if(0!==Fs||null!==e&&0!==(64&e.flags))for(e=t.child;null!==e;){if(null!==(c=Uo(e))){for(t.flags|=64,as(r,!1),null!==(s=c.updateQueue)&&(t.updateQueue=s,t.flags|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=n,n=t.child;null!==n;)e=r,(s=n).flags&=2,s.nextEffect=null,s.firstEffect=null,s.lastEffect=null,null===(c=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=c.childLanes,s.lanes=c.lanes,s.child=c.child,s.memoizedProps=c.memoizedProps,s.memoizedState=c.memoizedState,s.updateQueue=c.updateQueue,s.type=c.type,e=c.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return hi(Fo,1&Fo.current|2),t.child}e=e.sibling}null!==r.tail&&Wi()>Ks&&(t.flags|=64,s=!0,as(r,!1),t.lanes=33554432)}else{if(!s)if(null!==(e=Uo(c))){if(t.flags|=64,s=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),as(r,!0),null===r.tail&&"hidden"===r.tailMode&&!c.alternate&&!Vo)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*Wi()-r.renderingStartTime>Ks&&1073741824!==n&&(t.flags|=64,s=!0,as(r,!1),t.lanes=33554432);r.isBackwards?(c.sibling=t.child,t.child=c):(null!==(n=r.last)?n.sibling=c:t.child=c,r.last=c)}return null!==r.tail?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=Wi(),n.sibling=null,t=Fo.current,hi(Fo,s?1&t|2:1&t),n):null;case 23:case 24:return Su(),null!==e&&null!==e.memoizedState!==(null!==t.memoizedState)&&"unstable-defer-without-hiding"!==r.mode&&(t.flags|=4),null}throw Error(a(156,t.tag))}function us(e){switch(e.tag){case 1:yi(e.type)&&mi();var t=e.flags;return 4096&t?(e.flags=-4097&t|64,e):null;case 3:if(jo(),li(pi),li(di),Yo(),0!==(64&(t=e.flags)))throw Error(a(285));return e.flags=-4097&t|64,e;case 5:return Mo(e),null;case 13:return li(Fo),4096&(t=e.flags)?(e.flags=-4097&t|64,e):null;case 19:return li(Fo),null;case 4:return jo(),null;case 10:return ro(e),null;case 23:case 24:return Su(),null;default:return null}}function cs(e,t){try{var n="",r=t;do{n+=K(r),r=r.return}while(r);var i=n}catch(o){i="\nError generating stack: "+o.message+"\n"+o.stack}return{value:e,source:t,stack:i}}function ls(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}Qa=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},$a=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,Ro(Po.current);var a,s=null;switch(n){case"input":o=Z(e,o),r=Z(e,r),s=[];break;case"option":o=oe(e,o),r=oe(e,r),s=[];break;case"select":o=i({},o,{value:void 0}),r=i({},r,{value:void 0}),s=[];break;case"textarea":o=se(e,o),r=se(e,r),s=[];break;default:"function"!==typeof o.onClick&&"function"===typeof r.onClick&&(e.onclick=qr)}for(h in Te(n,r),n=null,o)if(!r.hasOwnProperty(h)&&o.hasOwnProperty(h)&&null!=o[h])if("style"===h){var c=o[h];for(a in c)c.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==h&&"children"!==h&&"suppressContentEditableWarning"!==h&&"suppressHydrationWarning"!==h&&"autoFocus"!==h&&(u.hasOwnProperty(h)?s||(s=[]):(s=s||[]).push(h,null));for(h in r){var l=r[h];if(c=null!=o?o[h]:void 0,r.hasOwnProperty(h)&&l!==c&&(null!=l||null!=c))if("style"===h)if(c){for(a in c)!c.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in l)l.hasOwnProperty(a)&&c[a]!==l[a]&&(n||(n={}),n[a]=l[a])}else n||(s||(s=[]),s.push(h,n)),n=l;else"dangerouslySetInnerHTML"===h?(l=l?l.__html:void 0,c=c?c.__html:void 0,null!=l&&c!==l&&(s=s||[]).push(h,l)):"children"===h?"string"!==typeof l&&"number"!==typeof l||(s=s||[]).push(h,""+l):"suppressContentEditableWarning"!==h&&"suppressHydrationWarning"!==h&&(u.hasOwnProperty(h)?(null!=l&&"onScroll"===h&&Pr("scroll",e),s||c===l||(s=[])):"object"===typeof l&&null!==l&&l.$$typeof===j?l.toString():(s=s||[]).push(h,l))}n&&(s=s||[]).push("style",n);var h=s;(t.updateQueue=h)&&(t.flags|=4)}},Ya=function(e,t,n,r){n!==r&&(t.flags|=4)};var hs="function"===typeof WeakMap?WeakMap:Map;function fs(e,t,n){(n=lo(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ys||(Ys=!0,Xs=r),ls(0,t)},n}function ds(e,t,n){(n=lo(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return ls(0,t),r(i)}}var o=e.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){"function"!==typeof r&&(null===Js?Js=new Set([this]):Js.add(this),ls(0,t));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}var ps="function"===typeof WeakSet?WeakSet:Set;function vs(e){var t=e.ref;if(null!==t)if("function"===typeof t)try{t(null)}catch(n){qu(e,n)}else t.current=null}function gs(e,t){switch(t.tag){case 0:case 11:case 15:case 22:case 5:case 6:case 4:case 17:return;case 1:if(256&t.flags&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:Xi(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:return void(256&t.flags&&Gr(t.stateNode.containerInfo))}throw Error(a(163))}function ys(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{if(3===(3&e.tag)){var r=e.create;e.destroy=r()}e=e.next}while(e!==t)}if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{var i=e;r=i.next,0!==(4&(i=i.tag))&&0!==(1&i)&&(Mu(n,e),Lu(n,e)),e=r}while(e!==t)}return;case 1:return e=n.stateNode,4&n.flags&&(null===t?e.componentDidMount():(r=n.elementType===n.type?t.memoizedProps:Xi(n.type,t.memoizedProps),e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),void(null!==(t=n.updateQueue)&&vo(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:case 1:e=n.child.stateNode}vo(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.flags&&Wr(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:case 19:case 17:case 20:case 21:case 23:case 24:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&Et(n)))))}throw Error(a(163))}function ms(e,t){for(var n=e;;){if(5===n.tag){var r=n.stateNode;if(t)"function"===typeof(r=r.style).setProperty?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var i=n.memoizedProps.style;i=void 0!==i&&null!==i&&i.hasOwnProperty("display")?i.display:null,r.style.display=we("display",i)}}else if(6===n.tag)n.stateNode.nodeValue=t?"":n.memoizedProps;else if((23!==n.tag&&24!==n.tag||null===n.memoizedState||n===e)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function bs(e,t){if(Ti&&"function"===typeof Ti.onCommitFiberUnmount)try{Ti.onCommitFiberUnmount(Si,t)}catch(o){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var n=e=e.next;do{var r=n,i=r.destroy;if(r=r.tag,void 0!==i)if(0!==(4&r))Mu(t,n);else{r=t;try{i()}catch(o){qu(r,o)}}n=n.next}while(n!==e)}break;case 1:if(vs(t),"function"===typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(o){qu(t,o)}break;case 5:vs(t);break;case 4:Cs(e,t)}}function _s(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function ws(e){return 5===e.tag||3===e.tag||4===e.tag}function Es(e){e:{for(var t=e.return;null!==t;){if(ws(t))break e;t=t.return}throw Error(a(160))}var n=t;switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(a(161))}16&n.flags&&(me(t,""),n.flags&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||ws(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.flags)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.flags)){n=n.stateNode;break e}}r?Ss(e,n,t):Ts(e,n,t)}function Ss(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=qr));else if(4!==r&&null!==(e=e.child))for(Ss(e,t,n),e=e.sibling;null!==e;)Ss(e,t,n),e=e.sibling}function Ts(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(Ts(e,t,n),e=e.sibling;null!==e;)Ts(e,t,n),e=e.sibling}function Cs(e,t){for(var n,r,i=t,o=!1;;){if(!o){o=i.return;e:for(;;){if(null===o)throw Error(a(160));switch(n=o.stateNode,o.tag){case 5:r=!1;break e;case 3:case 4:n=n.containerInfo,r=!0;break e}o=o.return}o=!0}if(5===i.tag||6===i.tag){e:for(var s=e,u=i,c=u;;)if(bs(s,c),null!==c.child&&4!==c.tag)c.child.return=c,c=c.child;else{if(c===u)break e;for(;null===c.sibling;){if(null===c.return||c.return===u)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}r?(s=n,u=i.stateNode,8===s.nodeType?s.parentNode.removeChild(u):s.removeChild(u)):n.removeChild(i.stateNode)}else if(4===i.tag){if(null!==i.child){n=i.stateNode.containerInfo,r=!0,i.child.return=i,i=i.child;continue}}else if(bs(e,i),null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;4===(i=i.return).tag&&(o=!1)}i.sibling.return=i.return,i=i.sibling}}function Is(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var r=n=n.next;do{3===(3&r.tag)&&(e=r.destroy,r.destroy=void 0,void 0!==e&&e()),r=r.next}while(r!==n)}return;case 1:case 12:case 17:return;case 5:if(null!=(n=t.stateNode)){r=t.memoizedProps;var i=null!==e?e.memoizedProps:r;e=t.type;var o=t.updateQueue;if(t.updateQueue=null,null!==o){for(n[Zr]=r,"input"===e&&"radio"===r.type&&null!=r.name&&te(n,r),Ce(e,i),t=Ce(e,r),i=0;i<o.length;i+=2){var s=o[i],u=o[i+1];"style"===s?Ee(n,u):"dangerouslySetInnerHTML"===s?ye(n,u):"children"===s?me(n,u):_(n,s,u,t)}switch(e){case"input":ne(n,r);break;case"textarea":ce(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(o=r.value)?ae(n,!!r.multiple,o,!1):e!==!!r.multiple&&(null!=r.defaultValue?ae(n,!!r.multiple,r.defaultValue,!0):ae(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(a(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((n=t.stateNode).hydrate&&(n.hydrate=!1,Et(n.containerInfo)));case 13:return null!==t.memoizedState&&(Hs=Wi(),ms(t.child,!0)),void ks(t);case 19:return void ks(t);case 23:case 24:return void ms(t,null!==t.memoizedState)}throw Error(a(163))}function ks(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new ps),t.forEach((function(t){var r=Vu.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function Os(e,t){return null!==e&&(null===(e=e.memoizedState)||null!==e.dehydrated)&&(null!==(t=t.memoizedState)&&null===t.dehydrated)}var xs=Math.ceil,Ps=w.ReactCurrentDispatcher,Ns=w.ReactCurrentOwner,As=0,Rs=null,Ds=null,js=0,Ls=0,Ms=ci(0),Fs=0,Us=null,qs=0,Bs=0,Vs=0,Ws=0,zs=null,Hs=0,Ks=1/0;function Gs(){Ks=Wi()+500}var Qs,$s=null,Ys=!1,Xs=null,Js=null,Zs=!1,eu=null,tu=90,nu=[],ru=[],iu=null,ou=0,au=null,su=-1,uu=0,cu=0,lu=null,hu=!1;function fu(){return 0!==(48&As)?Wi():-1!==su?su:su=Wi()}function du(e){if(0===(2&(e=e.mode)))return 1;if(0===(4&e))return 99===zi()?1:2;if(0===uu&&(uu=qs),0!==Yi.transition){0!==cu&&(cu=null!==zs?zs.pendingLanes:0),e=uu;var t=4186112&~cu;return 0===(t&=-t)&&(0===(t=(e=4186112&~e)&-e)&&(t=8192)),t}return e=zi(),0!==(4&As)&&98===e?e=qt(12,uu):e=qt(e=function(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(e),uu),e}function pu(e,t,n){if(50<ou)throw ou=0,au=null,Error(a(185));if(null===(e=vu(e,t)))return null;Wt(e,t,n),e===Rs&&(Vs|=t,4===Fs&&mu(e,js));var r=zi();1===t?0!==(8&As)&&0===(48&As)?bu(e):(gu(e,n),0===As&&(Gs(),Qi())):(0===(4&As)||98!==r&&99!==r||(null===iu?iu=new Set([e]):iu.add(e)),gu(e,n)),zs=e}function vu(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function gu(e,t){for(var n=e.callbackNode,r=e.suspendedLanes,i=e.pingedLanes,o=e.expirationTimes,s=e.pendingLanes;0<s;){var u=31-zt(s),c=1<<u,l=o[u];if(-1===l){if(0===(c&r)||0!==(c&i)){l=t,Mt(c);var h=Lt;o[u]=10<=h?l+250:6<=h?l+5e3:-1}}else l<=t&&(e.expiredLanes|=c);s&=~c}if(r=Ft(e,e===Rs?js:0),t=Lt,0===r)null!==n&&(n!==Mi&&ki(n),e.callbackNode=null,e.callbackPriority=0);else{if(null!==n){if(e.callbackPriority===t)return;n!==Mi&&ki(n)}15===t?(n=bu.bind(null,e),null===Ui?(Ui=[n],qi=Ii(Ai,$i)):Ui.push(n),n=Mi):14===t?n=Gi(99,bu.bind(null,e)):(n=function(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(a(358,e))}}(t),n=Gi(n,yu.bind(null,e))),e.callbackPriority=t,e.callbackNode=n}}function yu(e){if(su=-1,cu=uu=0,0!==(48&As))throw Error(a(327));var t=e.callbackNode;if(ju()&&e.callbackNode!==t)return null;var n=Ft(e,e===Rs?js:0);if(0===n)return null;var r=n,i=As;As|=16;var o=Iu();for(Rs===e&&js===r||(Gs(),Tu(e,r));;)try{xu();break}catch(u){Cu(e,u)}if(no(),Ps.current=o,As=i,null!==Ds?r=0:(Rs=null,js=0,r=Fs),0!==(qs&Vs))Tu(e,0);else if(0!==r){if(2===r&&(As|=64,e.hydrate&&(e.hydrate=!1,Gr(e.containerInfo)),0!==(n=Ut(e))&&(r=ku(e,n))),1===r)throw t=Us,Tu(e,0),mu(e,n),gu(e,Wi()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=n,r){case 0:case 1:throw Error(a(345));case 2:case 5:Au(e);break;case 3:if(mu(e,n),(62914560&n)===n&&10<(r=Hs+500-Wi())){if(0!==Ft(e,0))break;if(((i=e.suspendedLanes)&n)!==n){fu(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Hr(Au.bind(null,e),r);break}Au(e);break;case 4:if(mu(e,n),(4186112&n)===n)break;for(r=e.eventTimes,i=-1;0<n;){var s=31-zt(n);o=1<<s,(s=r[s])>i&&(i=s),n&=~o}if(n=i,10<(n=(120>(n=Wi()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*xs(n/1960))-n)){e.timeoutHandle=Hr(Au.bind(null,e),n);break}Au(e);break;default:throw Error(a(329))}}return gu(e,Wi()),e.callbackNode===t?yu.bind(null,e):null}function mu(e,t){for(t&=~Ws,t&=~Vs,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-zt(t),r=1<<n;e[n]=-1,t&=~r}}function bu(e){if(0!==(48&As))throw Error(a(327));if(ju(),e===Rs&&0!==(e.expiredLanes&js)){var t=js,n=ku(e,t);0!==(qs&Vs)&&(n=ku(e,t=Ft(e,t)))}else n=ku(e,t=Ft(e,0));if(0!==e.tag&&2===n&&(As|=64,e.hydrate&&(e.hydrate=!1,Gr(e.containerInfo)),0!==(t=Ut(e))&&(n=ku(e,t))),1===n)throw n=Us,Tu(e,0),mu(e,t),gu(e,Wi()),n;return e.finishedWork=e.current.alternate,e.finishedLanes=t,Au(e),gu(e,Wi()),null}function _u(e,t){var n=As;As|=1;try{return e(t)}finally{0===(As=n)&&(Gs(),Qi())}}function wu(e,t){var n=As;As&=-2,As|=8;try{return e(t)}finally{0===(As=n)&&(Gs(),Qi())}}function Eu(e,t){hi(Ms,Ls),Ls|=t,qs|=t}function Su(){Ls=Ms.current,li(Ms)}function Tu(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,Kr(n)),null!==Ds)for(n=Ds.return;null!==n;){var r=n;switch(r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&mi();break;case 3:jo(),li(pi),li(di),Yo();break;case 5:Mo(r);break;case 4:jo();break;case 13:case 19:li(Fo);break;case 10:ro(r);break;case 23:case 24:Su()}n=n.return}Rs=e,Ds=Ku(e.current,null),js=Ls=qs=t,Fs=0,Us=null,Ws=Vs=Bs=0}function Cu(e,t){for(;;){var n=Ds;try{if(no(),Xo.current=Aa,ra){for(var r=ea.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}ra=!1}if(Zo=0,na=ta=ea=null,ia=!1,Ns.current=null,null===n||null===n.return){Fs=1,Us=t,Ds=null;break}e:{var o=e,a=n.return,s=n,u=t;if(t=js,s.flags|=2048,s.firstEffect=s.lastEffect=null,null!==u&&"object"===typeof u&&"function"===typeof u.then){var c=u;if(0===(2&s.mode)){var l=s.alternate;l?(s.updateQueue=l.updateQueue,s.memoizedState=l.memoizedState,s.lanes=l.lanes):(s.updateQueue=null,s.memoizedState=null)}var h=0!==(1&Fo.current),f=a;do{var d;if(d=13===f.tag){var p=f.memoizedState;if(null!==p)d=null!==p.dehydrated;else{var v=f.memoizedProps;d=void 0!==v.fallback&&(!0!==v.unstable_avoidThisFallback||!h)}}if(d){var g=f.updateQueue;if(null===g){var y=new Set;y.add(c),f.updateQueue=y}else g.add(c);if(0===(2&f.mode)){if(f.flags|=64,s.flags|=16384,s.flags&=-2981,1===s.tag)if(null===s.alternate)s.tag=17;else{var m=lo(-1,1);m.tag=2,ho(s,m)}s.lanes|=1;break e}u=void 0,s=t;var b=o.pingCache;if(null===b?(b=o.pingCache=new hs,u=new Set,b.set(c,u)):void 0===(u=b.get(c))&&(u=new Set,b.set(c,u)),!u.has(s)){u.add(s);var _=Bu.bind(null,o,c,s);c.then(_,_)}f.flags|=4096,f.lanes=t;break e}f=f.return}while(null!==f);u=Error((G(s.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==Fs&&(Fs=2),u=cs(u,s),f=a;do{switch(f.tag){case 3:o=u,f.flags|=4096,t&=-t,f.lanes|=t,fo(f,fs(0,o,t));break e;case 1:o=u;var w=f.type,E=f.stateNode;if(0===(64&f.flags)&&("function"===typeof w.getDerivedStateFromError||null!==E&&"function"===typeof E.componentDidCatch&&(null===Js||!Js.has(E)))){f.flags|=4096,t&=-t,f.lanes|=t,fo(f,ds(f,o,t));break e}}f=f.return}while(null!==f)}Nu(n)}catch(S){t=S,Ds===n&&null!==n&&(Ds=n=n.return);continue}break}}function Iu(){var e=Ps.current;return Ps.current=Aa,null===e?Aa:e}function ku(e,t){var n=As;As|=16;var r=Iu();for(Rs===e&&js===t||Tu(e,t);;)try{Ou();break}catch(i){Cu(e,i)}if(no(),As=n,Ps.current=r,null!==Ds)throw Error(a(261));return Rs=null,js=0,Fs}function Ou(){for(;null!==Ds;)Pu(Ds)}function xu(){for(;null!==Ds&&!Oi();)Pu(Ds)}function Pu(e){var t=Qs(e.alternate,e,Ls);e.memoizedProps=e.pendingProps,null===t?Nu(e):Ds=t,Ns.current=null}function Nu(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(2048&t.flags)){if(null!==(n=ss(n,t,Ls)))return void(Ds=n);if(24!==(n=t).tag&&23!==n.tag||null===n.memoizedState||0!==(1073741824&Ls)||0===(4&n.mode)){for(var r=0,i=n.child;null!==i;)r|=i.lanes|i.childLanes,i=i.sibling;n.childLanes=r}null!==e&&0===(2048&e.flags)&&(null===e.firstEffect&&(e.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(null!==e.lastEffect?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}else{if(null!==(n=us(t)))return n.flags&=2047,void(Ds=n);null!==e&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(null!==(t=t.sibling))return void(Ds=t);Ds=t=e}while(null!==t);0===Fs&&(Fs=5)}function Au(e){var t=zi();return Ki(99,Ru.bind(null,e,t)),null}function Ru(e,t){do{ju()}while(null!==eu);if(0!==(48&As))throw Error(a(327));var n=e.finishedWork;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null;var r=n.lanes|n.childLanes,i=r,o=e.pendingLanes&~i;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=i,e.mutableReadLanes&=i,e.entangledLanes&=i,i=e.entanglements;for(var s=e.eventTimes,u=e.expirationTimes;0<o;){var c=31-zt(o),l=1<<c;i[c]=0,s[c]=-1,u[c]=-1,o&=~l}if(null!==iu&&0===(24&r)&&iu.has(e)&&iu.delete(e),e===Rs&&(Ds=Rs=null,js=0),1<n.flags?null!==n.lastEffect?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,null!==r){if(i=As,As|=32,Ns.current=null,Br=$t,yr(s=gr())){if("selectionStart"in s)u={start:s.selectionStart,end:s.selectionEnd};else e:if(u=(u=s.ownerDocument)&&u.defaultView||window,(l=u.getSelection&&u.getSelection())&&0!==l.rangeCount){u=l.anchorNode,o=l.anchorOffset,c=l.focusNode,l=l.focusOffset;try{u.nodeType,c.nodeType}catch(I){u=null;break e}var h=0,f=-1,d=-1,p=0,v=0,g=s,y=null;t:for(;;){for(var m;g!==u||0!==o&&3!==g.nodeType||(f=h+o),g!==c||0!==l&&3!==g.nodeType||(d=h+l),3===g.nodeType&&(h+=g.nodeValue.length),null!==(m=g.firstChild);)y=g,g=m;for(;;){if(g===s)break t;if(y===u&&++p===o&&(f=h),y===c&&++v===l&&(d=h),null!==(m=g.nextSibling))break;y=(g=y).parentNode}g=m}u=-1===f||-1===d?null:{start:f,end:d}}else u=null;u=u||{start:0,end:0}}else u=null;Vr={focusedElem:s,selectionRange:u},$t=!1,lu=null,hu=!1,$s=r;do{try{Du()}catch(I){if(null===$s)throw Error(a(330));qu($s,I),$s=$s.nextEffect}}while(null!==$s);lu=null,$s=r;do{try{for(s=e;null!==$s;){var b=$s.flags;if(16&b&&me($s.stateNode,""),128&b){var _=$s.alternate;if(null!==_){var w=_.ref;null!==w&&("function"===typeof w?w(null):w.current=null)}}switch(1038&b){case 2:Es($s),$s.flags&=-3;break;case 6:Es($s),$s.flags&=-3,Is($s.alternate,$s);break;case 1024:$s.flags&=-1025;break;case 1028:$s.flags&=-1025,Is($s.alternate,$s);break;case 4:Is($s.alternate,$s);break;case 8:Cs(s,u=$s);var E=u.alternate;_s(u),null!==E&&_s(E)}$s=$s.nextEffect}}catch(I){if(null===$s)throw Error(a(330));qu($s,I),$s=$s.nextEffect}}while(null!==$s);if(w=Vr,_=gr(),b=w.focusedElem,s=w.selectionRange,_!==b&&b&&b.ownerDocument&&vr(b.ownerDocument.documentElement,b)){null!==s&&yr(b)&&(_=s.start,void 0===(w=s.end)&&(w=_),"selectionStart"in b?(b.selectionStart=_,b.selectionEnd=Math.min(w,b.value.length)):(w=(_=b.ownerDocument||document)&&_.defaultView||window).getSelection&&(w=w.getSelection(),u=b.textContent.length,E=Math.min(s.start,u),s=void 0===s.end?E:Math.min(s.end,u),!w.extend&&E>s&&(u=s,s=E,E=u),u=pr(b,E),o=pr(b,s),u&&o&&(1!==w.rangeCount||w.anchorNode!==u.node||w.anchorOffset!==u.offset||w.focusNode!==o.node||w.focusOffset!==o.offset)&&((_=_.createRange()).setStart(u.node,u.offset),w.removeAllRanges(),E>s?(w.addRange(_),w.extend(o.node,o.offset)):(_.setEnd(o.node,o.offset),w.addRange(_))))),_=[];for(w=b;w=w.parentNode;)1===w.nodeType&&_.push({element:w,left:w.scrollLeft,top:w.scrollTop});for("function"===typeof b.focus&&b.focus(),b=0;b<_.length;b++)(w=_[b]).element.scrollLeft=w.left,w.element.scrollTop=w.top}$t=!!Br,Vr=Br=null,e.current=n,$s=r;do{try{for(b=e;null!==$s;){var S=$s.flags;if(36&S&&ys(b,$s.alternate,$s),128&S){_=void 0;var T=$s.ref;if(null!==T){var C=$s.stateNode;$s.tag,_=C,"function"===typeof T?T(_):T.current=_}}$s=$s.nextEffect}}catch(I){if(null===$s)throw Error(a(330));qu($s,I),$s=$s.nextEffect}}while(null!==$s);$s=null,Fi(),As=i}else e.current=n;if(Zs)Zs=!1,eu=e,tu=t;else for($s=r;null!==$s;)t=$s.nextEffect,$s.nextEffect=null,8&$s.flags&&((S=$s).sibling=null,S.stateNode=null),$s=t;if(0===(r=e.pendingLanes)&&(Js=null),1===r?e===au?ou++:(ou=0,au=e):ou=0,n=n.stateNode,Ti&&"function"===typeof Ti.onCommitFiberRoot)try{Ti.onCommitFiberRoot(Si,n,void 0,64===(64&n.current.flags))}catch(I){}if(gu(e,Wi()),Ys)throw Ys=!1,e=Xs,Xs=null,e;return 0!==(8&As)||Qi(),null}function Du(){for(;null!==$s;){var e=$s.alternate;hu||null===lu||(0!==(8&$s.flags)?et($s,lu)&&(hu=!0):13===$s.tag&&Os(e,$s)&&et($s,lu)&&(hu=!0));var t=$s.flags;0!==(256&t)&&gs(e,$s),0===(512&t)||Zs||(Zs=!0,Gi(97,(function(){return ju(),null}))),$s=$s.nextEffect}}function ju(){if(90!==tu){var e=97<tu?97:tu;return tu=90,Ki(e,Fu)}return!1}function Lu(e,t){nu.push(t,e),Zs||(Zs=!0,Gi(97,(function(){return ju(),null})))}function Mu(e,t){ru.push(t,e),Zs||(Zs=!0,Gi(97,(function(){return ju(),null})))}function Fu(){if(null===eu)return!1;var e=eu;if(eu=null,0!==(48&As))throw Error(a(331));var t=As;As|=32;var n=ru;ru=[];for(var r=0;r<n.length;r+=2){var i=n[r],o=n[r+1],s=i.destroy;if(i.destroy=void 0,"function"===typeof s)try{s()}catch(c){if(null===o)throw Error(a(330));qu(o,c)}}for(n=nu,nu=[],r=0;r<n.length;r+=2){i=n[r],o=n[r+1];try{var u=i.create;i.destroy=u()}catch(c){if(null===o)throw Error(a(330));qu(o,c)}}for(u=e.current.firstEffect;null!==u;)e=u.nextEffect,u.nextEffect=null,8&u.flags&&(u.sibling=null,u.stateNode=null),u=e;return As=t,Qi(),!0}function Uu(e,t,n){ho(e,t=fs(0,t=cs(n,t),1)),t=fu(),null!==(e=vu(e,1))&&(Wt(e,1,t),gu(e,t))}function qu(e,t){if(3===e.tag)Uu(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){Uu(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Js||!Js.has(r))){var i=ds(n,e=cs(t,e),1);if(ho(n,i),i=fu(),null!==(n=vu(n,1)))Wt(n,1,i),gu(n,i);else if("function"===typeof r.componentDidCatch&&(null===Js||!Js.has(r)))try{r.componentDidCatch(t,e)}catch(o){}break}}n=n.return}}function Bu(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=fu(),e.pingedLanes|=e.suspendedLanes&n,Rs===e&&(js&n)===n&&(4===Fs||3===Fs&&(62914560&js)===js&&500>Wi()-Hs?Tu(e,0):Ws|=n),gu(e,t)}function Vu(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(0===(2&(t=e.mode))?t=1:0===(4&t)?t=99===zi()?1:2:(0===uu&&(uu=qs),0===(t=Bt(62914560&~uu))&&(t=4194304))),n=fu(),null!==(e=vu(e,t))&&(Wt(e,t,n),gu(e,n))}function Wu(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function zu(e,t,n,r){return new Wu(e,t,n,r)}function Hu(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Ku(e,t){var n=e.alternate;return null===n?((n=zu(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Gu(e,t,n,r,i,o){var s=2;if(r=e,"function"===typeof e)Hu(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case T:return Qu(n.children,i,o,t);case L:s=8,i|=16;break;case C:s=8,i|=1;break;case I:return(e=zu(12,n,t,8|i)).elementType=I,e.type=I,e.lanes=o,e;case P:return(e=zu(13,n,t,i)).type=P,e.elementType=P,e.lanes=o,e;case N:return(e=zu(19,n,t,i)).elementType=N,e.lanes=o,e;case M:return $u(n,i,o,t);case F:return(e=zu(24,n,t,i)).elementType=F,e.lanes=o,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case k:s=10;break e;case O:s=9;break e;case x:s=11;break e;case A:s=14;break e;case R:s=16,r=null;break e;case D:s=22;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=zu(s,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Qu(e,t,n,r){return(e=zu(7,e,r,t)).lanes=n,e}function $u(e,t,n,r){return(e=zu(23,e,r,t)).elementType=M,e.lanes=n,e}function Yu(e,t,n){return(e=zu(6,e,null,t)).lanes=n,e}function Xu(e,t,n){return(t=zu(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Ju(e,t,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=Vt(0),this.expirationTimes=Vt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Vt(0),this.mutableSourceEagerHydrationData=null}function Zu(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:S,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function ec(e,t,n,r){var i=t.current,o=fu(),s=du(i);e:if(n){t:{if(Ye(n=n._reactInternals)!==n||1!==n.tag)throw Error(a(170));var u=n;do{switch(u.tag){case 3:u=u.stateNode.context;break t;case 1:if(yi(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break t}}u=u.return}while(null!==u);throw Error(a(171))}if(1===n.tag){var c=n.type;if(yi(c)){n=_i(n,c,u);break e}}n=u}else n=fi;return null===t.context?t.context=n:t.pendingContext=n,(t=lo(o,s)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),ho(i,t),pu(i,s,o),s}function tc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function nc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function rc(e,t){nc(e,t),(e=e.alternate)&&nc(e,t)}function ic(e,t,n){var r=null!=n&&null!=n.hydrationOptions&&n.hydrationOptions.mutableSources||null;if(n=new Ju(e,t,null!=n&&!0===n.hydrate),t=zu(3,null,null,2===t?7:1===t?3:0),n.current=t,t.stateNode=n,uo(t),e[ei]=n.current,Ar(8===e.nodeType?e.parentNode:e),r)for(e=0;e<r.length;e++){var i=(t=r[e])._getVersion;i=i(t._source),null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[t,i]:n.mutableSourceEagerHydrationData.push(t,i)}this._internalRoot=n}function oc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function ac(e,t,n,r,i){var o=n._reactRootContainer;if(o){var a=o._internalRoot;if("function"===typeof i){var s=i;i=function(){var e=tc(a);s.call(e)}}ec(t,a,e,i)}else{if(o=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new ic(e,0,t?{hydrate:!0}:void 0)}(n,r),a=o._internalRoot,"function"===typeof i){var u=i;i=function(){var e=tc(a);u.call(e)}}wu((function(){ec(t,a,e,i)}))}return tc(a)}function sc(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!oc(t))throw Error(a(200));return Zu(e,t,null,n)}Qs=function(e,t,n){var r=t.lanes;if(null!==e)if(e.memoizedProps!==t.pendingProps||pi.current)Ma=!0;else{if(0===(n&r)){switch(Ma=!1,t.tag){case 3:Ga(t),Qo();break;case 5:Lo(t);break;case 1:yi(t.type)&&wi(t);break;case 4:Do(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value;var i=t.type._context;hi(Ji,i._currentValue),i._currentValue=r;break;case 13:if(null!==t.memoizedState)return 0!==(n&t.child.childLanes)?Ja(e,t,n):(hi(Fo,1&Fo.current),null!==(t=os(e,t,n))?t.sibling:null);hi(Fo,1&Fo.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(64&e.flags)){if(r)return is(e,t,n);t.flags|=64}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),hi(Fo,Fo.current),r)break;return null;case 23:case 24:return t.lanes=0,Va(e,t,n)}return os(e,t,n)}Ma=0!==(16384&e.flags)}else Ma=!1;switch(t.lanes=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=gi(t,di.current),oo(t,n),i=sa(null,t,r,e,i,n),t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,yi(r)){var o=!0;wi(t)}else o=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,uo(t);var s=r.getDerivedStateFromProps;"function"===typeof s&&yo(t,r,s,e),i.updater=mo,t.stateNode=i,i._reactInternals=t,Eo(t,r,e,n),t=Ka(null,t,r,!0,o,n)}else t.tag=0,Fa(null,t,i,n),t=t.child;return t;case 16:i=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=(o=i._init)(i._payload),t.type=i,o=t.tag=function(e){if("function"===typeof e)return Hu(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===x)return 11;if(e===A)return 14}return 2}(i),e=Xi(i,e),o){case 0:t=za(null,t,i,e,n);break e;case 1:t=Ha(null,t,i,e,n);break e;case 11:t=Ua(null,t,i,e,n);break e;case 14:t=qa(null,t,i,Xi(i.type,e),r,n);break e}throw Error(a(306,i,""))}return t;case 0:return r=t.type,i=t.pendingProps,za(e,t,r,i=t.elementType===r?i:Xi(r,i),n);case 1:return r=t.type,i=t.pendingProps,Ha(e,t,r,i=t.elementType===r?i:Xi(r,i),n);case 3:if(Ga(t),r=t.updateQueue,null===e||null===r)throw Error(a(282));if(r=t.pendingProps,i=null!==(i=t.memoizedState)?i.element:null,co(e,t),po(t,r,null,n),(r=t.memoizedState.element)===i)Qo(),t=os(e,t,n);else{if((o=(i=t.stateNode).hydrate)&&(Bo=Qr(t.stateNode.containerInfo.firstChild),qo=t,o=Vo=!0),o){if(null!=(e=i.mutableSourceEagerHydrationData))for(i=0;i<e.length;i+=2)(o=e[i])._workInProgressVersionPrimary=e[i+1],$o.push(o);for(n=Oo(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|1024,n=n.sibling}else Fa(e,t,r,n),Qo();t=t.child}return t;case 5:return Lo(t),null===e&&Ho(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,s=i.children,zr(r,i)?s=null:null!==o&&zr(r,o)&&(t.flags|=16),Wa(e,t),Fa(e,t,s,n),t.child;case 6:return null===e&&Ho(t),null;case 13:return Ja(e,t,n);case 4:return Do(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=ko(t,null,r,n):Fa(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Ua(e,t,r,i=t.elementType===r?i:Xi(r,i),n);case 7:return Fa(e,t,t.pendingProps,n),t.child;case 8:case 12:return Fa(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,i=t.pendingProps,s=t.memoizedProps,o=i.value;var u=t.type._context;if(hi(Ji,u._currentValue),u._currentValue=o,null!==s)if(u=s.value,0===(o=lr(u,o)?0:0|("function"===typeof r._calculateChangedBits?r._calculateChangedBits(u,o):1073741823))){if(s.children===i.children&&!pi.current){t=os(e,t,n);break e}}else for(null!==(u=t.child)&&(u.return=t);null!==u;){var c=u.dependencies;if(null!==c){s=u.child;for(var l=c.firstContext;null!==l;){if(l.context===r&&0!==(l.observedBits&o)){1===u.tag&&((l=lo(-1,n&-n)).tag=2,ho(u,l)),u.lanes|=n,null!==(l=u.alternate)&&(l.lanes|=n),io(u.return,n),c.lanes|=n;break}l=l.next}}else s=10===u.tag&&u.type===t.type?null:u.child;if(null!==s)s.return=u;else for(s=u;null!==s;){if(s===t){s=null;break}if(null!==(u=s.sibling)){u.return=s.return,s=u;break}s=s.return}u=s}Fa(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=(o=t.pendingProps).children,oo(t,n),r=r(i=ao(i,o.unstable_observedBits)),t.flags|=1,Fa(e,t,r,n),t.child;case 14:return o=Xi(i=t.type,t.pendingProps),qa(e,t,i,o=Xi(i.type,o),r,n);case 15:return Ba(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Xi(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,yi(r)?(e=!0,wi(t)):e=!1,oo(t,n),_o(t,r,i),Eo(t,r,i,n),Ka(null,t,r,!0,e,n);case 19:return is(e,t,n);case 23:case 24:return Va(e,t,n)}throw Error(a(156,t.tag))},ic.prototype.render=function(e){ec(e,this._internalRoot,null,null)},ic.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;ec(null,e,null,(function(){t[ei]=null}))},tt=function(e){13===e.tag&&(pu(e,4,fu()),rc(e,4))},nt=function(e){13===e.tag&&(pu(e,67108864,fu()),rc(e,67108864))},rt=function(e){if(13===e.tag){var t=fu(),n=du(e);pu(e,n,t),rc(e,n)}},it=function(e,t){return t()},ke=function(e,t,n){switch(t){case"input":if(ne(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=oi(r);if(!i)throw Error(a(90));X(r),ne(r,i)}}}break;case"textarea":ce(e,n);break;case"select":null!=(t=n.value)&&ae(e,!!n.multiple,t,!1)}},Re=_u,De=function(e,t,n,r,i){var o=As;As|=4;try{return Ki(98,e.bind(null,t,n,r,i))}finally{0===(As=o)&&(Gs(),Qi())}},je=function(){0===(49&As)&&(function(){if(null!==iu){var e=iu;iu=null,e.forEach((function(e){e.expiredLanes|=24&e.pendingLanes,gu(e,Wi())}))}Qi()}(),ju())},Le=function(e,t){var n=As;As|=2;try{return e(t)}finally{0===(As=n)&&(Gs(),Qi())}};var uc={Events:[ri,ii,oi,Ne,Ae,ju,{current:!1}]},cc={findFiberByHostInstance:ni,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},lc={bundleType:cc.bundleType,version:cc.version,rendererPackageName:cc.rendererPackageName,rendererConfig:cc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ze(e))?null:e.stateNode},findFiberByHostInstance:cc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var hc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!hc.isDisabled&&hc.supportsFiber)try{Si=hc.inject(lc),Ti=hc}catch(ge){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=uc,t.createPortal=sc,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw Error(a(268,Object.keys(e)))}return e=null===(e=Ze(t))?null:e.stateNode},t.flushSync=function(e,t){var n=As;if(0!==(48&n))return e(t);As|=1;try{if(e)return Ki(99,e.bind(null,t))}finally{As=n,Qi()}},t.hydrate=function(e,t,n){if(!oc(t))throw Error(a(200));return ac(null,e,t,!0,n)},t.render=function(e,t,n){if(!oc(t))throw Error(a(200));return ac(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!oc(e))throw Error(a(40));return!!e._reactRootContainer&&(wu((function(){ac(null,null,e,!1,(function(){e._reactRootContainer=null,e[ei]=null}))})),!0)},t.unstable_batchedUpdates=_u,t.unstable_createPortal=function(e,t){return sc(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!oc(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return ac(e,t,n,!1,r)},t.version="17.0.2"},function(e,t,n){"use strict";e.exports=n(56)},function(e,t,n){"use strict";var r,i,o,a;if("object"===typeof performance&&"function"===typeof performance.now){var s=performance;t.unstable_now=function(){return s.now()}}else{var u=Date,c=u.now();t.unstable_now=function(){return u.now()-c}}if("undefined"===typeof window||"function"!==typeof MessageChannel){var l=null,h=null,f=function e(){if(null!==l)try{var n=t.unstable_now();l(!0,n),l=null}catch(r){throw setTimeout(e,0),r}};r=function(e){null!==l?setTimeout(r,0,e):(l=e,setTimeout(f,0))},i=function(e,t){h=setTimeout(e,t)},o=function(){clearTimeout(h)},t.unstable_shouldYield=function(){return!1},a=t.unstable_forceFrameRate=function(){}}else{var d=window.setTimeout,p=window.clearTimeout;if("undefined"!==typeof console){var v=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!==typeof v&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var g=!1,y=null,m=-1,b=5,_=0;t.unstable_shouldYield=function(){return t.unstable_now()>=_},a=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<e?Math.floor(1e3/e):5};var w=new MessageChannel,E=w.port2;w.port1.onmessage=function(){if(null!==y){var e=t.unstable_now();_=e+b;try{y(!0,e)?E.postMessage(null):(g=!1,y=null)}catch(n){throw E.postMessage(null),n}}else g=!1},r=function(e){y=e,g||(g=!0,E.postMessage(null))},i=function(e,n){m=d((function(){e(t.unstable_now())}),n)},o=function(){p(m),m=-1}}function S(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,i=e[r];if(!(void 0!==i&&0<I(i,t)))break e;e[r]=t,e[n]=i,n=r}}function T(e){return void 0===(e=e[0])?null:e}function C(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length;r<i;){var o=2*(r+1)-1,a=e[o],s=o+1,u=e[s];if(void 0!==a&&0>I(a,n))void 0!==u&&0>I(u,a)?(e[r]=u,e[s]=n,r=s):(e[r]=a,e[o]=n,r=o);else{if(!(void 0!==u&&0>I(u,n)))break e;e[r]=u,e[s]=n,r=s}}}return t}return null}function I(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var k=[],O=[],x=1,P=null,N=3,A=!1,R=!1,D=!1;function j(e){for(var t=T(O);null!==t;){if(null===t.callback)C(O);else{if(!(t.startTime<=e))break;C(O),t.sortIndex=t.expirationTime,S(k,t)}t=T(O)}}function L(e){if(D=!1,j(e),!R)if(null!==T(k))R=!0,r(M);else{var t=T(O);null!==t&&i(L,t.startTime-e)}}function M(e,n){R=!1,D&&(D=!1,o()),A=!0;var r=N;try{for(j(n),P=T(k);null!==P&&(!(P.expirationTime>n)||e&&!t.unstable_shouldYield());){var a=P.callback;if("function"===typeof a){P.callback=null,N=P.priorityLevel;var s=a(P.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?P.callback=s:P===T(k)&&C(k),j(n)}else C(k);P=T(k)}if(null!==P)var u=!0;else{var c=T(O);null!==c&&i(L,c.startTime-n),u=!1}return u}finally{P=null,N=r,A=!1}}var F=a;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){R||A||(R=!0,r(M))},t.unstable_getCurrentPriorityLevel=function(){return N},t.unstable_getFirstCallbackNode=function(){return T(k)},t.unstable_next=function(e){switch(N){case 1:case 2:case 3:var t=3;break;default:t=N}var n=N;N=t;try{return e()}finally{N=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=F,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=N;N=e;try{return t()}finally{N=n}},t.unstable_scheduleCallback=function(e,n,a){var s=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?s+a:s:a=s,e){case 1:var u=-1;break;case 2:u=250;break;case 5:u=1073741823;break;case 4:u=1e4;break;default:u=5e3}return e={id:x++,callback:n,priorityLevel:e,startTime:a,expirationTime:u=a+u,sortIndex:-1},a>s?(e.sortIndex=a,S(O,e),null===T(k)&&e===T(O)&&(D?o():D=!0,i(L,a-s))):(e.sortIndex=u,S(k,e),R||A||(R=!0,r(M))),e},t.unstable_wrapCallback=function(e){var t=N;return function(){var n=N;N=t;try{return e.apply(this,arguments)}finally{N=n}}}},,function(e,t,n){"use strict";var r,i=Symbol.for("react.element"),o=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),c=Symbol.for("react.provider"),l=Symbol.for("react.context"),h=Symbol.for("react.server_context"),f=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),p=Symbol.for("react.suspense_list"),v=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),y=Symbol.for("react.offscreen");function m(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case i:switch(e=e.type){case a:case u:case s:case d:case p:return e;default:switch(e=e&&e.$$typeof){case h:case l:case f:case g:case v:case c:return e;default:return t}}case o:return t}}}r=Symbol.for("react.module.reference"),t.ContextConsumer=l,t.ContextProvider=c,t.Element=i,t.ForwardRef=f,t.Fragment=a,t.Lazy=g,t.Memo=v,t.Portal=o,t.Profiler=u,t.StrictMode=s,t.Suspense=d,t.SuspenseList=p,t.isAsyncMode=function(){return!1},t.isConcurrentMode=function(){return!1},t.isContextConsumer=function(e){return m(e)===l},t.isContextProvider=function(e){return m(e)===c},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===i},t.isForwardRef=function(e){return m(e)===f},t.isFragment=function(e){return m(e)===a},t.isLazy=function(e){return m(e)===g},t.isMemo=function(e){return m(e)===v},t.isPortal=function(e){return m(e)===o},t.isProfiler=function(e){return m(e)===u},t.isStrictMode=function(e){return m(e)===s},t.isSuspense=function(e){return m(e)===d},t.isSuspenseList=function(e){return m(e)===p},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===a||e===u||e===s||e===d||e===p||e===y||"object"===typeof e&&null!==e&&(e.$$typeof===g||e.$$typeof===v||e.$$typeof===c||e.$$typeof===l||e.$$typeof===f||e.$$typeof===r||void 0!==e.getModuleId)},t.typeOf=m},function(e,t,n){"use strict";e.exports=n(60)},function(e,t,n){"use strict";var r="function"===typeof Symbol&&Symbol.for,i=r?Symbol.for("react.element"):60103,o=r?Symbol.for("react.portal"):60106,a=r?Symbol.for("react.fragment"):60107,s=r?Symbol.for("react.strict_mode"):60108,u=r?Symbol.for("react.profiler"):60114,c=r?Symbol.for("react.provider"):60109,l=r?Symbol.for("react.context"):60110,h=r?Symbol.for("react.async_mode"):60111,f=r?Symbol.for("react.concurrent_mode"):60111,d=r?Symbol.for("react.forward_ref"):60112,p=r?Symbol.for("react.suspense"):60113,v=r?Symbol.for("react.suspense_list"):60120,g=r?Symbol.for("react.memo"):60115,y=r?Symbol.for("react.lazy"):60116,m=r?Symbol.for("react.block"):60121,b=r?Symbol.for("react.fundamental"):60117,_=r?Symbol.for("react.responder"):60118,w=r?Symbol.for("react.scope"):60119;function E(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case i:switch(e=e.type){case h:case f:case a:case u:case s:case p:return e;default:switch(e=e&&e.$$typeof){case l:case d:case y:case g:case c:return e;default:return t}}case o:return t}}}function S(e){return E(e)===f}t.AsyncMode=h,t.ConcurrentMode=f,t.ContextConsumer=l,t.ContextProvider=c,t.Element=i,t.ForwardRef=d,t.Fragment=a,t.Lazy=y,t.Memo=g,t.Portal=o,t.Profiler=u,t.StrictMode=s,t.Suspense=p,t.isAsyncMode=function(e){return S(e)||E(e)===h},t.isConcurrentMode=S,t.isContextConsumer=function(e){return E(e)===l},t.isContextProvider=function(e){return E(e)===c},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===i},t.isForwardRef=function(e){return E(e)===d},t.isFragment=function(e){return E(e)===a},t.isLazy=function(e){return E(e)===y},t.isMemo=function(e){return E(e)===g},t.isPortal=function(e){return E(e)===o},t.isProfiler=function(e){return E(e)===u},t.isStrictMode=function(e){return E(e)===s},t.isSuspense=function(e){return E(e)===p},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===a||e===f||e===u||e===s||e===p||e===v||"object"===typeof e&&null!==e&&(e.$$typeof===y||e.$$typeof===g||e.$$typeof===c||e.$$typeof===l||e.$$typeof===d||e.$$typeof===b||e.$$typeof===_||e.$$typeof===w||e.$$typeof===m)},t.typeOf=E},function(e,t,n){"use strict";n(30);var r=n(1),i=60103;if(t.Fragment=60107,"function"===typeof Symbol&&Symbol.for){var o=Symbol.for;i=o("react.element"),t.Fragment=o("react.fragment")}var a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s=Object.prototype.hasOwnProperty,u={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,o={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)s.call(t,r)&&!u.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===o[r]&&(o[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:o,_owner:a.current}}t.jsx=c,t.jsxs=c},function(e,t,n){"use strict";function r(e){return r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=o?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(i,a,s):i[a]=e[a]}i.default=e,n&&n.set(e,i);return i}(n(1)),o=f(n(14)),a=f(n(65)),s=n(19),u=n(38),c=f(n(22)),l=n(21),h=["children","xs","sm","md","lg","xl","xxl","offset","pull","push","debug","style","component","width"];function f(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){g(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function y(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var m=function(e){var t=e.children,n=e.xs,r=e.sm,o=e.md,l=e.lg,f=e.xl,d=e.xxl,p=e.offset,g=e.pull,m=e.push,b=e.debug,_=e.style,w=e.component,E=e.width,S=y(e,h);return i.default.createElement(c.default,null,(function(e){return i.default.createElement(u.GutterWidthContext.Consumer,null,(function(u){var c=(0,a.default)({forceWidth:E,width:{xs:n,sm:r,md:o,lg:l,xl:f,xxl:d},offset:p,pull:g,push:m,debug:b,screenClass:e,gutterWidth:u,gridColumns:(0,s.getConfiguration)().gridColumns,moreStyle:_});return(0,i.createElement)(w,v(v({style:c},S),{},{children:t}))}))}))};m.propTypes={children:o.default.node,xs:o.default.oneOfType([o.default.number,o.default.oneOf(["content"])]),sm:o.default.oneOfType([o.default.number,o.default.oneOf(["content"])]),md:o.default.oneOfType([o.default.number,o.default.oneOf(["content"])]),lg:o.default.oneOfType([o.default.number,o.default.oneOf(["content"])]),xl:o.default.oneOfType([o.default.number,o.default.oneOf(["content"])]),xxl:o.default.oneOfType([o.default.number,o.default.oneOf(["content"])]),width:o.default.oneOfType([o.default.number,o.default.string]),offset:o.default.shape({xs:o.default.number,sm:o.default.number,md:o.default.number,lg:o.default.number,xl:o.default.number,xxl:o.default.number}),push:o.default.shape({xs:o.default.number,sm:o.default.number,md:o.default.number,lg:o.default.number,xl:o.default.number,xxl:o.default.number}),pull:o.default.shape({xs:o.default.number,sm:o.default.number,md:o.default.number,lg:o.default.number,xl:o.default.number,xxl:o.default.number}),style:o.default.objectOf(o.default.oneOfType([o.default.number,o.default.string])),debug:o.default.bool,component:o.default.elementType},m.defaultProps={children:null,xs:null,sm:null,md:null,lg:null,xl:null,xxl:null,width:null,offset:{},push:{},pull:{},style:{},debug:!1,component:l.Div};var b=m;t.default=b},function(e,t,n){"use strict";var r=n(64);function i(){}function o(){}o.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,o,a){if(a!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:i};return n.PropTypes=n,n}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(31);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var s=function(e,t){if("number"===typeof e){var n=Math.max(0,Math.min(t,e));return"".concat(100/t*n,"%")}};t.default=function(e){var t,n=e.forceWidth,i=void 0===n?null:n,a=e.width,u=void 0===a?{}:a,c=e.offset,l=void 0===c?{}:c,h=e.pull,f=void 0===h?{}:h,d=e.push,p=void 0===d?{}:d,v=e.debug,g=e.screenClass,y=e.gutterWidth,m=e.moreStyle,b=e.gridColumns,_={boxSizing:"border-box",minHeight:1,position:"relative",paddingLeft:y/2,paddingRight:y/2,width:"100%"};return v&&(_.outline="1px solid silver",_.background="rgba(0,0,0,.05)",_.lineHeight="32px"),_.flexBasis="100%",_.flexGrow=0,_.flexShrink=0,_.maxWidth="100%",_.marginLeft="0%",_.right="auto",_.left="auto",r.screenClasses.forEach((function(e,t){if(r.screenClasses.indexOf(g)>=t){var n=s(u[e],b),i="content"===u[e];_.flexBasis=i?"auto":n||_.flexBasis,_.width=_.flexBasis,_.maxWidth=n||_.maxWidth,_.marginLeft=s(l[e],b)||_.marginLeft,_.right=s(f[e],b)||_.right,_.left=s(p[e],b)||_.left}})),t=u,Object.keys(t).reduce((function(e,n){return e||t[n]}),!1)||(_.flexBasis=0,_.flexGrow=1),i&&(_.flexBasis="unset",_.flexGrow="unset",_.flexShrink="unset",_.width=i),o(o({},_),m)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default="div"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default="span"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r="undefined"!==typeof window?window:void 0;t.default=r},function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default=function(e){var t=e.gutterWidth,n=e.align,r=e.justify,o=e.debug,a=e.moreStyle,s=e.nowrap,u=e.direction,c=n;"start"===n&&(c="flex-start"),"end"===n&&(c="flex-end");var l=r;"start"===r&&(l="flex-start"),"end"===r&&(l="flex-end"),"between"===r&&(l="space-between"),"around"===r&&(l="space-around"),"center"===r&&(l="center"),"initial"===r&&(l="initial"),"inherit"===r&&(l="inherit");var h={marginLeft:-t/2,marginRight:-t/2,display:"flex",flexWrap:s?"nowrap":"wrap",flexGrow:0,flexShrink:0,alignItems:c,justifyContent:l,flexDirection:["column","row","column-reverse","row-reverse"].includes(u)?u:void 0};return o&&(h.background="rgba(128,128,128,.05)"),i(i({},h),a)}},function(e,t,n){"use strict";function r(e){return r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=d(n(1)),o=h(n(14)),a=d(n(71)),s=n(19),u=h(n(22)),c=n(21),l=["children","fluid","xs","sm","md","lg","xl","xxl","style","component"];function h(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function d(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=o?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(i,a,s):i[a]=e[a]}return i.default=e,n&&n.set(e,i),i}function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function g(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var y=function(e){var t=e.children,n=e.fluid,r=e.xs,o=e.sm,h=e.md,f=e.lg,d=e.xl,y=e.xxl,m=e.style,b=e.component,_=g(e,l);return i.default.createElement(u.default,null,(function(e){return(0,i.createElement)(b,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){v(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({style:(0,a.default)({fluid:n,xs:r,sm:o,md:h,lg:f,xl:d,xxl:y,screenClass:e,containerWidths:(0,s.getConfiguration)().containerWidths,gutterWidth:(0,s.getConfiguration)().gutterWidth,moreStyle:m})},_),i.default.createElement(i.default.Fragment,null,t,i.default.createElement(c.Span,{style:(0,a.getAfterStyle)()})))}))};y.propTypes={children:o.default.node.isRequired,fluid:o.default.bool,xs:o.default.bool,sm:o.default.bool,md:o.default.bool,lg:o.default.bool,xl:o.default.bool,xxl:o.default.bool,style:o.default.objectOf(o.default.oneOfType([o.default.number,o.default.string])),component:o.default.elementType},y.defaultProps={fluid:!1,xs:!1,sm:!1,md:!1,lg:!1,xl:!1,xxl:!1,style:{},component:c.Div};var m=y;t.default=m},function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0}),t.getAfterStyle=t.default=void 0;t.default=function(e){var t=e.fluid,n=e.xs,r=e.sm,o=e.md,a=e.lg,s=e.xl,u=e.xxl,c=e.screenClass,l=e.containerWidths,h=e.gutterWidth,f=e.moreStyle,d={boxSizing:"border-box",position:"relative",marginLeft:"auto",marginRight:"auto",paddingLeft:h/2,paddingRight:h/2};return!t||n||r||o||a||s?("xs"===c&&l[0]&&!n&&(d.maxWidth=l[0]),"sm"===c&&l[0]&&!r&&(d.maxWidth=l[0]),"md"===c&&l[1]&&!o&&(d.maxWidth=l[1]),"lg"===c&&l[2]&&!a&&(d.maxWidth=l[2]),"xl"===c&&l[3]&&!s&&(d.maxWidth=l[3]),"xxl"===c&&l[4]&&!u&&(d.maxWidth=l[4]),i(i({},d),f)):i(i({},d),f)};t.getAfterStyle=function(){return{display:"table",clear:"both"}}},function(e,t,n){"use strict";function r(e){return r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=c(n(1)),o=c(n(14)),a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=o?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(i,a,s):i[a]=e[a]}i.default=e,n&&n.set(e,i);return i}(n(73)),s=c(n(22));function u(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function c(e){return e&&e.__esModule?e:{default:e}}var l=function(e){var t=e.children,n=e.xs,r=e.sm,o=e.md,u=e.lg,c=e.xl,l=e.xxl;return i.default.createElement(s.default,null,(function(e){return a.hidden({screenClass:e,xs:n,sm:r,md:o,lg:u,xl:c,xxl:l})?null:t}))};l.propTypes={children:o.default.node.isRequired,xs:o.default.bool,sm:o.default.bool,md:o.default.bool,lg:o.default.bool,xl:o.default.bool,xxl:o.default.bool},l.defaultProps={xs:!1,sm:!1,md:!1,lg:!1,xl:!1,xxl:!1};var h=l;t.default=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hidden=t.default=void 0;var r=function(e){var t=e.screenClass,n=e.xs,r=e.sm,i=e.md,o=e.lg,a=e.xl,s=e.xxl;return"xxl"===t?s:"xl"===t?a:"lg"===t?o:"md"===t?i:"sm"===t?r:n};t.hidden=r;var i=r;t.default=i},function(e,t,n){"use strict";function r(e){return r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=c(n(1)),o=c(n(14)),a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=o?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(i,a,s):i[a]=e[a]}i.default=e,n&&n.set(e,i);return i}(n(75)),s=c(n(22));function u(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function c(e){return e&&e.__esModule?e:{default:e}}var l=function(e){var t=e.children,n=e.xs,r=e.sm,o=e.md,u=e.lg,c=e.xl,l=e.xxl;return i.default.createElement(s.default,null,(function(e){return a.visible({screenClass:e,xs:n,sm:r,md:o,lg:u,xl:c,xxl:l})?t:null}))};l.propTypes={children:o.default.node.isRequired,xs:o.default.bool,sm:o.default.bool,md:o.default.bool,lg:o.default.bool,xl:o.default.bool,xxl:o.default.bool},l.defaultProps={xs:!1,sm:!1,md:!1,lg:!1,xl:!1,xxl:!1};var h=l;t.default=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.visible=t.default=void 0;var r=function(e){var t=e.screenClass,n=e.xs,r=e.sm,i=e.md,o=e.lg,a=e.xl,s=e.xxl;return"xxl"===t?s:"xl"===t?a:"lg"===t?o:"md"===t?i:"sm"===t?r:n};t.visible=r;var i=r;t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(1)),i=a(n(14)),o=a(n(22));function a(e){return e&&e.__esModule?e:{default:e}}var s=function(e){var t=e.render;return r.default.createElement(o.default,null,(function(e){return t(e)}))};s.propTypes={render:i.default.func.isRequired};var u=s;t.default=u},function(e,t,n){"use strict";var r=n(11),i=n(40),o=n(78),a=n(46);function s(e){var t=new o(e),n=i(o.prototype.request,t);return r.extend(n,o.prototype,t),r.extend(n,t),n}var u=s(n(32));u.Axios=o,u.create=function(e){return s(a(u.defaults,e))},u.Cancel=n(47),u.CancelToken=n(92),u.isCancel=n(45),u.all=function(e){return Promise.all(e)},u.spread=n(93),u.isAxiosError=n(94),e.exports=u,e.exports.default=u},function(e,t,n){"use strict";var r=n(11),i=n(41),o=n(79),a=n(80),s=n(46),u=n(90),c=u.validators;function l(e){this.defaults=e,this.interceptors={request:new o,response:new o}}l.prototype.request=function(e){"string"===typeof e?(e=arguments[1]||{}).url=arguments[0]:e=e||{},(e=s(this.defaults,e)).method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var t=e.transitional;void 0!==t&&u.assertOptions(t,{silentJSONParsing:c.transitional(c.boolean,"1.0.0"),forcedJSONParsing:c.transitional(c.boolean,"1.0.0"),clarifyTimeoutError:c.transitional(c.boolean,"1.0.0")},!1);var n=[],r=!0;this.interceptors.request.forEach((function(t){"function"===typeof t.runWhen&&!1===t.runWhen(e)||(r=r&&t.synchronous,n.unshift(t.fulfilled,t.rejected))}));var i,o=[];if(this.interceptors.response.forEach((function(e){o.push(e.fulfilled,e.rejected)})),!r){var l=[a,void 0];for(Array.prototype.unshift.apply(l,n),l=l.concat(o),i=Promise.resolve(e);l.length;)i=i.then(l.shift(),l.shift());return i}for(var h=e;n.length;){var f=n.shift(),d=n.shift();try{h=f(h)}catch(p){d(p);break}}try{i=a(h)}catch(p){return Promise.reject(p)}for(;o.length;)i=i.then(o.shift(),o.shift());return i},l.prototype.getUri=function(e){return e=s(this.defaults,e),i(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},r.forEach(["delete","get","head","options"],(function(e){l.prototype[e]=function(t,n){return this.request(s(n||{},{method:e,url:t,data:(n||{}).data}))}})),r.forEach(["post","put","patch"],(function(e){l.prototype[e]=function(t,n,r){return this.request(s(r||{},{method:e,url:t,data:n}))}})),e.exports=l},function(e,t,n){"use strict";var r=n(11);function i(){this.handlers=[]}i.prototype.use=function(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1},i.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},i.prototype.forEach=function(e){r.forEach(this.handlers,(function(t){null!==t&&e(t)}))},e.exports=i},function(e,t,n){"use strict";var r=n(11),i=n(81),o=n(45),a=n(32);function s(e){e.cancelToken&&e.cancelToken.throwIfRequested()}e.exports=function(e){return s(e),e.headers=e.headers||{},e.data=i.call(e,e.data,e.headers,e.transformRequest),e.headers=r.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),r.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||a.adapter)(e).then((function(t){return s(e),t.data=i.call(e,t.data,t.headers,e.transformResponse),t}),(function(t){return o(t)||(s(e),t&&t.response&&(t.response.data=i.call(e,t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))}},function(e,t,n){"use strict";var r=n(11),i=n(32);e.exports=function(e,t,n){var o=this||i;return r.forEach(n,(function(n){e=n.call(o,e,t)})),e}},function(e,t,n){"use strict";var r=n(11);e.exports=function(e,t){r.forEach(e,(function(n,r){r!==t&&r.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[r])}))}},function(e,t,n){"use strict";var r=n(44);e.exports=function(e,t,n){var i=n.config.validateStatus;n.status&&i&&!i(n.status)?t(r("Request failed with status code "+n.status,n.config,null,n.request,n)):e(n)}},function(e,t,n){"use strict";var r=n(11);e.exports=r.isStandardBrowserEnv()?{write:function(e,t,n,i,o,a){var s=[];s.push(e+"="+encodeURIComponent(t)),r.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),r.isString(i)&&s.push("path="+i),r.isString(o)&&s.push("domain="+o),!0===a&&s.push("secure"),document.cookie=s.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},function(e,t,n){"use strict";var r=n(86),i=n(87);e.exports=function(e,t){return e&&!r(t)?i(e,t):t}},function(e,t,n){"use strict";e.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},function(e,t,n){"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},function(e,t,n){"use strict";var r=n(11),i=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,n,o,a={};return e?(r.forEach(e.split("\n"),(function(e){if(o=e.indexOf(":"),t=r.trim(e.substr(0,o)).toLowerCase(),n=r.trim(e.substr(o+1)),t){if(a[t]&&i.indexOf(t)>=0)return;a[t]="set-cookie"===t?(a[t]?a[t]:[]).concat([n]):a[t]?a[t]+", "+n:n}})),a):a}},function(e,t,n){"use strict";var r=n(11);e.exports=r.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function i(e){var r=e;return t&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=i(window.location.href),function(t){var n=r.isString(t)?i(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0}},function(e,t,n){"use strict";var r=n(91),i={};["object","boolean","number","function","string","symbol"].forEach((function(e,t){i[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));var o={},a=r.version.split(".");function s(e,t){for(var n=t?t.split("."):a,r=e.split("."),i=0;i<3;i++){if(n[i]>r[i])return!0;if(n[i]<r[i])return!1}return!1}i.transitional=function(e,t,n){var i=t&&s(t);function a(e,t){return"[Axios v"+r.version+"] Transitional option '"+e+"'"+t+(n?". "+n:"")}return function(n,r,s){if(!1===e)throw new Error(a(r," has been removed in "+t));return i&&!o[r]&&(o[r]=!0,console.warn(a(r," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,r,s)}},e.exports={isOlderVersion:s,assertOptions:function(e,t,n){if("object"!==typeof e)throw new TypeError("options must be an object");for(var r=Object.keys(e),i=r.length;i-- >0;){var o=r[i],a=t[o];if(a){var s=e[o],u=void 0===s||a(s,o,e);if(!0!==u)throw new TypeError("option "+o+" must be "+u)}else if(!0!==n)throw Error("Unknown option "+o)}},validators:i}},function(e){e.exports=JSON.parse('{"name":"axios","version":"0.21.4","description":"Promise based HTTP client for the browser and node.js","main":"index.js","scripts":{"test":"grunt test","start":"node ./sandbox/server.js","build":"NODE_ENV=production grunt build","preversion":"npm test","version":"npm run build && grunt version && git add -A dist && git add CHANGELOG.md bower.json package.json","postversion":"git push && git push --tags","examples":"node ./examples/server.js","coveralls":"cat coverage/lcov.info | ./node_modules/coveralls/bin/coveralls.js","fix":"eslint --fix lib/**/*.js"},"repository":{"type":"git","url":"https://github.com/axios/axios.git"},"keywords":["xhr","http","ajax","promise","node"],"author":"Matt Zabriskie","license":"MIT","bugs":{"url":"https://github.com/axios/axios/issues"},"homepage":"https://axios-http.com","devDependencies":{"coveralls":"^3.0.0","es6-promise":"^4.2.4","grunt":"^1.3.0","grunt-banner":"^0.6.0","grunt-cli":"^1.2.0","grunt-contrib-clean":"^1.1.0","grunt-contrib-watch":"^1.0.0","grunt-eslint":"^23.0.0","grunt-karma":"^4.0.0","grunt-mocha-test":"^0.13.3","grunt-ts":"^6.0.0-beta.19","grunt-webpack":"^4.0.2","istanbul-instrumenter-loader":"^1.0.0","jasmine-core":"^2.4.1","karma":"^6.3.2","karma-chrome-launcher":"^3.1.0","karma-firefox-launcher":"^2.1.0","karma-jasmine":"^1.1.1","karma-jasmine-ajax":"^0.1.13","karma-safari-launcher":"^1.0.0","karma-sauce-launcher":"^4.3.6","karma-sinon":"^1.0.5","karma-sourcemap-loader":"^0.3.8","karma-webpack":"^4.0.2","load-grunt-tasks":"^3.5.2","minimist":"^1.2.0","mocha":"^8.2.1","sinon":"^4.5.0","terser-webpack-plugin":"^4.2.3","typescript":"^4.0.5","url-search-params":"^0.10.0","webpack":"^4.44.2","webpack-dev-server":"^3.11.0"},"browser":{"./lib/adapters/http.js":"./lib/adapters/xhr.js"},"jsdelivr":"dist/axios.min.js","unpkg":"dist/axios.min.js","typings":"./index.d.ts","dependencies":{"follow-redirects":"^1.14.0"},"bundlesize":[{"path":"./dist/axios.min.js","threshold":"5kB"}]}')},function(e,t,n){"use strict";var r=n(47);function i(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var n=this;e((function(e){n.reason||(n.reason=new r(e),t(n.reason))}))}i.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},i.source=function(){var e;return{token:new i((function(t){e=t})),cancel:e}},e.exports=i},function(e,t,n){"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},function(e,t,n){"use strict";e.exports=function(e){return"object"===typeof e&&!0===e.isAxiosError}},function(e,t){e.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},function(e,t,n){"use strict";e.exports=n(97)},function(e,t,n){"use strict";var r="function"===typeof Symbol&&Symbol.for,i=r?Symbol.for("react.element"):60103,o=r?Symbol.for("react.portal"):60106,a=r?Symbol.for("react.fragment"):60107,s=r?Symbol.for("react.strict_mode"):60108,u=r?Symbol.for("react.profiler"):60114,c=r?Symbol.for("react.provider"):60109,l=r?Symbol.for("react.context"):60110,h=r?Symbol.for("react.async_mode"):60111,f=r?Symbol.for("react.concurrent_mode"):60111,d=r?Symbol.for("react.forward_ref"):60112,p=r?Symbol.for("react.suspense"):60113,v=r?Symbol.for("react.suspense_list"):60120,g=r?Symbol.for("react.memo"):60115,y=r?Symbol.for("react.lazy"):60116,m=r?Symbol.for("react.block"):60121,b=r?Symbol.for("react.fundamental"):60117,_=r?Symbol.for("react.responder"):60118,w=r?Symbol.for("react.scope"):60119;function E(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case i:switch(e=e.type){case h:case f:case a:case u:case s:case p:return e;default:switch(e=e&&e.$$typeof){case l:case d:case y:case g:case c:return e;default:return t}}case o:return t}}}function S(e){return E(e)===f}t.AsyncMode=h,t.ConcurrentMode=f,t.ContextConsumer=l,t.ContextProvider=c,t.Element=i,t.ForwardRef=d,t.Fragment=a,t.Lazy=y,t.Memo=g,t.Portal=o,t.Profiler=u,t.StrictMode=s,t.Suspense=p,t.isAsyncMode=function(e){return S(e)||E(e)===h},t.isConcurrentMode=S,t.isContextConsumer=function(e){return E(e)===l},t.isContextProvider=function(e){return E(e)===c},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===i},t.isForwardRef=function(e){return E(e)===d},t.isFragment=function(e){return E(e)===a},t.isLazy=function(e){return E(e)===y},t.isMemo=function(e){return E(e)===g},t.isPortal=function(e){return E(e)===o},t.isProfiler=function(e){return E(e)===u},t.isStrictMode=function(e){return E(e)===s},t.isSuspense=function(e){return E(e)===p},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===a||e===f||e===u||e===s||e===p||e===v||"object"===typeof e&&null!==e&&(e.$$typeof===y||e.$$typeof===g||e.$$typeof===c||e.$$typeof===l||e.$$typeof===d||e.$$typeof===b||e.$$typeof===_||e.$$typeof===w||e.$$typeof===m)},t.typeOf=E},function(e,t,n){"use strict";n(99)},function(e,t,n){"use strict";(function(e,t){var r=n(25),i=n(15),o=n(0),a=n(3),s=n(18),u="";function c(e){u=e}var l=function(){function e(e){this.domStorage_=e,this.prefix_="firebase:"}return e.prototype.set=function(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Object(o.D)(t))},e.prototype.get=function(e){var t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:Object(o.x)(t)},e.prototype.remove=function(e){this.domStorage_.removeItem(this.prefixedName_(e))},e.prototype.prefixedName_=function(e){return this.prefix_+e},e.prototype.toString=function(){return this.domStorage_.toString()},e}(),h=function(){function e(){this.cache_={},this.isInMemoryStorage=!0}return e.prototype.set=function(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t},e.prototype.get=function(e){return Object(o.i)(this.cache_,e)?this.cache_[e]:null},e.prototype.remove=function(e){delete this.cache_[e]},e}(),f=function(e){try{if("undefined"!==typeof window&&"undefined"!==typeof window[e]){var t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new l(t)}}catch(n){}return new h},d=f("localStorage"),p=f("sessionStorage"),v=new s.b("@firebase/database"),g=function(){var e=1;return function(){return e++}}(),y=function(e){var t=Object(o.C)(e),n=new o.d;n.update(t);var r=n.digest();return o.g.encodeByteArray(r)},m=function e(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r="",i=0;i<t.length;i++){var a=t[i];Array.isArray(a)||a&&"object"===typeof a&&"number"===typeof a.length?r+=e.apply(null,a):r+="object"===typeof a?Object(o.D)(a):a,r+=" "}return r},b=null,_=!0,w=function(e,t){Object(o.e)(!t||!0===e||!1===e,"Can't turn on custom loggers persistently."),!0===e?(v.logLevel=s.a.VERBOSE,b=v.log.bind(v),t&&p.set("logging_enabled",!0)):"function"===typeof e?b=e:(b=null,p.remove("logging_enabled"))},E=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(!0===_&&(_=!1,null===b&&!0===p.get("logging_enabled")&&w(!0)),b){var n=m.apply(null,e);b(n)}},S=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];E.apply(void 0,Object(a.f)([e],Object(a.e)(t)))}},T=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE INTERNAL ERROR: "+m.apply(void 0,Object(a.f)([],Object(a.e)(e)));v.error(n)},C=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE FATAL ERROR: "+m.apply(void 0,Object(a.f)([],Object(a.e)(e)));throw v.error(n),new Error(n)},I=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE WARNING: "+m.apply(void 0,Object(a.f)([],Object(a.e)(e)));v.warn(n)},k=function(e){return"number"===typeof e&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},O="[MIN_NAME]",x="[MAX_NAME]",P=function(e,t){if(e===t)return 0;if(e===O||t===x)return-1;if(t===O||e===x)return 1;var n=q(e),r=q(t);return null!==n?null!==r?n-r===0?e.length-t.length:n-r:-1:null!==r?1:e<t?-1:1},N=function(e,t){return e===t?0:e<t?-1:1},A=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+Object(o.D)(t))},R=function e(t){if("object"!==typeof t||null===t)return Object(o.D)(t);var n=[];for(var r in t)n.push(r);n.sort();for(var i="{",a=0;a<n.length;a++)0!==a&&(i+=","),i+=Object(o.D)(n[a]),i+=":",i+=e(t[n[a]]);return i+="}"},D=function(e,t){var n=e.length;if(n<=t)return[e];for(var r=[],i=0;i<n;i+=t)i+t>n?r.push(e.substring(i,n)):r.push(e.substring(i,i+t));return r};function j(e,t){for(var n in e)e.hasOwnProperty(n)&&t(n,e[n])}var L=function(e){Object(o.e)(!k(e),"Invalid JSON number");var t,n,r,i,a,s=1023;0===e?(n=0,r=0,t=1/e===-1/0?1:0):(t=e<0,(e=Math.abs(e))>=Math.pow(2,-1022)?(n=(i=Math.min(Math.floor(Math.log(e)/Math.LN2),s))+s,r=Math.round(e*Math.pow(2,52-i)-Math.pow(2,52))):(n=0,r=Math.round(e/Math.pow(2,-1074))));var u=[];for(a=52;a;a-=1)u.push(r%2?1:0),r=Math.floor(r/2);for(a=11;a;a-=1)u.push(n%2?1:0),n=Math.floor(n/2);u.push(t?1:0),u.reverse();var c=u.join(""),l="";for(a=0;a<64;a+=8){var h=parseInt(c.substr(a,8),2).toString(16);1===h.length&&(h="0"+h),l+=h}return l.toLowerCase()};var M=new RegExp("^-?(0*)\\d{1,10}$"),F=-2147483648,U=2147483647,q=function(e){if(M.test(e)){var t=Number(e);if(t>=F&&t<=U)return t}return null},B=function(e){try{e()}catch(t){setTimeout((function(){var e=t.stack||"";throw I("Exception was thrown by user callback.",e),t}),Math.floor(0))}},V=function(e,t){var n=setTimeout(e,t);return"object"===typeof n&&n.unref&&n.unref(),n},W=function(){function e(e,t){var n=this;this.appName_=e,this.appCheckProvider=t,this.appCheck=null===t||void 0===t?void 0:t.getImmediate({optional:!0}),this.appCheck||null===t||void 0===t||t.get().then((function(e){return n.appCheck=e}))}return e.prototype.getToken=function(e){var t=this;return this.appCheck?this.appCheck.getToken(e):new Promise((function(n,r){setTimeout((function(){t.appCheck?t.getToken(e).then(n,r):n(null)}),0)}))},e.prototype.addTokenChangeListener=function(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then((function(t){return t.addTokenListener(e)}))},e.prototype.notifyForInvalidToken=function(){I('Provided AppCheck credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly.')},e}(),z=function(){function e(e,t,n){var r=this;this.appName_=e,this.firebaseOptions_=t,this.authProvider_=n,this.auth_=null,this.auth_=n.getImmediate({optional:!0}),this.auth_||n.onInit((function(e){return r.auth_=e}))}return e.prototype.getToken=function(e){var t=this;return this.auth_?this.auth_.getToken(e).catch((function(e){return e&&"auth/token-not-initialized"===e.code?(E("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)})):new Promise((function(n,r){setTimeout((function(){t.auth_?t.getToken(e).then(n,r):n(null)}),0)}))},e.prototype.addTokenChangeListener=function(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then((function(t){return t.addAuthTokenListener(e)}))},e.prototype.removeTokenChangeListener=function(e){this.authProvider_.get().then((function(t){return t.removeAuthTokenListener(e)}))},e.prototype.notifyForInvalidToken=function(){var e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',I(e)},e}(),H=function(){function e(e){this.accessToken=e}return e.prototype.getToken=function(e){return Promise.resolve({accessToken:this.accessToken})},e.prototype.addTokenChangeListener=function(e){e(this.accessToken)},e.prototype.removeTokenChangeListener=function(e){},e.prototype.notifyForInvalidToken=function(){},e.OWNER="owner",e}(),K="5",G=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Q="ac",$="websocket",Y="long_polling",X=function(){function e(e,t,n,r,i,o,a){void 0===i&&(i=!1),void 0===o&&(o=""),void 0===a&&(a=!1),this.secure=t,this.namespace=n,this.webSocketOnly=r,this.nodeAdmin=i,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=d.get("host:"+e)||this._host}return e.prototype.isCacheableHost=function(){return"s-"===this.internalHost.substr(0,2)},e.prototype.isCustomHost=function(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain},Object.defineProperty(e.prototype,"host",{get:function(){return this._host},set:function(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&d.set("host:"+this._host,this.internalHost))},enumerable:!1,configurable:!0}),e.prototype.toString=function(){var e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e},e.prototype.toURLString=function(){var e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?"?ns="+this.namespace:"";return""+e+this.host+"/"+t},e}();function J(e,t,n){var r;if(Object(o.e)("string"===typeof t,"typeof type must == string"),Object(o.e)("object"===typeof n,"typeof params must == object"),t===$)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else{if(t!==Y)throw new Error("Unknown connection type: "+t);r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?"}(function(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams})(e)&&(n.ns=e.namespace);var i=[];return j(n,(function(e,t){i.push(e+"="+t)})),r+i.join("&")}var Z=function(){function e(){this.counters_={}}return e.prototype.incrementCounter=function(e,t){void 0===t&&(t=1),Object(o.i)(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t},e.prototype.get=function(){return Object(o.l)(this.counters_)},e}(),ee={},te={};function ne(e){var t=e.toString();return ee[t]||(ee[t]=new Z),ee[t]}var re=function(){function e(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return e.prototype.closeAfter=function(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)},e.prototype.handleResponse=function(e,t){var n=this;this.pendingResponses[e]=t;for(var r=function(){var e=i.pendingResponses[i.currentResponseNum];delete i.pendingResponses[i.currentResponseNum];for(var t=function(t){e[t]&&B((function(){n.onMessage_(e[t])}))},r=0;r<e.length;++r)t(r);if(i.currentResponseNum===i.closeAfterResponse)return i.onClose&&(i.onClose(),i.onClose=null),"break";i.currentResponseNum++},i=this;this.pendingResponses[this.currentResponseNum];){if("break"===r())break}},e}(),ie="start",oe="close",ae=function(){function e(e,t,n,r,i,o,a){var s=this;this.connId=e,this.repoInfo=t,this.applicationId=n,this.appCheckToken=r,this.authToken=i,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=S(e),this.stats_=ne(t),this.urlFn=function(e){return s.appCheckToken&&(e[Q]=s.appCheckToken),J(t,Y,e)}}return e.prototype.open=function(e,t){var n=this;this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new re(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout((function(){n.log_("Timed out trying to connect."),n.onClosed_(),n.connectTimeoutTimer_=null}),Math.floor(3e4)),function(e){if(Object(o.u)()||"complete"===document.readyState)e();else{var t=!1,n=function n(){document.body?t||(t=!0,e()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",(function(){"complete"===document.readyState&&n()})),window.attachEvent("onload",n))}}((function(){if(!n.isClosed_){n.scriptTagHolder=new se((function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=Object(a.e)(e,5),i=r[0],o=r[1],s=r[2];if(r[3],r[4],n.incrementIncomingBytes_(e),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,i===ie)n.id=o,n.password=s;else{if(i!==oe)throw new Error("Unrecognized command received: "+i);o?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(o,(function(){n.onClosed_()}))):n.onClosed_()}}),(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=Object(a.e)(e,2),i=r[0],o=r[1];n.incrementIncomingBytes_(e),n.myPacketOrderer.handleResponse(i,o)}),(function(){n.onClosed_()}),n.urlFn);var e={};e[ie]="t",e.ser=Math.floor(1e8*Math.random()),n.scriptTagHolder.uniqueCallbackIdentifier&&(e.cb=n.scriptTagHolder.uniqueCallbackIdentifier),e.v=K,n.transportSessionId&&(e.s=n.transportSessionId),n.lastSessionId&&(e.ls=n.lastSessionId),n.applicationId&&(e.p=n.applicationId),n.appCheckToken&&(e[Q]=n.appCheckToken),"undefined"!==typeof location&&location.hostname&&G.test(location.hostname)&&(e.r="f");var t=n.urlFn(e);n.log_("Connecting via long-poll to "+t),n.scriptTagHolder.addTag(t,(function(){}))}}))},e.prototype.start=function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)},e.forceAllow=function(){e.forceAllow_=!0},e.forceDisallow=function(){e.forceDisallow_=!0},e.isAvailable=function(){return!Object(o.u)()&&(!!e.forceAllow_||!e.forceDisallow_&&"undefined"!==typeof document&&null!=document.createElement&&!("object"===typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))&&!("object"===typeof Windows&&"object"===typeof Windows.UI))},e.prototype.markConnectionHealthy=function(){},e.prototype.shutdown_=function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)},e.prototype.onClosed_=function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))},e.prototype.close=function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())},e.prototype.send=function(e){var t=Object(o.D)(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);for(var n=Object(o.h)(t),r=D(n,1840),i=0;i<r.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[i]),this.curSegmentNum++},e.prototype.addDisconnectPingFrame=function(e,t){if(!Object(o.u)()){this.myDisconnFrame=document.createElement("iframe");var n={dframe:"t"};n.id=e,n.pw=t,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}},e.prototype.incrementIncomingBytes_=function(e){var t=Object(o.D)(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)},e}(),se=function(){function e(t,n,r,i){if(this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,Object(o.u)())this.commandCB=t,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=g(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=n,this.myIFrame=e.createIFrame_();var a="";if(this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length))a='<script>document.domain="'+document.domain+'";<\/script>';var s="<html><body>"+a+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(s),this.myIFrame.doc.close()}catch(u){E("frame writing exception"),u.stack&&E(u.stack),E(u)}}}return e.createIFrame_=function(){var e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||E("No IE domain setting required")}catch(n){var t=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+t+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e},e.prototype.close=function(){var e=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout((function(){null!==e.myIFrame&&(document.body.removeChild(e.myIFrame),e.myIFrame=null)}),Math.floor(0)));var t=this.onDisconnect;t&&(this.onDisconnect=null,t())},e.prototype.startLongPoll=function(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););},e.prototype.newRequest_=function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;for(var t=this.urlFn(e),n="",r=0;this.pendingSegs.length>0;){if(!(this.pendingSegs[0].d.length+30+n.length<=1870))break;var i=this.pendingSegs.shift();n=n+"&seg"+r+"="+i.seg+"&ts"+r+"="+i.ts+"&d"+r+"="+i.d,r++}return t+=n,this.addLongPollTag_(t,this.currentSerial),!0}return!1},e.prototype.enqueueSegment=function(e,t,n){this.pendingSegs.push({seg:e,ts:t,d:n}),this.alive&&this.newRequest_()},e.prototype.addLongPollTag_=function(e,t){var n=this;this.outstandingRequests.add(t);var r=function(){n.outstandingRequests.delete(t),n.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(e,(function(){clearTimeout(i),r()}))},e.prototype.addTag=function(e,t){var n=this;Object(o.u)()?this.doNodeLongPoll(e,t):setTimeout((function(){try{if(!n.sendNewPolls)return;var r=n.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){var e=r.readyState;e&&"loaded"!==e&&"complete"!==e||(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),t())},r.onerror=function(){E("Long-poll script failed to load: "+e),n.sendNewPolls=!1,n.close()},n.myIFrame.doc.body.appendChild(r)}catch(i){}}),Math.floor(1))},e}(),ue=null;"undefined"!==typeof MozWebSocket?ue=MozWebSocket:"undefined"!==typeof WebSocket&&(ue=WebSocket);var ce=function(){function t(e,n,r,i,o,a,s){this.connId=e,this.applicationId=r,this.appCheckToken=i,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=S(this.connId),this.stats_=ne(n),this.connURL=t.connectionURL_(n,a,s,i),this.nodeAdmin=n.nodeAdmin}return t.connectionURL_=function(e,t,n,r){var i={};return i.v=K,!Object(o.u)()&&"undefined"!==typeof location&&location.hostname&&G.test(location.hostname)&&(i.r="f"),t&&(i.s=t),n&&(i.ls=n),r&&(i[Q]=r),J(e,$,i)},t.prototype.open=function(t,n){var r=this;this.onDisconnect=n,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,d.set("previous_websocket_failure",!0);try{if(Object(o.u)()){var i=this.nodeAdmin?"AdminNode":"Node",a={headers:{"User-Agent":"Firebase/5/"+u+"/"+e.platform+"/"+i,"X-Firebase-GMPID":this.applicationId||""}};this.authToken&&(a.headers.Authorization="Bearer "+this.authToken),this.appCheckToken&&(a.headers["X-Firebase-AppCheck"]=this.appCheckToken);var s=Object({NODE_ENV:"production",PUBLIC_URL:"/React-Forms-Project",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}),c=0===this.connURL.indexOf("wss://")?s.HTTPS_PROXY||s.https_proxy:s.HTTP_PROXY||s.http_proxy;c&&(a.proxy={origin:c}),this.mySock=new ue(this.connURL,[],a)}else{a={headers:{"X-Firebase-GMPID":this.applicationId||"","X-Firebase-AppCheck":this.appCheckToken||""}};this.mySock=new ue(this.connURL,[],a)}}catch(h){this.log_("Error instantiating WebSocket.");var l=h.message||h.data;return l&&this.log_(l),void this.onClosed_()}this.mySock.onopen=function(){r.log_("Websocket connected."),r.everConnected_=!0},this.mySock.onclose=function(){r.log_("Websocket connection was disconnected."),r.mySock=null,r.onClosed_()},this.mySock.onmessage=function(e){r.handleIncomingFrame(e)},this.mySock.onerror=function(e){r.log_("WebSocket error.  Closing connection.");var t=e.message||e.data;t&&r.log_(t),r.onClosed_()}},t.prototype.start=function(){},t.forceDisallow=function(){t.forceDisallow_=!0},t.isAvailable=function(){var e=!1;if("undefined"!==typeof navigator&&navigator.userAgent){var n=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);n&&n.length>1&&parseFloat(n[1])<4.4&&(e=!0)}return!e&&null!==ue&&!t.forceDisallow_},t.previouslyFailed=function(){return d.isInMemoryStorage||!0===d.get("previous_websocket_failure")},t.prototype.markConnectionHealthy=function(){d.remove("previous_websocket_failure")},t.prototype.appendFrame_=function(e){if(this.frames.push(e),this.frames.length===this.totalFrames){var t=this.frames.join("");this.frames=null;var n=Object(o.x)(t);this.onMessage(n)}},t.prototype.handleNewFrameCount_=function(e){this.totalFrames=e,this.frames=[]},t.prototype.extractFrameCount_=function(e){if(Object(o.e)(null===this.frames,"We already have a frame buffer"),e.length<=6){var t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e},t.prototype.handleIncomingFrame=function(e){if(null!==this.mySock){var t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(t);else{var n=this.extractFrameCount_(t);null!==n&&this.appendFrame_(n)}}},t.prototype.send=function(e){this.resetKeepAlive();var t=Object(o.D)(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);var n=D(t,16384);n.length>1&&this.sendString_(String(n.length));for(var r=0;r<n.length;r++)this.sendString_(n[r])},t.prototype.shutdown_=function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)},t.prototype.onClosed_=function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))},t.prototype.close=function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())},t.prototype.resetKeepAlive=function(){var e=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval((function(){e.mySock&&e.sendString_("0"),e.resetKeepAlive()}),Math.floor(45e3))},t.prototype.sendString_=function(e){try{this.mySock.send(e)}catch(t){this.log_("Exception thrown from WebSocket.send():",t.message||t.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}},t.responsesRequiredToBeHealthy=2,t.healthyTimeout=3e4,t}(),le=function(){function e(e){this.initTransports_(e)}return Object.defineProperty(e,"ALL_TRANSPORTS",{get:function(){return[ae,ce]},enumerable:!1,configurable:!0}),e.prototype.initTransports_=function(t){var n,r,i=ce&&ce.isAvailable(),o=i&&!ce.previouslyFailed();if(t.webSocketOnly&&(i||I("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),o=!0),o)this.transports_=[ce];else{var s=this.transports_=[];try{for(var u=Object(a.g)(e.ALL_TRANSPORTS),c=u.next();!c.done;c=u.next()){var l=c.value;l&&l.isAvailable()&&s.push(l)}}catch(h){n={error:h}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}}},e.prototype.initialTransport=function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")},e.prototype.upgradeTransport=function(){return this.transports_.length>1?this.transports_[1]:null},e}(),he=function(){function e(e,t,n,r,i,o,a,s,u,c){this.id=e,this.repoInfo_=t,this.applicationId_=n,this.appCheckToken_=r,this.authToken_=i,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=s,this.onKill_=u,this.lastSessionId=c,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=S("c:"+this.id+":"),this.transportManager_=new le(t),this.log_("Connection created"),this.start_()}return e.prototype.start_=function(){var e=this,t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout((function(){e.conn_&&e.conn_.open(n,r)}),Math.floor(0));var i=t.healthyTimeout||0;i>0&&(this.healthyTimeout_=V((function(){e.healthyTimeout_=null,e.isHealthy_||(e.conn_&&e.conn_.bytesReceived>102400?(e.log_("Connection exceeded healthy timeout but has received "+e.conn_.bytesReceived+" bytes.  Marking connection healthy."),e.isHealthy_=!0,e.conn_.markConnectionHealthy()):e.conn_&&e.conn_.bytesSent>10240?e.log_("Connection exceeded healthy timeout but has sent "+e.conn_.bytesSent+" bytes.  Leaving connection alive."):(e.log_("Closing unhealthy connection after timeout."),e.close()))}),Math.floor(i)))},e.prototype.nextTransportId_=function(){return"c:"+this.id+":"+this.connectionCount++},e.prototype.disconnReceiver_=function(e){var t=this;return function(n){e===t.conn_?t.onConnectionLost_(n):e===t.secondaryConn_?(t.log_("Secondary connection lost."),t.onSecondaryConnectionLost_()):t.log_("closing an old connection")}},e.prototype.connReceiver_=function(e){var t=this;return function(n){2!==t.state_&&(e===t.rx_?t.onPrimaryMessageReceived_(n):e===t.secondaryConn_?t.onSecondaryMessageReceived_(n):t.log_("message on old connection"))}},e.prototype.sendRequest=function(e){var t={t:"d",d:e};this.sendData_(t)},e.prototype.tryCleanupConnection=function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)},e.prototype.onSecondaryControl_=function(e){if("t"in e){var t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}},e.prototype.onSecondaryMessageReceived_=function(e){var t=A("t",e),n=A("d",e);if("c"===t)this.onSecondaryControl_(n);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(n)}},e.prototype.upgradeIfSecondaryHealthy_=function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))},e.prototype.proceedWithUpgrade_=function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()},e.prototype.onPrimaryMessageReceived_=function(e){var t=A("t",e),n=A("d",e);"c"===t?this.onControl_(n):"d"===t&&this.onDataMessage_(n)},e.prototype.onDataMessage_=function(e){this.onPrimaryResponse_(),this.onMessage_(e)},e.prototype.onPrimaryResponse_=function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))},e.prototype.onControl_=function(e){var t=A("t",e);if("d"in e){var n=e.d;if("h"===t)this.onHandshake_(n);else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(n):"r"===t?this.onReset_(n):"e"===t?T("Server Error: "+n):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):T("Unknown control packet command: "+t)}},e.prototype.onHandshake_=function(e){var t=e.ts,n=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),K!==n&&I("Protocol version mismatch detected"),this.tryStartUpgrade_())},e.prototype.tryStartUpgrade_=function(){var e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)},e.prototype.startUpgrade_=function(e){var t=this;this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),V((function(){t.secondaryConn_&&(t.log_("Timed out trying to upgrade."),t.secondaryConn_.close())}),Math.floor(6e4))},e.prototype.onReset_=function(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())},e.prototype.onConnectionEstablished_=function(e,t){var n=this;this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):V((function(){n.sendPingOnPrimaryIfNecessary_()}),Math.floor(5e3))},e.prototype.sendPingOnPrimaryIfNecessary_=function(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))},e.prototype.onSecondaryConnectionLost_=function(){var e=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==e&&this.rx_!==e||this.close()},e.prototype.onConnectionLost_=function(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(d.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()},e.prototype.onConnectionShutdown_=function(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()},e.prototype.sendData_=function(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)},e.prototype.close=function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))},e.prototype.closeConnections_=function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)},e}(),fe=function(){function e(){}return e.prototype.put=function(e,t,n,r){},e.prototype.merge=function(e,t,n,r){},e.prototype.refreshAuthToken=function(e){},e.prototype.refreshAppCheckToken=function(e){},e.prototype.onDisconnectPut=function(e,t,n){},e.prototype.onDisconnectMerge=function(e,t,n){},e.prototype.onDisconnectCancel=function(e,t){},e.prototype.reportStats=function(e){},e}(),de=function(){function e(e){this.allowedEvents_=e,this.listeners_={},Object(o.e)(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}return e.prototype.trigger=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Array.isArray(this.listeners_[e]))for(var r=Object(a.f)([],Object(a.e)(this.listeners_[e])),i=0;i<r.length;i++)r[i].callback.apply(r[i].context,t)},e.prototype.on=function(e,t,n){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:n});var r=this.getInitialEvent(e);r&&t.apply(n,r)},e.prototype.off=function(e,t,n){this.validateEventType_(e);for(var r=this.listeners_[e]||[],i=0;i<r.length;i++)if(r[i].callback===t&&(!n||n===r[i].context))return void r.splice(i,1)},e.prototype.validateEventType_=function(e){Object(o.e)(this.allowedEvents_.find((function(t){return t===e})),"Unknown event: "+e)},e}(),pe=function(e){function t(){var t=e.call(this,["online"])||this;return t.online_=!0,"undefined"===typeof window||"undefined"===typeof window.addEventListener||Object(o.s)()||(window.addEventListener("online",(function(){t.online_||(t.online_=!0,t.trigger("online",!0))}),!1),window.addEventListener("offline",(function(){t.online_&&(t.online_=!1,t.trigger("online",!1))}),!1)),t}return Object(a.c)(t,e),t.getInstance=function(){return new t},t.prototype.getInitialEvent=function(e){return Object(o.e)("online"===e,"Unknown event type: "+e),[this.online_]},t.prototype.currentlyOnline=function(){return this.online_},t}(de),ve=function(){function e(e,t){if(void 0===t){this.pieces_=e.split("/");for(var n=0,r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[n]=this.pieces_[r],n++);this.pieces_.length=n,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}return e.prototype.toString=function(){for(var e="",t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"},e}();function ge(){return new ve("")}function ye(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function me(e){return e.pieces_.length-e.pieceNum_}function be(e){var t=e.pieceNum_;return t<e.pieces_.length&&t++,new ve(e.pieces_,t)}function _e(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function we(e,t){return void 0===t&&(t=0),e.pieces_.slice(e.pieceNum_+t)}function Ee(e){if(e.pieceNum_>=e.pieces_.length)return null;for(var t=[],n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new ve(t,0)}function Se(e,t){for(var n=[],r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof ve)for(r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);else{var i=t.split("/");for(r=0;r<i.length;r++)i[r].length>0&&n.push(i[r])}return new ve(n,0)}function Te(e){return e.pieceNum_>=e.pieces_.length}function Ce(e,t){var n=ye(e),r=ye(t);if(null===n)return t;if(n===r)return Ce(be(e),be(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function Ie(e,t){for(var n=we(e,0),r=we(t,0),i=0;i<n.length&&i<r.length;i++){var o=P(n[i],r[i]);if(0!==o)return o}return n.length===r.length?0:n.length<r.length?-1:1}function ke(e,t){if(me(e)!==me(t))return!1;for(var n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function Oe(e,t){var n=e.pieceNum_,r=t.pieceNum_;if(me(e)>me(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}var xe=function(e,t){this.errorPrefix_=t,this.parts_=we(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(var n=0;n<this.parts_.length;n++)this.byteLength_+=Object(o.B)(this.parts_[n]);Pe(this)};function Pe(e){if(e.byteLength_>768)throw new Error(e.errorPrefix_+"has a key path longer than 768 bytes ("+e.byteLength_+").");if(e.parts_.length>32)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+Ne(e))}function Ne(e){return 0===e.parts_.length?"":"in property '"+e.parts_.join(".")+"'"}var Ae,Re,De=function(e){function t(){var t,n,r=e.call(this,["visible"])||this;return"undefined"!==typeof document&&"undefined"!==typeof document.addEventListener&&("undefined"!==typeof document.hidden?(n="visibilitychange",t="hidden"):"undefined"!==typeof document.mozHidden?(n="mozvisibilitychange",t="mozHidden"):"undefined"!==typeof document.msHidden?(n="msvisibilitychange",t="msHidden"):"undefined"!==typeof document.webkitHidden&&(n="webkitvisibilitychange",t="webkitHidden")),r.visible_=!0,n&&document.addEventListener(n,(function(){var e=!document[t];e!==r.visible_&&(r.visible_=e,r.trigger("visible",e))}),!1),r}return Object(a.c)(t,e),t.getInstance=function(){return new t},t.prototype.getInitialEvent=function(e){return Object(o.e)("visible"===e,"Unknown event type: "+e),[this.visible_]},t}(de),je=1e3,Le=function(e){function t(n,r,i,a,s,u,c,l){var h=e.call(this)||this;if(h.repoInfo_=n,h.applicationId_=r,h.onDataUpdate_=i,h.onConnectStatus_=a,h.onServerInfoUpdate_=s,h.authTokenProvider_=u,h.appCheckTokenProvider_=c,h.authOverride_=l,h.id=t.nextPersistentConnectionId_++,h.log_=S("p:"+h.id+":"),h.interruptReasons_={},h.listens=new Map,h.outstandingPuts_=[],h.outstandingGets_=[],h.outstandingPutCount_=0,h.outstandingGetCount_=0,h.onDisconnectRequestQueue_=[],h.connected_=!1,h.reconnectDelay_=je,h.maxReconnectDelay_=3e5,h.securityDebugCallback_=null,h.lastSessionId=null,h.establishConnectionTimer_=null,h.visible_=!1,h.requestCBHash_={},h.requestNumber_=0,h.realtime_=null,h.authToken_=null,h.appCheckToken_=null,h.forceTokenRefresh_=!1,h.invalidAuthTokenCount_=0,h.invalidAppCheckTokenCount_=0,h.firstConnection_=!0,h.lastConnectionAttemptTime_=null,h.lastConnectionEstablishedTime_=null,l&&!Object(o.u)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return De.getInstance().on("visible",h.onVisible_,h),-1===n.host.indexOf("fblocal")&&pe.getInstance().on("online",h.onOnline_,h),h}return Object(a.c)(t,e),t.prototype.sendRequest=function(e,t,n){var r=++this.requestNumber_,i={r:r,a:e,b:t};this.log_(Object(o.D)(i)),Object(o.e)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),n&&(this.requestCBHash_[r]=n)},t.prototype.get=function(e){var t=this;this.initConnection_();var n=new o.a,r={p:e._path.toString(),q:e._queryObject},i={action:"g",request:r,onComplete:function(e){var i=e.d;"ok"===e.s?(t.onDataUpdate_(r.p,i,!1,null),n.resolve(i)):n.reject(i)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;var a=this.outstandingGets_.length-1;return this.connected_||setTimeout((function(){var e=t.outstandingGets_[a];void 0!==e&&i===e&&(delete t.outstandingGets_[a],t.outstandingGetCount_--,0===t.outstandingGetCount_&&(t.outstandingGets_=[]),t.log_("get "+a+" timed out on connection"),n.reject(new Error("Client is offline.")))}),3e3),this.connected_&&this.sendGet_(a),n.promise},t.prototype.listen=function(e,t,n,r){this.initConnection_();var i=e._queryIdentifier,a=e._path.toString();this.log_("Listen called for "+a+" "+i),this.listens.has(a)||this.listens.set(a,new Map),Object(o.e)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),Object(o.e)(!this.listens.get(a).has(i),"listen() called twice for same path/queryId.");var s={onComplete:r,hashFn:t,query:e,tag:n};this.listens.get(a).set(i,s),this.connected_&&this.sendListen_(s)},t.prototype.sendGet_=function(e){var t=this,n=this.outstandingGets_[e];this.sendRequest("g",n.request,(function(r){delete t.outstandingGets_[e],t.outstandingGetCount_--,0===t.outstandingGetCount_&&(t.outstandingGets_=[]),n.onComplete&&n.onComplete(r)}))},t.prototype.sendListen_=function(e){var n=this,r=e.query,i=r._path.toString(),o=r._queryIdentifier;this.log_("Listen on "+i+" for "+o);var a={p:i};e.tag&&(a.q=r._queryObject,a.t=e.tag),a.h=e.hashFn(),this.sendRequest("q",a,(function(a){var s=a.d,u=a.s;t.warnOnListenWarnings_(s,r),(n.listens.get(i)&&n.listens.get(i).get(o))===e&&(n.log_("listen response",a),"ok"!==u&&n.removeListen_(i,o),e.onComplete&&e.onComplete(u,s))}))},t.warnOnListenWarnings_=function(e,t){if(e&&"object"===typeof e&&Object(o.i)(e,"w")){var n=Object(o.A)(e,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){var r='".indexOn": "'+t._queryParams.getIndex().toString()+'"',i=t._path.toString();I("Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding "+r+" at "+i+" to your security rules for better performance.")}}},t.prototype.refreshAuthToken=function(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},(function(){})),this.reduceReconnectDelayIfAdminCredential_(e)},t.prototype.reduceReconnectDelayIfAdminCredential_=function(e){(e&&40===e.length||Object(o.p)(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)},t.prototype.refreshAppCheckToken=function(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},(function(){}))},t.prototype.tryAuth=function(){var e=this;if(this.connected_&&this.authToken_){var t=this.authToken_,n=Object(o.w)(t)?"auth":"gauth",r={cred:t};null===this.authOverride_?r.noauth=!0:"object"===typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(n,r,(function(n){var r=n.s,i=n.d||"error";e.authToken_===t&&("ok"===r?e.invalidAuthTokenCount_=0:e.onAuthRevoked_(r,i))}))}},t.prototype.tryAppCheck=function(){var e=this;this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},(function(t){var n=t.s,r=t.d||"error";"ok"===n?e.invalidAppCheckTokenCount_=0:e.onAppCheckRevoked_(n,r)}))},t.prototype.unlisten=function(e,t){var n=e._path.toString(),r=e._queryIdentifier;this.log_("Unlisten called for "+n+" "+r),Object(o.e)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,e._queryObject,t)},t.prototype.sendUnlisten_=function(e,t,n,r){this.log_("Unlisten on "+e+" for "+t);var i={p:e};r&&(i.q=n,i.t=r),this.sendRequest("n",i)},t.prototype.onDisconnectPut=function(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:n})},t.prototype.onDisconnectMerge=function(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:n})},t.prototype.onDisconnectCancel=function(e,t){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})},t.prototype.sendOnDisconnect_=function(e,t,n,r){var i={p:t,d:n};this.log_("onDisconnect "+e,i),this.sendRequest(e,i,(function(e){r&&setTimeout((function(){r(e.s,e.d)}),Math.floor(0))}))},t.prototype.put=function(e,t,n,r){this.putInternal("p",e,t,n,r)},t.prototype.merge=function(e,t,n,r){this.putInternal("m",e,t,n,r)},t.prototype.putInternal=function(e,t,n,r,i){this.initConnection_();var o={p:t,d:n};void 0!==i&&(o.h=i),this.outstandingPuts_.push({action:e,request:o,onComplete:r}),this.outstandingPutCount_++;var a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+t)},t.prototype.sendPut_=function(e){var t=this,n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,(function(r){t.log_(n+" response",r),delete t.outstandingPuts_[e],t.outstandingPutCount_--,0===t.outstandingPutCount_&&(t.outstandingPuts_=[]),i&&i(r.s,r.d)}))},t.prototype.reportStats=function(e){var t=this;if(this.connected_){var n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,(function(e){if("ok"!==e.s){var n=e.d;t.log_("reportStats","Error sending stats: "+n)}}))}},t.prototype.onDataMessage_=function(e){if("r"in e){this.log_("from server: "+Object(o.D)(e));var t=e.r,n=this.requestCBHash_[t];n&&(delete this.requestCBHash_[t],n(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}},t.prototype.onDataPush_=function(e,t){this.log_("handleServerMessage",e,t),"d"===e?this.onDataUpdate_(t.p,t.d,!1,t.t):"m"===e?this.onDataUpdate_(t.p,t.d,!0,t.t):"c"===e?this.onListenRevoked_(t.p,t.q):"ac"===e?this.onAuthRevoked_(t.s,t.d):"apc"===e?this.onAppCheckRevoked_(t.s,t.d):"sd"===e?this.onSecurityDebugPacket_(t):T("Unrecognized action received from server: "+Object(o.D)(e)+"\nAre you using the latest client?")},t.prototype.onReady_=function(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)},t.prototype.scheduleConnect_=function(e){var t=this;Object(o.e)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout((function(){t.establishConnectionTimer_=null,t.establishConnection_()}),Math.floor(e))},t.prototype.initConnection_=function(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)},t.prototype.onVisible_=function(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=je,this.realtime_||this.scheduleConnect_(0)),this.visible_=e},t.prototype.onOnline_=function(e){e?(this.log_("Browser went online."),this.reconnectDelay_=je,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())},t.prototype.onRealtimeDisconnect_=function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(this.visible_){if(this.lastConnectionEstablishedTime_){(new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=je),this.lastConnectionEstablishedTime_=null}}else this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime();var e=(new Date).getTime()-this.lastConnectionAttemptTime_,t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)},t.prototype.establishConnection_=function(){return Object(a.b)(this,void 0,void 0,(function(){var e,n,r,i,s,u,c,l,h,f,d,p,v,g,y=this;return Object(a.d)(this,(function(m){switch(m.label){case 0:if(!this.shouldReconnect_())return[3,4];this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null,e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+t.nextConnectionId_++,s=this.lastSessionId,u=!1,c=null,l=function(){c?c.close():(u=!0,r())},h=function(e){Object(o.e)(c,"sendRequest call when we're not connected not allowed."),c.sendRequest(e)},this.realtime_={close:l,sendRequest:h},f=this.forceTokenRefresh_,this.forceTokenRefresh_=!1,m.label=1;case 1:return m.trys.push([1,3,,4]),[4,Promise.all([this.authTokenProvider_.getToken(f),this.appCheckTokenProvider_.getToken(f)])];case 2:return d=a.e.apply(void 0,[m.sent(),2]),p=d[0],v=d[1],u?E("getToken() completed but was canceled"):(E("getToken() completed. Creating connection."),this.authToken_=p&&p.accessToken,this.appCheckToken_=v&&v.token,c=new he(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,(function(e){I(e+" ("+y.repoInfo_.toString()+")"),y.interrupt("server_kill")}),s)),[3,4];case 3:return g=m.sent(),this.log_("Failed to get token: "+g),u||(this.repoInfo_.nodeAdmin&&I(g),l()),[3,4];case 4:return[2]}}))}))},t.prototype.interrupt=function(e){E("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())},t.prototype.resume=function(e){E("Resuming connection for reason: "+e),delete this.interruptReasons_[e],Object(o.r)(this.interruptReasons_)&&(this.reconnectDelay_=je,this.realtime_||this.scheduleConnect_(0))},t.prototype.handleTimestamp_=function(e){var t=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:t})},t.prototype.cancelSentTransactions_=function(){for(var e=0;e<this.outstandingPuts_.length;e++){var t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])},t.prototype.onListenRevoked_=function(e,t){var n;n=t?t.map((function(e){return R(e)})).join("$"):"default";var r=this.removeListen_(e,n);r&&r.onComplete&&r.onComplete("permission_denied")},t.prototype.removeListen_=function(e,t){var n,r=new ve(e).toString();if(this.listens.has(r)){var i=this.listens.get(r);n=i.get(t),i.delete(t),0===i.size&&this.listens.delete(r)}else n=void 0;return n},t.prototype.onAuthRevoked_=function(e,t){E("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))},t.prototype.onAppCheckRevoked_=function(e,t){E("App check token revoked: "+e+"/"+t),this.appCheckToken_=null,this.forceTokenRefresh_=!0,"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())},t.prototype.onSecurityDebugPacket_=function(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))},t.prototype.restoreState_=function(){var e,t,n,r;this.tryAuth(),this.tryAppCheck();try{for(var i=Object(a.g)(this.listens.values()),o=i.next();!o.done;o=i.next()){var s=o.value;try{for(var u=(n=void 0,Object(a.g)(s.values())),c=u.next();!c.done;c=u.next()){var l=c.value;this.sendListen_(l)}}catch(d){n={error:d}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}}}catch(p){e={error:p}}finally{try{o&&!o.done&&(t=i.return)&&t.call(i)}finally{if(e)throw e.error}}for(var h=0;h<this.outstandingPuts_.length;h++)this.outstandingPuts_[h]&&this.sendPut_(h);for(;this.onDisconnectRequestQueue_.length;){var f=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(f.action,f.pathString,f.data,f.onComplete)}for(h=0;h<this.outstandingGets_.length;h++)this.outstandingGets_[h]&&this.sendGet_(h)},t.prototype.sendConnectStats_=function(){var e={},t="js";Object(o.u)()&&(t=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+t+"."+u.replace(/\./g,"-")]=1,Object(o.s)()?e["framework.cordova"]=1:Object(o.v)()&&(e["framework.reactnative"]=1),this.reportStats(e)},t.prototype.shouldReconnect_=function(){var e=pe.getInstance().currentlyOnline();return Object(o.r)(this.interruptReasons_)&&e},t.nextPersistentConnectionId_=0,t.nextConnectionId_=0,t}(fe),Me=function(){function e(e,t){this.name=e,this.node=t}return e.Wrap=function(t,n){return new e(t,n)},e}(),Fe=function(){function e(){}return e.prototype.getCompare=function(){return this.compare.bind(this)},e.prototype.indexedValueChanged=function(e,t){var n=new Me(O,e),r=new Me(O,t);return 0!==this.compare(n,r)},e.prototype.minPost=function(){return Me.MIN},e}(),Ue=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(a.c)(t,e),Object.defineProperty(t,"__EMPTY_NODE",{get:function(){return Ae},set:function(e){Ae=e},enumerable:!1,configurable:!0}),t.prototype.compare=function(e,t){return P(e.name,t.name)},t.prototype.isDefinedOn=function(e){throw Object(o.f)("KeyIndex.isDefinedOn not expected to be called.")},t.prototype.indexedValueChanged=function(e,t){return!1},t.prototype.minPost=function(){return Me.MIN},t.prototype.maxPost=function(){return new Me(x,Ae)},t.prototype.makePost=function(e,t){return Object(o.e)("string"===typeof e,"KeyIndex indexValue must always be a string."),new Me(e,Ae)},t.prototype.toString=function(){return".key"},t}(Fe),qe=new Ue,Be=function(){function e(e,t,n,r,i){void 0===i&&(i=null),this.isReverse_=r,this.resultGenerator_=i,this.nodeStack_=[];for(var o=1;!e.isEmpty();)if(o=t?n(e.key,t):1,r&&(o*=-1),o<0)e=this.isReverse_?e.left:e.right;else{if(0===o){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}return e.prototype.getNext=function(){if(0===this.nodeStack_.length)return null;var e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e},e.prototype.hasNext=function(){return this.nodeStack_.length>0},e.prototype.peek=function(){if(0===this.nodeStack_.length)return null;var e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}},e}(),Ve=function(){function e(t,n,r,i,o){this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:ze.EMPTY_NODE,this.right=null!=o?o:ze.EMPTY_NODE}return e.prototype.copy=function(t,n,r,i,o){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},e.prototype.count=function(){return this.left.count()+1+this.right.count()},e.prototype.isEmpty=function(){return!1},e.prototype.inorderTraversal=function(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)},e.prototype.reverseTraversal=function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)},e.prototype.min_=function(){return this.left.isEmpty()?this:this.left.min_()},e.prototype.minKey=function(){return this.min_().key},e.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},e.prototype.insert=function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp_()},e.prototype.removeMin_=function(){if(this.left.isEmpty())return ze.EMPTY_NODE;var e=this;return e.left.isRed_()||e.left.left.isRed_()||(e=e.moveRedLeft_()),(e=e.copy(null,null,null,e.left.removeMin_(),null)).fixUp_()},e.prototype.remove=function(e,t){var n,r;if(t(e,(n=this).key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(e,t),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===t(e,n.key)){if(n.right.isEmpty())return ze.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(e,t))}return n.fixUp_()},e.prototype.isRed_=function(){return this.color},e.prototype.fixUp_=function(){var e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e},e.prototype.moveRedLeft_=function(){var e=this.colorFlip_();return e.right.left.isRed_()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight_())).rotateLeft_()).colorFlip_()),e},e.prototype.moveRedRight_=function(){var e=this.colorFlip_();return e.left.left.isRed_()&&(e=(e=e.rotateRight_()).colorFlip_()),e},e.prototype.rotateLeft_=function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},e.prototype.rotateRight_=function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},e.prototype.colorFlip_=function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)},e.prototype.checkMaxDepth_=function(){var e=this.check_();return Math.pow(2,e)<=this.count()+1},e.prototype.check_=function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)},e.RED=!0,e.BLACK=!1,e}(),We=function(){function e(){}return e.prototype.copy=function(e,t,n,r,i){return this},e.prototype.insert=function(e,t,n){return new Ve(e,t,null)},e.prototype.remove=function(e,t){return this},e.prototype.count=function(){return 0},e.prototype.isEmpty=function(){return!0},e.prototype.inorderTraversal=function(e){return!1},e.prototype.reverseTraversal=function(e){return!1},e.prototype.minKey=function(){return null},e.prototype.maxKey=function(){return null},e.prototype.check_=function(){return 0},e.prototype.isRed_=function(){return!1},e}(),ze=function(){function e(t,n){void 0===n&&(n=e.EMPTY_NODE),this.comparator_=t,this.root_=n}return e.prototype.insert=function(t,n){return new e(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,Ve.BLACK,null,null))},e.prototype.remove=function(t){return new e(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,Ve.BLACK,null,null))},e.prototype.get=function(e){for(var t,n=this.root_;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key)))return n.value;t<0?n=n.left:t>0&&(n=n.right)}return null},e.prototype.getPredecessorKey=function(e){for(var t,n=this.root_,r=null;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key))){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}t<0?n=n.left:t>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")},e.prototype.isEmpty=function(){return this.root_.isEmpty()},e.prototype.count=function(){return this.root_.count()},e.prototype.minKey=function(){return this.root_.minKey()},e.prototype.maxKey=function(){return this.root_.maxKey()},e.prototype.inorderTraversal=function(e){return this.root_.inorderTraversal(e)},e.prototype.reverseTraversal=function(e){return this.root_.reverseTraversal(e)},e.prototype.getIterator=function(e){return new Be(this.root_,null,this.comparator_,!1,e)},e.prototype.getIteratorFrom=function(e,t){return new Be(this.root_,e,this.comparator_,!1,t)},e.prototype.getReverseIteratorFrom=function(e,t){return new Be(this.root_,e,this.comparator_,!0,t)},e.prototype.getReverseIterator=function(e){return new Be(this.root_,null,this.comparator_,!0,e)},e.EMPTY_NODE=new We,e}();function He(e,t){return P(e.name,t.name)}function Ke(e,t){return P(e,t)}var Ge,Qe,$e,Ye=function(e){return"number"===typeof e?"number:"+L(e):"string:"+e},Xe=function(e){if(e.isLeafNode()){var t=e.val();Object(o.e)("string"===typeof t||"number"===typeof t||"object"===typeof t&&Object(o.i)(t,".sv"),"Priority must be a string or number.")}else Object(o.e)(e===Re||e.isEmpty(),"priority of unexpected type.");Object(o.e)(e===Re||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},Je=function(){function e(t,n){void 0===n&&(n=e.__childrenNodeConstructor.EMPTY_NODE),this.value_=t,this.priorityNode_=n,this.lazyHash_=null,Object(o.e)(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),Xe(this.priorityNode_)}return Object.defineProperty(e,"__childrenNodeConstructor",{get:function(){return Ge},set:function(e){Ge=e},enumerable:!1,configurable:!0}),e.prototype.isLeafNode=function(){return!0},e.prototype.getPriority=function(){return this.priorityNode_},e.prototype.updatePriority=function(t){return new e(this.value_,t)},e.prototype.getImmediateChild=function(t){return".priority"===t?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE},e.prototype.getChild=function(t){return Te(t)?this:".priority"===ye(t)?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE},e.prototype.hasChild=function(){return!1},e.prototype.getPredecessorChildName=function(e,t){return null},e.prototype.updateImmediateChild=function(t,n){return".priority"===t?this.updatePriority(n):n.isEmpty()&&".priority"!==t?this:e.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,n).updatePriority(this.priorityNode_)},e.prototype.updateChild=function(t,n){var r=ye(t);return null===r?n:n.isEmpty()&&".priority"!==r?this:(Object(o.e)(".priority"!==r||1===me(t),".priority must be the last token in a path"),this.updateImmediateChild(r,e.__childrenNodeConstructor.EMPTY_NODE.updateChild(be(t),n)))},e.prototype.isEmpty=function(){return!1},e.prototype.numChildren=function(){return 0},e.prototype.forEachChild=function(e,t){return!1},e.prototype.val=function(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()},e.prototype.hash=function(){if(null===this.lazyHash_){var e="";this.priorityNode_.isEmpty()||(e+="priority:"+Ye(this.priorityNode_.val())+":");var t=typeof this.value_;e+=t+":",e+="number"===t?L(this.value_):this.value_,this.lazyHash_=y(e)}return this.lazyHash_},e.prototype.getValue=function(){return this.value_},e.prototype.compareTo=function(t){return t===e.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof e.__childrenNodeConstructor?-1:(Object(o.e)(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))},e.prototype.compareToLeafNode_=function(t){var n=typeof t.value_,r=typeof this.value_,i=e.VALUE_TYPE_ORDER.indexOf(n),a=e.VALUE_TYPE_ORDER.indexOf(r);return Object(o.e)(i>=0,"Unknown leaf type: "+n),Object(o.e)(a>=0,"Unknown leaf type: "+r),i===a?"object"===r?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:a-i},e.prototype.withIndex=function(){return this},e.prototype.isIndexed=function(){return!0},e.prototype.equals=function(e){if(e===this)return!0;if(e.isLeafNode()){var t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}return!1},e.VALUE_TYPE_ORDER=["object","boolean","number","string"],e}();var Ze,et,tt=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(a.c)(t,e),t.prototype.compare=function(e,t){var n=e.node.getPriority(),r=t.node.getPriority(),i=n.compareTo(r);return 0===i?P(e.name,t.name):i},t.prototype.isDefinedOn=function(e){return!e.getPriority().isEmpty()},t.prototype.indexedValueChanged=function(e,t){return!e.getPriority().equals(t.getPriority())},t.prototype.minPost=function(){return Me.MIN},t.prototype.maxPost=function(){return new Me(x,new Je("[PRIORITY-POST]",$e))},t.prototype.makePost=function(e,t){var n=Qe(e);return new Me(t,new Je("[PRIORITY-POST]",n))},t.prototype.toString=function(){return".priority"},t}(Fe),nt=new tt,rt=Math.log(2),it=function(){function e(e){var t;this.count=(t=e+1,parseInt(Math.log(t)/rt,10)),this.current_=this.count-1;var n,r=(n=this.count,parseInt(Array(n+1).join("1"),2));this.bits_=e+1&r}return e.prototype.nextBitIsOne=function(){var e=!(this.bits_&1<<this.current_);return this.current_--,e},e}(),ot=function(e,t,n,r){e.sort(t);var i=function t(r,i){var o,a,s=i-r;if(0===s)return null;if(1===s)return o=e[r],a=n?n(o):o,new Ve(a,o.node,Ve.BLACK,null,null);var u=parseInt(s/2,10)+r,c=t(r,u),l=t(u+1,i);return o=e[u],a=n?n(o):o,new Ve(a,o.node,Ve.BLACK,c,l)},o=function(t){for(var r=null,o=null,a=e.length,s=function(t,r){var o=a-t,s=a;a-=t;var c=i(o+1,s),l=e[o],h=n?n(l):l;u(new Ve(h,l.node,r,null,c))},u=function(e){r?(r.left=e,r=e):(o=e,r=e)},c=0;c<t.count;++c){var l=t.nextBitIsOne(),h=Math.pow(2,t.count-(c+1));l?s(h,Ve.BLACK):(s(h,Ve.BLACK),s(h,Ve.RED))}return o}(new it(e.length));return new ze(r||t,o)},at={},st=function(){function e(e,t){this.indexes_=e,this.indexSet_=t}return Object.defineProperty(e,"Default",{get:function(){return Object(o.e)(at&&nt,"ChildrenNode.ts has not been loaded"),Ze=Ze||new e({".priority":at},{".priority":nt})},enumerable:!1,configurable:!0}),e.prototype.get=function(e){var t=Object(o.A)(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof ze?t:null},e.prototype.hasIndex=function(e){return Object(o.i)(this.indexSet_,e.toString())},e.prototype.addIndex=function(t,n){Object(o.e)(t!==qe,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var r,i=[],s=!1,u=n.getIterator(Me.Wrap),c=u.getNext();c;)s=s||t.isDefinedOn(c.node),i.push(c),c=u.getNext();r=s?ot(i,t.getCompare()):at;var l=t.toString(),h=Object(a.a)({},this.indexSet_);h[l]=t;var f=Object(a.a)({},this.indexes_);return f[l]=r,new e(f,h)},e.prototype.addToIndexes=function(t,n){var r=this;return new e(Object(o.y)(this.indexes_,(function(e,i){var a=Object(o.A)(r.indexSet_,i);if(Object(o.e)(a,"Missing index implementation for "+i),e===at){if(a.isDefinedOn(t.node)){for(var s=[],u=n.getIterator(Me.Wrap),c=u.getNext();c;)c.name!==t.name&&s.push(c),c=u.getNext();return s.push(t),ot(s,a.getCompare())}return at}var l=n.get(t.name),h=e;return l&&(h=h.remove(new Me(t.name,l))),h.insert(t,t.node)})),this.indexSet_)},e.prototype.removeFromIndexes=function(t,n){return new e(Object(o.y)(this.indexes_,(function(e){if(e===at)return e;var r=n.get(t.name);return r?e.remove(new Me(t.name,r)):e})),this.indexSet_)},e}(),ut=function(){function e(e,t,n){this.children_=e,this.priorityNode_=t,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&Xe(this.priorityNode_),this.children_.isEmpty()&&Object(o.e)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return Object.defineProperty(e,"EMPTY_NODE",{get:function(){return et||(et=new e(new ze(Ke),null,st.Default))},enumerable:!1,configurable:!0}),e.prototype.isLeafNode=function(){return!1},e.prototype.getPriority=function(){return this.priorityNode_||et},e.prototype.updatePriority=function(t){return this.children_.isEmpty()?this:new e(this.children_,t,this.indexMap_)},e.prototype.getImmediateChild=function(e){if(".priority"===e)return this.getPriority();var t=this.children_.get(e);return null===t?et:t},e.prototype.getChild=function(e){var t=ye(e);return null===t?this:this.getImmediateChild(t).getChild(be(e))},e.prototype.hasChild=function(e){return null!==this.children_.get(e)},e.prototype.updateImmediateChild=function(t,n){if(Object(o.e)(n,"We should always be passing snapshot nodes"),".priority"===t)return this.updatePriority(n);var r=new Me(t,n),i=void 0,a=void 0;n.isEmpty()?(i=this.children_.remove(t),a=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(t,n),a=this.indexMap_.addToIndexes(r,this.children_));var s=i.isEmpty()?et:this.priorityNode_;return new e(i,s,a)},e.prototype.updateChild=function(e,t){var n=ye(e);if(null===n)return t;Object(o.e)(".priority"!==ye(e)||1===me(e),".priority must be the last token in a path");var r=this.getImmediateChild(n).updateChild(be(e),t);return this.updateImmediateChild(n,r)},e.prototype.isEmpty=function(){return this.children_.isEmpty()},e.prototype.numChildren=function(){return this.children_.count()},e.prototype.val=function(t){if(this.isEmpty())return null;var n={},r=0,i=0,o=!0;if(this.forEachChild(nt,(function(a,s){n[a]=s.val(t),r++,o&&e.INTEGER_REGEXP_.test(a)?i=Math.max(i,Number(a)):o=!1})),!t&&o&&i<2*r){var a=[];for(var s in n)a[s]=n[s];return a}return t&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n},e.prototype.hash=function(){if(null===this.lazyHash_){var e="";this.getPriority().isEmpty()||(e+="priority:"+Ye(this.getPriority().val())+":"),this.forEachChild(nt,(function(t,n){var r=n.hash();""!==r&&(e+=":"+t+":"+r)})),this.lazyHash_=""===e?"":y(e)}return this.lazyHash_},e.prototype.getPredecessorChildName=function(e,t,n){var r=this.resolveIndex_(n);if(r){var i=r.getPredecessorKey(new Me(e,t));return i?i.name:null}return this.children_.getPredecessorKey(e)},e.prototype.getFirstChildName=function(e){var t=this.resolveIndex_(e);if(t){var n=t.minKey();return n&&n.name}return this.children_.minKey()},e.prototype.getFirstChild=function(e){var t=this.getFirstChildName(e);return t?new Me(t,this.children_.get(t)):null},e.prototype.getLastChildName=function(e){var t=this.resolveIndex_(e);if(t){var n=t.maxKey();return n&&n.name}return this.children_.maxKey()},e.prototype.getLastChild=function(e){var t=this.getLastChildName(e);return t?new Me(t,this.children_.get(t)):null},e.prototype.forEachChild=function(e,t){var n=this.resolveIndex_(e);return n?n.inorderTraversal((function(e){return t(e.name,e.node)})):this.children_.inorderTraversal(t)},e.prototype.getIterator=function(e){return this.getIteratorFrom(e.minPost(),e)},e.prototype.getIteratorFrom=function(e,t){var n=this.resolveIndex_(t);if(n)return n.getIteratorFrom(e,(function(e){return e}));for(var r=this.children_.getIteratorFrom(e.name,Me.Wrap),i=r.peek();null!=i&&t.compare(i,e)<0;)r.getNext(),i=r.peek();return r},e.prototype.getReverseIterator=function(e){return this.getReverseIteratorFrom(e.maxPost(),e)},e.prototype.getReverseIteratorFrom=function(e,t){var n=this.resolveIndex_(t);if(n)return n.getReverseIteratorFrom(e,(function(e){return e}));for(var r=this.children_.getReverseIteratorFrom(e.name,Me.Wrap),i=r.peek();null!=i&&t.compare(i,e)>0;)r.getNext(),i=r.peek();return r},e.prototype.compareTo=function(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===ct?-1:0},e.prototype.withIndex=function(t){if(t===qe||this.indexMap_.hasIndex(t))return this;var n=this.indexMap_.addIndex(t,this.children_);return new e(this.children_,this.priorityNode_,n)},e.prototype.isIndexed=function(e){return e===qe||this.indexMap_.hasIndex(e)},e.prototype.equals=function(e){if(e===this)return!0;if(e.isLeafNode())return!1;var t=e;if(this.getPriority().equals(t.getPriority())){if(this.children_.count()===t.children_.count()){for(var n=this.getIterator(nt),r=t.getIterator(nt),i=n.getNext(),o=r.getNext();i&&o;){if(i.name!==o.name||!i.node.equals(o.node))return!1;i=n.getNext(),o=r.getNext()}return null===i&&null===o}return!1}return!1},e.prototype.resolveIndex_=function(e){return e===qe?null:this.indexMap_.get(e.toString())},e.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,e}(),ct=new(function(e){function t(){return e.call(this,new ze(Ke),ut.EMPTY_NODE,st.Default)||this}return Object(a.c)(t,e),t.prototype.compareTo=function(e){return e===this?0:1},t.prototype.equals=function(e){return e===this},t.prototype.getPriority=function(){return this},t.prototype.getImmediateChild=function(e){return ut.EMPTY_NODE},t.prototype.isEmpty=function(){return!1},t}(ut));Object.defineProperties(Me,{MIN:{value:new Me(O,ut.EMPTY_NODE)},MAX:{value:new Me(x,ct)}}),Ue.__EMPTY_NODE=ut.EMPTY_NODE,Je.__childrenNodeConstructor=ut,Re=ct,function(e){$e=e}(ct);function lt(e,t){if(void 0===t&&(t=null),null===e)return ut.EMPTY_NODE;if("object"===typeof e&&".priority"in e&&(t=e[".priority"]),Object(o.e)(null===t||"string"===typeof t||"number"===typeof t||"object"===typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"===typeof e&&".value"in e&&null!==e[".value"]&&(e=e[".value"]),"object"!==typeof e||".sv"in e)return new Je(e,lt(t));if(e instanceof Array){var n=ut.EMPTY_NODE;return j(e,(function(t,r){if(Object(o.i)(e,t)&&"."!==t.substring(0,1)){var i=lt(r);!i.isLeafNode()&&i.isEmpty()||(n=n.updateImmediateChild(t,i))}})),n.updatePriority(lt(t))}var r=[],i=!1;if(j(e,(function(e,t){if("."!==e.substring(0,1)){var n=lt(t);n.isEmpty()||(i=i||!n.getPriority().isEmpty(),r.push(new Me(e,n)))}})),0===r.length)return ut.EMPTY_NODE;var a=ot(r,He,(function(e){return e.name}),Ke);if(i){var s=ot(r,nt.getCompare());return new ut(a,lt(t),new st({".priority":s},{".priority":nt}))}return new ut(a,lt(t),st.Default)}!function(e){Qe=e}(lt);var ht=function(e){function t(t){var n=e.call(this)||this;return n.indexPath_=t,Object(o.e)(!Te(t)&&".priority"!==ye(t),"Can't create PathIndex with empty path or .priority key"),n}return Object(a.c)(t,e),t.prototype.extractChild=function(e){return e.getChild(this.indexPath_)},t.prototype.isDefinedOn=function(e){return!e.getChild(this.indexPath_).isEmpty()},t.prototype.compare=function(e,t){var n=this.extractChild(e.node),r=this.extractChild(t.node),i=n.compareTo(r);return 0===i?P(e.name,t.name):i},t.prototype.makePost=function(e,t){var n=lt(e),r=ut.EMPTY_NODE.updateChild(this.indexPath_,n);return new Me(t,r)},t.prototype.maxPost=function(){var e=ut.EMPTY_NODE.updateChild(this.indexPath_,ct);return new Me(x,e)},t.prototype.toString=function(){return we(this.indexPath_,0).join("/")},t}(Fe),ft=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(a.c)(t,e),t.prototype.compare=function(e,t){var n=e.node.compareTo(t.node);return 0===n?P(e.name,t.name):n},t.prototype.isDefinedOn=function(e){return!0},t.prototype.indexedValueChanged=function(e,t){return!e.equals(t)},t.prototype.minPost=function(){return Me.MIN},t.prototype.maxPost=function(){return Me.MAX},t.prototype.makePost=function(e,t){var n=lt(e);return new Me(t,n)},t.prototype.toString=function(){return".value"},t}(Fe),dt=new ft,pt="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",vt=function(){var e=0,t=[];return function(n){var r,i=n===e;e=n;var a=new Array(8);for(r=7;r>=0;r--)a[r]=pt.charAt(n%64),n=Math.floor(n/64);Object(o.e)(0===n,"Cannot push at time == 0");var s=a.join("");if(i){for(r=11;r>=0&&63===t[r];r--)t[r]=0;t[r]++}else for(r=0;r<12;r++)t[r]=Math.floor(64*Math.random());for(r=0;r<12;r++)s+=pt.charAt(t[r]);return Object(o.e)(20===s.length,"nextPushId: Length should be 20."),s}}(),gt=function(e){if(e===""+U)return"-";var t=q(e);if(null!=t)return""+(t+1);for(var n=new Array(e.length),r=0;r<n.length;r++)n[r]=e.charAt(r);if(n.length<786)return n.push("-"),n.join("");for(var i=n.length-1;i>=0&&"z"===n[i];)i--;if(-1===i)return x;var o=n[i],a=pt.charAt(pt.indexOf(o)+1);return n[i]=a,n.slice(0,i+1).join("")},yt=function(e){if(e===""+F)return O;var t=q(e);if(null!=t)return""+(t-1);for(var n=new Array(e.length),r=0;r<n.length;r++)n[r]=e.charAt(r);return"-"===n[n.length-1]?1===n.length?""+U:(delete n[n.length-1],n.join("")):(n[n.length-1]=pt.charAt(pt.indexOf(n[n.length-1])-1),n.join("")+"z".repeat(786-n.length))};function mt(e){return{type:"value",snapshotNode:e}}function bt(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function _t(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function wt(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}var Et=function(){function e(e){this.index_=e}return e.prototype.updateChild=function(e,t,n,r,i,a){Object(o.e)(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");var s=e.getImmediateChild(t);return s.getChild(r).equals(n.getChild(r))&&s.isEmpty()===n.isEmpty()?e:(null!=a&&(n.isEmpty()?e.hasChild(t)?a.trackChildChange(_t(t,s)):Object(o.e)(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):s.isEmpty()?a.trackChildChange(bt(t,n)):a.trackChildChange(wt(t,n,s))),e.isLeafNode()&&n.isEmpty()?e:e.updateImmediateChild(t,n).withIndex(this.index_))},e.prototype.updateFullNode=function(e,t,n){return null!=n&&(e.isLeafNode()||e.forEachChild(nt,(function(e,r){t.hasChild(e)||n.trackChildChange(_t(e,r))})),t.isLeafNode()||t.forEachChild(nt,(function(t,r){if(e.hasChild(t)){var i=e.getImmediateChild(t);i.equals(r)||n.trackChildChange(wt(t,r,i))}else n.trackChildChange(bt(t,r))}))),t.withIndex(this.index_)},e.prototype.updatePriority=function(e,t){return e.isEmpty()?ut.EMPTY_NODE:e.updatePriority(t)},e.prototype.filtersNodes=function(){return!1},e.prototype.getIndexedFilter=function(){return this},e.prototype.getIndex=function(){return this.index_},e}(),St=function(){function e(t){this.indexedFilter_=new Et(t.getIndex()),this.index_=t.getIndex(),this.startPost_=e.getStartPost_(t),this.endPost_=e.getEndPost_(t)}return e.prototype.getStartPost=function(){return this.startPost_},e.prototype.getEndPost=function(){return this.endPost_},e.prototype.matches=function(e){return this.index_.compare(this.getStartPost(),e)<=0&&this.index_.compare(e,this.getEndPost())<=0},e.prototype.updateChild=function(e,t,n,r,i,o){return this.matches(new Me(t,n))||(n=ut.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,n,r,i,o)},e.prototype.updateFullNode=function(e,t,n){t.isLeafNode()&&(t=ut.EMPTY_NODE);var r=t.withIndex(this.index_);r=r.updatePriority(ut.EMPTY_NODE);var i=this;return t.forEachChild(nt,(function(e,t){i.matches(new Me(e,t))||(r=r.updateImmediateChild(e,ut.EMPTY_NODE))})),this.indexedFilter_.updateFullNode(e,r,n)},e.prototype.updatePriority=function(e,t){return e},e.prototype.filtersNodes=function(){return!0},e.prototype.getIndexedFilter=function(){return this.indexedFilter_},e.prototype.getIndex=function(){return this.index_},e.getStartPost_=function(e){if(e.hasStart()){var t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}return e.getIndex().minPost()},e.getEndPost_=function(e){if(e.hasEnd()){var t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}return e.getIndex().maxPost()},e}(),Tt=function(){function e(e){this.rangedFilter_=new St(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft()}return e.prototype.updateChild=function(e,t,n,r,i,o){return this.rangedFilter_.matches(new Me(t,n))||(n=ut.EMPTY_NODE),e.getImmediateChild(t).equals(n)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,n,r,i,o):this.fullLimitUpdateChild_(e,t,n,i,o)},e.prototype.updateFullNode=function(e,t,n){var r;if(t.isLeafNode()||t.isEmpty())r=ut.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){r=ut.EMPTY_NODE.withIndex(this.index_);var i=void 0;i=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var o=0;i.hasNext()&&o<this.limit_;){var a=i.getNext();if(!(this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),a)<=0:this.index_.compare(a,this.rangedFilter_.getEndPost())<=0))break;r=r.updateImmediateChild(a.name,a.node),o++}}else{r=(r=t.withIndex(this.index_)).updatePriority(ut.EMPTY_NODE);var s=void 0,u=void 0,c=void 0;i=void 0;if(this.reverse_){i=r.getReverseIterator(this.index_),s=this.rangedFilter_.getEndPost(),u=this.rangedFilter_.getStartPost();var l=this.index_.getCompare();c=function(e,t){return l(t,e)}}else i=r.getIterator(this.index_),s=this.rangedFilter_.getStartPost(),u=this.rangedFilter_.getEndPost(),c=this.index_.getCompare();o=0;for(var h=!1;i.hasNext();){a=i.getNext();!h&&c(s,a)<=0&&(h=!0),h&&o<this.limit_&&c(a,u)<=0?o++:r=r.updateImmediateChild(a.name,ut.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,n)},e.prototype.updatePriority=function(e,t){return e},e.prototype.filtersNodes=function(){return!0},e.prototype.getIndexedFilter=function(){return this.rangedFilter_.getIndexedFilter()},e.prototype.getIndex=function(){return this.index_},e.prototype.fullLimitUpdateChild_=function(e,t,n,r,i){var a;if(this.reverse_){var s=this.index_.getCompare();a=function(e,t){return s(t,e)}}else a=this.index_.getCompare();var u=e;Object(o.e)(u.numChildren()===this.limit_,"");var c=new Me(t,n),l=this.reverse_?u.getFirstChild(this.index_):u.getLastChild(this.index_),h=this.rangedFilter_.matches(c);if(u.hasChild(t)){for(var f=u.getImmediateChild(t),d=r.getChildAfterChild(this.index_,l,this.reverse_);null!=d&&(d.name===t||u.hasChild(d.name));)d=r.getChildAfterChild(this.index_,d,this.reverse_);var p=null==d?1:a(d,c);if(h&&!n.isEmpty()&&p>=0)return null!=i&&i.trackChildChange(wt(t,n,f)),u.updateImmediateChild(t,n);null!=i&&i.trackChildChange(_t(t,f));var v=u.updateImmediateChild(t,ut.EMPTY_NODE);return null!=d&&this.rangedFilter_.matches(d)?(null!=i&&i.trackChildChange(bt(d.name,d.node)),v.updateImmediateChild(d.name,d.node)):v}return n.isEmpty()?e:h&&a(l,c)>=0?(null!=i&&(i.trackChildChange(_t(l.name,l.node)),i.trackChildChange(bt(t,n))),u.updateImmediateChild(t,n).updateImmediateChild(l.name,ut.EMPTY_NODE)):e},e}(),Ct=function(){function e(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=nt}return e.prototype.hasStart=function(){return this.startSet_},e.prototype.hasStartAfter=function(){return this.startAfterSet_},e.prototype.hasEndBefore=function(){return this.endBeforeSet_},e.prototype.isViewFromLeft=function(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_},e.prototype.getIndexStartValue=function(){return Object(o.e)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_},e.prototype.getIndexStartName=function(){return Object(o.e)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:O},e.prototype.hasEnd=function(){return this.endSet_},e.prototype.getIndexEndValue=function(){return Object(o.e)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_},e.prototype.getIndexEndName=function(){return Object(o.e)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:x},e.prototype.hasLimit=function(){return this.limitSet_},e.prototype.hasAnchoredLimit=function(){return this.limitSet_&&""!==this.viewFrom_},e.prototype.getLimit=function(){return Object(o.e)(this.limitSet_,"Only valid if limit has been set"),this.limit_},e.prototype.getIndex=function(){return this.index_},e.prototype.loadsAllData=function(){return!(this.startSet_||this.endSet_||this.limitSet_)},e.prototype.isDefault=function(){return this.loadsAllData()&&this.index_===nt},e.prototype.copy=function(){var t=new e;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t},e}();function It(e,t,n){var r=e.copy();return r.startSet_=!0,void 0===t&&(t=null),r.indexStartValue_=t,null!=n?(r.startNameSet_=!0,r.indexStartName_=n):(r.startNameSet_=!1,r.indexStartName_=""),r}function kt(e,t,n){var r=e.copy();return r.endSet_=!0,void 0===t&&(t=null),r.indexEndValue_=t,void 0!==n?(r.endNameSet_=!0,r.indexEndName_=n):(r.endNameSet_=!1,r.indexEndName_=""),r}function Ot(e,t){var n=e.copy();return n.index_=t,n}function xt(e){var t,n={};return e.isDefault()||(e.index_===nt?t="$priority":e.index_===dt?t="$value":e.index_===qe?t="$key":(Object(o.e)(e.index_ instanceof ht,"Unrecognized index type!"),t=e.index_.toString()),n.orderBy=Object(o.D)(t),e.startSet_&&(n.startAt=Object(o.D)(e.indexStartValue_),e.startNameSet_&&(n.startAt+=","+Object(o.D)(e.indexStartName_))),e.endSet_&&(n.endAt=Object(o.D)(e.indexEndValue_),e.endNameSet_&&(n.endAt+=","+Object(o.D)(e.indexEndName_))),e.limitSet_&&(e.isViewFromLeft()?n.limitToFirst=e.limit_:n.limitToLast=e.limit_)),n}function Pt(e){var t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_)),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_)),e.limitSet_){t.l=e.limit_;var n=e.viewFrom_;""===n&&(n=e.isViewFromLeft()?"l":"r"),t.vf=n}return e.index_!==nt&&(t.i=e.index_.toString()),t}var Nt=function(e){function t(t,n,r,i){var o=e.call(this)||this;return o.repoInfo_=t,o.onDataUpdate_=n,o.authTokenProvider_=r,o.appCheckTokenProvider_=i,o.log_=S("p:rest:"),o.listens_={},o}return Object(a.c)(t,e),t.prototype.reportStats=function(e){throw new Error("Method not implemented.")},t.getListenId_=function(e,t){return void 0!==t?"tag$"+t:(Object(o.e)(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())},t.prototype.listen=function(e,n,r,i){var a=this,s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);var u=t.getListenId_(e,r),c={};this.listens_[u]=c;var l=xt(e._queryParams);this.restRequest_(s+".json",l,(function(e,t){var n=t;(404===e&&(n=null,e=null),null===e&&a.onDataUpdate_(s,n,!1,r),Object(o.A)(a.listens_,u)===c)&&i(e?401===e?"permission_denied":"rest_error:"+e:"ok",null)}))},t.prototype.unlisten=function(e,n){var r=t.getListenId_(e,n);delete this.listens_[r]},t.prototype.get=function(e){var t=this,n=xt(e._queryParams),r=e._path.toString(),i=new o.a;return this.restRequest_(r+".json",n,(function(e,n){var o=n;404===e&&(o=null,e=null),null===e?(t.onDataUpdate_(r,o,!1,null),i.resolve(o)):i.reject(new Error(o))})),i.promise},t.prototype.refreshAuthToken=function(e){},t.prototype.restRequest_=function(e,t,n){var r=this;return void 0===t&&(t={}),t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then((function(i){var s=Object(a.e)(i,2),u=s[0],c=s[1];u&&u.accessToken&&(t.auth=u.accessToken),c&&c.token&&(t.ac=c.token);var l=(r.repoInfo_.secure?"https://":"http://")+r.repoInfo_.host+e+"?ns="+r.repoInfo_.namespace+Object(o.z)(t);r.log_("Sending REST request for "+l);var h=new XMLHttpRequest;h.onreadystatechange=function(){if(n&&4===h.readyState){r.log_("REST Response for "+l+" received. status:",h.status,"response:",h.responseText);var e=null;if(h.status>=200&&h.status<300){try{e=Object(o.x)(h.responseText)}catch(t){I("Failed to parse JSON response for "+l+": "+h.responseText)}n(null,e)}else 401!==h.status&&404!==h.status&&I("Got unsuccessful REST response for "+l+" Status: "+h.status),n(h.status);n=null}},h.open("GET",l,!0),h.send()}))},t}(fe),At=function(){function e(){this.rootNode_=ut.EMPTY_NODE}return e.prototype.getNode=function(e){return this.rootNode_.getChild(e)},e.prototype.updateSnapshot=function(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)},e}();function Rt(){return{value:null,children:new Map}}function Dt(e,t,n){if(Te(t))e.value=n,e.children.clear();else if(null!==e.value)e.value=e.value.updateChild(t,n);else{var r=ye(t);e.children.has(r)||e.children.set(r,Rt()),Dt(e.children.get(r),t=be(t),n)}}function jt(e,t){if(Te(t))return e.value=null,e.children.clear(),!0;if(null!==e.value){if(e.value.isLeafNode())return!1;var n=e.value;return e.value=null,n.forEachChild(nt,(function(t,n){Dt(e,new ve(t),n)})),jt(e,t)}if(e.children.size>0){var r=ye(t);if(t=be(t),e.children.has(r))jt(e.children.get(r),t)&&e.children.delete(r);return 0===e.children.size}return!0}function Lt(e,t,n){null!==e.value?n(t,e.value):function(e,t){e.children.forEach((function(e,n){t(n,e)}))}(e,(function(e,r){Lt(r,new ve(t.toString()+"/"+e),n)}))}var Mt,Ft=function(){function e(e){this.collection_=e,this.last_=null}return e.prototype.get=function(){var e=this.collection_.get(),t=Object(a.a)({},e);return this.last_&&j(this.last_,(function(e,n){t[e]=t[e]-n})),this.last_=e,t},e}(),Ut=function(){function e(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new Ft(e);var n=1e4+2e4*Math.random();V(this.reportStats_.bind(this),Math.floor(n))}return e.prototype.reportStats_=function(){var e=this,t=this.statsListener_.get(),n={},r=!1;j(t,(function(t,i){i>0&&Object(o.i)(e.statsToReport_,t)&&(n[t]=i,r=!0)})),r&&this.server_.reportStats(n),V(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))},e}();function qt(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}!function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(Mt||(Mt={}));var Bt,Vt=function(){function e(e,t,n){this.path=e,this.affectedTree=t,this.revert=n,this.type=Mt.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}return e.prototype.operationForChild=function(t){if(Te(this.path)){if(null!=this.affectedTree.value)return Object(o.e)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var n=this.affectedTree.subtree(new ve(t));return new e(ge(),n,this.revert)}return Object(o.e)(ye(this.path)===t,"operationForChild called for unrelated child."),new e(be(this.path),this.affectedTree,this.revert)},e}(),Wt=function(){function e(e,t){this.source=e,this.path=t,this.type=Mt.LISTEN_COMPLETE}return e.prototype.operationForChild=function(t){return Te(this.path)?new e(this.source,ge()):new e(this.source,be(this.path))},e}(),zt=function(){function e(e,t,n){this.source=e,this.path=t,this.snap=n,this.type=Mt.OVERWRITE}return e.prototype.operationForChild=function(t){return Te(this.path)?new e(this.source,ge(),this.snap.getImmediateChild(t)):new e(this.source,be(this.path),this.snap)},e}(),Ht=function(){function e(e,t,n){this.source=e,this.path=t,this.children=n,this.type=Mt.MERGE}return e.prototype.operationForChild=function(t){if(Te(this.path)){var n=this.children.subtree(new ve(t));return n.isEmpty()?null:n.value?new zt(this.source,ge(),n.value):new e(this.source,ge(),n)}return Object(o.e)(ye(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new e(this.source,be(this.path),this.children)},e.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"},e}(),Kt=function(){function e(e,t,n){this.node_=e,this.fullyInitialized_=t,this.filtered_=n}return e.prototype.isFullyInitialized=function(){return this.fullyInitialized_},e.prototype.isFiltered=function(){return this.filtered_},e.prototype.isCompleteForPath=function(e){if(Te(e))return this.isFullyInitialized()&&!this.filtered_;var t=ye(e);return this.isCompleteForChild(t)},e.prototype.isCompleteForChild=function(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)},e.prototype.getNode=function(){return this.node_},e}(),Gt=function(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()};function Qt(e,t,n,r,i,a){var s=r.filter((function(e){return e.type===n}));s.sort((function(t,n){return function(e,t,n){if(null==t.childName||null==n.childName)throw Object(o.f)("Should only compare child_ events.");var r=new Me(t.childName,t.snapshotNode),i=new Me(n.childName,n.snapshotNode);return e.index_.compare(r,i)}(e,t,n)})),s.forEach((function(n){var r=function(e,t,n){return"value"===t.type||"child_removed"===t.type||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}(e,n,a);i.forEach((function(i){i.respondsTo(n.type)&&t.push(i.createEvent(r,e.query_))}))}))}function $t(e,t){return{eventCache:e,serverCache:t}}function Yt(e,t,n,r){return $t(new Kt(t,n,r),e.serverCache)}function Xt(e,t,n,r){return $t(e.eventCache,new Kt(t,n,r))}function Jt(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function Zt(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}var en=function(){function e(e,t){void 0===t&&(Bt||(Bt=new ze(N)),t=Bt),this.value=e,this.children=t}return e.fromObject=function(t){var n=new e(null);return j(t,(function(e,t){n=n.set(new ve(e),t)})),n},e.prototype.isEmpty=function(){return null===this.value&&this.children.isEmpty()},e.prototype.findRootMostMatchingPathAndValue=function(e,t){if(null!=this.value&&t(this.value))return{path:ge(),value:this.value};if(Te(e))return null;var n=ye(e),r=this.children.get(n);if(null!==r){var i=r.findRootMostMatchingPathAndValue(be(e),t);return null!=i?{path:Se(new ve(n),i.path),value:i.value}:null}return null},e.prototype.findRootMostValueAndPath=function(e){return this.findRootMostMatchingPathAndValue(e,(function(){return!0}))},e.prototype.subtree=function(t){if(Te(t))return this;var n=ye(t),r=this.children.get(n);return null!==r?r.subtree(be(t)):new e(null)},e.prototype.set=function(t,n){if(Te(t))return new e(n,this.children);var r=ye(t),i=(this.children.get(r)||new e(null)).set(be(t),n),o=this.children.insert(r,i);return new e(this.value,o)},e.prototype.remove=function(t){if(Te(t))return this.children.isEmpty()?new e(null):new e(null,this.children);var n=ye(t),r=this.children.get(n);if(r){var i=r.remove(be(t)),o=void 0;return o=i.isEmpty()?this.children.remove(n):this.children.insert(n,i),null===this.value&&o.isEmpty()?new e(null):new e(this.value,o)}return this},e.prototype.get=function(e){if(Te(e))return this.value;var t=ye(e),n=this.children.get(t);return n?n.get(be(e)):null},e.prototype.setTree=function(t,n){if(Te(t))return n;var r=ye(t),i=(this.children.get(r)||new e(null)).setTree(be(t),n),o=void 0;return o=i.isEmpty()?this.children.remove(r):this.children.insert(r,i),new e(this.value,o)},e.prototype.fold=function(e){return this.fold_(ge(),e)},e.prototype.fold_=function(e,t){var n={};return this.children.inorderTraversal((function(r,i){n[r]=i.fold_(Se(e,r),t)})),t(e,this.value,n)},e.prototype.findOnPath=function(e,t){return this.findOnPath_(e,ge(),t)},e.prototype.findOnPath_=function(e,t,n){var r=!!this.value&&n(t,this.value);if(r)return r;if(Te(e))return null;var i=ye(e),o=this.children.get(i);return o?o.findOnPath_(be(e),Se(t,i),n):null},e.prototype.foreachOnPath=function(e,t){return this.foreachOnPath_(e,ge(),t)},e.prototype.foreachOnPath_=function(t,n,r){if(Te(t))return this;this.value&&r(n,this.value);var i=ye(t),o=this.children.get(i);return o?o.foreachOnPath_(be(t),Se(n,i),r):new e(null)},e.prototype.foreach=function(e){this.foreach_(ge(),e)},e.prototype.foreach_=function(e,t){this.children.inorderTraversal((function(n,r){r.foreach_(Se(e,n),t)})),this.value&&t(e,this.value)},e.prototype.foreachChild=function(e){this.children.inorderTraversal((function(t,n){n.value&&e(t,n.value)}))},e}(),tn=function(){function e(e){this.writeTree_=e}return e.empty=function(){return new e(new en(null))},e}();function nn(e,t,n){if(Te(t))return new tn(new en(n));var r=e.writeTree_.findRootMostValueAndPath(t);if(null!=r){var i=r.path,o=r.value,a=Ce(i,t);return o=o.updateChild(a,n),new tn(e.writeTree_.set(i,o))}var s=new en(n),u=e.writeTree_.setTree(t,s);return new tn(u)}function rn(e,t,n){var r=e;return j(n,(function(e,n){r=nn(r,Se(t,e),n)})),r}function on(e,t){if(Te(t))return tn.empty();var n=e.writeTree_.setTree(t,new en(null));return new tn(n)}function an(e,t){return null!=sn(e,t)}function sn(e,t){var n=e.writeTree_.findRootMostValueAndPath(t);return null!=n?e.writeTree_.get(n.path).getChild(Ce(n.path,t)):null}function un(e){var t=[],n=e.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(nt,(function(e,n){t.push(new Me(e,n))})):e.writeTree_.children.inorderTraversal((function(e,n){null!=n.value&&t.push(new Me(e,n.value))})),t}function cn(e,t){if(Te(t))return e;var n=sn(e,t);return new tn(null!=n?new en(n):e.writeTree_.subtree(t))}function ln(e){return e.writeTree_.isEmpty()}function hn(e,t){return fn(ge(),e.writeTree_,t)}function fn(e,t,n){if(null!=t.value)return n.updateChild(e,t.value);var r=null;return t.children.inorderTraversal((function(t,i){".priority"===t?(Object(o.e)(null!==i.value,"Priority writes must always be leaf nodes"),r=i.value):n=fn(Se(e,t),i,n)})),n.getChild(e).isEmpty()||null===r||(n=n.updateChild(Se(e,".priority"),r)),n}function dn(e,t){return In(t,e)}function pn(e,t){var n=e.allWrites.findIndex((function(e){return e.writeId===t}));Object(o.e)(n>=0,"removeWrite called with nonexistent writeId.");var r=e.allWrites[n];e.allWrites.splice(n,1);for(var i=r.visible,a=!1,s=e.allWrites.length-1;i&&s>=0;){var u=e.allWrites[s];u.visible&&(s>=n&&vn(u,r.path)?i=!1:Oe(r.path,u.path)&&(a=!0)),s--}if(i){if(a)return function(e){e.visibleWrites=yn(e.allWrites,gn,ge()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}(e),!0;r.snap?e.visibleWrites=on(e.visibleWrites,r.path):j(r.children,(function(t){e.visibleWrites=on(e.visibleWrites,Se(r.path,t))}));return!0}return!1}function vn(e,t){if(e.snap)return Oe(e.path,t);for(var n in e.children)if(e.children.hasOwnProperty(n)&&Oe(Se(e.path,n),t))return!0;return!1}function gn(e){return e.visible}function yn(e,t,n){for(var r=tn.empty(),i=0;i<e.length;++i){var a=e[i];if(t(a)){var s=a.path,u=void 0;if(a.snap)Oe(n,s)?r=nn(r,u=Ce(n,s),a.snap):Oe(s,n)&&(u=Ce(s,n),r=nn(r,ge(),a.snap.getChild(u)));else{if(!a.children)throw Object(o.f)("WriteRecord should have .snap or .children");if(Oe(n,s))r=rn(r,u=Ce(n,s),a.children);else if(Oe(s,n))if(Te(u=Ce(s,n)))r=rn(r,ge(),a.children);else{var c=Object(o.A)(a.children,ye(u));if(c){var l=c.getChild(be(u));r=nn(r,ge(),l)}}}}}return r}function mn(e,t,n,r,i){if(r||i){var o=cn(e.visibleWrites,t);if(!i&&ln(o))return n;if(i||null!=n||an(o,ge())){return hn(yn(e.allWrites,(function(e){return(e.visible||i)&&(!r||!~r.indexOf(e.writeId))&&(Oe(e.path,t)||Oe(t,e.path))}),t),n||ut.EMPTY_NODE)}return null}var a=sn(e.visibleWrites,t);if(null!=a)return a;var s=cn(e.visibleWrites,t);return ln(s)?n:null!=n||an(s,ge())?hn(s,n||ut.EMPTY_NODE):null}function bn(e,t,n,r){return mn(e.writeTree,e.treePath,t,n,r)}function _n(e,t){return function(e,t,n){var r=ut.EMPTY_NODE,i=sn(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(nt,(function(e,t){r=r.updateImmediateChild(e,t)})),r;if(n){var o=cn(e.visibleWrites,t);return n.forEachChild(nt,(function(e,t){var n=hn(cn(o,new ve(e)),t);r=r.updateImmediateChild(e,n)})),un(o).forEach((function(e){r=r.updateImmediateChild(e.name,e.node)})),r}return un(cn(e.visibleWrites,t)).forEach((function(e){r=r.updateImmediateChild(e.name,e.node)})),r}(e.writeTree,e.treePath,t)}function wn(e,t,n,r){return function(e,t,n,r,i){Object(o.e)(r||i,"Either existingEventSnap or existingServerSnap must exist");var a=Se(t,n);if(an(e.visibleWrites,a))return null;var s=cn(e.visibleWrites,a);return ln(s)?i.getChild(n):hn(s,i.getChild(n))}(e.writeTree,e.treePath,t,n,r)}function En(e,t){return function(e,t){return sn(e.visibleWrites,t)}(e.writeTree,Se(e.treePath,t))}function Sn(e,t,n,r,i,o){return function(e,t,n,r,i,o,a){var s,u=cn(e.visibleWrites,t),c=sn(u,ge());if(null!=c)s=c;else{if(null==n)return[];s=hn(u,n)}if((s=s.withIndex(a)).isEmpty()||s.isLeafNode())return[];for(var l=[],h=a.getCompare(),f=o?s.getReverseIteratorFrom(r,a):s.getIteratorFrom(r,a),d=f.getNext();d&&l.length<i;)0!==h(d,r)&&l.push(d),d=f.getNext();return l}(e.writeTree,e.treePath,t,n,r,i,o)}function Tn(e,t,n){return function(e,t,n,r){var i=Se(t,n),o=sn(e.visibleWrites,i);return null!=o?o:r.isCompleteForChild(n)?hn(cn(e.visibleWrites,i),r.getNode().getImmediateChild(n)):null}(e.writeTree,e.treePath,t,n)}function Cn(e,t){return In(Se(e.treePath,t),e.writeTree)}function In(e,t){return{treePath:e,writeTree:t}}var kn=function(){function e(){this.changeMap=new Map}return e.prototype.trackChildChange=function(e){var t=e.type,n=e.childName;Object(o.e)("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),Object(o.e)(".priority"!==n,"Only non-priority child changes can be tracked.");var r=this.changeMap.get(n);if(r){var i=r.type;if("child_added"===t&&"child_removed"===i)this.changeMap.set(n,wt(n,e.snapshotNode,r.snapshotNode));else if("child_removed"===t&&"child_added"===i)this.changeMap.delete(n);else if("child_removed"===t&&"child_changed"===i)this.changeMap.set(n,_t(n,r.oldSnap));else if("child_changed"===t&&"child_added"===i)this.changeMap.set(n,bt(n,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==i)throw Object(o.f)("Illegal combination of changes: "+e+" occurred after "+r);this.changeMap.set(n,wt(n,e.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,e)},e.prototype.getChanges=function(){return Array.from(this.changeMap.values())},e}(),On=new(function(){function e(){}return e.prototype.getCompleteChild=function(e){return null},e.prototype.getChildAfterChild=function(e,t,n){return null},e}()),xn=function(){function e(e,t,n){void 0===n&&(n=null),this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=n}return e.prototype.getCompleteChild=function(e){var t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);var n=null!=this.optCompleteServerCache_?new Kt(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Tn(this.writes_,e,n)},e.prototype.getChildAfterChild=function(e,t,n){var r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Zt(this.viewCache_),i=Sn(this.writes_,r,t,1,n,e);return 0===i.length?null:i[0]},e}();function Pn(e,t,n,r,i){var a,s,u=new kn;if(n.type===Mt.OVERWRITE){var c=n;c.source.fromUser?a=Rn(e,t,c.path,c.snap,r,i,u):(Object(o.e)(c.source.fromServer,"Unknown source."),s=c.source.tagged||t.serverCache.isFiltered()&&!Te(c.path),a=An(e,t,c.path,c.snap,r,i,s,u))}else if(n.type===Mt.MERGE){var l=n;l.source.fromUser?a=function(e,t,n,r,i,o,a){var s=t;return r.foreach((function(r,u){var c=Se(n,r);Dn(t,ye(c))&&(s=Rn(e,s,c,u,i,o,a))})),r.foreach((function(r,u){var c=Se(n,r);Dn(t,ye(c))||(s=Rn(e,s,c,u,i,o,a))})),s}(e,t,l.path,l.children,r,i,u):(Object(o.e)(l.source.fromServer,"Unknown source."),s=l.source.tagged||t.serverCache.isFiltered(),a=Ln(e,t,l.path,l.children,r,i,s,u))}else if(n.type===Mt.ACK_USER_WRITE){var h=n;a=h.revert?function(e,t,n,r,i,a){var s;if(null!=En(r,n))return t;var u=new xn(r,t,i),c=t.eventCache.getNode(),l=void 0;if(Te(n)||".priority"===ye(n)){var h=void 0;if(t.serverCache.isFullyInitialized())h=bn(r,Zt(t));else{var f=t.serverCache.getNode();Object(o.e)(f instanceof ut,"serverChildren would be complete if leaf node"),h=_n(r,f)}l=e.filter.updateFullNode(c,h,a)}else{var d=ye(n),p=Tn(r,d,t.serverCache);null==p&&t.serverCache.isCompleteForChild(d)&&(p=c.getImmediateChild(d)),(l=null!=p?e.filter.updateChild(c,d,p,be(n),u,a):t.eventCache.getNode().hasChild(d)?e.filter.updateChild(c,d,ut.EMPTY_NODE,be(n),u,a):c).isEmpty()&&t.serverCache.isFullyInitialized()&&(s=bn(r,Zt(t))).isLeafNode()&&(l=e.filter.updateFullNode(l,s,a))}return s=t.serverCache.isFullyInitialized()||null!=En(r,ge()),Yt(t,l,s,e.filter.filtersNodes())}(e,t,h.path,r,i,u):function(e,t,n,r,i,o,a){if(null!=En(i,n))return t;var s=t.serverCache.isFiltered(),u=t.serverCache;if(null!=r.value){if(Te(n)&&u.isFullyInitialized()||u.isCompleteForPath(n))return An(e,t,n,u.getNode().getChild(n),i,o,s,a);if(Te(n)){var c=new en(null);return u.getNode().forEachChild(qe,(function(e,t){c=c.set(new ve(e),t)})),Ln(e,t,n,c,i,o,s,a)}return t}var l=new en(null);return r.foreach((function(e,t){var r=Se(n,e);u.isCompleteForPath(r)&&(l=l.set(e,u.getNode().getChild(r)))})),Ln(e,t,n,l,i,o,s,a)}(e,t,h.path,h.affectedTree,r,i,u)}else{if(n.type!==Mt.LISTEN_COMPLETE)throw Object(o.f)("Unknown operation type: "+n.type);a=function(e,t,n,r,i){var o=t.serverCache,a=Xt(t,o.getNode(),o.isFullyInitialized()||Te(n),o.isFiltered());return Nn(e,a,n,r,On,i)}(e,t,n.path,r,u)}var f=u.getChanges();return function(e,t,n){var r=t.eventCache;if(r.isFullyInitialized()){var i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=Jt(e);(n.length>0||!e.eventCache.isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(mt(Jt(t)))}}(t,a,f),{viewCache:a,changes:f}}function Nn(e,t,n,r,i,a){var s=t.eventCache;if(null!=En(r,n))return t;var u=void 0,c=void 0;if(Te(n))if(Object(o.e)(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){var l=Zt(t),h=_n(r,l instanceof ut?l:ut.EMPTY_NODE);u=e.filter.updateFullNode(t.eventCache.getNode(),h,a)}else{var f=bn(r,Zt(t));u=e.filter.updateFullNode(t.eventCache.getNode(),f,a)}else{var d=ye(n);if(".priority"===d){Object(o.e)(1===me(n),"Can't have a priority with additional path components");var p=s.getNode(),v=wn(r,n,p,c=t.serverCache.getNode());u=null!=v?e.filter.updatePriority(p,v):s.getNode()}else{var g=be(n),y=void 0;if(s.isCompleteForChild(d)){c=t.serverCache.getNode();var m=wn(r,n,s.getNode(),c);y=null!=m?s.getNode().getImmediateChild(d).updateChild(g,m):s.getNode().getImmediateChild(d)}else y=Tn(r,d,t.serverCache);u=null!=y?e.filter.updateChild(s.getNode(),d,y,g,i,a):s.getNode()}}return Yt(t,u,s.isFullyInitialized()||Te(n),e.filter.filtersNodes())}function An(e,t,n,r,i,o,a,s){var u,c=t.serverCache,l=a?e.filter:e.filter.getIndexedFilter();if(Te(n))u=l.updateFullNode(c.getNode(),r,null);else if(l.filtersNodes()&&!c.isFiltered()){var h=c.getNode().updateChild(n,r);u=l.updateFullNode(c.getNode(),h,null)}else{var f=ye(n);if(!c.isCompleteForPath(n)&&me(n)>1)return t;var d=be(n),p=c.getNode().getImmediateChild(f).updateChild(d,r);u=".priority"===f?l.updatePriority(c.getNode(),p):l.updateChild(c.getNode(),f,p,d,On,null)}var v=Xt(t,u,c.isFullyInitialized()||Te(n),l.filtersNodes());return Nn(e,v,n,i,new xn(i,v,o),s)}function Rn(e,t,n,r,i,o,a){var s,u,c=t.eventCache,l=new xn(i,t,o);if(Te(n))u=e.filter.updateFullNode(t.eventCache.getNode(),r,a),s=Yt(t,u,!0,e.filter.filtersNodes());else{var h=ye(n);if(".priority"===h)u=e.filter.updatePriority(t.eventCache.getNode(),r),s=Yt(t,u,c.isFullyInitialized(),c.isFiltered());else{var f=be(n),d=c.getNode().getImmediateChild(h),p=void 0;if(Te(f))p=r;else{var v=l.getCompleteChild(h);p=null!=v?".priority"===_e(f)&&v.getChild(Ee(f)).isEmpty()?v:v.updateChild(f,r):ut.EMPTY_NODE}if(d.equals(p))s=t;else s=Yt(t,e.filter.updateChild(c.getNode(),h,p,f,l,a),c.isFullyInitialized(),e.filter.filtersNodes())}}return s}function Dn(e,t){return e.eventCache.isCompleteForChild(t)}function jn(e,t,n){return n.foreach((function(e,n){t=t.updateChild(e,n)})),t}function Ln(e,t,n,r,i,o,a,s){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;var u,c=t;u=Te(n)?r:new en(null).setTree(n,r);var l=t.serverCache.getNode();return u.children.inorderTraversal((function(n,r){if(l.hasChild(n)){var u=jn(0,t.serverCache.getNode().getImmediateChild(n),r);c=An(e,c,new ve(n),u,i,o,a,s)}})),u.children.inorderTraversal((function(n,r){var u=!t.serverCache.isCompleteForChild(n)&&void 0===r.value;if(!l.hasChild(n)&&!u){var h=jn(0,t.serverCache.getNode().getImmediateChild(n),r);c=An(e,c,new ve(n),h,i,o,a,s)}})),c}var Mn,Fn=function(){function e(e,t){this.query_=e,this.eventRegistrations_=[];var n,r=this.query_._queryParams,i=new Et(r.getIndex()),o=(n=r).loadsAllData()?new Et(n.getIndex()):n.hasLimit()?new Tt(n):new St(n);this.processor_=function(e){return{filter:e}}(o);var a=t.serverCache,s=t.eventCache,u=i.updateFullNode(ut.EMPTY_NODE,a.getNode(),null),c=o.updateFullNode(ut.EMPTY_NODE,s.getNode(),null),l=new Kt(u,a.isFullyInitialized(),i.filtersNodes()),h=new Kt(c,s.isFullyInitialized(),o.filtersNodes());this.viewCache_=$t(h,l),this.eventGenerator_=new Gt(this.query_)}return Object.defineProperty(e.prototype,"query",{get:function(){return this.query_},enumerable:!1,configurable:!0}),e}();function Un(e,t){var n=Zt(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!Te(t)&&!n.getImmediateChild(ye(t)).isEmpty())?n.getChild(t):null}function qn(e){return 0===e.eventRegistrations_.length}function Bn(e,t,n){var r=[];if(n){Object(o.e)(null==t,"A cancel should cancel all event registrations.");var i=e.query._path;e.eventRegistrations_.forEach((function(e){var t=e.createCancelEvent(n,i);t&&r.push(t)}))}if(t){for(var a=[],s=0;s<e.eventRegistrations_.length;++s){var u=e.eventRegistrations_[s];if(u.matches(t)){if(t.hasAnyCallback()){a=a.concat(e.eventRegistrations_.slice(s+1));break}}else a.push(u)}e.eventRegistrations_=a}else e.eventRegistrations_=[];return r}function Vn(e,t,n,r){t.type===Mt.MERGE&&null!==t.source.queryId&&(Object(o.e)(Zt(e.viewCache_),"We should always have a full cache before handling merges"),Object(o.e)(Jt(e.viewCache_),"Missing event cache, even though we have a server cache"));var i,a,s=e.viewCache_,u=Pn(e.processor_,s,t,n,r);return i=e.processor_,a=u.viewCache,Object(o.e)(a.eventCache.getNode().isIndexed(i.filter.getIndex()),"Event snap not indexed"),Object(o.e)(a.serverCache.getNode().isIndexed(i.filter.getIndex()),"Server snap not indexed"),Object(o.e)(u.viewCache.serverCache.isFullyInitialized()||!s.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=u.viewCache,Wn(e,u.changes,u.viewCache.eventCache.getNode(),null)}function Wn(e,t,n,r){var i=r?[r]:e.eventRegistrations_;return function(e,t,n,r){var i=[],o=[];return t.forEach((function(t){var n;"child_changed"===t.type&&e.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&o.push((n=t.childName,{type:"child_moved",snapshotNode:t.snapshotNode,childName:n}))})),Qt(e,i,"child_removed",t,r,n),Qt(e,i,"child_added",t,r,n),Qt(e,i,"child_moved",o,r,n),Qt(e,i,"child_changed",t,r,n),Qt(e,i,"value",t,r,n),i}(e.eventGenerator_,t,n,i)}var zn,Hn=function(){this.views=new Map};function Kn(e,t,n,r){var i,s,u=t.source.queryId;if(null!==u){var c=e.views.get(u);return Object(o.e)(null!=c,"SyncTree gave us an op for an invalid query."),Vn(c,t,n,r)}var l=[];try{for(var h=Object(a.g)(e.views.values()),f=h.next();!f.done;f=h.next()){c=f.value;l=l.concat(Vn(c,t,n,r))}}catch(d){i={error:d}}finally{try{f&&!f.done&&(s=h.return)&&s.call(h)}finally{if(i)throw i.error}}return l}function Gn(e,t,n,r,i){var o=t._queryIdentifier,a=e.views.get(o);if(!a){var s=bn(n,i?r:null),u=!1;s?u=!0:r instanceof ut?(s=_n(n,r),u=!1):(s=ut.EMPTY_NODE,u=!1);var c=$t(new Kt(s,u,!1),new Kt(r,i,!1));return new Fn(t,c)}return a}function Qn(e,t,n,r,i,o){var a=Gn(e,t,r,i,o);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,a),function(e,t){e.eventRegistrations_.push(t)}(a,n),function(e,t){var n=e.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(nt,(function(e,t){r.push(bt(e,t))})),n.isFullyInitialized()&&r.push(mt(n.getNode())),Wn(e,r,n.getNode(),t)}(a,n)}function $n(e,t,n,r){var i,s,u=t._queryIdentifier,c=[],l=[],h=er(e);if("default"===u)try{for(var f=Object(a.g)(e.views.entries()),d=f.next();!d.done;d=f.next()){var p=Object(a.e)(d.value,2),v=p[0],g=p[1];l=l.concat(Bn(g,n,r)),qn(g)&&(e.views.delete(v),g.query._queryParams.loadsAllData()||c.push(g.query))}}catch(y){i={error:y}}finally{try{d&&!d.done&&(s=f.return)&&s.call(f)}finally{if(i)throw i.error}}else(g=e.views.get(u))&&(l=l.concat(Bn(g,n,r)),qn(g)&&(e.views.delete(u),g.query._queryParams.loadsAllData()||c.push(g.query)));return h&&!er(e)&&c.push(new(Object(o.e)(Mn,"Reference.ts has not been loaded"),Mn)(t._repo,t._path)),{removed:c,events:l}}function Yn(e){var t,n,r=[];try{for(var i=Object(a.g)(e.views.values()),o=i.next();!o.done;o=i.next()){var s=o.value;s.query._queryParams.loadsAllData()||r.push(s)}}catch(u){t={error:u}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}function Xn(e,t){var n,r,i=null;try{for(var o=Object(a.g)(e.views.values()),s=o.next();!s.done;s=o.next()){var u=s.value;i=i||Un(u,t)}}catch(c){n={error:c}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return i}function Jn(e,t){if(t._queryParams.loadsAllData())return tr(e);var n=t._queryIdentifier;return e.views.get(n)}function Zn(e,t){return null!=Jn(e,t)}function er(e){return null!=tr(e)}function tr(e){var t,n;try{for(var r=Object(a.g)(e.views.values()),i=r.next();!i.done;i=r.next()){var o=i.value;if(o.query._queryParams.loadsAllData())return o}}catch(s){t={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}return null}var nr=1,rr=function(e){this.listenProvider_=e,this.syncPointTree_=new en(null),this.pendingWriteTree_={visibleWrites:tn.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map};function ir(e,t,n,r,i){return function(e,t,n,r,i){Object(o.e)(r>e.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:i}),i&&(e.visibleWrites=nn(e.visibleWrites,t,n)),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r,i),i?fr(e,new zt({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,n)):[]}function or(e,t,n,r){!function(e,t,n,r){Object(o.e)(r>e.lastWriteId,"Stacking an older merge on top of newer ones"),e.allWrites.push({path:t,children:n,writeId:r,visible:!0}),e.visibleWrites=rn(e.visibleWrites,t,n),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r);var i=en.fromObject(n);return fr(e,new Ht({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,i))}function ar(e,t,n){void 0===n&&(n=!1);var r=function(e,t){for(var n=0;n<e.allWrites.length;n++){var r=e.allWrites[n];if(r.writeId===t)return r}return null}(e.pendingWriteTree_,t);if(pn(e.pendingWriteTree_,t)){var i=new en(null);return null!=r.snap?i=i.set(ge(),!0):j(r.children,(function(e){i=i.set(new ve(e),!0)})),fr(e,new Vt(r.path,i,n))}return[]}function sr(e,t,n){return fr(e,new zt({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,n))}function ur(e,t,n,r){var i=t._path,o=e.syncPointTree_.get(i),a=[];if(o&&("default"===t._queryIdentifier||Zn(o,t))){var s=$n(o,t,n,r);0===o.views.size&&(e.syncPointTree_=e.syncPointTree_.remove(i));var u=s.removed;a=s.events;var c=-1!==u.findIndex((function(e){return e._queryParams.loadsAllData()})),l=e.syncPointTree_.findOnPath(i,(function(e,t){return er(t)}));if(c&&!l){var h=e.syncPointTree_.subtree(i);if(!h.isEmpty())for(var f=function(e){return e.fold((function(e,t,n){if(t&&er(t))return[tr(t)];var r=[];return t&&(r=Yn(t)),j(n,(function(e,t){r=r.concat(t)})),r}))}(h),d=0;d<f.length;++d){var p=f[d],v=p.query,g=vr(e,p);e.listenProvider_.startListening(wr(v),gr(e,v),g.hashFn,g.onComplete)}}if(!l&&u.length>0&&!r)if(c){e.listenProvider_.stopListening(wr(t),null)}else u.forEach((function(t){var n=e.queryToTagMap.get(yr(t));e.listenProvider_.stopListening(wr(t),n)}));!function(e,t){for(var n=0;n<t.length;++n){var r=t[n];if(!r._queryParams.loadsAllData()){var i=yr(r),o=e.queryToTagMap.get(i);e.queryToTagMap.delete(i),e.tagToQueryMap.delete(o)}}}(e,u)}return a}function cr(e,t,n){var r=t._path,i=null,a=!1;e.syncPointTree_.foreachOnPath(r,(function(e,t){var n=Ce(e,r);i=i||Xn(t,n),a=a||er(t)}));var s,u=e.syncPointTree_.get(r);(u?(a=a||er(u),i=i||Xn(u,ge())):(u=new Hn,e.syncPointTree_=e.syncPointTree_.set(r,u)),null!=i)?s=!0:(s=!1,i=ut.EMPTY_NODE,e.syncPointTree_.subtree(r).foreachChild((function(e,t){var n=Xn(t,ge());n&&(i=i.updateImmediateChild(e,n))})));var c=Zn(u,t);if(!c&&!t._queryParams.loadsAllData()){var l=yr(t);Object(o.e)(!e.queryToTagMap.has(l),"View does not exist, but we have a tag");var h=nr++;e.queryToTagMap.set(l,h),e.tagToQueryMap.set(h,l)}var f=Qn(u,t,n,dn(e.pendingWriteTree_,r),i,s);if(!c&&!a){var d=Jn(u,t);f=f.concat(function(e,t,n){var r=t._path,i=gr(e,t),a=vr(e,n),s=e.listenProvider_.startListening(wr(t),i,a.hashFn,a.onComplete),u=e.syncPointTree_.subtree(r);if(i)Object(o.e)(!er(u.value),"If we're adding a query, it shouldn't be shadowed");else for(var c=u.fold((function(e,t,n){if(!Te(e)&&t&&er(t))return[tr(t).query];var r=[];return t&&(r=r.concat(Yn(t).map((function(e){return e.query})))),j(n,(function(e,t){r=r.concat(t)})),r})),l=0;l<c.length;++l){var h=c[l];e.listenProvider_.stopListening(wr(h),gr(e,h))}return s}(e,t,d))}return f}function lr(e,t,n){var r=e.pendingWriteTree_,i=e.syncPointTree_.findOnPath(t,(function(e,n){var r=Xn(n,Ce(e,t));if(r)return r}));return mn(r,t,i,n,!0)}function hr(e,t){var n=t._path,r=null;e.syncPointTree_.foreachOnPath(n,(function(e,t){var i=Ce(e,n);r=r||Xn(t,i)}));var i=e.syncPointTree_.get(n);i?r=r||Xn(i,ge()):(i=new Hn,e.syncPointTree_=e.syncPointTree_.set(n,i));var o=null!=r,a=o?new Kt(r,!0,!1):null;return function(e){return Jt(e.viewCache_)}(Gn(i,t,dn(e.pendingWriteTree_,t._path),o?a.getNode():ut.EMPTY_NODE,o))}function fr(e,t){return dr(t,e.syncPointTree_,null,dn(e.pendingWriteTree_,ge()))}function dr(e,t,n,r){if(Te(e.path))return pr(e,t,n,r);var i=t.get(ge());null==n&&null!=i&&(n=Xn(i,ge()));var o=[],a=ye(e.path),s=e.operationForChild(a),u=t.children.get(a);if(u&&s){var c=n?n.getImmediateChild(a):null,l=Cn(r,a);o=o.concat(dr(s,u,c,l))}return i&&(o=o.concat(Kn(i,e,r,n))),o}function pr(e,t,n,r){var i=t.get(ge());null==n&&null!=i&&(n=Xn(i,ge()));var o=[];return t.children.inorderTraversal((function(t,i){var a=n?n.getImmediateChild(t):null,s=Cn(r,t),u=e.operationForChild(t);u&&(o=o.concat(pr(u,i,a,s)))})),i&&(o=o.concat(Kn(i,e,r,n))),o}function vr(e,t){var n=t.query,r=gr(e,n);return{hashFn:function(){var e=function(e){return e.viewCache_.serverCache.getNode()}(t)||ut.EMPTY_NODE;return e.hash()},onComplete:function(t){if("ok"===t)return r?function(e,t,n){var r=mr(e,n);if(r){var i=br(r),o=i.path,a=i.queryId,s=Ce(o,t);return _r(e,o,new Wt(qt(a),s))}return[]}(e,n._path,r):function(e,t){return fr(e,new Wt({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(e,n._path);var i=function(e,t){var n="Unknown Error";"too_big"===e?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===e?n="Client doesn't have permission to access the desired data.":"unavailable"===e&&(n="The service is unavailable");var r=new Error(e+" at "+t._path.toString()+": "+n);return r.code=e.toUpperCase(),r}(t,n);return ur(e,n,null,i)}}}function gr(e,t){var n=yr(t);return e.queryToTagMap.get(n)}function yr(e){return e._path.toString()+"$"+e._queryIdentifier}function mr(e,t){return e.tagToQueryMap.get(t)}function br(e){var t=e.indexOf("$");return Object(o.e)(-1!==t&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new ve(e.substr(0,t))}}function _r(e,t,n){var r=e.syncPointTree_.get(t);return Object(o.e)(r,"Missing sync point for query tag that we're tracking"),Kn(r,n,dn(e.pendingWriteTree_,t),null)}function wr(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new(Object(o.e)(zn,"Reference.ts has not been loaded"),zn)(e._repo,e._path):e}var Er=function(){function e(e){this.node_=e}return e.prototype.getImmediateChild=function(t){return new e(this.node_.getImmediateChild(t))},e.prototype.node=function(){return this.node_},e}(),Sr=function(){function e(e,t){this.syncTree_=e,this.path_=t}return e.prototype.getImmediateChild=function(t){var n=Se(this.path_,t);return new e(this.syncTree_,n)},e.prototype.node=function(){return lr(this.syncTree_,this.path_)},e}(),Tr=function(e,t,n){return e&&"object"===typeof e?(Object(o.e)(".sv"in e,"Unexpected leaf node or priority contents"),"string"===typeof e[".sv"]?Cr(e[".sv"],t,n):"object"===typeof e[".sv"]?Ir(e[".sv"],t):void Object(o.e)(!1,"Unexpected server value: "+JSON.stringify(e,null,2))):e},Cr=function(e,t,n){if("timestamp"===e)return n.timestamp;Object(o.e)(!1,"Unexpected server value: "+e)},Ir=function(e,t,n){e.hasOwnProperty("increment")||Object(o.e)(!1,"Unexpected server value: "+JSON.stringify(e,null,2));var r=e.increment;"number"!==typeof r&&Object(o.e)(!1,"Unexpected increment value: "+r);var i=t.node();if(Object(o.e)(null!==i&&"undefined"!==typeof i,"Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;var a=i.getValue();return"number"!==typeof a?r:a+r},kr=function(e,t,n,r){return xr(t,new Sr(n,e),r)},Or=function(e,t,n){return xr(e,new Er(t),n)};function xr(e,t,n){var r,i=e.getPriority().val(),o=Tr(i,t.getImmediateChild(".priority"),n);if(e.isLeafNode()){var a=e,s=Tr(a.getValue(),t,n);return s!==a.getValue()||o!==a.getPriority().val()?new Je(s,lt(o)):e}var u=e;return r=u,o!==u.getPriority().val()&&(r=r.updatePriority(new Je(o))),u.forEachChild(nt,(function(e,i){var o=xr(i,t.getImmediateChild(e),n);o!==i&&(r=r.updateImmediateChild(e,o))})),r}var Pr=function(e,t,n){void 0===e&&(e=""),void 0===t&&(t=null),void 0===n&&(n={children:{},childCount:0}),this.name=e,this.parent=t,this.node=n};function Nr(e,t){for(var n=t instanceof ve?t:new ve(t),r=e,i=ye(n);null!==i;){var a=Object(o.A)(r.node.children,i)||{children:{},childCount:0};r=new Pr(i,r,a),i=ye(n=be(n))}return r}function Ar(e){return e.node.value}function Rr(e,t){e.node.value=t,Fr(e)}function Dr(e){return e.node.childCount>0}function jr(e,t){j(e.node.children,(function(n,r){t(new Pr(n,e,r))}))}function Lr(e,t,n,r){n&&!r&&t(e),jr(e,(function(e){Lr(e,t,!0,r)})),n&&r&&t(e)}function Mr(e){return new ve(null===e.parent?e.name:Mr(e.parent)+"/"+e.name)}function Fr(e){null!==e.parent&&function(e,t,n){var r=function(e){return void 0===Ar(e)&&!Dr(e)}(n),i=Object(o.i)(e.node.children,t);r&&i?(delete e.node.children[t],e.node.childCount--,Fr(e)):r||i||(e.node.children[t]=n.node,e.node.childCount++,Fr(e))}(e.parent,e.name,e)}var Ur=/[\[\].#$\/\u0000-\u001F\u007F]/,qr=/[\[\].#$\u0000-\u001F\u007F]/,Br=10485760,Vr=function(e){return"string"===typeof e&&0!==e.length&&!Ur.test(e)},Wr=function(e){return"string"===typeof e&&0!==e.length&&!qr.test(e)},zr=function(e){return null===e||"string"===typeof e||"number"===typeof e&&!k(e)||e&&"object"===typeof e&&Object(o.i)(e,".sv")},Hr=function(e,t,n,r){r&&void 0===t||Kr(Object(o.n)(e,"value"),t,n)},Kr=function e(t,n,r){var i=r instanceof ve?new xe(r,t):r;if(void 0===n)throw new Error(t+"contains undefined "+Ne(i));if("function"===typeof n)throw new Error(t+"contains a function "+Ne(i)+" with contents = "+n.toString());if(k(n))throw new Error(t+"contains "+n.toString()+" "+Ne(i));if("string"===typeof n&&n.length>Br/3&&Object(o.B)(n)>Br)throw new Error(t+"contains a string greater than "+Br+" utf8 bytes "+Ne(i)+" ('"+n.substring(0,50)+"...')");if(n&&"object"===typeof n){var a=!1,s=!1;if(j(n,(function(n,r){if(".value"===n)a=!0;else if(".priority"!==n&&".sv"!==n&&(s=!0,!Vr(n)))throw new Error(t+" contains an invalid key ("+n+") "+Ne(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');!function(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=Object(o.B)(t),Pe(e)}(i,n),e(t,r,i),function(e){var t=e.parts_.pop();e.byteLength_-=Object(o.B)(t),e.parts_.length>0&&(e.byteLength_-=1)}(i)})),a&&s)throw new Error(t+' contains ".value" child '+Ne(i)+" in addition to actual children.")}},Gr=function(e,t,n,r){if(!r||void 0!==t){var i=Object(o.n)(e,"values");if(!t||"object"!==typeof t||Array.isArray(t))throw new Error(i+" must be an object containing the children to replace.");var a=[];j(t,(function(e,t){var r=new ve(e);if(Kr(i,t,Se(n,r)),".priority"===_e(r)&&!zr(t))throw new Error(i+"contains an invalid value for '"+r.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");a.push(r)})),function(e,t){var n,r;for(n=0;n<t.length;n++)for(var i=we(r=t[n]),o=0;o<i.length;o++)if(".priority"===i[o]&&o===i.length-1);else if(!Vr(i[o]))throw new Error(e+"contains an invalid key ("+i[o]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');t.sort(Ie);var a=null;for(n=0;n<t.length;n++){if(r=t[n],null!==a&&Oe(a,r))throw new Error(e+"contains a path "+a.toString()+" that is ancestor of another path "+r.toString());a=r}}(i,a)}},Qr=function(e,t,n){if(!n||void 0!==t){if(k(t))throw new Error(Object(o.n)(e,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!zr(t))throw new Error(Object(o.n)(e,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},$r=function(e,t,n){if(!n||void 0!==t)switch(t){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(Object(o.n)(e,"eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},Yr=function(e,t,n,r){if((!r||void 0!==n)&&!Vr(n))throw new Error(Object(o.n)(e,t)+'was an invalid key = "'+n+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},Xr=function(e,t,n,r){if((!r||void 0!==n)&&!Wr(n))throw new Error(Object(o.n)(e,t)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},Jr=function(e,t){if(".info"===ye(t))throw new Error(e+" failed = Can't modify data under /.info/")},Zr=function(e,t){var n=t.path.toString();if("string"!==typeof t.repoInfo.host||0===t.repoInfo.host.length||!Vr(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==n.length&&!function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),Wr(e)}(n))throw new Error(Object(o.n)(e,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},ei=function(e,t,n,r){if((!r||void 0!==n)&&"boolean"!==typeof n)throw new Error(Object(o.n)(e,t)+"must be a boolean.")},ti=function(){this.eventLists_=[],this.recursionDepth_=0};function ni(e,t){for(var n=null,r=0;r<t.length;r++){var i=t[r],o=i.getPath();null===n||ke(o,n.path)||(e.eventLists_.push(n),n=null),null===n&&(n={events:[],path:o}),n.events.push(i)}n&&e.eventLists_.push(n)}function ri(e,t,n){ni(e,n),oi(e,(function(e){return ke(e,t)}))}function ii(e,t,n){ni(e,n),oi(e,(function(e){return Oe(e,t)||Oe(t,e)}))}function oi(e,t){e.recursionDepth_++;for(var n=!0,r=0;r<e.eventLists_.length;r++){var i=e.eventLists_[r];if(i)t(i.path)?(ai(e.eventLists_[r]),e.eventLists_[r]=null):n=!1}n&&(e.eventLists_=[]),e.recursionDepth_--}function ai(e){for(var t=0;t<e.events.length;t++){var n=e.events[t];if(null!==n){e.events[t]=null;var r=n.getEventRunner();b&&E("event: "+n.toString()),B(r)}}}var si="repo_interrupt",ui=function(){function e(e,t,n,r){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=n,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new ti,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Rt(),this.transactionQueueTree_=new Pr,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}return e.prototype.toString=function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host},e}();function ci(e,t,n){if(e.stats_=ne(e.repoInfo_),e.forceRestClient_||("object"===typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)e.server_=new Nt(e.repoInfo_,(function(t,n,r,i){fi(e,t,n,r,i)}),e.authTokenProvider_,e.appCheckProvider_),setTimeout((function(){return di(e,!0)}),0);else{if("undefined"!==typeof n&&null!==n){if("object"!==typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Object(o.D)(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}e.persistentConnection_=new Le(e.repoInfo_,t,(function(t,n,r,i){fi(e,t,n,r,i)}),(function(t){di(e,t)}),(function(t){!function(e,t){j(t,(function(t,n){pi(e,t,n)}))}(e,t)}),e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener((function(t){e.server_.refreshAuthToken(t)})),e.appCheckProvider_.addTokenChangeListener((function(t){e.server_.refreshAppCheckToken(t.token)})),e.statsReporter_=function(e,t){var n=e.toString();return te[n]||(te[n]=t()),te[n]}(e.repoInfo_,(function(){return new Ut(e.stats_,e.server_)})),e.infoData_=new At,e.infoSyncTree_=new rr({startListening:function(t,n,r,i){var o=[],a=e.infoData_.getNode(t._path);return a.isEmpty()||(o=sr(e.infoSyncTree_,t._path,a),setTimeout((function(){i("ok")}),0)),o},stopListening:function(){}}),pi(e,"connected",!1),e.serverSyncTree_=new rr({startListening:function(t,n,r,i){return e.server_.listen(t,r,n,(function(n,r){var o=i(n,r);ii(e.eventQueue_,t._path,o)})),[]},stopListening:function(t,n){e.server_.unlisten(t,n)}})}function li(e){var t=e.infoData_.getNode(new ve(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function hi(e){return(t=(t={timestamp:li(e)})||{}).timestamp=t.timestamp||(new Date).getTime(),t;var t}function fi(e,t,n,r,i){e.dataUpdateCount++;var a=new ve(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;var s=[];if(i)if(r){var u=Object(o.y)(n,(function(e){return lt(e)}));s=function(e,t,n,r){var i=mr(e,r);if(i){var o=br(i),a=o.path,s=o.queryId,u=Ce(a,t),c=en.fromObject(n);return _r(e,a,new Ht(qt(s),u,c))}return[]}(e.serverSyncTree_,a,u,i)}else{var c=lt(n);s=function(e,t,n,r){var i=mr(e,r);if(null!=i){var o=br(i),a=o.path,s=o.queryId,u=Ce(a,t);return _r(e,a,new zt(qt(s),u,n))}return[]}(e.serverSyncTree_,a,c,i)}else if(r){var l=Object(o.y)(n,(function(e){return lt(e)}));s=function(e,t,n){var r=en.fromObject(n);return fr(e,new Ht({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,r))}(e.serverSyncTree_,a,l)}else{var h=lt(n);s=sr(e.serverSyncTree_,a,h)}var f=a;s.length>0&&(f=Ci(e,a)),ii(e.eventQueue_,f,s)}function di(e,t){pi(e,"connected",t),!1===t&&function(e){wi(e,"onDisconnectEvents");var t=hi(e),n=Rt();Lt(e.onDisconnect_,ge(),(function(r,i){var o=kr(r,i,e.serverSyncTree_,t);Dt(n,r,o)}));var r=[];Lt(n,ge(),(function(t,n){r=r.concat(sr(e.serverSyncTree_,t,n));var i=Pi(e,t);Ci(e,i)})),e.onDisconnect_=Rt(),ii(e.eventQueue_,ge(),r)}(e)}function pi(e,t,n){var r=new ve("/.info/"+t),i=lt(n);e.infoData_.updateSnapshot(r,i);var o=sr(e.infoSyncTree_,r,i);ii(e.eventQueue_,r,o)}function vi(e){return e.nextWriteId_++}function gi(e,t,n,r,i){wi(e,"set",{path:t.toString(),value:n,priority:r});var o=hi(e),a=lt(n,r),s=lr(e.serverSyncTree_,t),u=Or(a,s,o),c=vi(e),l=ir(e.serverSyncTree_,t,u,c,!0);ni(e.eventQueue_,l),e.server_.put(t.toString(),a.val(!0),(function(n,r){var o="ok"===n;o||I("set at "+t+" failed: "+n);var a=ar(e.serverSyncTree_,c,!o);ii(e.eventQueue_,t,a),Ei(e,i,n,r)}));var h=Pi(e,t);Ci(e,h),ii(e.eventQueue_,h,[])}function yi(e,t,n){e.server_.onDisconnectCancel(t.toString(),(function(r,i){"ok"===r&&jt(e.onDisconnect_,t),Ei(e,n,r,i)}))}function mi(e,t,n,r){var i=lt(n);e.server_.onDisconnectPut(t.toString(),i.val(!0),(function(n,o){"ok"===n&&Dt(e.onDisconnect_,t,i),Ei(e,r,n,o)}))}function bi(e,t,n){var r;r=".info"===ye(t._path)?ur(e.infoSyncTree_,t,n):ur(e.serverSyncTree_,t,n),ri(e.eventQueue_,t._path,r)}function _i(e){e.persistentConnection_&&e.persistentConnection_.interrupt(si)}function wi(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r="";e.persistentConnection_&&(r=e.persistentConnection_.id+":"),E.apply(void 0,Object(a.f)([r],Object(a.e)(t)))}function Ei(e,t,n,r){t&&B((function(){if("ok"===n)t(null);else{var e=(n||"error").toUpperCase(),i=e;r&&(i+=": "+r);var o=new Error(i);o.code=e,t(o)}}))}function Si(e,t,n){return lr(e.serverSyncTree_,t,n)||ut.EMPTY_NODE}function Ti(e,t){if(void 0===t&&(t=e.transactionQueueTree_),t||xi(e,t),Ar(t)){var n=ki(e,t);Object(o.e)(n.length>0,"Sending zero length transaction queue"),n.every((function(e){return 0===e.status}))&&function(e,t,n){for(var r=n.map((function(e){return e.currentWriteId})),i=Si(e,t,r),a=i,s=i.hash(),u=0;u<n.length;u++){var c=n[u];Object(o.e)(0===c.status,"tryToSendTransactionQueue_: items in queue should all be run."),c.status=1,c.retryCount++;var l=Ce(t,c.path);a=a.updateChild(l,c.currentOutputSnapshotRaw)}var h=a.val(!0),f=t;e.server_.put(f.toString(),h,(function(r){wi(e,"transaction put response",{path:f.toString(),status:r});var i=[];if("ok"===r){for(var o=[],a=function(t){n[t].status=2,i=i.concat(ar(e.serverSyncTree_,n[t].currentWriteId)),n[t].onComplete&&o.push((function(){return n[t].onComplete(null,!0,n[t].currentOutputSnapshotResolved)})),n[t].unwatcher()},s=0;s<n.length;s++)a(s);xi(e,Nr(e.transactionQueueTree_,t)),Ti(e,e.transactionQueueTree_),ii(e.eventQueue_,t,i);for(s=0;s<o.length;s++)B(o[s])}else{if("datastale"===r)for(s=0;s<n.length;s++)3===n[s].status?n[s].status=4:n[s].status=0;else{I("transaction at "+f.toString()+" failed: "+r);for(s=0;s<n.length;s++)n[s].status=4,n[s].abortReason=r}Ci(e,t)}}),s)}(e,Mr(t),n)}else Dr(t)&&jr(t,(function(t){Ti(e,t)}))}function Ci(e,t){var n=Ii(e,t),r=Mr(n);return function(e,t,n){if(0===t.length)return;for(var r=[],i=[],a=t.filter((function(e){return 0===e.status})).map((function(e){return e.currentWriteId})),s=function(s){var u,c,l=t[s],h=Ce(n,l.path),f=!1;if(Object(o.e)(null!==h,"rerunTransactionsUnderNode_: relativePath should not be null."),4===l.status)f=!0,u=l.abortReason,i=i.concat(ar(e.serverSyncTree_,l.currentWriteId,!0));else if(0===l.status)if(l.retryCount>=25)f=!0,u="maxretry",i=i.concat(ar(e.serverSyncTree_,l.currentWriteId,!0));else{var d=Si(e,l.path,a);l.currentInputSnapshot=d;var p=t[s].update(d.val());if(void 0!==p){Kr("transaction failed: Data returned ",p,l.path);var v=lt(p);"object"===typeof p&&null!=p&&Object(o.i)(p,".priority")||(v=v.updatePriority(d.getPriority()));var g=l.currentWriteId,y=hi(e),m=Or(v,d,y);l.currentOutputSnapshotRaw=v,l.currentOutputSnapshotResolved=m,l.currentWriteId=vi(e),a.splice(a.indexOf(g),1),i=(i=i.concat(ir(e.serverSyncTree_,l.path,m,l.currentWriteId,l.applyLocally))).concat(ar(e.serverSyncTree_,g,!0))}else f=!0,u="nodata",i=i.concat(ar(e.serverSyncTree_,l.currentWriteId,!0))}ii(e.eventQueue_,n,i),i=[],f&&(t[s].status=2,c=t[s].unwatcher,setTimeout(c,Math.floor(0)),t[s].onComplete&&("nodata"===u?r.push((function(){return t[s].onComplete(null,!1,t[s].currentInputSnapshot)})):r.push((function(){return t[s].onComplete(new Error(u),!1,null)}))))},u=0;u<t.length;u++)s(u);xi(e,e.transactionQueueTree_);for(u=0;u<r.length;u++)B(r[u]);Ti(e,e.transactionQueueTree_)}(e,ki(e,n),r),r}function Ii(e,t){var n,r=e.transactionQueueTree_;for(n=ye(t);null!==n&&void 0===Ar(r);)r=Nr(r,n),n=ye(t=be(t));return r}function ki(e,t){var n=[];return Oi(e,t,n),n.sort((function(e,t){return e.order-t.order})),n}function Oi(e,t,n){var r=Ar(t);if(r)for(var i=0;i<r.length;i++)n.push(r[i]);jr(t,(function(t){Oi(e,t,n)}))}function xi(e,t){var n=Ar(t);if(n){for(var r=0,i=0;i<n.length;i++)2!==n[i].status&&(n[r]=n[i],r++);n.length=r,Rr(t,n.length>0?n:void 0)}jr(t,(function(t){xi(e,t)}))}function Pi(e,t){var n=Mr(Ii(e,t)),r=Nr(e.transactionQueueTree_,t);return function(e,t,n){for(var r=n?e:e.parent;null!==r;){if(t(r))return!0;r=r.parent}}(r,(function(t){Ni(e,t)})),Ni(e,r),Lr(r,(function(t){Ni(e,t)})),n}function Ni(e,t){var n=Ar(t);if(n){for(var r=[],i=[],a=-1,s=0;s<n.length;s++)3===n[s].status||(1===n[s].status?(Object(o.e)(a===s-1,"All SENT items should be at beginning of queue."),a=s,n[s].status=3,n[s].abortReason="set"):(Object(o.e)(0===n[s].status,"Unexpected transaction status in abort"),n[s].unwatcher(),i=i.concat(ar(e.serverSyncTree_,n[s].currentWriteId,!0)),n[s].onComplete&&r.push(n[s].onComplete.bind(null,new Error("set"),!1,null))));-1===a?Rr(t,void 0):n.length=a+1,ii(e.eventQueue_,Mr(t),i);for(s=0;s<r.length;s++)B(r[s])}}var Ai=function(e,t){var n=Ri(e),r=n.namespace;"firebase.com"===n.domain&&C(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),r&&"undefined"!==r||"localhost"===n.domain||C("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||"undefined"!==typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&I("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().");var i="ws"===n.scheme||"wss"===n.scheme;return{repoInfo:new X(n.host,n.secure,r,t,i,"",r!==n.subdomain),path:new ve(n.pathString)}},Ri=function(e){var t="",n="",r="",i="",o="",s=!0,u="https",c=443;if("string"===typeof e){var l=e.indexOf("//");l>=0&&(u=e.substring(0,l-1),e=e.substring(l+2));var h=e.indexOf("/");-1===h&&(h=e.length);var f=e.indexOf("?");-1===f&&(f=e.length),t=e.substring(0,Math.min(h,f)),h<f&&(i=function(e){for(var t="",n=e.split("/"),r=0;r<n.length;r++)if(n[r].length>0){var i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch(o){}t+="/"+i}return t}(e.substring(h,f)));var d=function(e){var t,n,r={};"?"===e.charAt(0)&&(e=e.substring(1));try{for(var i=Object(a.g)(e.split("&")),o=i.next();!o.done;o=i.next()){var s=o.value;if(0!==s.length){var u=s.split("=");2===u.length?r[decodeURIComponent(u[0])]=decodeURIComponent(u[1]):I("Invalid query segment '"+s+"' in query '"+e+"'")}}}catch(c){t={error:c}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}(e.substring(Math.min(e.length,f)));(l=t.indexOf(":"))>=0?(s="https"===u||"wss"===u,c=parseInt(t.substring(l+1),10)):l=t.length;var p=t.slice(0,l);if("localhost"===p.toLowerCase())n="localhost";else if(p.split(".").length<=2)n=p;else{var v=t.indexOf(".");r=t.substring(0,v).toLowerCase(),n=t.substring(v+1),o=r}"ns"in d&&(o=d.ns)}return{host:t,port:c,domain:n,subdomain:r,secure:s,scheme:u,pathString:i,namespace:o}},Di=function(){function e(e,t,n,r){this.eventType=e,this.eventRegistration=t,this.snapshot=n,this.prevName=r}return e.prototype.getPath=function(){var e=this.snapshot.ref;return"value"===this.eventType?e._path:e.parent._path},e.prototype.getEventType=function(){return this.eventType},e.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},e.prototype.toString=function(){return this.getPath().toString()+":"+this.eventType+":"+Object(o.D)(this.snapshot.exportVal())},e}(),ji=function(){function e(e,t,n){this.eventRegistration=e,this.error=t,this.path=n}return e.prototype.getPath=function(){return this.path},e.prototype.getEventType=function(){return"cancel"},e.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},e.prototype.toString=function(){return this.path.toString()+":cancel"},e}(),Li=function(){function e(e,t){this.snapshotCallback=e,this.cancelCallback=t}return e.prototype.onValue=function(e,t){this.snapshotCallback.call(null,e,t)},e.prototype.onCancel=function(e){return Object(o.e)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)},Object.defineProperty(e.prototype,"hasCancelCallback",{get:function(){return!!this.cancelCallback},enumerable:!1,configurable:!0}),e.prototype.matches=function(e){return this.snapshotCallback===e.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context},e}(),Mi=function(){function e(e,t){this._repo=e,this._path=t}return e.prototype.cancel=function(){var e=new o.a;return yi(this._repo,this._path,e.wrapCallback((function(){}))),e.promise},e.prototype.remove=function(){Jr("OnDisconnect.remove",this._path);var e=new o.a;return mi(this._repo,this._path,null,e.wrapCallback((function(){}))),e.promise},e.prototype.set=function(e){Jr("OnDisconnect.set",this._path),Hr("OnDisconnect.set",e,this._path,!1);var t=new o.a;return mi(this._repo,this._path,e,t.wrapCallback((function(){}))),t.promise},e.prototype.setWithPriority=function(e,t){Jr("OnDisconnect.setWithPriority",this._path),Hr("OnDisconnect.setWithPriority",e,this._path,!1),Qr("OnDisconnect.setWithPriority",t,!1);var n=new o.a;return function(e,t,n,r,i){var o=lt(n,r);e.server_.onDisconnectPut(t.toString(),o.val(!0),(function(n,r){"ok"===n&&Dt(e.onDisconnect_,t,o),Ei(0,i,n,r)}))}(this._repo,this._path,e,t,n.wrapCallback((function(){}))),n.promise},e.prototype.update=function(e){Jr("OnDisconnect.update",this._path),Gr("OnDisconnect.update",e,this._path,!1);var t=new o.a;return function(e,t,n,r){if(Object(o.r)(n))return E("onDisconnect().update() called with empty data.  Don't do anything."),void Ei(0,r,"ok",void 0);e.server_.onDisconnectMerge(t.toString(),n,(function(i,o){"ok"===i&&j(n,(function(n,r){var i=lt(r);Dt(e.onDisconnect_,Se(t,n),i)})),Ei(0,r,i,o)}))}(this._repo,this._path,e,t.wrapCallback((function(){}))),t.promise},e}(),Fi=function(){function e(e,t,n,r){this._repo=e,this._path=t,this._queryParams=n,this._orderByCalled=r}return Object.defineProperty(e.prototype,"key",{get:function(){return Te(this._path)?null:_e(this._path)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ref",{get:function(){return new Vi(this._repo,this._path)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_queryIdentifier",{get:function(){var e=Pt(this._queryParams),t=R(e);return"{}"===t?"default":t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_queryObject",{get:function(){return Pt(this._queryParams)},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){if(!((t=Object(o.o)(t))instanceof e))return!1;var n=this._repo===t._repo,r=ke(this._path,t._path),i=this._queryIdentifier===t._queryIdentifier;return n&&r&&i},e.prototype.toJSON=function(){return this.toString()},e.prototype.toString=function(){return this._repo.toString()+function(e){for(var t="",n=e.pieceNum_;n<e.pieces_.length;n++)""!==e.pieces_[n]&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}(this._path)},e}();function Ui(e,t){if(!0===e._orderByCalled)throw new Error(t+": You can't combine multiple orderBy calls.")}function qi(e){var t=null,n=null;if(e.hasStart()&&(t=e.getIndexStartValue()),e.hasEnd()&&(n=e.getIndexEndValue()),e.getIndex()===qe){var r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(e.hasStart()){if(e.getIndexStartName()!==O)throw new Error(r);if("string"!==typeof t)throw new Error(i)}if(e.hasEnd()){if(e.getIndexEndName()!==x)throw new Error(r);if("string"!==typeof n)throw new Error(i)}}else if(e.getIndex()===nt){if(null!=t&&!zr(t)||null!=n&&!zr(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(Object(o.e)(e.getIndex()instanceof ht||e.getIndex()===dt,"unknown index type."),null!=t&&"object"===typeof t||null!=n&&"object"===typeof n)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function Bi(e){if(e.hasStart()&&e.hasEnd()&&e.hasLimit()&&!e.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}var Vi=function(e){function t(t,n){return e.call(this,t,n,new Ct,!1)||this}return Object(a.c)(t,e),Object.defineProperty(t.prototype,"parent",{get:function(){var e=Ee(this._path);return null===e?null:new t(this._repo,e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){for(var e=this;null!==e.parent;)e=e.parent;return e},enumerable:!1,configurable:!0}),t}(Fi),Wi=function(){function e(e,t,n){this._node=e,this.ref=t,this._index=n}return Object.defineProperty(e.prototype,"priority",{get:function(){return this._node.getPriority().val()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"key",{get:function(){return this.ref.key},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._node.numChildren()},enumerable:!1,configurable:!0}),e.prototype.child=function(t){var n=new ve(t),r=Ki(this.ref,t);return new e(this._node.getChild(n),r,nt)},e.prototype.exists=function(){return!this._node.isEmpty()},e.prototype.exportVal=function(){return this._node.val(!0)},e.prototype.forEach=function(t){var n=this;return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(function(r,i){return t(new e(i,Ki(n.ref,r),nt))}))},e.prototype.hasChild=function(e){var t=new ve(e);return!this._node.getChild(t).isEmpty()},e.prototype.hasChildren=function(){return!this._node.isLeafNode()&&!this._node.isEmpty()},e.prototype.toJSON=function(){return this.exportVal()},e.prototype.val=function(){return this._node.val()},e}();function zi(e,t){return(e=Object(o.o)(e))._checkNotDeleted("ref"),void 0!==t?Ki(e._root,t):e._root}function Hi(e,t){(e=Object(o.o)(e))._checkNotDeleted("refFromURL");var n=Ai(t,e._repo.repoInfo_.nodeAdmin);Zr("refFromURL",n);var r=n.repoInfo;return e._repo.repoInfo_.isCustomHost()||r.host===e._repo.repoInfo_.host||C("refFromURL: Host name does not match the current database: (found "+r.host+" but expected "+e._repo.repoInfo_.host+")"),zi(e,n.path.toString())}function Ki(e,t){var n,r,i,a;return null===ye((e=Object(o.o)(e))._path)?(n="child",r="path",a=!1,(i=t)&&(i=i.replace(/^\/*\.info(\/|$)/,"/")),Xr(n,r,i,a)):Xr("child","path",t,!1),new Vi(e._repo,Se(e._path,t))}function Gi(e,t){e=Object(o.o)(e),Jr("push",e._path),Hr("push",t,e._path,!0);var n,r=li(e._repo),i=vt(r),a=Ki(e,i),s=Ki(e,i);return n=null!=t?$i(s,t).then((function(){return s})):Promise.resolve(s),a.then=n.then.bind(n),a.catch=n.then.bind(n,void 0),a}function Qi(e){return Jr("remove",e._path),$i(e,null)}function $i(e,t){e=Object(o.o)(e),Jr("set",e._path),Hr("set",t,e._path,!1);var n=new o.a;return gi(e._repo,e._path,t,null,n.wrapCallback((function(){}))),n.promise}function Yi(e,t){e=Object(o.o)(e),Jr("setPriority",e._path),Qr("setPriority",t,!1);var n=new o.a;return gi(e._repo,Se(e._path,".priority"),t,null,n.wrapCallback((function(){}))),n.promise}function Xi(e,t,n){if(Jr("setWithPriority",e._path),Hr("setWithPriority",t,e._path,!1),Qr("setWithPriority",n,!1),".length"===e.key||".keys"===e.key)throw"setWithPriority failed: "+e.key+" is a read-only object.";var r=new o.a;return gi(e._repo,e._path,t,n,r.wrapCallback((function(){}))),r.promise}function Ji(e,t){Gr("update",t,e._path,!1);var n=new o.a;return function(e,t,n,r){wi(e,"update",{path:t.toString(),value:n});var i=!0,o=hi(e),a={};if(j(n,(function(n,r){i=!1,a[n]=kr(Se(t,n),lt(r),e.serverSyncTree_,o)})),i)E("update() called with empty data.  Don't do anything."),Ei(0,r,"ok",void 0);else{var s=vi(e),u=or(e.serverSyncTree_,t,a,s);ni(e.eventQueue_,u),e.server_.merge(t.toString(),n,(function(n,i){var o="ok"===n;o||I("update at "+t+" failed: "+n);var a=ar(e.serverSyncTree_,s,!o),u=a.length>0?Ci(e,t):t;ii(e.eventQueue_,u,a),Ei(0,r,n,i)})),j(n,(function(n){var r=Pi(e,Se(t,n));Ci(e,r)})),ii(e.eventQueue_,t,[])}}(e._repo,e._path,t,n.wrapCallback((function(){}))),n.promise}function Zi(e){return function(e,t){var n=hr(e.serverSyncTree_,t);return null!=n?Promise.resolve(n):e.server_.get(t).then((function(n){var r=lt(n).withIndex(t._queryParams.getIndex()),i=sr(e.serverSyncTree_,t._path,r);return ri(e.eventQueue_,t._path,i),Promise.resolve(r)}),(function(n){return wi(e,"get for query "+Object(o.D)(t)+" failed: "+n),Promise.reject(new Error(n))}))}((e=Object(o.o)(e))._repo,e).then((function(t){return new Wi(t,new Vi(e._repo,e._path),e._queryParams.getIndex())}))}var eo=function(){function e(e){this.callbackContext=e}return e.prototype.respondsTo=function(e){return"value"===e},e.prototype.createEvent=function(e,t){var n=t._queryParams.getIndex();return new Di("value",this,new Wi(e.snapshotNode,new Vi(t._repo,t._path),n))},e.prototype.getEventRunner=function(e){var t=this;return"cancel"===e.getEventType()?function(){return t.callbackContext.onCancel(e.error)}:function(){return t.callbackContext.onValue(e.snapshot,null)}},e.prototype.createCancelEvent=function(e,t){return this.callbackContext.hasCancelCallback?new ji(this,e,t):null},e.prototype.matches=function(t){return t instanceof e&&(!t.callbackContext||!this.callbackContext||t.callbackContext.matches(this.callbackContext))},e.prototype.hasAnyCallback=function(){return null!==this.callbackContext},e}(),to=function(){function e(e,t){this.eventType=e,this.callbackContext=t}return e.prototype.respondsTo=function(e){var t="children_added"===e?"child_added":e;return t="children_removed"===t?"child_removed":t,this.eventType===t},e.prototype.createCancelEvent=function(e,t){return this.callbackContext.hasCancelCallback?new ji(this,e,t):null},e.prototype.createEvent=function(e,t){Object(o.e)(null!=e.childName,"Child events should have a childName.");var n=Ki(new Vi(t._repo,t._path),e.childName),r=t._queryParams.getIndex();return new Di(e.type,this,new Wi(e.snapshotNode,n,r),e.prevName)},e.prototype.getEventRunner=function(e){var t=this;return"cancel"===e.getEventType()?function(){return t.callbackContext.onCancel(e.error)}:function(){return t.callbackContext.onValue(e.snapshot,e.prevName)}},e.prototype.matches=function(t){return t instanceof e&&(this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext)))},e.prototype.hasAnyCallback=function(){return!!this.callbackContext},e}();function no(e,t,n,r,i){var o;if("object"===typeof r&&(o=void 0,i=r),"function"===typeof r&&(o=r),i&&i.onlyOnce){var a=n,s=function(t,n){bi(e._repo,e,c),a(t,n)};s.userCallback=n.userCallback,s.context=n.context,n=s}var u=new Li(n,o||void 0),c="value"===t?new eo(u):new to(t,u);return function(e,t,n){var r;r=".info"===ye(t._path)?cr(e.infoSyncTree_,t,n):cr(e.serverSyncTree_,t,n),ri(e.eventQueue_,t._path,r)}(e._repo,e,c),function(){return bi(e._repo,e,c)}}function ro(e,t,n,r){return no(e,"value",t,n,r)}function io(e,t,n,r){return no(e,"child_added",t,n,r)}function oo(e,t,n,r){return no(e,"child_changed",t,n,r)}function ao(e,t,n,r){return no(e,"child_moved",t,n,r)}function so(e,t,n,r){return no(e,"child_removed",t,n,r)}function uo(e,t,n){var r=null,i=n?new Li(n):null;"value"===t?r=new eo(i):t&&(r=new to(t,i)),bi(e._repo,e,r)}var co=function(){},lo=function(e){function t(t,n){var r=e.call(this)||this;return r._value=t,r._key=n,r}return Object(a.c)(t,e),t.prototype._apply=function(e){Hr("endAt",this._value,e._path,!0);var t=kt(e._queryParams,this._value,this._key);if(Bi(t),qi(t),e._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Fi(e._repo,e._path,t,e._orderByCalled)},t}(co);function ho(e,t){return Yr("endAt","key",t,!0),new lo(e,t)}var fo=function(e){function t(t,n){var r=e.call(this)||this;return r._value=t,r._key=n,r}return Object(a.c)(t,e),t.prototype._apply=function(e){Hr("endBefore",this._value,e._path,!1);var t=function(e,t,n){var r;return e.index_===qe?("string"===typeof t&&(t=yt(t)),r=kt(e,t,n)):r=kt(e,t,null==n?O:yt(n)),r.endBeforeSet_=!0,r}(e._queryParams,this._value,this._key);if(Bi(t),qi(t),e._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Fi(e._repo,e._path,t,e._orderByCalled)},t}(co);function po(e,t){return Yr("endBefore","key",t,!0),new fo(e,t)}var vo=function(e){function t(t,n){var r=e.call(this)||this;return r._value=t,r._key=n,r}return Object(a.c)(t,e),t.prototype._apply=function(e){Hr("startAt",this._value,e._path,!0);var t=It(e._queryParams,this._value,this._key);if(Bi(t),qi(t),e._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Fi(e._repo,e._path,t,e._orderByCalled)},t}(co);function go(e,t){return void 0===e&&(e=null),Yr("startAt","key",t,!0),new vo(e,t)}var yo=function(e){function t(t,n){var r=e.call(this)||this;return r._value=t,r._key=n,r}return Object(a.c)(t,e),t.prototype._apply=function(e){Hr("startAfter",this._value,e._path,!1);var t=function(e,t,n){var r;e.index_===qe?("string"===typeof t&&(t=gt(t)),r=It(e,t,n)):r=It(e,t,null==n?x:gt(n));return r.startAfterSet_=!0,r}(e._queryParams,this._value,this._key);if(Bi(t),qi(t),e._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new Fi(e._repo,e._path,t,e._orderByCalled)},t}(co);function mo(e,t){return Yr("startAfter","key",t,!0),new yo(e,t)}var bo=function(e){function t(t){var n=e.call(this)||this;return n._limit=t,n}return Object(a.c)(t,e),t.prototype._apply=function(e){if(e._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new Fi(e._repo,e._path,function(e,t){var n=e.copy();return n.limitSet_=!0,n.limit_=t,n.viewFrom_="l",n}(e._queryParams,this._limit),e._orderByCalled)},t}(co);function _o(e){if("number"!==typeof e||Math.floor(e)!==e||e<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new bo(e)}var wo=function(e){function t(t){var n=e.call(this)||this;return n._limit=t,n}return Object(a.c)(t,e),t.prototype._apply=function(e){if(e._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new Fi(e._repo,e._path,function(e,t){var n=e.copy();return n.limitSet_=!0,n.limit_=t,n.viewFrom_="r",n}(e._queryParams,this._limit),e._orderByCalled)},t}(co);function Eo(e){if("number"!==typeof e||Math.floor(e)!==e||e<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new wo(e)}var So=function(e){function t(t){var n=e.call(this)||this;return n._path=t,n}return Object(a.c)(t,e),t.prototype._apply=function(e){Ui(e,"orderByChild");var t=new ve(this._path);if(Te(t))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");var n=new ht(t),r=Ot(e._queryParams,n);return qi(r),new Fi(e._repo,e._path,r,!0)},t}(co);function To(e){if("$key"===e)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===e)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===e)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return Xr("orderByChild","path",e,!1),new So(e)}var Co=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(a.c)(t,e),t.prototype._apply=function(e){Ui(e,"orderByKey");var t=Ot(e._queryParams,qe);return qi(t),new Fi(e._repo,e._path,t,!0)},t}(co);function Io(){return new Co}var ko=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(a.c)(t,e),t.prototype._apply=function(e){Ui(e,"orderByPriority");var t=Ot(e._queryParams,nt);return qi(t),new Fi(e._repo,e._path,t,!0)},t}(co);function Oo(){return new ko}var xo=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(a.c)(t,e),t.prototype._apply=function(e){Ui(e,"orderByValue");var t=Ot(e._queryParams,dt);return qi(t),new Fi(e._repo,e._path,t,!0)},t}(co);function Po(){return new xo}var No=function(e){function t(t,n){var r=e.call(this)||this;return r._value=t,r._key=n,r}return Object(a.c)(t,e),t.prototype._apply=function(e){if(Hr("equalTo",this._value,e._path,!1),e._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(e._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new lo(this._value,this._key)._apply(new vo(this._value,this._key)._apply(e))},t}(co);function Ao(e,t){return Yr("equalTo","key",t,!0),new No(e,t)}function Ro(e){for(var t,n,r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];var s=Object(o.o)(e);try{for(var u=Object(a.g)(r),c=u.next();!c.done;c=u.next()){var l=c.value;s=l._apply(s)}}catch(h){t={error:h}}finally{try{c&&!c.done&&(n=u.return)&&n.call(u)}finally{if(t)throw t.error}}return s}!function(e){Object(o.e)(!Mn,"__referenceConstructor has already been defined"),Mn=e}(Vi),function(e){Object(o.e)(!zn,"__referenceConstructor has already been defined"),zn=e}(Vi);var Do={},jo=!1;function Lo(t,n,r,i,o){var a=i||t.options.databaseURL;void 0===a&&(t.options.projectId||C("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),E("Using default host for project ",t.options.projectId),a=t.options.projectId+"-default-rtdb.firebaseio.com");var s,u=Ai(a,o),c=u.repoInfo,l=void 0;"undefined"!==typeof e&&(l=Object({NODE_ENV:"production",PUBLIC_URL:"/React-Forms-Project",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).FIREBASE_DATABASE_EMULATOR_HOST),l?(s=!0,a="http://"+l+"?ns="+c.namespace,c=(u=Ai(a,o)).repoInfo):s=!u.repoInfo.secure;var h=o&&s?new H(H.OWNER):new z(t.name,t.options,n);Zr("Invalid Firebase Database URL",u),Te(u.path)||C("Database URL must point to the root of a Firebase Database (not including a child path).");var f=function(e,t,n,r){var i=Do[t.name];i||(i={},Do[t.name]=i);var o=i[e.toURLString()];o&&C("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call.");return o=new ui(e,jo,n,r),i[e.toURLString()]=o,o}(c,t,h,new W(t.name,r));return new Mo(f,t)}var Mo=function(){function e(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}return Object.defineProperty(e.prototype,"_repo",{get:function(){return this._instanceStarted||(ci(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_root",{get:function(){return this._rootInternal||(this._rootInternal=new Vi(this._repo,ge())),this._rootInternal},enumerable:!1,configurable:!0}),e.prototype._delete=function(){return null!==this._rootInternal&&(!function(e,t){var n=Do[t];n&&n[e.key]===e||C("Database "+t+"("+e.repoInfo_+") has already been deleted."),_i(e),delete n[e.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()},e.prototype._checkNotDeleted=function(e){null===this._rootInternal&&C("Cannot call "+e+" on a deleted database.")},e}();function Fo(e,t,n,r){void 0===r&&(r={}),(e=Object(o.o)(e))._checkNotDeleted("useEmulator"),e._instanceStarted&&C("Cannot call useEmulator() after instance has already been initialized.");var i=e._repoInternal,a=void 0;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&C('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),a=new H(H.OWNER);else if(r.mockUserToken){var s="string"===typeof r.mockUserToken?r.mockUserToken:Object(o.j)(r.mockUserToken,e.app.options.projectId);a=new H(s)}!function(e,t,n,r){e.repoInfo_=new X(t+":"+n,!1,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams),r&&(e.authTokenProvider_=r)}(i,t,n,a)}function Uo(e){(e=Object(o.o)(e))._checkNotDeleted("goOffline"),_i(e._repo)}function qo(e){var t;(e=Object(o.o)(e))._checkNotDeleted("goOnline"),(t=e._repo).persistentConnection_&&t.persistentConnection_.resume(si)}var Bo={".sv":"timestamp"};var Vo=function(){function e(e,t){this.committed=e,this.snapshot=t}return e.prototype.toJSON=function(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}},e}();function Wo(e,t,n){var r;if(e=Object(o.o)(e),Jr("Reference.transaction",e._path),".length"===e.key||".keys"===e.key)throw"Reference.transaction failed: "+e.key+" is a read-only object.";var i=null===(r=null===n||void 0===n?void 0:n.applyLocally)||void 0===r||r,a=new o.a,s=ro(e,(function(){}));return function(e,t,n,r,i,a){wi(e,"transaction on "+t);var s={path:t,update:n,onComplete:r,status:null,order:g(),applyLocally:a,retryCount:0,unwatcher:i,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},u=Si(e,t,void 0);s.currentInputSnapshot=u;var c=s.update(u.val());if(void 0===c)s.unwatcher(),s.currentOutputSnapshotRaw=null,s.currentOutputSnapshotResolved=null,s.onComplete&&s.onComplete(null,!1,s.currentInputSnapshot);else{Kr("transaction failed: Data returned ",c,s.path),s.status=0;var l=Nr(e.transactionQueueTree_,t),h=Ar(l)||[];h.push(s),Rr(l,h);var f=void 0;"object"===typeof c&&null!==c&&Object(o.i)(c,".priority")?(f=Object(o.A)(c,".priority"),Object(o.e)(zr(f),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):f=(lr(e.serverSyncTree_,t)||ut.EMPTY_NODE).getPriority().val();var d=hi(e),p=lt(c,f),v=Or(p,u,d);s.currentOutputSnapshotRaw=p,s.currentOutputSnapshotResolved=v,s.currentWriteId=vi(e);var y=ir(e.serverSyncTree_,t,v,s.currentWriteId,s.applyLocally);ii(e.eventQueue_,t,y),Ti(e,e.transactionQueueTree_)}}(e._repo,e._path,t,(function(t,n,r){var i=null;t?a.reject(t):(i=new Wi(r,new Vi(e._repo,e._path),nt),a.resolve(new Vo(n,i)))}),s,i),a.promise}var zo=function(){function e(e){this._delegate=e}return e.prototype.cancel=function(e){Object(o.E)("OnDisconnect.cancel",0,1,arguments.length),Object(o.F)("OnDisconnect.cancel","onComplete",e,!0);var t=this._delegate.cancel();return e&&t.then((function(){return e(null)}),(function(t){return e(t)})),t},e.prototype.remove=function(e){Object(o.E)("OnDisconnect.remove",0,1,arguments.length),Object(o.F)("OnDisconnect.remove","onComplete",e,!0);var t=this._delegate.remove();return e&&t.then((function(){return e(null)}),(function(t){return e(t)})),t},e.prototype.set=function(e,t){Object(o.E)("OnDisconnect.set",1,2,arguments.length),Object(o.F)("OnDisconnect.set","onComplete",t,!0);var n=this._delegate.set(e);return t&&n.then((function(){return t(null)}),(function(e){return t(e)})),n},e.prototype.setWithPriority=function(e,t,n){Object(o.E)("OnDisconnect.setWithPriority",2,3,arguments.length),Object(o.F)("OnDisconnect.setWithPriority","onComplete",n,!0);var r=this._delegate.setWithPriority(e,t);return n&&r.then((function(){return n(null)}),(function(e){return n(e)})),r},e.prototype.update=function(e,t){if(Object(o.E)("OnDisconnect.update",1,2,arguments.length),Array.isArray(e)){for(var n={},r=0;r<e.length;++r)n[""+r]=e[r];e=n,I("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Object(o.F)("OnDisconnect.update","onComplete",t,!0);var i=this._delegate.update(e);return t&&i.then((function(){return t(null)}),(function(e){return t(e)})),i},e}(),Ho=function(){function e(e,t){this.committed=e,this.snapshot=t}return e.prototype.toJSON=function(){return Object(o.E)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}},e}(),Ko=function(){function e(e,t){this._database=e,this._delegate=t}return e.prototype.val=function(){return Object(o.E)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()},e.prototype.exportVal=function(){return Object(o.E)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()},e.prototype.toJSON=function(){return Object(o.E)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()},e.prototype.exists=function(){return Object(o.E)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()},e.prototype.child=function(t){return Object(o.E)("DataSnapshot.child",0,1,arguments.length),t=String(t),Xr("DataSnapshot.child","path",t,!1),new e(this._database,this._delegate.child(t))},e.prototype.hasChild=function(e){return Object(o.E)("DataSnapshot.hasChild",1,1,arguments.length),Xr("DataSnapshot.hasChild","path",e,!1),this._delegate.hasChild(e)},e.prototype.getPriority=function(){return Object(o.E)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority},e.prototype.forEach=function(t){var n=this;return Object(o.E)("DataSnapshot.forEach",1,1,arguments.length),Object(o.F)("DataSnapshot.forEach","action",t,!1),this._delegate.forEach((function(r){return t(new e(n._database,r))}))},e.prototype.hasChildren=function(){return Object(o.E)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()},Object.defineProperty(e.prototype,"key",{get:function(){return this._delegate.key},enumerable:!1,configurable:!0}),e.prototype.numChildren=function(){return Object(o.E)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size},e.prototype.getRef=function(){return Object(o.E)("DataSnapshot.ref",0,0,arguments.length),new Qo(this._database,this._delegate.ref)},Object.defineProperty(e.prototype,"ref",{get:function(){return this.getRef()},enumerable:!1,configurable:!0}),e}(),Go=function(){function e(e,t){this.database=e,this._delegate=t}return e.prototype.on=function(t,n,r,i){var a,s=this;Object(o.E)("Query.on",2,4,arguments.length),Object(o.F)("Query.on","callback",n,!1);var u=e.getCancelAndContextArgs_("Query.on",r,i),c=function(e,t){n.call(u.context,new Ko(s.database,e),t)};c.userCallback=n,c.context=u.context;var l=null===(a=u.cancel)||void 0===a?void 0:a.bind(u.context);switch(t){case"value":return ro(this._delegate,c,l),n;case"child_added":return io(this._delegate,c,l),n;case"child_removed":return so(this._delegate,c,l),n;case"child_changed":return oo(this._delegate,c,l),n;case"child_moved":return ao(this._delegate,c,l),n;default:throw new Error(Object(o.n)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},e.prototype.off=function(e,t,n){if(Object(o.E)("Query.off",0,3,arguments.length),$r("Query.off",e,!0),Object(o.F)("Query.off","callback",t,!0),Object(o.G)("Query.off","context",n,!0),t){var r=function(){};r.userCallback=t,r.context=n,uo(this._delegate,e,r)}else uo(this._delegate,e)},e.prototype.get=function(){var e=this;return Zi(this._delegate).then((function(t){return new Ko(e.database,t)}))},e.prototype.once=function(t,n,r,i){var a=this;Object(o.E)("Query.once",1,4,arguments.length),Object(o.F)("Query.once","callback",n,!0);var s=e.getCancelAndContextArgs_("Query.once",r,i),u=new o.a,c=function(e,t){var r=new Ko(a.database,e);n&&n.call(s.context,r,t),u.resolve(r)};c.userCallback=n,c.context=s.context;var l=function(e){s.cancel&&s.cancel.call(s.context,e),u.reject(e)};switch(t){case"value":ro(this._delegate,c,l,{onlyOnce:!0});break;case"child_added":io(this._delegate,c,l,{onlyOnce:!0});break;case"child_removed":so(this._delegate,c,l,{onlyOnce:!0});break;case"child_changed":oo(this._delegate,c,l,{onlyOnce:!0});break;case"child_moved":ao(this._delegate,c,l,{onlyOnce:!0});break;default:throw new Error(Object(o.n)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return u.promise},e.prototype.limitToFirst=function(t){return Object(o.E)("Query.limitToFirst",1,1,arguments.length),new e(this.database,Ro(this._delegate,_o(t)))},e.prototype.limitToLast=function(t){return Object(o.E)("Query.limitToLast",1,1,arguments.length),new e(this.database,Ro(this._delegate,Eo(t)))},e.prototype.orderByChild=function(t){return Object(o.E)("Query.orderByChild",1,1,arguments.length),new e(this.database,Ro(this._delegate,To(t)))},e.prototype.orderByKey=function(){return Object(o.E)("Query.orderByKey",0,0,arguments.length),new e(this.database,Ro(this._delegate,Io()))},e.prototype.orderByPriority=function(){return Object(o.E)("Query.orderByPriority",0,0,arguments.length),new e(this.database,Ro(this._delegate,Oo()))},e.prototype.orderByValue=function(){return Object(o.E)("Query.orderByValue",0,0,arguments.length),new e(this.database,Ro(this._delegate,Po()))},e.prototype.startAt=function(t,n){return void 0===t&&(t=null),Object(o.E)("Query.startAt",0,2,arguments.length),new e(this.database,Ro(this._delegate,go(t,n)))},e.prototype.startAfter=function(t,n){return void 0===t&&(t=null),Object(o.E)("Query.startAfter",0,2,arguments.length),new e(this.database,Ro(this._delegate,mo(t,n)))},e.prototype.endAt=function(t,n){return void 0===t&&(t=null),Object(o.E)("Query.endAt",0,2,arguments.length),new e(this.database,Ro(this._delegate,ho(t,n)))},e.prototype.endBefore=function(t,n){return void 0===t&&(t=null),Object(o.E)("Query.endBefore",0,2,arguments.length),new e(this.database,Ro(this._delegate,po(t,n)))},e.prototype.equalTo=function(t,n){return Object(o.E)("Query.equalTo",1,2,arguments.length),new e(this.database,Ro(this._delegate,Ao(t,n)))},e.prototype.toString=function(){return Object(o.E)("Query.toString",0,0,arguments.length),this._delegate.toString()},e.prototype.toJSON=function(){return Object(o.E)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()},e.prototype.isEqual=function(t){if(Object(o.E)("Query.isEqual",1,1,arguments.length),!(t instanceof e)){var n="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(n)}return this._delegate.isEqual(t._delegate)},e.getCancelAndContextArgs_=function(e,t,n){var r={cancel:void 0,context:void 0};if(t&&n)r.cancel=t,Object(o.F)(e,"cancel",r.cancel,!0),r.context=n,Object(o.G)(e,"context",r.context,!0);else if(t)if("object"===typeof t&&null!==t)r.context=t;else{if("function"!==typeof t)throw new Error(Object(o.n)(e,"cancelOrContext")+" must either be a cancel callback or a context object.");r.cancel=t}return r},Object.defineProperty(e.prototype,"ref",{get:function(){return new Qo(this.database,new Vi(this._delegate._repo,this._delegate._path))},enumerable:!1,configurable:!0}),e}(),Qo=function(e){function t(t,n){var r=e.call(this,t,new Fi(n._repo,n._path,new Ct,!1))||this;return r.database=t,r._delegate=n,r}return Object(a.c)(t,e),t.prototype.getKey=function(){return Object(o.E)("Reference.key",0,0,arguments.length),this._delegate.key},t.prototype.child=function(e){return Object(o.E)("Reference.child",1,1,arguments.length),"number"===typeof e&&(e=String(e)),new t(this.database,Ki(this._delegate,e))},t.prototype.getParent=function(){Object(o.E)("Reference.parent",0,0,arguments.length);var e=this._delegate.parent;return e?new t(this.database,e):null},t.prototype.getRoot=function(){return Object(o.E)("Reference.root",0,0,arguments.length),new t(this.database,this._delegate.root)},t.prototype.set=function(e,t){Object(o.E)("Reference.set",1,2,arguments.length),Object(o.F)("Reference.set","onComplete",t,!0);var n=$i(this._delegate,e);return t&&n.then((function(){return t(null)}),(function(e){return t(e)})),n},t.prototype.update=function(e,t){if(Object(o.E)("Reference.update",1,2,arguments.length),Array.isArray(e)){for(var n={},r=0;r<e.length;++r)n[""+r]=e[r];e=n,I("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Jr("Reference.update",this._delegate._path),Object(o.F)("Reference.update","onComplete",t,!0);var i=Ji(this._delegate,e);return t&&i.then((function(){return t(null)}),(function(e){return t(e)})),i},t.prototype.setWithPriority=function(e,t,n){Object(o.E)("Reference.setWithPriority",2,3,arguments.length),Object(o.F)("Reference.setWithPriority","onComplete",n,!0);var r=Xi(this._delegate,e,t);return n&&r.then((function(){return n(null)}),(function(e){return n(e)})),r},t.prototype.remove=function(e){Object(o.E)("Reference.remove",0,1,arguments.length),Object(o.F)("Reference.remove","onComplete",e,!0);var t=Qi(this._delegate);return e&&t.then((function(){return e(null)}),(function(t){return e(t)})),t},t.prototype.transaction=function(e,t,n){var r=this;Object(o.E)("Reference.transaction",1,3,arguments.length),Object(o.F)("Reference.transaction","transactionUpdate",e,!1),Object(o.F)("Reference.transaction","onComplete",t,!0),ei("Reference.transaction","applyLocally",n,!0);var i=Wo(this._delegate,e,{applyLocally:n}).then((function(e){return new Ho(e.committed,new Ko(r.database,e.snapshot))}));return t&&i.then((function(e){return t(null,e.committed,e.snapshot)}),(function(e){return t(e,!1,null)})),i},t.prototype.setPriority=function(e,t){Object(o.E)("Reference.setPriority",1,2,arguments.length),Object(o.F)("Reference.setPriority","onComplete",t,!0);var n=Yi(this._delegate,e);return t&&n.then((function(){return t(null)}),(function(e){return t(e)})),n},t.prototype.push=function(e,n){var r=this;Object(o.E)("Reference.push",0,2,arguments.length),Object(o.F)("Reference.push","onComplete",n,!0);var i=Gi(this._delegate,e),a=i.then((function(e){return new t(r.database,e)}));n&&a.then((function(){return n(null)}),(function(e){return n(e)}));var s=new t(this.database,i);return s.then=a.then.bind(a),s.catch=a.catch.bind(a,void 0),s},t.prototype.onDisconnect=function(){return Jr("Reference.onDisconnect",this._delegate._path),new zo(new Mi(this._delegate._repo,this._delegate._path))},Object.defineProperty(t.prototype,"key",{get:function(){return this.getKey()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return this.getParent()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){return this.getRoot()},enumerable:!1,configurable:!0}),t}(Go),$o=function(){function e(e,t){var n=this;this._delegate=e,this.app=t,this.INTERNAL={delete:function(){return n._delegate._delete()}}}return e.prototype.useEmulator=function(e,t,n){void 0===n&&(n={}),Fo(this._delegate,e,t,n)},e.prototype.ref=function(e){if(Object(o.E)("database.ref",0,1,arguments.length),e instanceof Qo){var t=Hi(this._delegate,e.toString());return new Qo(this,t)}t=zi(this._delegate,e);return new Qo(this,t)},e.prototype.refFromURL=function(e){var t="database.refFromURL";Object(o.E)(t,1,1,arguments.length);var n=Hi(this._delegate,e);return new Qo(this,n)},e.prototype.goOffline=function(){return Object(o.E)("database.goOffline",0,0,arguments.length),Uo(this._delegate)},e.prototype.goOnline=function(){return Object(o.E)("database.goOnline",0,0,arguments.length),qo(this._delegate)},e.ServerValue={TIMESTAMP:Bo,increment:function(e){return function(e){return{".sv":{increment:e}}}(e)}},e}();var Yo=Object.freeze({__proto__:null,forceLongPolling:function(){ce.forceDisallow(),ae.forceAllow()},forceWebSockets:function(){ae.forceDisallow()},isWebSocketsAvailable:function(){return ce.isAvailable()},setSecurityDebugCallback:function(e,t){e._delegate._repo.persistentConnection_.securityDebugCallback_=t},stats:function(e,t){!function(e,t){if(void 0===t&&(t=!1),"undefined"!==typeof console){var n;t?(e.statsListener_||(e.statsListener_=new Ft(e.stats_)),n=e.statsListener_.get()):n=e.stats_.get();var r=Object.keys(n).reduce((function(e,t){return Math.max(t.length,e)}),0);j(n,(function(e,t){for(var n=e,i=e.length;i<r+2;i++)n+=" ";console.log(n+t)}))}}(e._delegate._repo,t)},statsIncrementCounter:function(e,t){!function(e,t){var n,r;e.stats_.incrementCounter(t),n=e.statsReporter_,r=t,n.statsToReport_[r]=!0}(e._delegate._repo,t)},dataUpdateCount:function(e){return e._delegate._repo.dataUpdateCount},interceptServerData:function(e,t){return function(e,t){e.interceptServerDataCallback_=t}(e._delegate._repo,t)},initStandalone:function(e){var t=e.app,n=e.url,r=e.version,o=e.customAuthImpl,a=e.namespace,s=e.nodeAdmin,u=void 0!==s&&s;c(r);var l=new i.c("auth-internal",new i.b("database-standalone"));return l.setComponent(new i.a("auth-internal",(function(){return o}),"PRIVATE")),{instance:new $o(Lo(t,l,void 0,n,u),t),namespace:a}}}),Xo=Le;Le.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)},Le.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};var Jo=he,Zo=X,ea=Object.freeze({__proto__:null,DataConnection:Xo,RealTimeConnection:Jo,hijackHash:function(e){var t=Le.prototype.put;return Le.prototype.put=function(n,r,i,o){void 0!==o&&(o=e()),t.call(this,n,r,i,o)},function(){Le.prototype.put=t}},ConnectionTarget:Zo,queryIdentifier:function(e){return e._delegate._queryIdentifier},forceRestClient:function(e){!function(e){jo=e}(e)}}),ta=$o.ServerValue;!function(e){c(e.SDK_VERSION);var n=e.INTERNAL.registerComponent(new i.a("database",(function(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),o=e.getProvider("app-check-internal");return new $o(Lo(r,i,o,n),r)}),"PUBLIC").setServiceProps({Reference:Qo,Query:Go,Database:$o,DataSnapshot:Ko,enableLogging:w,INTERNAL:Yo,ServerValue:ta,TEST_ACCESS:ea}).setMultipleInstances(!0));e.registerVersion("@firebase/database","0.11.0"),Object(o.u)()&&(t.exports=n)}(r.a)}).call(this,n(26),n(100)(e))},function(e,t){e.exports=function(e){if(!e.webpackPolyfill){var t=Object.create(e);t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),Object.defineProperty(t,"exports",{enumerable:!0}),t.webpackPolyfill=1}return t}},,function(e,t,n){"use strict";var r=n(25),i=n(3),o=n(0),a=n(15),s="firebasestorage.googleapis.com",u="storageBucket",c=function(e){function t(n,r){var i=e.call(this,l(n),"Firebase Storage: "+r+" ("+l(n)+")")||this;return i.customData={serverResponse:null},i._baseMessage=i.message,Object.setPrototypeOf(i,t.prototype),i}return Object(i.c)(t,e),t.prototype._codeEquals=function(e){return l(e)===this.code},Object.defineProperty(t.prototype,"serverResponse",{get:function(){return this.customData.serverResponse},set:function(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=this._baseMessage+"\n"+this.customData.serverResponse:this.message=this._baseMessage},enumerable:!1,configurable:!0}),t}(o.c);function l(e){return"storage/"+e}function h(){return new c("unknown","An unknown error occurred, please check the error payload for server response.")}function f(){return new c("canceled","User canceled the upload/download.")}function d(){return new c("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function p(e){return new c("invalid-argument",e)}function v(){return new c("app-deleted","The Firebase app was deleted.")}function g(e){return new c("invalid-root-operation","The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function y(e,t){return new c("invalid-format","String does not match format '"+e+"': "+t)}function m(e){throw new c("internal-error","Internal error: "+e)}var b={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},_=function(e,t){this.data=e,this.contentType=t||null};function w(e,t){switch(e){case b.RAW:return new _(E(t));case b.BASE64:case b.BASE64URL:return new _(S(e,t));case b.DATA_URL:return new _(function(e){var t=new T(e);return t.base64?S(b.BASE64,t.rest):function(e){var t;try{t=decodeURIComponent(e)}catch(n){throw y(b.DATA_URL,"Malformed data URL.")}return E(t)}(t.rest)}(t),new T(t).contentType)}throw h()}function E(e){for(var t=[],n=0;n<e.length;n++){var r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|63&r);else if(55296===(64512&r))if(n<e.length-1&&56320===(64512&e.charCodeAt(n+1)))r=65536|(1023&r)<<10|1023&e.charCodeAt(++n),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r);else t.push(239,191,189);else 56320===(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function S(e,t){switch(e){case b.BASE64:var n=-1!==t.indexOf("-"),r=-1!==t.indexOf("_");if(n||r)throw y(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case b.BASE64URL:var i=-1!==t.indexOf("+"),o=-1!==t.indexOf("/");if(i||o)throw y(e,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/")}var a;try{a=atob(t)}catch(c){throw y(e,"Invalid character found")}for(var s=new Uint8Array(a.length),u=0;u<a.length;u++)s[u]=a.charCodeAt(u);return s}var T=function(e){this.base64=!1,this.contentType=null;var t=e.match(/^data:([^,]+)?,/);if(null===t)throw y(b.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var n=t[1]||null;null!=n&&(this.base64=(r=n,i=";base64",r.length>=i.length&&r.substring(r.length-i.length)===i),this.contentType=this.base64?n.substring(0,n.length-";base64".length):n),this.rest=e.substring(e.indexOf(",")+1);var r,i};var C,I={STATE_CHANGED:"state_changed"},k={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function O(e){switch(e){case"running":case"pausing":case"canceling":return k.RUNNING;case"paused":return k.PAUSED;case"success":return k.SUCCESS;case"canceled":return k.CANCELED;default:return k.ERROR}}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(C||(C={}));var x=function(){function e(){var e=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=C.NO_ERROR,this.sendPromise_=new Promise((function(t){e.xhr_.addEventListener("abort",(function(){e.errorCode_=C.ABORT,t()})),e.xhr_.addEventListener("error",(function(){e.errorCode_=C.NETWORK_ERROR,t()})),e.xhr_.addEventListener("load",(function(){t()}))}))}return e.prototype.send=function(e,t,n,r){if(this.sent_)throw m("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(var i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_},e.prototype.getErrorCode=function(){if(!this.sent_)throw m("cannot .getErrorCode() before sending");return this.errorCode_},e.prototype.getStatus=function(){if(!this.sent_)throw m("cannot .getStatus() before sending");try{return this.xhr_.status}catch(e){return-1}},e.prototype.getResponseText=function(){if(!this.sent_)throw m("cannot .getResponseText() before sending");return this.xhr_.responseText},e.prototype.abort=function(){this.xhr_.abort()},e.prototype.getResponseHeader=function(e){return this.xhr_.getResponseHeader(e)},e.prototype.addUploadProgressListener=function(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)},e.prototype.removeUploadProgressListener=function(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)},e}();var P=function(){function e(){}return e.prototype.createConnection=function(){return new x},e}(),N=function(){function e(e,t){this.bucket=e,this.path_=t}return Object.defineProperty(e.prototype,"path",{get:function(){return this.path_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isRoot",{get:function(){return 0===this.path.length},enumerable:!1,configurable:!0}),e.prototype.fullServerUrl=function(){var e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)},e.prototype.bucketOnlyServerUrl=function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"},e.makeFromBucketSpec=function(t,n){var r;try{r=e.makeFromUrl(t,n)}catch(i){return new e(t,"")}if(""===r.path)return r;throw new c("invalid-default-bucket","Invalid default bucket '"+t+"'.")},e.makeFromUrl=function(t,n){var r=null,i="([A-Za-z0-9.\\-_]+)";var o=new RegExp("^gs://"+i+"(/(.*))?$","i");function a(e){e.path_=decodeURIComponent(e.path)}for(var u=n.replace(/[.]/g,"\\."),l=[{regex:o,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp("^https?://"+u+"/v[A-Za-z0-9_]+/b/"+i+"/o(/([^?#]*).*)?$","i"),indices:{bucket:1,path:3},postModify:a},{regex:new RegExp("^https?://"+(n===s?"(?:storage.googleapis.com|storage.cloud.google.com)":n)+"/"+i+"/([^?#]*)","i"),indices:{bucket:1,path:2},postModify:a}],h=0;h<l.length;h++){var f=l[h],d=f.regex.exec(t);if(d){var p=d[f.indices.bucket],v=d[f.indices.path];v||(v=""),r=new e(p,v),f.postModify(r);break}}if(null==r)throw function(e){return new c("invalid-url","Invalid URL '"+e+"'.")}(t);return r},e}(),A=function(){function e(e){this.promise_=Promise.reject(e)}return e.prototype.getPromise=function(){return this.promise_},e.prototype.cancel=function(e){},e}();function R(e){return"string"===typeof e||e instanceof String}function D(e){return j()&&e instanceof Blob}function j(){return"undefined"!==typeof Blob}function L(e,t,n,r){if(r<t)throw p("Invalid value for '"+e+"'. Expected "+t+" or greater.");if(r>n)throw p("Invalid value for '"+e+"'. Expected "+n+" or less.")}function M(e,t){var n=t.match(/^(\w+):\/\/.+/),r=t;return null==(null===n||void 0===n?void 0:n[1])&&(r="https://"+t),r+"/v0"+e}function F(e){var t=encodeURIComponent,n="?";for(var r in e){if(e.hasOwnProperty(r))n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1)}var U=function(){function e(e,t,n,r,i,o,a,s,u,c,l){var h=this;this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=e,this.method_=t,this.headers_=n,this.body_=r,this.successCodes_=i.slice(),this.additionalRetryCodes_=o.slice(),this.callback_=a,this.errorCallback_=s,this.progressCallback_=c,this.timeout_=u,this.pool_=l,this.promise_=new Promise((function(e,t){h.resolve_=e,h.reject_=t,h.start_()}))}return e.prototype.start_=function(){var e=this;function t(t,n){var r,i=e.resolve_,o=e.reject_,a=n.connection;if(n.wasSuccessCode)try{var s=e.callback_(a,a.getResponseText());void 0!==s?i(s):i()}catch(u){o(u)}else null!==a?((r=h()).serverResponse=a.getResponseText(),e.errorCallback_?o(e.errorCallback_(a,r)):o(r)):n.canceled?o(r=e.appDelete_?v():f()):o(r=new c("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))}this.canceled_?t(0,new q(!1,null,!0)):this.backoffId_=function(e,t,n){var r=1,o=null,a=!1,s=0;function u(){return 2===s}var c=!1;function l(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];c||(c=!0,t.apply(null,e))}function h(t){o=setTimeout((function(){o=null,e(f,u())}),t)}function f(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(!c)if(e)l.call.apply(l,Object(i.f)([null,e],t));else{var o;u()||a?l.call.apply(l,Object(i.f)([null,e],t)):(r<64&&(r*=2),1===s?(s=2,o=0):o=1e3*(r+Math.random()),h(o))}}var d=!1;function p(e){d||(d=!0,c||(null!==o?(e||(s=2),clearTimeout(o),h(0)):e||(s=1)))}return h(0),setTimeout((function(){a=!0,p(!0)}),n),p}((function(t,n){if(n)t(!1,new q(!1,null,!0));else{var r=e.pool_.createConnection();e.pendingConnection_=r,null!==e.progressCallback_&&r.addUploadProgressListener(i),r.send(e.url_,e.method_,e.body_,e.headers_).then((function(){null!==e.progressCallback_&&r.removeUploadProgressListener(i),e.pendingConnection_=null;var n=r.getErrorCode()===C.NO_ERROR,o=r.getStatus();if(n&&!e.isRetryStatusCode_(o)){var a=-1!==e.successCodes_.indexOf(o);t(!0,new q(a,r))}else{var s=r.getErrorCode()===C.ABORT;t(!1,new q(!1,null,s))}}))}function i(t){var n=t.loaded,r=t.lengthComputable?t.total:-1;null!==e.progressCallback_&&e.progressCallback_(n,r)}}),t,this.timeout_)},e.prototype.getPromise=function(){return this.promise_},e.prototype.cancel=function(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingConnection_&&this.pendingConnection_.abort()},e.prototype.isRetryStatusCode_=function(e){var t=e>=500&&e<600,n=-1!==[408,429].indexOf(e),r=-1!==this.additionalRetryCodes_.indexOf(e);return t||n||r},e}(),q=function(e,t,n){this.wasSuccessCode=e,this.connection=t,this.canceled=!!n};function B(){return"undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function V(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=B();if(void 0!==n){for(var r=new n,i=0;i<e.length;i++)r.append(e[i]);return r.getBlob()}if(j())return new Blob(e);throw new c("unsupported-environment","This browser doesn't seem to support creating Blobs")}var W=function(){function e(e,t){var n=0,r="";D(e)?(this.data_=e,n=e.size,r=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),n=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),n=e.length),this.size_=n,this.type_=r}return e.prototype.size=function(){return this.size_},e.prototype.type=function(){return this.type_},e.prototype.slice=function(t,n){if(D(this.data_)){var r=function(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}(this.data_,t,n);return null===r?null:new e(r)}return new e(new Uint8Array(this.data_.buffer,t,n-t),!0)},e.getBlob=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(j()){var r=t.map((function(t){return t instanceof e?t.data_:t}));return new e(V.apply(null,r))}var i=t.map((function(e){return R(e)?w(b.RAW,e).data:e.data_})),o=0;i.forEach((function(e){o+=e.byteLength}));var a=new Uint8Array(o),s=0;return i.forEach((function(e){for(var t=0;t<e.length;t++)a[s++]=e[t]})),new e(a,!0)},e.prototype.uploadData=function(){return this.data_},e}();function z(e){var t,n;try{t=JSON.parse(e)}catch(r){return null}return"object"!==typeof(n=t)||Array.isArray(n)?null:t}function H(e){var t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function K(e,t){return t}var G=function(e,t,n,r){this.server=e,this.local=t||e,this.writable=!!n,this.xform=r||K},Q=null;function $(){if(Q)return Q;var e=[];e.push(new G("bucket")),e.push(new G("generation")),e.push(new G("metageneration")),e.push(new G("name","fullPath",!0));var t=new G("name");t.xform=function(e,t){return function(e){return!R(e)||e.length<2?e:H(e)}(t)},e.push(t);var n=new G("size");return n.xform=function(e,t){return void 0!==t?Number(t):t},e.push(n),e.push(new G("timeCreated")),e.push(new G("updated")),e.push(new G("md5Hash",null,!0)),e.push(new G("cacheControl",null,!0)),e.push(new G("contentDisposition",null,!0)),e.push(new G("contentEncoding",null,!0)),e.push(new G("contentLanguage",null,!0)),e.push(new G("contentType",null,!0)),e.push(new G("metadata","customMetadata",!0)),Q=e}function Y(e,t,n){for(var r={type:"file"},i=n.length,o=0;o<i;o++){var a=n[o];r[a.local]=a.xform(r,t[a.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){var n=e.bucket,r=e.fullPath,i=new N(n,r);return t._makeStorageReference(i)}})}(r,e),r}function X(e,t,n){var r=z(t);return null===r?null:Y(e,r,n)}function J(e,t){for(var n={},r=t.length,i=0;i<r;i++){var o=t[i];o.writable&&(n[o.server]=e[o.local])}return JSON.stringify(n)}var Z="prefixes",ee="items";function te(e,t,n){var r=z(n);return null===r?null:function(e,t,n){var r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n[Z])for(var i=0,o=n[Z];i<o.length;i++){var a=o[i].replace(/\/$/,""),s=e._makeStorageReference(new N(t,a));r.prefixes.push(s)}if(n[ee])for(var u=0,c=n[ee];u<c.length;u++){var l=c[u];s=e._makeStorageReference(new N(t,l.name)),r.items.push(s)}return r}(e,t,r)}var ne=function(e,t,n,r){this.url=e,this.method=t,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]};function re(e){if(!e)throw h()}function ie(e,t){return function(n,r){var i=X(e,r,t);return re(null!==i),i}}function oe(e,t){return function(n,r){var i=X(e,r,t);return re(null!==i),function(e,t,n){var r=z(t);if(null===r)return null;if(!R(r.downloadTokens))return null;var i=r.downloadTokens;if(0===i.length)return null;var o=encodeURIComponent;return i.split(",").map((function(t){var r=e.bucket,i=e.fullPath;return M("/b/"+o(r)+"/o/"+o(i),n)+F({alt:"media",token:t})}))[0]}(i,r,e.host)}}function ae(e){return function(t,n){var r,i,o;return 401===t.getStatus()?r=t.getResponseText().includes("Firebase App Check token is invalid")?new c("unauthorized-app","This app does not have permission to access Firebase Storage on this project."):new c("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?(o=e.bucket,r=new c("quota-exceeded","Quota for bucket '"+o+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===t.getStatus()?(i=e.path,r=new c("unauthorized","User does not have permission to access '"+i+"'.")):r=n,r.serverResponse=n.serverResponse,r}}function se(e){var t=ae(e);return function(n,r){var i,o=t(n,r);return 404===n.getStatus()&&(i=e.path,o=new c("object-not-found","Object '"+i+"' does not exist.")),o.serverResponse=r.serverResponse,o}}function ue(e,t,n){var r=M(t.fullServerUrl(),e.host),i=e.maxOperationRetryTime,o=new ne(r,"GET",ie(e,n),i);return o.errorHandler=se(t),o}function ce(e,t,n,r,i){var o={};t.isRoot?o.prefix="":o.prefix=t.path+"/",n&&n.length>0&&(o.delimiter=n),r&&(o.pageToken=r),i&&(o.maxResults=i);var a=M(t.bucketOnlyServerUrl(),e.host),s=e.maxOperationRetryTime,u=new ne(a,"GET",function(e,t){return function(n,r){var i=te(e,t,r);return re(null!==i),i}}(e,t.bucket),s);return u.urlParams=o,u.errorHandler=ae(t),u}function le(e,t,n){var r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=function(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}(null,t)),r}var he=function(e,t,n,r){this.current=e,this.total=t,this.finalized=!!n,this.metadata=r||null};function fe(e,t){var n=null;try{n=e.getResponseHeader("X-Goog-Upload-Status")}catch(r){re(!1)}return re(!!n&&-1!==(t||["active"]).indexOf(n)),n}var de=262144;function pe(e,t,n,r,i,o,a,s){var u=new he(0,0);if(a?(u.current=a.current,u.total=a.total):(u.current=0,u.total=r.size()),r.size()!==u.total)throw new c("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");var l=u.total-u.current,h=l;i>0&&(h=Math.min(h,i));var f=u.current,p=f+h,v={"X-Goog-Upload-Command":h===l?"upload, finalize":"upload","X-Goog-Upload-Offset":""+u.current},g=r.slice(f,p);if(null===g)throw d();var y=t.maxUploadRetryTime,m=new ne(n,"POST",(function(e,n){var i,a=fe(e,["active","final"]),s=u.current+h,c=r.size();return i="final"===a?ie(t,o)(e,n):null,new he(s,c,"final"===a,i)}),y);return m.headers=v,m.body=g.uploadData(),m.progressCallback=s||null,m.errorHandler=ae(e),m}var ve=function(e,t,n){if("function"===typeof e||null!=t||null!=n)this.next=e,this.error=t,this.complete=n;else{var r=e;this.next=r.next,this.error=r.error,this.complete=r.complete}};function ge(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];Promise.resolve().then((function(){return e.apply(void 0,t)}))}}var ye=function(){function e(e,t,n){var r=this;void 0===n&&(n=null),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=n,this._mappings=$(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(e){r._request=void 0,r._chunkMultiplier=1,e._codeEquals("canceled")?(r._needToFetchStatus=!0,r.completeTransitions_()):(r._error=e,r._transition("error"))},this._metadataErrorHandler=function(e){r._request=void 0,e._codeEquals("canceled")?r.completeTransitions_():(r._error=e,r._transition("error"))},this._promise=new Promise((function(e,t){r._resolve=e,r._reject=t,r._start()})),this._promise.then(null,(function(){}))}return e.prototype._makeProgressCallback=function(){var e=this,t=this._transferred;return function(n){return e._updateProgress(t+n)}},e.prototype._shouldDoResumable=function(e){return e.size()>262144},e.prototype._start=function(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())},e.prototype._resolveToken=function(e){var t=this;Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then((function(n){var r=n[0],i=n[1];switch(t._state){case"running":e(r,i);break;case"canceling":t._transition("canceled");break;case"pausing":t._transition("paused")}}))},e.prototype._createResumable=function(){var e=this;this._resolveToken((function(t,n){var r=function(e,t,n,r,i){var o=t.bucketOnlyServerUrl(),a=le(t,r,i),s={name:a.fullPath},u=M(o,e.host),c={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":""+r.size(),"X-Goog-Upload-Header-Content-Type":a.contentType,"Content-Type":"application/json; charset=utf-8"},l=J(a,n),h=e.maxUploadRetryTime,f=new ne(u,"POST",(function(e){var t;fe(e);try{t=e.getResponseHeader("X-Goog-Upload-URL")}catch(n){re(!1)}return re(R(t)),t}),h);return f.urlParams=s,f.headers=c,f.body=l,f.errorHandler=ae(t),f}(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),i=e._ref.storage._makeRequest(r,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._uploadUrl=t,e._needToFetchStatus=!1,e.completeTransitions_()}),e._errorHandler)}))},e.prototype._fetchStatus=function(){var e=this,t=this._uploadUrl;this._resolveToken((function(n,r){var i=function(e,t,n,r){var i=e.maxUploadRetryTime,o=new ne(n,"POST",(function(e){var t=fe(e,["active","final"]),n=null;try{n=e.getResponseHeader("X-Goog-Upload-Size-Received")}catch(o){re(!1)}n||re(!1);var i=Number(n);return re(!isNaN(i)),new he(i,r.size(),"final"===t)}),i);return o.headers={"X-Goog-Upload-Command":"query"},o.errorHandler=ae(t),o}(e._ref.storage,e._ref._location,t,e._blob),o=e._ref.storage._makeRequest(i,n,r);e._request=o,o.getPromise().then((function(t){e._request=void 0,e._updateProgress(t.current),e._needToFetchStatus=!1,t.finalized&&(e._needToFetchMetadata=!0),e.completeTransitions_()}),e._errorHandler)}))},e.prototype._continueUpload=function(){var e=this,t=de*this._chunkMultiplier,n=new he(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((function(i,o){var a;try{a=pe(e._ref._location,e._ref.storage,r,e._blob,t,e._mappings,n,e._makeProgressCallback())}catch(u){return e._error=u,void e._transition("error")}var s=e._ref.storage._makeRequest(a,i,o);e._request=s,s.getPromise().then((function(t){e._increaseMultiplier(),e._request=void 0,e._updateProgress(t.current),t.finalized?(e._metadata=t.metadata,e._transition("success")):e.completeTransitions_()}),e._errorHandler)}))},e.prototype._increaseMultiplier=function(){de*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)},e.prototype._fetchMetadata=function(){var e=this;this._resolveToken((function(t,n){var r=ue(e._ref.storage,e._ref._location,e._mappings),i=e._ref.storage._makeRequest(r,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._metadata=t,e._transition("success")}),e._metadataErrorHandler)}))},e.prototype._oneShotUpload=function(){var e=this;this._resolveToken((function(t,n){var r=function(e,t,n,r,i){var o=t.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"},s=function(){for(var e="",t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();a["Content-Type"]="multipart/related; boundary="+s;var u=le(t,r,i),c="--"+s+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+J(u,n)+"\r\n--"+s+"\r\nContent-Type: "+u.contentType+"\r\n\r\n",l="\r\n--"+s+"--",h=W.getBlob(c,r,l);if(null===h)throw d();var f={name:u.fullPath},p=M(o,e.host),v=e.maxUploadRetryTime,g=new ne(p,"POST",ie(e,n),v);return g.urlParams=f,g.headers=a,g.body=h.uploadData(),g.errorHandler=ae(t),g}(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),i=e._ref.storage._makeRequest(r,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._metadata=t,e._updateProgress(e._blob.size()),e._transition("success")}),e._errorHandler)}))},e.prototype._updateProgress=function(e){var t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()},e.prototype._transition=function(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request&&this._request.cancel();break;case"running":var t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=f(),this._state=e,this._notifyObservers()}},e.prototype.completeTransitions_=function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}},Object.defineProperty(e.prototype,"snapshot",{get:function(){var e=O(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}},enumerable:!1,configurable:!0}),e.prototype.on=function(e,t,n,r){var i=this,o=new ve(t,n,r);return this._addObserver(o),function(){i._removeObserver(o)}},e.prototype.then=function(e,t){return this._promise.then(e,t)},e.prototype.catch=function(e){return this.then(null,e)},e.prototype._addObserver=function(e){this._observers.push(e),this._notifyObserver(e)},e.prototype._removeObserver=function(e){var t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)},e.prototype._notifyObservers=function(){var e=this;this._finishPromise(),this._observers.slice().forEach((function(t){e._notifyObserver(t)}))},e.prototype._finishPromise=function(){if(void 0!==this._resolve){var e=!0;switch(O(this._state)){case k.SUCCESS:ge(this._resolve.bind(null,this.snapshot))();break;case k.CANCELED:case k.ERROR:ge(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}},e.prototype._notifyObserver=function(e){switch(O(this._state)){case k.RUNNING:case k.PAUSED:e.next&&ge(e.next.bind(e,this.snapshot))();break;case k.SUCCESS:e.complete&&ge(e.complete.bind(e))();break;default:e.error&&ge(e.error.bind(e,this._error))()}},e.prototype.resume=function(){var e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e},e.prototype.pause=function(){var e="running"===this._state;return e&&this._transition("pausing"),e},e.prototype.cancel=function(){var e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e},e}(),me=function(){function e(e,t){this._service=e,this._location=t instanceof N?t:N.makeFromUrl(t,e.host)}return e.prototype.toString=function(){return"gs://"+this._location.bucket+"/"+this._location.path},e.prototype._newRef=function(t,n){return new e(t,n)},Object.defineProperty(e.prototype,"root",{get:function(){var e=new N(this._location.bucket,"");return this._newRef(this._service,e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bucket",{get:function(){return this._location.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fullPath",{get:function(){return this._location.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return H(this._location.path)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"storage",{get:function(){return this._service},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=function(e){if(0===e.length)return null;var t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===t)return null;var n=new N(this._location.bucket,t);return new e(this._service,n)},enumerable:!1,configurable:!0}),e.prototype._throwIfRoot=function(e){if(""===this._location.path)throw g(e)},e}();function be(e){var t={prefixes:[],items:[]};return _e(e,t).then((function(){return t}))}function _e(e,t,n){return Object(i.b)(this,void 0,void 0,(function(){var r,o,a;return Object(i.d)(this,(function(i){switch(i.label){case 0:return[4,we(e,{pageToken:n})];case 1:return r=i.sent(),(o=t.prefixes).push.apply(o,r.prefixes),(a=t.items).push.apply(a,r.items),null==r.nextPageToken?[3,3]:[4,_e(e,t,r.nextPageToken)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}function we(e,t){return Object(i.b)(this,void 0,void 0,(function(){var n,r;return Object(i.d)(this,(function(i){switch(i.label){case 0:return null!=t&&"number"===typeof t.maxResults&&L("options.maxResults",1,1e3,t.maxResults),n=t||{},r=ce(e.storage,e._location,"/",n.pageToken,n.maxResults),[4,e.storage.makeRequestWithTokens(r)];case 1:return[2,i.sent().getPromise()]}}))}))}function Ee(e,t){return Object(i.b)(this,void 0,void 0,(function(){var n;return Object(i.d)(this,(function(r){switch(r.label){case 0:return e._throwIfRoot("updateMetadata"),n=function(e,t,n,r){var i=M(t.fullServerUrl(),e.host),o=J(n,r),a=e.maxOperationRetryTime,s=new ne(i,"PATCH",ie(e,r),a);return s.headers={"Content-Type":"application/json; charset=utf-8"},s.body=o,s.errorHandler=se(t),s}(e.storage,e._location,t,$()),[4,e.storage.makeRequestWithTokens(n)];case 1:return[2,r.sent().getPromise()]}}))}))}function Se(e){return Object(i.b)(this,void 0,void 0,(function(){var t;return Object(i.d)(this,(function(n){switch(n.label){case 0:return e._throwIfRoot("getDownloadURL"),t=function(e,t,n){var r=M(t.fullServerUrl(),e.host),i=e.maxOperationRetryTime,o=new ne(r,"GET",oe(e,n),i);return o.errorHandler=se(t),o}(e.storage,e._location,$()),[4,e.storage.makeRequestWithTokens(t)];case 1:return[2,n.sent().getPromise().then((function(e){if(null===e)throw new c("no-download-url","The given file does not have any download URLs.");return e}))]}}))}))}function Te(e){return Object(i.b)(this,void 0,void 0,(function(){var t;return Object(i.d)(this,(function(n){switch(n.label){case 0:return e._throwIfRoot("deleteObject"),t=function(e,t){var n=M(t.fullServerUrl(),e.host),r=e.maxOperationRetryTime,i=new ne(n,"DELETE",(function(e,t){}),r);return i.successCodes=[200,204],i.errorHandler=se(t),i}(e.storage,e._location),[4,e.storage.makeRequestWithTokens(t)];case 1:return[2,n.sent().getPromise()]}}))}))}function Ce(e,t){var n=function(e,t){var n=t.split("/").filter((function(e){return e.length>0})).join("/");return 0===e.length?n:e+"/"+n}(e._location.path,t),r=new N(e._location.bucket,n);return new me(e.storage,r)}function Ie(e){return/^[A-Za-z]+:\/\//.test(e)}function ke(e,t){if(e instanceof Pe){var n=e;if(null==n._bucket)throw new c("no-default-bucket","No default bucket found. Did you set the '"+u+"' property when initializing the app?");var r=new me(n,n._bucket);return null!=t?ke(r,t):r}return void 0!==t?Ce(e,t):e}function Oe(e,t){if(t&&Ie(t)){if(e instanceof Pe)return new me(e,t);throw p("To use ref(service, url), the first argument must be a Storage instance.")}return ke(e,t)}function xe(e,t){var n=null===t||void 0===t?void 0:t[u];return null==n?null:N.makeFromBucketSpec(n,e)}var Pe=function(){function e(e,t,n,r,i,o){this.app=e,this._authProvider=t,this._appCheckProvider=n,this._pool=r,this._url=i,this._firebaseVersion=o,this._bucket=null,this._host=s,this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?N.makeFromBucketSpec(i,this._host):xe(this._host,this.app.options)}return Object.defineProperty(e.prototype,"host",{get:function(){return this._host},set:function(e){this._host=e,null!=this._url?this._bucket=N.makeFromBucketSpec(this._url,e):this._bucket=xe(e,this.app.options)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxUploadRetryTime",{get:function(){return this._maxUploadRetryTime},set:function(e){L("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxOperationRetryTime",{get:function(){return this._maxOperationRetryTime},set:function(e){L("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e},enumerable:!1,configurable:!0}),e.prototype._getAuthToken=function(){return Object(i.b)(this,void 0,void 0,(function(){var e,t;return Object(i.d)(this,(function(n){switch(n.label){case 0:return this._overrideAuthToken?[2,this._overrideAuthToken]:(e=this._authProvider.getImmediate({optional:!0}))?[4,e.getToken()]:[3,2];case 1:if(null!==(t=n.sent()))return[2,t.accessToken];n.label=2;case 2:return[2,null]}}))}))},e.prototype._getAppCheckToken=function(){return Object(i.b)(this,void 0,void 0,(function(){var e;return Object(i.d)(this,(function(t){switch(t.label){case 0:return(e=this._appCheckProvider.getImmediate({optional:!0}))?[4,e.getToken()]:[3,2];case 1:return[2,t.sent().token];case 2:return[2,null]}}))}))},e.prototype._delete=function(){return this._deleted||(this._deleted=!0,this._requests.forEach((function(e){return e.cancel()})),this._requests.clear()),Promise.resolve()},e.prototype._makeStorageReference=function(e){return new me(this,e)},e.prototype._makeRequest=function(e,t,n){var r=this;if(this._deleted)return new A(v());var i=function(e,t,n,r,i,o){var a=F(e.urlParams),s=e.url+a,u=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(u,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(u,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!==t&&void 0!==t?t:"AppManager")}(u,o),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(u,r),new U(s,e.method,u,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i)}(e,this._appId,t,n,this._pool,this._firebaseVersion);return this._requests.add(i),i.getPromise().then((function(){return r._requests.delete(i)}),(function(){return r._requests.delete(i)})),i},e.prototype.makeRequestWithTokens=function(e){return Object(i.b)(this,void 0,void 0,(function(){var t,n,r;return Object(i.d)(this,(function(i){switch(i.label){case 0:return[4,Promise.all([this._getAuthToken(),this._getAppCheckToken()])];case 1:return t=i.sent(),n=t[0],r=t[1],[2,this._makeRequest(e,n,r)]}}))}))},e}();function Ne(e,t,n){return function(e,t,n){return e._throwIfRoot("uploadBytesResumable"),new ye(e,new W(t),n)}(e=Object(o.o)(e),t,n)}function Ae(e){return function(e){return Object(i.b)(this,void 0,void 0,(function(){var t;return Object(i.d)(this,(function(n){switch(n.label){case 0:return e._throwIfRoot("getMetadata"),t=ue(e.storage,e._location,$()),[4,e.storage.makeRequestWithTokens(t)];case 1:return[2,n.sent().getPromise()]}}))}))}(e=Object(o.o)(e))}function Re(e,t){return Oe(e=Object(o.o)(e),t)}function De(e,t,n,r){void 0===r&&(r={}),function(e,t,n,r){void 0===r&&(r={}),e.host="http://"+t+":"+n;var i=r.mockUserToken;i&&(e._overrideAuthToken="string"===typeof i?i:Object(o.j)(i,e.app.options.projectId))}(e,t,n,r)}var je=function(){function e(e,t,n){this._delegate=e,this.task=t,this.ref=n}return Object.defineProperty(e.prototype,"bytesTransferred",{get:function(){return this._delegate.bytesTransferred},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"state",{get:function(){return this._delegate.state},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"totalBytes",{get:function(){return this._delegate.totalBytes},enumerable:!1,configurable:!0}),e}(),Le=function(){function e(e,t){this._delegate=e,this._ref=t,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}return Object.defineProperty(e.prototype,"snapshot",{get:function(){return new je(this._delegate.snapshot,this,this._ref)},enumerable:!1,configurable:!0}),e.prototype.then=function(e,t){var n=this;return this._delegate.then((function(t){if(e)return e(new je(t,n,n._ref))}),t)},e.prototype.on=function(e,t,n,r){var i=this,o=void 0;return t&&(o="function"===typeof t?function(e){return t(new je(e,i,i._ref))}:{next:t.next?function(e){return t.next(new je(e,i,i._ref))}:void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,o,n||void 0,r||void 0)},e}(),Me=function(){function e(e,t){this._delegate=e,this._service=t}return Object.defineProperty(e.prototype,"prefixes",{get:function(){var e=this;return this._delegate.prefixes.map((function(t){return new Fe(t,e._service)}))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"items",{get:function(){var e=this;return this._delegate.items.map((function(t){return new Fe(t,e._service)}))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"nextPageToken",{get:function(){return this._delegate.nextPageToken||null},enumerable:!1,configurable:!0}),e}(),Fe=function(){function e(e,t){this._delegate=e,this.storage=t}return Object.defineProperty(e.prototype,"name",{get:function(){return this._delegate.name},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bucket",{get:function(){return this._delegate.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fullPath",{get:function(){return this._delegate.fullPath},enumerable:!1,configurable:!0}),e.prototype.toString=function(){return this._delegate.toString()},e.prototype.child=function(t){var n=function(e,t){return Ce(e,t)}(this._delegate,t);return new e(n,this.storage)},Object.defineProperty(e.prototype,"root",{get:function(){return new e(this._delegate.root,this.storage)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._delegate.parent;return null==t?null:new e(t,this.storage)},enumerable:!1,configurable:!0}),e.prototype.put=function(e,t){return this._throwIfRoot("put"),new Le(Ne(this._delegate,e,t),this)},e.prototype.putString=function(e,t,n){void 0===t&&(t=b.RAW),this._throwIfRoot("putString");var r=w(t,e),o=Object(i.a)({},n);return null==o.contentType&&null!=r.contentType&&(o.contentType=r.contentType),new Le(new ye(this._delegate,new W(r.data,!0),o),this)},e.prototype.listAll=function(){var e,t=this;return(e=this._delegate,be(e=Object(o.o)(e))).then((function(e){return new Me(e,t.storage)}))},e.prototype.list=function(e){var t=this;return function(e,t){return we(e=Object(o.o)(e),t)}(this._delegate,e||void 0).then((function(e){return new Me(e,t.storage)}))},e.prototype.getMetadata=function(){return Ae(this._delegate)},e.prototype.updateMetadata=function(e){return function(e,t){return Ee(e=Object(o.o)(e),t)}(this._delegate,e)},e.prototype.getDownloadURL=function(){return e=this._delegate,Se(e=Object(o.o)(e));var e},e.prototype.delete=function(){return this._throwIfRoot("delete"),e=this._delegate,Te(e=Object(o.o)(e));var e},e.prototype._throwIfRoot=function(e){if(""===this._delegate._location.path)throw g(e)},e}(),Ue=function(){function e(e,t){this.app=e,this._delegate=t}return Object.defineProperty(e.prototype,"maxOperationRetryTime",{get:function(){return this._delegate.maxOperationRetryTime},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxUploadRetryTime",{get:function(){return this._delegate.maxUploadRetryTime},enumerable:!1,configurable:!0}),e.prototype.ref=function(e){if(Ie(e))throw p("ref() expected a child path but got a URL, use refFromURL instead.");return new Fe(Re(this._delegate,e),this)},e.prototype.refFromURL=function(e){if(!Ie(e))throw p("refFromURL() expected a full URL but got a child path, use ref() instead.");try{N.makeFromUrl(e,this._delegate.host)}catch(t){throw p("refFromUrl() expected a valid full URL but got an invalid one.")}return new Fe(Re(this._delegate,e),this)},e.prototype.setMaxUploadRetryTime=function(e){this._delegate.maxUploadRetryTime=e},e.prototype.setMaxOperationRetryTime=function(e){this._delegate.maxOperationRetryTime=e},e.prototype.useEmulator=function(e,t,n){void 0===n&&(n={}),De(this._delegate,e,t,n)},e}();function qe(e,t){var n=t.instanceIdentifier,i=e.getProvider("app").getImmediate(),o=e.getProvider("auth-internal"),a=e.getProvider("app-check-internal");return new Ue(i,new Pe(i,o,a,new P,n,r.a.SDK_VERSION))}!function(e){var t={TaskState:k,TaskEvent:I,StringFormat:b,Storage:Pe,Reference:Fe};e.INTERNAL.registerComponent(new a.a("storage",qe,"PUBLIC").setServiceProps(t).setMultipleInstances(!0)),e.registerVersion("@firebase/storage","0.7.1")}(r.a)}]]);
//# sourceMappingURL=2.562354e1.chunk.js.map