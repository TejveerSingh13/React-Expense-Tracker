/*! For license information please see 2.8da29a4f.chunk.js.LICENSE.txt */
(this["webpackJsonppractice-project"]=this["webpackJsonppractice-project"]||[]).push([[2],[function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return v})),n.d(t,"b",(function(){return S})),n.d(t,"c",(function(){return E})),n.d(t,"d",(function(){return L})),n.d(t,"e",(function(){return s})),n.d(t,"f",(function(){return u})),n.d(t,"g",(function(){return l})),n.d(t,"h",(function(){return h})),n.d(t,"i",(function(){return N})),n.d(t,"j",(function(){return M})),n.d(t,"k",(function(){return d})),n.d(t,"l",(function(){return p})),n.d(t,"m",(function(){return B})),n.d(t,"n",(function(){return K})),n.d(t,"o",(function(){return P})),n.d(t,"p",(function(){return b})),n.d(t,"q",(function(){return A})),n.d(t,"r",(function(){return g})),n.d(t,"s",(function(){return m})),n.d(t,"t",(function(){return w})),n.d(t,"u",(function(){return _})),n.d(t,"v",(function(){return x})),n.d(t,"w",(function(){return C})),n.d(t,"x",(function(){return D})),n.d(t,"y",(function(){return j})),n.d(t,"z",(function(){return R})),n.d(t,"A",(function(){return H})),n.d(t,"B",(function(){return z})),n.d(t,"C",(function(){return k})),n.d(t,"D",(function(){return q})),n.d(t,"E",(function(){return V})),n.d(t,"F",(function(){return W}));var r=n(52),i=!1,o=!1,a="${JSCORE_VERSION}",s=function(e,t){if(!e)throw u(t)},u=function(e){return new Error("Firebase Database ("+a+") INTERNAL ASSERT FAILED: "+e)},c=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},l={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var o=e[i],a=i+1<e.length,s=a?e[i+1]:0,u=i+2<e.length,c=u?e[i+2]:0,l=o>>2,h=(3&o)<<4|s>>4,f=(15&s)<<2|c>>6,d=63&c;u||(d=64,a||(f=64)),r.push(n[l],n[h],n[f],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(c(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){var a=((7&i)<<18|(63&(o=e[n++]))<<12|(63&(s=e[n++]))<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(a>>10)),t[r++]=String.fromCharCode(56320+(1023&a))}else{o=e[n++];var s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var o=n[e.charAt(i++)],a=i<e.length?n[e.charAt(i)]:0,s=++i<e.length?n[e.charAt(i)]:64,u=++i<e.length?n[e.charAt(i)]:64;if(++i,null==o||null==a||null==s||null==u)throw Error();var c=o<<2|a>>4;if(r.push(c),64!==s){var l=a<<4&240|s>>2;if(r.push(l),64!==u){var h=s<<6&192|u;r.push(h)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},h=function(e){var t=c(e);return l.encodeByteArray(t,!0)},f=function(e){try{return l.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function d(e){return p(void 0,e)}function p(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=p(e[n],t[n]));return e}var v=function(){function e(){var e=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(t,n){e.resolve=t,e.reject=n}))}return e.prototype.wrapCallback=function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}},e}();function y(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function g(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(y())}function m(){try{return"[object process]"===Object.prototype.toString.call(e.process)}catch(t){return!1}}function b(){return"object"===typeof self&&self.self===self}function _(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function w(){return!0===i||!0===o}var E=function(e){function t(n,r,i){var o=e.call(this,r)||this;return o.code=n,o.customData=i,o.name="FirebaseError",Object.setPrototypeOf(o,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,S.prototype.create),o}return Object(r.a)(t,e),t}(Error),S=function(){function e(e,t,n){this.service=e,this.serviceName=t,this.errors=n}return e.prototype.create=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=t[0]||{},i=this.service+"/"+e,o=this.errors[e],a=o?T(o,r):"Error",s=this.serviceName+": "+a+" ("+i+").",u=new E(i,s,r);return u},e}();function T(e,t){return e.replace(I,(function(e,n){var r=t[n];return null!=r?String(r):"<"+n+"?>"}))}var I=/\{\$([^}]+)}/g;function C(e){return JSON.parse(e)}function k(e){return JSON.stringify(e)}var O=function(e){var t={},n={},r={},i="";try{var o=e.split(".");t=C(f(o[0])||""),n=C(f(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch(a){}return{header:t,claims:n,data:r,signature:i}},x=function(e){var t=O(e).claims;return!!t&&"object"===typeof t&&t.hasOwnProperty("iat")},P=function(e){var t=O(e).claims;return"object"===typeof t&&!0===t.admin};function N(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function R(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0}function A(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function D(e,t,n){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r}function j(e){for(var t=[],n=function(e,n){Array.isArray(n)?n.forEach((function(n){t.push(encodeURIComponent(e)+"="+encodeURIComponent(n))})):t.push(encodeURIComponent(e)+"="+encodeURIComponent(n))},r=0,i=Object.entries(e);r<i.length;r++){var o=i[r];n(o[0],o[1])}return t.length?"&"+t.join("&"):""}var L=function(){function e(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}return e.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},e.prototype.compress_=function(e,t){t||(t=0);var n=this.W_;if("string"===typeof e)for(var r=0;r<16;r++)n[r]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(r=0;r<16;r++)n[r]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(r=16;r<80;r++){var i=n[r-3]^n[r-8]^n[r-14]^n[r-16];n[r]=4294967295&(i<<1|i>>>31)}var o,a,s=this.chain_[0],u=this.chain_[1],c=this.chain_[2],l=this.chain_[3],h=this.chain_[4];for(r=0;r<80;r++){r<40?r<20?(o=l^u&(c^l),a=1518500249):(o=u^c^l,a=1859775393):r<60?(o=u&c|l&(u|c),a=2400959708):(o=u^c^l,a=3395469782);i=(s<<5|s>>>27)+o+h+a+n[r]&4294967295;h=l,l=c,c=4294967295&(u<<30|u>>>2),u=s,s=i}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+u&4294967295,this.chain_[2]=this.chain_[2]+c&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+h&4294967295},e.prototype.update=function(e,t){if(null!=e){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;r<t;){if(0===o)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"===typeof e){for(;r<t;)if(i[o]=e.charCodeAt(r),++r,++o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<t;)if(i[o]=e[r],++r,++o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=t}},e.prototype.digest=function(){var e=[],t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&t,t/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var i=24;i>=0;i-=8)e[r]=this.chain_[n]>>i&255,++r;return e},e}();function M(e,t){var n=new F(e,t);return n.subscribe.bind(n)}var F=function(){function e(e,t){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((function(){e(n)})).catch((function(e){n.error(e)}))}return e.prototype.next=function(e){this.forEachObserver((function(t){t.next(e)}))},e.prototype.error=function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)},e.prototype.complete=function(){this.forEachObserver((function(e){e.complete()})),this.close()},e.prototype.subscribe=function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;for(var n=0,r=t;n<r.length;n++){var i=r[n];if(i in e&&"function"===typeof e[i])return!0}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=U),void 0===r.error&&(r.error=U),void 0===r.complete&&(r.complete=U);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),o},e.prototype.unsubscribeOne=function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},e.prototype.forEachObserver=function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)},e.prototype.sendOne=function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))},e.prototype.close=function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))},e}();function U(){}var q=function(e,t,n,r){var i;if(r<t?i="at least "+t:r>n&&(i=0===n?"none":"no more than "+n),i)throw new Error(e+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".")};function B(e,t){return e+" failed: "+t+" argument "}function V(e,t,n,r){if((!r||n)&&"function"!==typeof n)throw new Error(B(e,t)+"must be a valid function.")}function W(e,t,n,r){if((!r||n)&&("object"!==typeof n||null===n))throw new Error(B(e,t)+"must be a valid context object.")}var z=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);if(i>=55296&&i<=56319){var o=i-55296;r++,s(r<e.length,"Surrogate pair missing trail surrogate."),i=65536+(o<<10)+(e.charCodeAt(r)-56320)}i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):i<65536?(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},H=function(e){for(var t=0,n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t};function K(e){return e&&e._delegate?e._delegate:e}}).call(this,n(34))},function(e,t,n){"use strict";e.exports=n(54)},function(e,t,n){"use strict";e.exports=n(60)},function(e,t,n){"use strict";function r(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";(function(e){n.d(t,"b",(function(){return Ne}));var r=n(23),i=n(1),o=n.n(i),a=n(49),s=n.n(a),u=n(50),c=n(51),l=n(37),h=n(25),f=n.n(h);function d(){return(d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var p=function(e,t){for(var n=[e[0]],r=0,i=t.length;r<i;r+=1)n.push(t[r],e[r+1]);return n},v=function(e){return null!==e&&"object"==typeof e&&"[object Object]"===(e.toString?e.toString():Object.prototype.toString.call(e))&&!Object(r.typeOf)(e)},y=Object.freeze([]),g=Object.freeze({});function m(e){return"function"==typeof e}function b(e){return e.displayName||e.name||"Component"}function _(e){return e&&"string"==typeof e.styledComponentId}var w="undefined"!=typeof e&&(Object({NODE_ENV:"production",PUBLIC_URL:"/React-Forms-Project",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_SC_ATTR||Object({NODE_ENV:"production",PUBLIC_URL:"/React-Forms-Project",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).SC_ATTR)||"data-styled",E="undefined"!=typeof window&&"HTMLElement"in window,S=Boolean("boolean"==typeof SC_DISABLE_SPEEDY?SC_DISABLE_SPEEDY:"undefined"!=typeof e&&void 0!==Object({NODE_ENV:"production",PUBLIC_URL:"/React-Forms-Project",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_SC_DISABLE_SPEEDY&&""!==Object({NODE_ENV:"production",PUBLIC_URL:"/React-Forms-Project",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_SC_DISABLE_SPEEDY?"false"!==Object({NODE_ENV:"production",PUBLIC_URL:"/React-Forms-Project",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_SC_DISABLE_SPEEDY&&Object({NODE_ENV:"production",PUBLIC_URL:"/React-Forms-Project",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_SC_DISABLE_SPEEDY:"undefined"!=typeof e&&void 0!==Object({NODE_ENV:"production",PUBLIC_URL:"/React-Forms-Project",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).SC_DISABLE_SPEEDY&&""!==Object({NODE_ENV:"production",PUBLIC_URL:"/React-Forms-Project",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).SC_DISABLE_SPEEDY&&("false"!==Object({NODE_ENV:"production",PUBLIC_URL:"/React-Forms-Project",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).SC_DISABLE_SPEEDY&&Object({NODE_ENV:"production",PUBLIC_URL:"/React-Forms-Project",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).SC_DISABLE_SPEEDY));function T(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw new Error("An error occurred. See https://git.io/JUIaE#"+e+" for more information."+(n.length>0?" Args: "+n.join(", "):""))}var I=function(){function e(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}var t=e.prototype;return t.indexOfGroup=function(e){for(var t=0,n=0;n<e;n++)t+=this.groupSizes[n];return t},t.insertRules=function(e,t){if(e>=this.groupSizes.length){for(var n=this.groupSizes,r=n.length,i=r;e>=i;)(i<<=1)<0&&T(16,""+e);this.groupSizes=new Uint32Array(i),this.groupSizes.set(n),this.length=i;for(var o=r;o<i;o++)this.groupSizes[o]=0}for(var a=this.indexOfGroup(e+1),s=0,u=t.length;s<u;s++)this.tag.insertRule(a,t[s])&&(this.groupSizes[e]++,a++)},t.clearGroup=function(e){if(e<this.length){var t=this.groupSizes[e],n=this.indexOfGroup(e),r=n+t;this.groupSizes[e]=0;for(var i=n;i<r;i++)this.tag.deleteRule(n)}},t.getGroup=function(e){var t="";if(e>=this.length||0===this.groupSizes[e])return t;for(var n=this.groupSizes[e],r=this.indexOfGroup(e),i=r+n,o=r;o<i;o++)t+=this.tag.getRule(o)+"/*!sc*/\n";return t},e}(),C=new Map,k=new Map,O=1,x=function(e){if(C.has(e))return C.get(e);for(;k.has(O);)O++;var t=O++;return C.set(e,t),k.set(t,e),t},P=function(e){return k.get(e)},N=function(e,t){C.set(e,t),k.set(t,e)},R="style["+w+'][data-styled-version="5.2.1"]',A=new RegExp("^"+w+'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)'),D=function(e,t,n){for(var r,i=n.split(","),o=0,a=i.length;o<a;o++)(r=i[o])&&e.registerName(t,r)},j=function(e,t){for(var n=t.innerHTML.split("/*!sc*/\n"),r=[],i=0,o=n.length;i<o;i++){var a=n[i].trim();if(a){var s=a.match(A);if(s){var u=0|parseInt(s[1],10),c=s[2];0!==u&&(N(c,u),D(e,c,s[3]),e.getTag().insertRules(u,r)),r.length=0}else r.push(a)}}},L=function(){return n.nc},M=function(e){var t=document.head,n=e||t,r=document.createElement("style"),i=function(e){for(var t=e.childNodes,n=t.length;n>=0;n--){var r=t[n];if(r&&1===r.nodeType&&r.hasAttribute(w))return r}}(n),o=void 0!==i?i.nextSibling:null;r.setAttribute(w,"active"),r.setAttribute("data-styled-version","5.2.1");var a=L();return a&&r.setAttribute("nonce",a),n.insertBefore(r,o),r},F=function(){function e(e){var t=this.element=M(e);t.appendChild(document.createTextNode("")),this.sheet=function(e){if(e.sheet)return e.sheet;for(var t=document.styleSheets,n=0,r=t.length;n<r;n++){var i=t[n];if(i.ownerNode===e)return i}T(17)}(t),this.length=0}var t=e.prototype;return t.insertRule=function(e,t){try{return this.sheet.insertRule(t,e),this.length++,!0}catch(e){return!1}},t.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},t.getRule=function(e){var t=this.sheet.cssRules[e];return void 0!==t&&"string"==typeof t.cssText?t.cssText:""},e}(),U=function(){function e(e){var t=this.element=M(e);this.nodes=t.childNodes,this.length=0}var t=e.prototype;return t.insertRule=function(e,t){if(e<=this.length&&e>=0){var n=document.createTextNode(t),r=this.nodes[e];return this.element.insertBefore(n,r||null),this.length++,!0}return!1},t.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},t.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},e}(),q=function(){function e(e){this.rules=[],this.length=0}var t=e.prototype;return t.insertRule=function(e,t){return e<=this.length&&(this.rules.splice(e,0,t),this.length++,!0)},t.deleteRule=function(e){this.rules.splice(e,1),this.length--},t.getRule=function(e){return e<this.length?this.rules[e]:""},e}(),B=E,V={isServer:!E,useCSSOMInjection:!S},W=function(){function e(e,t,n){void 0===e&&(e=g),void 0===t&&(t={}),this.options=d({},V,{},e),this.gs=t,this.names=new Map(n),!this.options.isServer&&E&&B&&(B=!1,function(e){for(var t=document.querySelectorAll(R),n=0,r=t.length;n<r;n++){var i=t[n];i&&"active"!==i.getAttribute(w)&&(j(e,i),i.parentNode&&i.parentNode.removeChild(i))}}(this))}e.registerId=function(e){return x(e)};var t=e.prototype;return t.reconstructWithOptions=function(t,n){return void 0===n&&(n=!0),new e(d({},this.options,{},t),this.gs,n&&this.names||void 0)},t.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},t.getTag=function(){return this.tag||(this.tag=(n=(t=this.options).isServer,r=t.useCSSOMInjection,i=t.target,e=n?new q(i):r?new F(i):new U(i),new I(e)));var e,t,n,r,i},t.hasNameForId=function(e,t){return this.names.has(e)&&this.names.get(e).has(t)},t.registerName=function(e,t){if(x(e),this.names.has(e))this.names.get(e).add(t);else{var n=new Set;n.add(t),this.names.set(e,n)}},t.insertRules=function(e,t,n){this.registerName(e,t),this.getTag().insertRules(x(e),n)},t.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},t.clearRules=function(e){this.getTag().clearGroup(x(e)),this.clearNames(e)},t.clearTag=function(){this.tag=void 0},t.toString=function(){return function(e){for(var t=e.getTag(),n=t.length,r="",i=0;i<n;i++){var o=P(i);if(void 0!==o){var a=e.names.get(o),s=t.getGroup(i);if(void 0!==a&&0!==s.length){var u=w+".g"+i+'[id="'+o+'"]',c="";void 0!==a&&a.forEach((function(e){e.length>0&&(c+=e+",")})),r+=""+s+u+'{content:"'+c+'"}/*!sc*/\n'}}}return r}(this)},e}(),z=/(a)(d)/gi,H=function(e){return String.fromCharCode(e+(e>25?39:97))};function K(e){var t,n="";for(t=Math.abs(e);t>52;t=t/52|0)n=H(t%52)+n;return(H(t%52)+n).replace(z,"$1-$2")}var G=function(e,t){for(var n=t.length;n;)e=33*e^t.charCodeAt(--n);return e},Q=function(e){return G(5381,e)};function Y(e){for(var t=0;t<e.length;t+=1){var n=e[t];if(m(n)&&!_(n))return!1}return!0}var $=Q("5.2.1"),X=function(){function e(e,t,n){this.rules=e,this.staticRulesId="",this.isStatic=(void 0===n||n.isStatic)&&Y(e),this.componentId=t,this.baseHash=G($,t),this.baseStyle=n,W.registerId(t)}return e.prototype.generateAndInjectStyles=function(e,t,n){var r=this.componentId,i=[];if(this.baseStyle&&i.push(this.baseStyle.generateAndInjectStyles(e,t,n)),this.isStatic&&!n.hash)if(this.staticRulesId&&t.hasNameForId(r,this.staticRulesId))i.push(this.staticRulesId);else{var o=ve(this.rules,e,t,n).join(""),a=K(G(this.baseHash,o.length)>>>0);if(!t.hasNameForId(r,a)){var s=n(o,"."+a,void 0,r);t.insertRules(r,a,s)}i.push(a),this.staticRulesId=a}else{for(var u=this.rules.length,c=G(this.baseHash,n.hash),l="",h=0;h<u;h++){var f=this.rules[h];if("string"==typeof f)l+=f;else if(f){var d=ve(f,e,t,n),p=Array.isArray(d)?d.join(""):d;c=G(c,p+h),l+=p}}if(l){var v=K(c>>>0);if(!t.hasNameForId(r,v)){var y=n(l,"."+v,void 0,r);t.insertRules(r,v,y)}i.push(v)}}return i.join(" ")},e}(),J=/^\s*\/\/.*$/gm,Z=[":","[",".","#"];function ee(e){var t,n,r,i,o=void 0===e?g:e,a=o.options,s=void 0===a?g:a,c=o.plugins,l=void 0===c?y:c,h=new u.a(s),f=[],d=function(e){function t(t){if(t)try{e(t+"}")}catch(e){}}return function(n,r,i,o,a,s,u,c,l,h){switch(n){case 1:if(0===l&&64===r.charCodeAt(0))return e(r+";"),"";break;case 2:if(0===c)return r+"/*|*/";break;case 3:switch(c){case 102:case 112:return e(i[0]+r),"";default:return r+(0===h?"/*|*/":"")}case-2:r.split("/*|*/}").forEach(t)}}}((function(e){f.push(e)})),p=function(e,r,o){return 0===r&&Z.includes(o[n.length])||o.match(i)?e:"."+t};function v(e,o,a,s){void 0===s&&(s="&");var u=e.replace(J,""),c=o&&a?a+" "+o+" { "+u+" }":u;return t=s,n=o,r=new RegExp("\\"+n+"\\b","g"),i=new RegExp("(\\"+n+"\\b){2,}"),h(a||!o?"":o,c)}return h.use([].concat(l,[function(e,t,i){2===e&&i.length&&i[0].lastIndexOf(n)>0&&(i[0]=i[0].replace(r,p))},d,function(e){if(-2===e){var t=f;return f=[],t}}])),v.hash=l.length?l.reduce((function(e,t){return t.name||T(15),G(e,t.name)}),5381).toString():"",v}var te=o.a.createContext(),ne=(te.Consumer,o.a.createContext()),re=(ne.Consumer,new W),ie=ee();function oe(){return Object(i.useContext)(te)||re}function ae(){return Object(i.useContext)(ne)||ie}function se(e){var t=Object(i.useState)(e.stylisPlugins),n=t[0],r=t[1],a=oe(),u=Object(i.useMemo)((function(){var t=a;return e.sheet?t=e.sheet:e.target&&(t=t.reconstructWithOptions({target:e.target},!1)),e.disableCSSOMInjection&&(t=t.reconstructWithOptions({useCSSOMInjection:!1})),t}),[e.disableCSSOMInjection,e.sheet,e.target]),c=Object(i.useMemo)((function(){return ee({options:{prefix:!e.disableVendorPrefixes},plugins:n})}),[e.disableVendorPrefixes,n]);return Object(i.useEffect)((function(){s()(n,e.stylisPlugins)||r(e.stylisPlugins)}),[e.stylisPlugins]),o.a.createElement(te.Provider,{value:u},o.a.createElement(ne.Provider,{value:c},e.children))}var ue=function(){function e(e,t){var n=this;this.inject=function(e,t){void 0===t&&(t=ie);var r=n.name+t.hash;e.hasNameForId(n.id,r)||e.insertRules(n.id,r,t(n.rules,r,"@keyframes"))},this.toString=function(){return T(12,String(n.name))},this.name=e,this.id="sc-keyframes-"+e,this.rules=t}return e.prototype.getName=function(e){return void 0===e&&(e=ie),this.name+e.hash},e}(),ce=/([A-Z])/,le=/([A-Z])/g,he=/^ms-/,fe=function(e){return"-"+e.toLowerCase()};function de(e){return ce.test(e)?e.replace(le,fe).replace(he,"-ms-"):e}var pe=function(e){return null==e||!1===e||""===e};function ve(e,t,n,r){if(Array.isArray(e)){for(var i,o=[],a=0,s=e.length;a<s;a+=1)""!==(i=ve(e[a],t,n,r))&&(Array.isArray(i)?o.push.apply(o,i):o.push(i));return o}return pe(e)?"":_(e)?"."+e.styledComponentId:m(e)?"function"!=typeof(u=e)||u.prototype&&u.prototype.isReactComponent||!t?e:ve(e(t),t,n,r):e instanceof ue?n?(e.inject(n,r),e.getName(r)):e:v(e)?function e(t,n){var r,i,o=[];for(var a in t)t.hasOwnProperty(a)&&!pe(t[a])&&(v(t[a])?o.push.apply(o,e(t[a],a)):m(t[a])?o.push(de(a)+":",t[a],";"):o.push(de(a)+": "+(r=a,(null==(i=t[a])||"boolean"==typeof i||""===i?"":"number"!=typeof i||0===i||r in c.a?String(i).trim():i+"px")+";")));return n?[n+" {"].concat(o,["}"]):o}(e):e.toString();var u}function ye(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return m(e)||v(e)?ve(p(y,[e].concat(n))):0===n.length&&1===e.length&&"string"==typeof e[0]?e:ve(p(e,n))}new Set;var ge=function(e,t,n){return void 0===n&&(n=g),e.theme!==n.theme&&e.theme||t||n.theme},me=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,be=/(^-|-$)/g;function _e(e){return e.replace(me,"-").replace(be,"")}var we=function(e){return K(Q(e)>>>0)};function Ee(e){return"string"==typeof e&&!0}var Se=function(e){return"function"==typeof e||"object"==typeof e&&null!==e&&!Array.isArray(e)},Te=function(e){return"__proto__"!==e&&"constructor"!==e&&"prototype"!==e};function Ie(e,t,n){var r=e[n];Se(t)&&Se(r)?Ce(r,t):e[n]=t}function Ce(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,o=n;i<o.length;i++){var a=o[i];if(Se(a))for(var s in a)Te(s)&&Ie(e,a[s],s)}return e}var ke=o.a.createContext();ke.Consumer;var Oe={};function xe(e,t,n){var r=_(e),a=!Ee(e),s=t.attrs,u=void 0===s?y:s,c=t.componentId,h=void 0===c?function(e,t){var n="string"!=typeof e?"sc":_e(e);Oe[n]=(Oe[n]||0)+1;var r=n+"-"+we("5.2.1"+n+Oe[n]);return t?t+"-"+r:r}(t.displayName,t.parentComponentId):c,p=t.displayName,v=void 0===p?function(e){return Ee(e)?"styled."+e:"Styled("+b(e)+")"}(e):p,w=t.displayName&&t.componentId?_e(t.displayName)+"-"+t.componentId:t.componentId||h,E=r&&e.attrs?Array.prototype.concat(e.attrs,u).filter(Boolean):u,S=t.shouldForwardProp;r&&e.shouldForwardProp&&(S=t.shouldForwardProp?function(n,r){return e.shouldForwardProp(n,r)&&t.shouldForwardProp(n,r)}:e.shouldForwardProp);var T,I=new X(n,w,r?e.componentStyle:void 0),C=I.isStatic&&0===u.length,k=function(e,t){return function(e,t,n,r){var o=e.attrs,a=e.componentStyle,s=e.defaultProps,u=e.foldedComponentIds,c=e.shouldForwardProp,h=e.styledComponentId,f=e.target,p=function(e,t,n){void 0===e&&(e=g);var r=d({},t,{theme:e}),i={};return n.forEach((function(e){var t,n,o,a=e;for(t in m(a)&&(a=a(r)),a)r[t]=i[t]="className"===t?(n=i[t],o=a[t],n&&o?n+" "+o:n||o):a[t]})),[r,i]}(ge(t,Object(i.useContext)(ke),s)||g,t,o),v=p[0],y=p[1],b=function(e,t,n,r){var i=oe(),o=ae();return t?e.generateAndInjectStyles(g,i,o):e.generateAndInjectStyles(n,i,o)}(a,r,v),_=n,w=y.$as||t.$as||y.as||t.as||f,E=Ee(w),S=y!==t?d({},t,{},y):t,T={};for(var I in S)"$"!==I[0]&&"as"!==I&&("forwardedAs"===I?T.as=S[I]:(c?c(I,l.a):!E||Object(l.a)(I))&&(T[I]=S[I]));return t.style&&y.style!==t.style&&(T.style=d({},t.style,{},y.style)),T.className=Array.prototype.concat(u,h,b!==h?b:null,t.className,y.className).filter(Boolean).join(" "),T.ref=_,Object(i.createElement)(w,T)}(T,e,t,C)};return k.displayName=v,(T=o.a.forwardRef(k)).attrs=E,T.componentStyle=I,T.displayName=v,T.shouldForwardProp=S,T.foldedComponentIds=r?Array.prototype.concat(e.foldedComponentIds,e.styledComponentId):y,T.styledComponentId=w,T.target=r?e.target:e,T.withComponent=function(e){var r=t.componentId,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(t,["componentId"]),o=r&&r+"-"+(Ee(e)?e:_e(b(e)));return xe(e,d({},i,{attrs:E,componentId:o}),n)},Object.defineProperty(T,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(t){this._foldedDefaultProps=r?Ce({},e.defaultProps,t):t}}),T.toString=function(){return"."+T.styledComponentId},a&&f()(T,e,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0,withComponent:!0}),T}var Pe=function(e){return function e(t,n,i){if(void 0===i&&(i=g),!Object(r.isValidElementType)(n))return T(1,String(n));var o=function(){return t(n,i,ye.apply(void 0,arguments))};return o.withConfig=function(r){return e(t,n,d({},i,{},r))},o.attrs=function(r){return e(t,n,d({},i,{attrs:Array.prototype.concat(i.attrs,r).filter(Boolean)}))},o}(xe,e)};["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"].forEach((function(e){Pe[e]=Pe(e)}));!function(){function e(e,t){this.rules=e,this.componentId=t,this.isStatic=Y(e),W.registerId(this.componentId+1)}var t=e.prototype;t.createStyles=function(e,t,n,r){var i=r(ve(this.rules,t,n,r).join(""),""),o=this.componentId+e;n.insertRules(o,o,i)},t.removeStyles=function(e,t){t.clearRules(this.componentId+e)},t.renderStyles=function(e,t,n,r){e>2&&W.registerId(this.componentId+e),this.removeStyles(e,n),this.createStyles(e,t,n,r)}}();function Ne(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=ye.apply(void 0,[e].concat(n)).join(""),o=we(i);return new ue(o,i)}!function(){function e(){var e=this;this._emitSheetCSS=function(){var t=e.instance.toString(),n=L();return"<style "+[n&&'nonce="'+n+'"',w+'="true"','data-styled-version="5.2.1"'].filter(Boolean).join(" ")+">"+t+"</style>"},this.getStyleTags=function(){return e.sealed?T(2):e._emitSheetCSS()},this.getStyleElement=function(){var t;if(e.sealed)return T(2);var n=((t={})[w]="",t["data-styled-version"]="5.2.1",t.dangerouslySetInnerHTML={__html:e.instance.toString()},t),r=L();return r&&(n.nonce=r),[o.a.createElement("style",d({},n,{key:"sc-0-0"}))]},this.seal=function(){e.sealed=!0},this.instance=new W({isServer:!0}),this.sealed=!1}var t=e.prototype;t.collectStyles=function(e){return this.sealed?T(2):o.a.createElement(se,{sheet:this.instance},e)},t.interleaveWithNodeStream=function(e){return T(3)}}();t.a=Pe}).call(this,n(27))},function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return o})),n.d(t,"e",(function(){return a})),n.d(t,"c",(function(){return s})),n.d(t,"d",(function(){return u}));var r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var o=function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.create;function a(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function s(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function u(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e}Object.create},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(29);function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(u){i=!0,o=u}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}}(e,t)||Object(r.a)(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}n.d(t,"a",(function(){return o}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return b})),n.d(t,"b",(function(){return v})),n.d(t,"c",(function(){return I})),n.d(t,"d",(function(){return p})),n.d(t,"e",(function(){return m})),n.d(t,"f",(function(){return k}));var r=n(13),i=n(1),o=n.n(i),a=(n(11),n(16)),s=n(35),u=n(12),c=n(9),l=n(36),h=n.n(l),f=(n(23),n(17)),d=(n(25),function(e){var t=Object(s.a)();return t.displayName=e,t}("Router-History")),p=function(e){var t=Object(s.a)();return t.displayName=e,t}("Router"),v=function(e){function t(t){var n;return(n=e.call(this,t)||this).state={location:t.history.location},n._isMounted=!1,n._pendingLocation=null,t.staticContext||(n.unlisten=t.history.listen((function(e){n._isMounted?n.setState({location:e}):n._pendingLocation=e}))),n}Object(r.a)(t,e),t.computeRootMatch=function(e){return{path:"/",url:"/",params:{},isExact:"/"===e}};var n=t.prototype;return n.componentDidMount=function(){this._isMounted=!0,this._pendingLocation&&this.setState({location:this._pendingLocation})},n.componentWillUnmount=function(){this.unlisten&&this.unlisten()},n.render=function(){return o.a.createElement(p.Provider,{value:{history:this.props.history,location:this.state.location,match:t.computeRootMatch(this.state.location.pathname),staticContext:this.props.staticContext}},o.a.createElement(d.Provider,{children:this.props.children||null,value:this.props.history}))},t}(o.a.Component);o.a.Component;o.a.Component;var y={},g=0;function m(e,t){void 0===t&&(t={}),("string"===typeof t||Array.isArray(t))&&(t={path:t});var n=t,r=n.path,i=n.exact,o=void 0!==i&&i,a=n.strict,s=void 0!==a&&a,u=n.sensitive,c=void 0!==u&&u;return[].concat(r).reduce((function(t,n){if(!n&&""!==n)return null;if(t)return t;var r=function(e,t){var n=""+t.end+t.strict+t.sensitive,r=y[n]||(y[n]={});if(r[e])return r[e];var i=[],o={regexp:h()(e,i,t),keys:i};return g<1e4&&(r[e]=o,g++),o}(n,{end:o,strict:s,sensitive:c}),i=r.regexp,a=r.keys,u=i.exec(e);if(!u)return null;var l=u[0],f=u.slice(1),d=e===l;return o&&!d?null:{path:n,url:"/"===n&&""===l?"/":l,isExact:d,params:a.reduce((function(e,t,n){return e[t.name]=f[n],e}),{})}}),null)}var b=function(e){function t(){return e.apply(this,arguments)||this}return Object(r.a)(t,e),t.prototype.render=function(){var e=this;return o.a.createElement(p.Consumer,null,(function(t){t||Object(u.a)(!1);var n=e.props.location||t.location,r=e.props.computedMatch?e.props.computedMatch:e.props.path?m(n.pathname,e.props):t.match,i=Object(c.a)({},t,{location:n,match:r}),a=e.props,s=a.children,l=a.component,h=a.render;return Array.isArray(s)&&0===s.length&&(s=null),o.a.createElement(p.Provider,{value:i},i.match?s?"function"===typeof s?s(i):s:l?o.a.createElement(l,i):h?h(i):null:"function"===typeof s?s(i):null)}))},t}(o.a.Component);function _(e){return"/"===e.charAt(0)?e:"/"+e}function w(e,t){if(!e)return t;var n=_(e);return 0!==t.pathname.indexOf(n)?t:Object(c.a)({},t,{pathname:t.pathname.substr(n.length)})}function E(e){return"string"===typeof e?e:Object(a.e)(e)}function S(e){return function(){Object(u.a)(!1)}}function T(){}o.a.Component;var I=function(e){function t(){return e.apply(this,arguments)||this}return Object(r.a)(t,e),t.prototype.render=function(){var e=this;return o.a.createElement(p.Consumer,null,(function(t){t||Object(u.a)(!1);var n,r,i=e.props.location||t.location;return o.a.Children.forEach(e.props.children,(function(e){if(null==r&&o.a.isValidElement(e)){n=e;var a=e.props.path||e.props.from;r=a?m(i.pathname,Object(c.a)({},e.props,{path:a})):t.match}})),r?o.a.cloneElement(n,{location:i,computedMatch:r}):null}))},t}(o.a.Component);var C=o.a.useContext;function k(){return C(d)}},function(e,t,n){"use strict";function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";var r=n(40),i=Object.prototype.toString;function o(e){return"[object Array]"===i.call(e)}function a(e){return"undefined"===typeof e}function s(e){return null!==e&&"object"===typeof e}function u(e){if("[object Object]"!==i.call(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}function c(e){return"[object Function]"===i.call(e)}function l(e,t){if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),o(e))for(var n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.call(null,e[i],i,e)}e.exports={isArray:o,isArrayBuffer:function(e){return"[object ArrayBuffer]"===i.call(e)},isBuffer:function(e){return null!==e&&!a(e)&&null!==e.constructor&&!a(e.constructor)&&"function"===typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){return"undefined"!==typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"===typeof e},isNumber:function(e){return"number"===typeof e},isObject:s,isPlainObject:u,isUndefined:a,isDate:function(e){return"[object Date]"===i.call(e)},isFile:function(e){return"[object File]"===i.call(e)},isBlob:function(e){return"[object Blob]"===i.call(e)},isFunction:c,isStream:function(e){return s(e)&&c(e.pipe)},isURLSearchParams:function(e){return"undefined"!==typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"===typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!==typeof window&&"undefined"!==typeof document)},forEach:l,merge:function e(){var t={};function n(n,r){u(t[r])&&u(n)?t[r]=e(t[r],n):u(n)?t[r]=e({},n):o(n)?t[r]=n.slice():t[r]=n}for(var r=0,i=arguments.length;r<i;r++)l(arguments[r],n);return t},extend:function(e,t,n){return l(t,(function(t,i){e[i]=n&&"function"===typeof t?r(t,n):t})),e},trim:function(e){return e.replace(/^\s*/,"").replace(/\s*$/,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e}}},function(e,t,n){e.exports=n(62)()},function(e,t,n){"use strict";var r="Invariant failed";t.a=function(e,t){if(!e)throw new Error(r)}},function(e,t,n){"use strict";function r(e,t){return(r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function i(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,r(e,t)}n.d(t,"a",(function(){return i}))},function(e,t,n){"use strict";function r(e){return(r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"Col",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(t,"Container",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"Row",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(t,"Hidden",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(t,"Visible",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(t,"ScreenClassRender",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(t,"ScreenClassProvider",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(t,"ScreenClassContext",{enumerable:!0,get:function(){return l.ScreenClassContext}}),Object.defineProperty(t,"setConfiguration",{enumerable:!0,get:function(){return h.setConfiguration}}),Object.defineProperty(t,"useScreenClass",{enumerable:!0,get:function(){return f.useScreenClass}});var i=p(n(61)),o=p(n(69)),a=p(n(38)),s=p(n(71)),u=p(n(73)),c=p(n(75)),l=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var t=d();if(t&&t.has(e))return t.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var a=i?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=e[o]}n.default=e,t&&t.set(e,n);return n}(n(39)),h=n(19),f=n(33);function d(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return d=function(){return e},e}function p(e){return e&&e.__esModule?e:{default:e}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return d})),n.d(t,"c",(function(){return f}));var r=function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function i(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(t){o(t)}}function s(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function o(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}Object.create;function a(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function s(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function u(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e}Object.create;var c=n(0),l=function(){function e(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return e.prototype.setInstantiationMode=function(e){return this.instantiationMode=e,this},e.prototype.setMultipleInstances=function(e){return this.multipleInstances=e,this},e.prototype.setServiceProps=function(e){return this.serviceProps=e,this},e.prototype.setInstanceCreatedCallback=function(e){return this.onInstanceCreated=e,this},e}(),h="[DEFAULT]",f=function(){function e(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return e.prototype.get=function(e){void 0===e&&(e=h);var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new c.a;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise},e.prototype.getImmediate=function(e){var t=r({identifier:h,optional:!1},e),n=t.identifier,i=t.optional,o=this.normalizeInstanceIdentifier(n);if(!this.isInitialized(o)&&!this.shouldAutoInitialize()){if(i)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:o})}catch(a){if(i)return null;throw a}},e.prototype.getComponent=function(){return this.component},e.prototype.setComponent=function(e){var t,n;if(e.name!==this.name)throw Error("Mismatching Component "+e.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:h})}catch(d){}try{for(var r=a(this.instancesDeferred.entries()),i=r.next();!i.done;i=r.next()){var o=s(i.value,2),u=o[0],c=o[1],l=this.normalizeInstanceIdentifier(u);try{var f=this.getOrInitializeService({instanceIdentifier:l});c.resolve(f)}catch(d){}}}catch(p){t={error:p}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}}},e.prototype.clearInstance=function(e){void 0===e&&(e=h),this.instancesDeferred.delete(e),this.instances.delete(e)},e.prototype.delete=function(){return i(this,void 0,void 0,(function(){var e;return o(this,(function(t){switch(t.label){case 0:return e=Array.from(this.instances.values()),[4,Promise.all(u(u([],s(e.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()})))),s(e.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))))];case 1:return t.sent(),[2]}}))}))},e.prototype.isComponentSet=function(){return null!=this.component},e.prototype.isInitialized=function(e){return void 0===e&&(e=h),this.instances.has(e)},e.prototype.initialize=function(e){var t,n;void 0===e&&(e={});var r=e.instanceIdentifier,i=void 0===r?h:r,o=e.options,u=void 0===o?{}:o,c=this.normalizeInstanceIdentifier(i);if(this.isInitialized(c))throw Error(this.name+"("+c+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var l=this.getOrInitializeService({instanceIdentifier:c,options:u});try{for(var f=a(this.instancesDeferred.entries()),d=f.next();!d.done;d=f.next()){var p=s(d.value,2),v=p[0],y=p[1];c===this.normalizeInstanceIdentifier(v)&&y.resolve(l)}}catch(g){t={error:g}}finally{try{d&&!d.done&&(n=f.return)&&n.call(f)}finally{if(t)throw t.error}}return l},e.prototype.getOrInitializeService=function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,o=this.instances.get(n);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===h?void 0:t),options:i}),this.instances.set(n,o),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,o)}catch(a){}return o||null},e.prototype.normalizeInstanceIdentifier=function(e){return this.component?this.component.multipleInstances?e:h:e},e.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},e}();var d=function(){function e(e){this.name=e,this.providers=new Map}return e.prototype.addComponent=function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component "+e.name+" has already been registered with "+this.name);t.setComponent(e)},e.prototype.addOrOverwriteComponent=function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)},e.prototype.getProvider=function(e){if(this.providers.has(e))return this.providers.get(e);var t=new f(e,this);return this.providers.set(e,t),t},e.prototype.getProviders=function(){return Array.from(this.providers.values())},e}()},function(e,t,n){"use strict";n.d(t,"a",(function(){return S})),n.d(t,"b",(function(){return x})),n.d(t,"d",(function(){return N})),n.d(t,"c",(function(){return v})),n.d(t,"f",(function(){return y})),n.d(t,"e",(function(){return p}));var r=n(9);function i(e){return"/"===e.charAt(0)}function o(e,t){for(var n=t,r=n+1,i=e.length;r<i;n+=1,r+=1)e[n]=e[r];e.pop()}var a=function(e,t){void 0===t&&(t="");var n,r=e&&e.split("/")||[],a=t&&t.split("/")||[],s=e&&i(e),u=t&&i(t),c=s||u;if(e&&i(e)?a=r:r.length&&(a.pop(),a=a.concat(r)),!a.length)return"/";if(a.length){var l=a[a.length-1];n="."===l||".."===l||""===l}else n=!1;for(var h=0,f=a.length;f>=0;f--){var d=a[f];"."===d?o(a,f):".."===d?(o(a,f),h++):h&&(o(a,f),h--)}if(!c)for(;h--;h)a.unshift("..");!c||""===a[0]||a[0]&&i(a[0])||a.unshift("");var p=a.join("/");return n&&"/"!==p.substr(-1)&&(p+="/"),p};function s(e){return e.valueOf?e.valueOf():Object.prototype.valueOf.call(e)}var u=function e(t,n){if(t===n)return!0;if(null==t||null==n)return!1;if(Array.isArray(t))return Array.isArray(n)&&t.length===n.length&&t.every((function(t,r){return e(t,n[r])}));if("object"===typeof t||"object"===typeof n){var r=s(t),i=s(n);return r!==t||i!==n?e(r,i):Object.keys(Object.assign({},t,n)).every((function(r){return e(t[r],n[r])}))}return!1},c=n(12);function l(e){return"/"===e.charAt(0)?e:"/"+e}function h(e){return"/"===e.charAt(0)?e.substr(1):e}function f(e,t){return function(e,t){return 0===e.toLowerCase().indexOf(t.toLowerCase())&&-1!=="/?#".indexOf(e.charAt(t.length))}(e,t)?e.substr(t.length):e}function d(e){return"/"===e.charAt(e.length-1)?e.slice(0,-1):e}function p(e){var t=e.pathname,n=e.search,r=e.hash,i=t||"/";return n&&"?"!==n&&(i+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(i+="#"===r.charAt(0)?r:"#"+r),i}function v(e,t,n,i){var o;"string"===typeof e?(o=function(e){var t=e||"/",n="",r="",i=t.indexOf("#");-1!==i&&(r=t.substr(i),t=t.substr(0,i));var o=t.indexOf("?");return-1!==o&&(n=t.substr(o),t=t.substr(0,o)),{pathname:t,search:"?"===n?"":n,hash:"#"===r?"":r}}(e)).state=t:(void 0===(o=Object(r.a)({},e)).pathname&&(o.pathname=""),o.search?"?"!==o.search.charAt(0)&&(o.search="?"+o.search):o.search="",o.hash?"#"!==o.hash.charAt(0)&&(o.hash="#"+o.hash):o.hash="",void 0!==t&&void 0===o.state&&(o.state=t));try{o.pathname=decodeURI(o.pathname)}catch(s){throw s instanceof URIError?new URIError('Pathname "'+o.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):s}return n&&(o.key=n),i?o.pathname?"/"!==o.pathname.charAt(0)&&(o.pathname=a(o.pathname,i.pathname)):o.pathname=i.pathname:o.pathname||(o.pathname="/"),o}function y(e,t){return e.pathname===t.pathname&&e.search===t.search&&e.hash===t.hash&&e.key===t.key&&u(e.state,t.state)}function g(){var e=null;var t=[];return{setPrompt:function(t){return e=t,function(){e===t&&(e=null)}},confirmTransitionTo:function(t,n,r,i){if(null!=e){var o="function"===typeof e?e(t,n):e;"string"===typeof o?"function"===typeof r?r(o,i):i(!0):i(!1!==o)}else i(!0)},appendListener:function(e){var n=!0;function r(){n&&e.apply(void 0,arguments)}return t.push(r),function(){n=!1,t=t.filter((function(e){return e!==r}))}},notifyListeners:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.forEach((function(e){return e.apply(void 0,n)}))}}}var m=!("undefined"===typeof window||!window.document||!window.document.createElement);function b(e,t){t(window.confirm(e))}var _="popstate",w="hashchange";function E(){try{return window.history.state||{}}catch(e){return{}}}function S(e){void 0===e&&(e={}),m||Object(c.a)(!1);var t=window.history,n=function(){var e=window.navigator.userAgent;return(-1===e.indexOf("Android 2.")&&-1===e.indexOf("Android 4.0")||-1===e.indexOf("Mobile Safari")||-1!==e.indexOf("Chrome")||-1!==e.indexOf("Windows Phone"))&&window.history&&"pushState"in window.history}(),i=!(-1===window.navigator.userAgent.indexOf("Trident")),o=e,a=o.forceRefresh,s=void 0!==a&&a,u=o.getUserConfirmation,h=void 0===u?b:u,y=o.keyLength,S=void 0===y?6:y,T=e.basename?d(l(e.basename)):"";function I(e){var t=e||{},n=t.key,r=t.state,i=window.location,o=i.pathname+i.search+i.hash;return T&&(o=f(o,T)),v(o,r,n)}function C(){return Math.random().toString(36).substr(2,S)}var k=g();function O(e){Object(r.a)(q,e),q.length=t.length,k.notifyListeners(q.location,q.action)}function x(e){(function(e){return void 0===e.state&&-1===navigator.userAgent.indexOf("CriOS")})(e)||R(I(e.state))}function P(){R(I(E()))}var N=!1;function R(e){if(N)N=!1,O();else{k.confirmTransitionTo(e,"POP",h,(function(t){t?O({action:"POP",location:e}):function(e){var t=q.location,n=D.indexOf(t.key);-1===n&&(n=0);var r=D.indexOf(e.key);-1===r&&(r=0);var i=n-r;i&&(N=!0,L(i))}(e)}))}}var A=I(E()),D=[A.key];function j(e){return T+p(e)}function L(e){t.go(e)}var M=0;function F(e){1===(M+=e)&&1===e?(window.addEventListener(_,x),i&&window.addEventListener(w,P)):0===M&&(window.removeEventListener(_,x),i&&window.removeEventListener(w,P))}var U=!1;var q={length:t.length,action:"POP",location:A,createHref:j,push:function(e,r){var i="PUSH",o=v(e,r,C(),q.location);k.confirmTransitionTo(o,i,h,(function(e){if(e){var r=j(o),a=o.key,u=o.state;if(n)if(t.pushState({key:a,state:u},null,r),s)window.location.href=r;else{var c=D.indexOf(q.location.key),l=D.slice(0,c+1);l.push(o.key),D=l,O({action:i,location:o})}else window.location.href=r}}))},replace:function(e,r){var i="REPLACE",o=v(e,r,C(),q.location);k.confirmTransitionTo(o,i,h,(function(e){if(e){var r=j(o),a=o.key,u=o.state;if(n)if(t.replaceState({key:a,state:u},null,r),s)window.location.replace(r);else{var c=D.indexOf(q.location.key);-1!==c&&(D[c]=o.key),O({action:i,location:o})}else window.location.replace(r)}}))},go:L,goBack:function(){L(-1)},goForward:function(){L(1)},block:function(e){void 0===e&&(e=!1);var t=k.setPrompt(e);return U||(F(1),U=!0),function(){return U&&(U=!1,F(-1)),t()}},listen:function(e){var t=k.appendListener(e);return F(1),function(){F(-1),t()}}};return q}var T="hashchange",I={hashbang:{encodePath:function(e){return"!"===e.charAt(0)?e:"!/"+h(e)},decodePath:function(e){return"!"===e.charAt(0)?e.substr(1):e}},noslash:{encodePath:h,decodePath:l},slash:{encodePath:l,decodePath:l}};function C(e){var t=e.indexOf("#");return-1===t?e:e.slice(0,t)}function k(){var e=window.location.href,t=e.indexOf("#");return-1===t?"":e.substring(t+1)}function O(e){window.location.replace(C(window.location.href)+"#"+e)}function x(e){void 0===e&&(e={}),m||Object(c.a)(!1);var t=window.history,n=(window.navigator.userAgent.indexOf("Firefox"),e),i=n.getUserConfirmation,o=void 0===i?b:i,a=n.hashType,s=void 0===a?"slash":a,u=e.basename?d(l(e.basename)):"",h=I[s],y=h.encodePath,_=h.decodePath;function w(){var e=_(k());return u&&(e=f(e,u)),v(e)}var E=g();function S(e){Object(r.a)(q,e),q.length=t.length,E.notifyListeners(q.location,q.action)}var x=!1,P=null;function N(){var e,t,n=k(),r=y(n);if(n!==r)O(r);else{var i=w(),a=q.location;if(!x&&(t=i,(e=a).pathname===t.pathname&&e.search===t.search&&e.hash===t.hash))return;if(P===p(i))return;P=null,function(e){if(x)x=!1,S();else{var t="POP";E.confirmTransitionTo(e,t,o,(function(n){n?S({action:t,location:e}):function(e){var t=q.location,n=j.lastIndexOf(p(t));-1===n&&(n=0);var r=j.lastIndexOf(p(e));-1===r&&(r=0);var i=n-r;i&&(x=!0,L(i))}(e)}))}}(i)}}var R=k(),A=y(R);R!==A&&O(A);var D=w(),j=[p(D)];function L(e){t.go(e)}var M=0;function F(e){1===(M+=e)&&1===e?window.addEventListener(T,N):0===M&&window.removeEventListener(T,N)}var U=!1;var q={length:t.length,action:"POP",location:D,createHref:function(e){var t=document.querySelector("base"),n="";return t&&t.getAttribute("href")&&(n=C(window.location.href)),n+"#"+y(u+p(e))},push:function(e,t){var n="PUSH",r=v(e,void 0,void 0,q.location);E.confirmTransitionTo(r,n,o,(function(e){if(e){var t=p(r),i=y(u+t);if(k()!==i){P=t,function(e){window.location.hash=e}(i);var o=j.lastIndexOf(p(q.location)),a=j.slice(0,o+1);a.push(t),j=a,S({action:n,location:r})}else S()}}))},replace:function(e,t){var n="REPLACE",r=v(e,void 0,void 0,q.location);E.confirmTransitionTo(r,n,o,(function(e){if(e){var t=p(r),i=y(u+t);k()!==i&&(P=t,O(i));var o=j.indexOf(p(q.location));-1!==o&&(j[o]=t),S({action:n,location:r})}}))},go:L,goBack:function(){L(-1)},goForward:function(){L(1)},block:function(e){void 0===e&&(e=!1);var t=E.setPrompt(e);return U||(F(1),U=!0),function(){return U&&(U=!1,F(-1)),t()}},listen:function(e){var t=E.appendListener(e);return F(1),function(){F(-1),t()}}};return q}function P(e,t,n){return Math.min(Math.max(e,t),n)}function N(e){void 0===e&&(e={});var t=e,n=t.getUserConfirmation,i=t.initialEntries,o=void 0===i?["/"]:i,a=t.initialIndex,s=void 0===a?0:a,u=t.keyLength,c=void 0===u?6:u,l=g();function h(e){Object(r.a)(_,e),_.length=_.entries.length,l.notifyListeners(_.location,_.action)}function f(){return Math.random().toString(36).substr(2,c)}var d=P(s,0,o.length-1),y=o.map((function(e){return v(e,void 0,"string"===typeof e?f():e.key||f())})),m=p;function b(e){var t=P(_.index+e,0,_.entries.length-1),r=_.entries[t];l.confirmTransitionTo(r,"POP",n,(function(e){e?h({action:"POP",location:r,index:t}):h()}))}var _={length:y.length,action:"POP",location:y[d],index:d,entries:y,createHref:m,push:function(e,t){var r="PUSH",i=v(e,t,f(),_.location);l.confirmTransitionTo(i,r,n,(function(e){if(e){var t=_.index+1,n=_.entries.slice(0);n.length>t?n.splice(t,n.length-t,i):n.push(i),h({action:r,location:i,index:t,entries:n})}}))},replace:function(e,t){var r="REPLACE",i=v(e,t,f(),_.location);l.confirmTransitionTo(i,r,n,(function(e){e&&(_.entries[_.index]=i,h({action:r,location:i}))}))},go:b,goBack:function(){b(-1)},goForward:function(){b(1)},canGo:function(e){var t=_.index+e;return t>=0&&t<_.entries.length},block:function(e){return void 0===e&&(e=!1),l.setPrompt(e)},listen:function(e){return l.appendListener(e)}};return _}},function(e,t,n){"use strict";function r(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";function r(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}var i;n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return h})),n.d(t,"c",(function(){return f})),n.d(t,"d",(function(){return d}));var o,a=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(o||(o={}));var s={debug:o.DEBUG,verbose:o.VERBOSE,info:o.INFO,warn:o.WARN,error:o.ERROR,silent:o.SILENT},u=o.INFO,c=((i={})[o.DEBUG]="log",i[o.VERBOSE]="log",i[o.INFO]="info",i[o.WARN]="warn",i[o.ERROR]="error",i),l=function(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(t<e.logLevel)){var o=(new Date).toISOString(),a=c[t];if(!a)throw new Error("Attempted to log a message with an invalid logType (value: "+t+")");console[a].apply(console,r(["["+o+"]  "+e.name+":"],n))}},h=function(){function e(e){this.name=e,this._logLevel=u,this._logHandler=l,this._userLogHandler=null,a.push(this)}return Object.defineProperty(e.prototype,"logLevel",{get:function(){return this._logLevel},set:function(e){if(!(e in o))throw new TypeError('Invalid value "'+e+'" assigned to `logLevel`');this._logLevel=e},enumerable:!1,configurable:!0}),e.prototype.setLogLevel=function(e){this._logLevel="string"===typeof e?s[e]:e},Object.defineProperty(e.prototype,"logHandler",{get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e},enumerable:!1,configurable:!0}),e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.DEBUG],e)),this._logHandler.apply(this,r([this,o.DEBUG],e))},e.prototype.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.VERBOSE],e)),this._logHandler.apply(this,r([this,o.VERBOSE],e))},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.INFO],e)),this._logHandler.apply(this,r([this,o.INFO],e))},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.WARN],e)),this._logHandler.apply(this,r([this,o.WARN],e))},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.ERROR],e)),this._logHandler.apply(this,r([this,o.ERROR],e))},e}();function f(e){a.forEach((function(t){t.setLogLevel(e)}))}function d(e,t){for(var n=function(n){var r=null;t&&t.level&&(r=s[t.level]),n.userLogHandler=null===e?null:function(t,n){for(var i=[],a=2;a<arguments.length;a++)i[a-2]=arguments[a];var s=i.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==r&&void 0!==r?r:t.logLevel)&&e({level:o[n].toLowerCase(),message:s,args:i,type:t.name})}},r=0,i=a;r<i.length;r++){n(i[r])}}},function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0}),t.setConfiguration=t.getConfiguration=void 0;var a={breakpoints:[576,768,992,1200,1600],containerWidths:[540,750,960,1140,1540],gutterWidth:30,gridColumns:12,defaultScreenClass:"xxl",maxScreenClass:"xxl"};t.getConfiguration=function(){return a};t.setConfiguration=function(e){a=i(i({},a),e)}},function(e,t,n){e.exports=n(76)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"Div",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(t,"Span",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(t,"Window",{enumerable:!0,get:function(){return o.default}});var r=a(n(65)),i=a(n(66)),o=a(n(67));function a(e){return e&&e.__esModule?e:{default:e}}},function(e,t,n){"use strict";function r(e){return(r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=u(n(1)),o=u(n(11)),a=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var t=s();if(t&&t.has(e))return t.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var a=i?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=e[o]}n.default=e,t&&t.set(e,n);return n}(n(39));function s(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return s=function(){return e},e}function u(e){return e&&e.__esModule?e:{default:e}}var c=function(e){var t=e.children;return i.default.createElement(a.ScreenClassContext.Consumer,null,(function(e){return e===a.NO_PROVIDER_FLAG?i.default.createElement(a.default,null,i.default.createElement(a.ScreenClassContext.Consumer,null,(function(e){return t(e)}))):t(e)}))};c.propTypes={children:o.default.func.isRequired};var l=c;t.default=l},function(e,t,n){"use strict";e.exports=n(59)},function(e,t,n){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";var r=n(23),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function u(e){return r.isMemo(e)?a:s[e.$$typeof]||i}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[r.Memo]=a;var c=Object.defineProperty,l=Object.getOwnPropertyNames,h=Object.getOwnPropertySymbols,f=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=d(n);i&&i!==p&&e(t,i,r)}var a=l(n);h&&(a=a.concat(h(n)));for(var s=u(t),v=u(n),y=0;y<a.length;++y){var g=a[y];if(!o[g]&&(!r||!r[g])&&(!v||!v[g])&&(!s||!s[g])){var m=f(n,g);try{c(t,g,m)}catch(b){}}}}return t}},function(e,t,n){"use strict";var r=function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.create;Object.create;var i,o,a=n(0),s=n(15),u=n(18),c=((i={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",i["bad-app-name"]="Illegal App name: '{$appName}",i["duplicate-app"]="Firebase App named '{$appName}' already exists",i["app-deleted"]="Firebase App named '{$appName}' already deleted",i["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",i["invalid-log-argument"]="First argument to `onLog` must be null or a function.",i),l=new a.b("app","Firebase",c),h="@firebase/app",f="[DEFAULT]",d=((o={})[h]="fire-core",o["@firebase/analytics"]="fire-analytics",o["@firebase/auth"]="fire-auth",o["@firebase/database"]="fire-rtdb",o["@firebase/functions"]="fire-fn",o["@firebase/installations"]="fire-iid",o["@firebase/messaging"]="fire-fcm",o["@firebase/performance"]="fire-perf",o["@firebase/remote-config"]="fire-rc",o["@firebase/storage"]="fire-gcs",o["@firebase/firestore"]="fire-fst",o["fire-js"]="fire-js",o["firebase-wrapper"]="fire-js-all",o),p=new u.b("@firebase/app"),v=function(){function e(e,t,n){var r=this;this.firebase_=n,this.isDeleted_=!1,this.name_=t.name,this.automaticDataCollectionEnabled_=t.automaticDataCollectionEnabled||!1,this.options_=Object(a.k)(e),this.container=new s.b(t.name),this._addComponent(new s.a("app",(function(){return r}),"PUBLIC")),this.firebase_.INTERNAL.components.forEach((function(e){return r._addComponent(e)}))}return Object.defineProperty(e.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(e){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),e.prototype.delete=function(){var e=this;return new Promise((function(t){e.checkDestroyed_(),t()})).then((function(){return e.firebase_.INTERNAL.removeApp(e.name_),Promise.all(e.container.getProviders().map((function(e){return e.delete()})))})).then((function(){e.isDeleted_=!0}))},e.prototype._getService=function(e,t){return void 0===t&&(t=f),this.checkDestroyed_(),this.container.getProvider(e).getImmediate({identifier:t})},e.prototype._removeServiceInstance=function(e,t){void 0===t&&(t=f),this.container.getProvider(e).clearInstance(t)},e.prototype._addComponent=function(e){try{this.container.addComponent(e)}catch(t){p.debug("Component "+e.name+" failed to register with FirebaseApp "+this.name,t)}},e.prototype._addOrOverwriteComponent=function(e){this.container.addOrOverwriteComponent(e)},e.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},e.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw l.create("app-deleted",{appName:this.name_})},e}();v.prototype.name&&v.prototype.options||v.prototype.delete||console.log("dc");var y=function e(){var t=function(e){var t={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"===typeof i&&null!==i||(i={name:i});var o=i;void 0===o.name&&(o.name=f);var s=o.name;if("string"!==typeof s||!s)throw l.create("bad-app-name",{appName:String(s)});if(Object(a.i)(t,s))throw l.create("duplicate-app",{appName:s});var u=new e(n,o,r);return t[s]=u,u},app:i,registerVersion:function(e,t,n){var r,i=null!==(r=d[e])&&void 0!==r?r:e;n&&(i+="-"+n);var a=i.match(/\s|\//),u=t.match(/\s|\//);if(a||u){var c=['Unable to register library "'+i+'" with version "'+t+'":'];return a&&c.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),a&&u&&c.push("and"),u&&c.push('version name "'+t+'" contains illegal characters (whitespace or "/")'),void p.warn(c.join(" "))}o(new s.a(i+"-version",(function(){return{library:i,version:t}}),"VERSION"))},setLogLevel:u.c,onLog:function(e,t){if(null!==e&&"function"!==typeof e)throw l.create("invalid-log-argument");Object(u.d)(e,t)},apps:null,SDK_VERSION:"8.4.0",INTERNAL:{registerComponent:o,removeApp:function(e){delete t[e]},components:n,useAsService:function(e,t){return"serverAuth"===t?null:t}}};function i(e){if(e=e||f,!Object(a.i)(t,e))throw l.create("no-app",{appName:e});return t[e]}function o(o){var s=o.name;if(n.has(s))return p.debug("There were multiple attempts to register component "+s+"."),"PUBLIC"===o.type?r[s]:null;if(n.set(s,o),"PUBLIC"===o.type){var u=function(e){if(void 0===e&&(e=i()),"function"!==typeof e[s])throw l.create("invalid-app-argument",{appName:s});return e[s]()};void 0!==o.serviceProps&&Object(a.l)(u,o.serviceProps),r[s]=u,e.prototype[s]=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this._getService.bind(this,s).apply(this,o.multipleInstances?e:[])}}for(var c=0,h=Object.keys(t);c<h.length;c++){var f=h[c];t[f]._addComponent(o)}return"PUBLIC"===o.type?r[s]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(t).map((function(e){return t[e]}))}}),i.App=e,r}(v);return t.INTERNAL=r(r({},t.INTERNAL),{createFirebaseNamespace:e,extendNamespace:function(e){Object(a.l)(t,e)},createSubscribe:a.j,ErrorFactory:a.b,deepExtend:a.l}),t}(),g=function(){function e(e){this.container=e}return e.prototype.getPlatformInfoString=function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return t.library+"/"+t.version}return null})).filter((function(e){return e})).join(" ")},e}();if(Object(a.p)()&&void 0!==self.firebase){p.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var m=self.firebase.SDK_VERSION;m&&m.indexOf("LITE")>=0&&p.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var b=y.initializeApp;y.initializeApp=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Object(a.s)()&&p.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),b.apply(void 0,e)};var _,w,E=y;(_=E).INTERNAL.registerComponent(new s.a("platform-logger",(function(e){return new g(e)}),"PRIVATE")),_.registerVersion(h,"0.6.20",w),_.registerVersion("fire-js","");t.a=E},function(e,t){var n,r,i=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(e){if(n===setTimeout)return setTimeout(e,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"===typeof setTimeout?setTimeout:o}catch(e){n=o}try{r="function"===typeof clearTimeout?clearTimeout:a}catch(e){r=a}}();var u,c=[],l=!1,h=-1;function f(){l&&u&&(l=!1,u.length?c=u.concat(c):h=-1,c.length&&d())}function d(){if(!l){var e=s(f);l=!0;for(var t=c.length;t;){for(u=c,c=[];++h<t;)u&&u[h].run();h=-1,t=c.length}u=null,l=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function v(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new p(e,t)),1!==c.length||l||s(d)},p.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=v,i.addListener=v,i.once=v,i.off=v,i.removeListener=v,i.removeAllListeners=v,i.emit=v,i.prependListener=v,i.prependOnceListener=v,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var r=n(8),i=n(13),o=n(1),a=n.n(o),s=n(16),u=(n(11),n(9)),c=n(17),l=n(12);a.a.Component;var h=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).history=Object(s.b)(t.props),t}return Object(i.a)(t,e),t.prototype.render=function(){return a.a.createElement(r.b,{history:this.history,children:this.props.children})},t}(a.a.Component);var f=function(e,t){return"function"===typeof e?e(t):e},d=function(e,t){return"string"===typeof e?Object(s.c)(e,null,null,t):e},p=function(e){return e},v=a.a.forwardRef;"undefined"===typeof v&&(v=p);var y=v((function(e,t){var n=e.innerRef,r=e.navigate,i=e.onClick,o=Object(c.a)(e,["innerRef","navigate","onClick"]),s=o.target,l=Object(u.a)({},o,{onClick:function(e){try{i&&i(e)}catch(t){throw e.preventDefault(),t}e.defaultPrevented||0!==e.button||s&&"_self"!==s||function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)||(e.preventDefault(),r())}});return l.ref=p!==v&&t||n,a.a.createElement("a",l)}));var g=v((function(e,t){var n=e.component,i=void 0===n?y:n,o=e.replace,s=e.to,h=e.innerRef,g=Object(c.a)(e,["component","replace","to","innerRef"]);return a.a.createElement(r.d.Consumer,null,(function(e){e||Object(l.a)(!1);var n=e.history,r=d(f(s,e.location),e.location),c=r?n.createHref(r):"",y=Object(u.a)({},g,{href:c,navigate:function(){var t=f(s,e.location);(o?n.replace:n.push)(t)}});return p!==v?y.ref=t||h:y.innerRef=h,a.a.createElement(i,y)}))})),m=function(e){return e},b=a.a.forwardRef;"undefined"===typeof b&&(b=m);b((function(e,t){var n=e["aria-current"],i=void 0===n?"page":n,o=e.activeClassName,s=void 0===o?"active":o,h=e.activeStyle,p=e.className,v=e.exact,y=e.isActive,_=e.location,w=e.sensitive,E=e.strict,S=e.style,T=e.to,I=e.innerRef,C=Object(c.a)(e,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","sensitive","strict","style","to","innerRef"]);return a.a.createElement(r.d.Consumer,null,(function(e){e||Object(l.a)(!1);var n=_||e.location,o=d(f(T,n),n),c=o.pathname,k=c&&c.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),O=k?Object(r.e)(n.pathname,{path:k,exact:v,sensitive:w,strict:E}):null,x=!!(y?y(O,n):O),P=x?function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((function(e){return e})).join(" ")}(p,s):p,N=x?Object(u.a)({},S,{},h):S,R=Object(u.a)({"aria-current":x&&i||null,className:P,style:N,to:o},C);return m!==b?R.ref=t||I:R.innerRef=I,a.a.createElement(g,R)}))}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(24);function i(e,t){if(e){if("string"===typeof e)return Object(r.a)(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Object(r.a)(e,t):void 0}}},function(e,t,n){(function(t,n){e.exports=function(){"use strict";!function(e){var t,n,r,i,o,a,s,u,c,l;function h(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function f(e){return"string"!=typeof e?String(e):e}function d(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return n&&(t[Symbol.iterator]=function(){return t}),t}function p(e){this.map={},e instanceof p?e.forEach((function(e,t){this.append(t,e)}),this):Array.isArray(e)?e.forEach((function(e){this.append(e[0],e[1])}),this):e&&Object.getOwnPropertyNames(e).forEach((function(t){this.append(t,e[t])}),this)}function v(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function y(e){return new Promise((function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}}))}function g(e){var t=new FileReader,n=y(t);return t.readAsArrayBuffer(e),n}function m(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function b(){return this.bodyUsed=!1,this._initBody=function(e){if(this._bodyInit=e)if("string"==typeof e)this._bodyText=e;else if(r&&Blob.prototype.isPrototypeOf(e))this._bodyBlob=e;else if(i&&FormData.prototype.isPrototypeOf(e))this._bodyFormData=e;else if(t&&URLSearchParams.prototype.isPrototypeOf(e))this._bodyText=e.toString();else if(o&&r&&s(e))this._bodyArrayBuffer=m(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!o||!ArrayBuffer.prototype.isPrototypeOf(e)&&!u(e))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=m(e)}else this._bodyText="";this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):t&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},r&&(this.blob=function(){var e=v(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?v(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(g)}),this.text=function(){var e,t,n=v(this);if(n)return n;if(this._bodyBlob)return e=this._bodyBlob,n=y(t=new FileReader),t.readAsText(e),n;if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),n=new Array(t.length),r=0;r<t.length;r++)n[r]=String.fromCharCode(t[r]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},i&&(this.formData=function(){return this.text().then(w)}),this.json=function(){return this.text().then(JSON.parse)},this}function _(e,t){var n,r=(t=t||{}).body;if(e instanceof _){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new p(e.headers)),this.method=e.method,this.mode=e.mode,r||null==e._bodyInit||(r=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"omit",!t.headers&&this.headers||(this.headers=new p(t.headers)),this.method=(e=(n=t.method||this.method||"GET").toUpperCase(),-1<c.indexOf(e)?e:n),this.mode=t.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&r)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(r)}function w(e){var t=new FormData;return e.trim().split("&").forEach((function(e){var n;e&&(e=(n=e.split("=")).shift().replace(/\+/g," "),n=n.join("=").replace(/\+/g," "),t.append(decodeURIComponent(e),decodeURIComponent(n)))})),t}function E(e,t){t=t||{},this.type="default",this.status=void 0===t.status?200:t.status,this.ok=200<=this.status&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new p(t.headers),this.url=t.url||"",this._initBody(e)}e.fetch||(t="URLSearchParams"in e,n="Symbol"in e&&"iterator"in Symbol,r="FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),i="FormData"in e,(o="ArrayBuffer"in e)&&(a=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],s=function(e){return e&&DataView.prototype.isPrototypeOf(e)},u=ArrayBuffer.isView||function(e){return e&&-1<a.indexOf(Object.prototype.toString.call(e))}),p.prototype.append=function(e,t){e=h(e),t=f(t);var n=this.map[e];this.map[e]=n?n+","+t:t},p.prototype.delete=function(e){delete this.map[h(e)]},p.prototype.get=function(e){return e=h(e),this.has(e)?this.map[e]:null},p.prototype.has=function(e){return this.map.hasOwnProperty(h(e))},p.prototype.set=function(e,t){this.map[h(e)]=f(t)},p.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},p.prototype.keys=function(){var e=[];return this.forEach((function(t,n){e.push(n)})),d(e)},p.prototype.values=function(){var e=[];return this.forEach((function(t){e.push(t)})),d(e)},p.prototype.entries=function(){var e=[];return this.forEach((function(t,n){e.push([n,t])})),d(e)},n&&(p.prototype[Symbol.iterator]=p.prototype.entries),c=["DELETE","GET","HEAD","OPTIONS","POST","PUT"],_.prototype.clone=function(){return new _(this,{body:this._bodyInit})},b.call(_.prototype),b.call(E.prototype),E.prototype.clone=function(){return new E(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new p(this.headers),url:this.url})},E.error=function(){var e=new E(null,{status:0,statusText:""});return e.type="error",e},l=[301,302,303,307,308],E.redirect=function(e,t){if(-1===l.indexOf(t))throw new RangeError("Invalid status code");return new E(null,{status:t,headers:{location:e}})},e.Headers=p,e.Request=_,e.Response=E,e.fetch=function(e,t){return new Promise((function(n,i){var o=new _(e,t),a=new XMLHttpRequest;a.onload=function(){var e,t={status:a.status,statusText:a.statusText,headers:(r=a.getAllResponseHeaders()||"",e=new p,r.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach((function(t){var n=t.split(":");(t=n.shift().trim())&&(n=n.join(":").trim(),e.append(t,n))})),e)};t.url="responseURL"in a?a.responseURL:t.headers.get("X-Request-URL");var r="response"in a?a.response:a.responseText;n(new E(r,t))},a.onerror=function(){i(new TypeError("Network request failed"))},a.ontimeout=function(){i(new TypeError("Network request failed"))},a.open(o.method,o.url,!0),"include"===o.credentials?a.withCredentials=!0:"omit"===o.credentials&&(a.withCredentials=!1),"responseType"in a&&r&&(a.responseType="blob"),o.headers.forEach((function(e,t){a.setRequestHeader(t,e)})),a.send(void 0===o._bodyInit?null:o._bodyInit)}))},e.fetch.polyfill=!0)}("undefined"!=typeof self?self:void 0);var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof t?t:"undefined"!=typeof self?self:{};function r(e){var t={exports:{}};return e(t,t.exports),t.exports}function i(e){try{return!!e()}catch(e){return!0}}function o(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}function a(e){return _.call(e).slice(8,-1)}function s(e){if(null==e)throw TypeError("Can't call method on "+e);return e}function u(e){return E(s(e))}function c(e){return"object"==typeof e?null!==e:"function"==typeof e}function l(e,t){if(!c(e))return e;var n,r;if(t&&"function"==typeof(n=e.toString)&&!c(r=n.call(e)))return r;if("function"==typeof(n=e.valueOf)&&!c(r=n.call(e)))return r;if(!t&&"function"==typeof(n=e.toString)&&!c(r=n.call(e)))return r;throw TypeError("Can't convert object to primitive value")}function h(e,t){return S.call(e,t)}function f(e){return I?T.createElement(e):{}}function d(e){if(!c(e))throw TypeError(String(e)+" is not an object");return e}function p(t,n){try{N(v,t,n)}catch(e){v[t]=n}return n}var v=(Nt=function(e){return e&&e.Math==Math&&e})("object"==typeof globalThis&&globalThis)||Nt("object"==typeof window&&window)||Nt("object"==typeof self&&self)||Nt("object"==typeof e&&e)||function(){return this}()||Function("return this")(),y=!i((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})),g={}.propertyIsEnumerable,m=Object.getOwnPropertyDescriptor,b={f:m&&!g.call({1:2},1)?function(e){return!!(e=m(this,e))&&e.enumerable}:g},_={}.toString,w="".split,E=i((function(){return!Object("z").propertyIsEnumerable(0)}))?function(e){return"String"==a(e)?w.call(e,""):Object(e)}:Object,S={}.hasOwnProperty,T=v.document,I=c(T)&&c(T.createElement),C=!y&&!i((function(){return 7!=Object.defineProperty(f("div"),"a",{get:function(){return 7}}).a})),k=Object.getOwnPropertyDescriptor,O={f:y?k:function(e,t){if(e=u(e),t=l(t,!0),C)try{return k(e,t)}catch(e){}if(h(e,t))return o(!b.f.call(e,t),e[t])}},x=Object.defineProperty,P={f:y?x:function(e,t,n){if(d(e),t=l(t,!0),d(n),C)try{return x(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},N=y?function(e,t,n){return P.f(e,t,o(1,n))}:function(e,t,n){return e[t]=n,e},R=v[At="__core-js_shared__"]||p(At,{}),A=Function.toString;function D(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++G+Q).toString(36)}"function"!=typeof R.inspectSource&&(R.inspectSource=function(e){return A.call(e)});var j,L,M,F,U,q,B,V,W=R.inspectSource,z="function"==typeof(it=v.WeakMap)&&/native code/.test(W(it)),H=!1,K=r((function(e){(e.exports=function(e,t){return R[e]||(R[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.8.1",mode:"global",copyright:"\xa9 2020 Denis Pushkarev (zloirock.ru)"})})),G=0,Q=Math.random(),Y=K("keys"),$=function(e){return Y[e]||(Y[e]=D(e))},X={},J=v.WeakMap;function Z(e){return"function"==typeof e?e:void 0}function ee(e,t){return arguments.length<2?Z(fe[e])||Z(v[e]):fe[e]&&fe[e][t]||v[e]&&v[e][t]}function te(e){return isNaN(e=+e)?0:(0<e?pe:de)(e)}function ne(e){return 0<e?ve(te(e),9007199254740991):0}function re(e,t){var n,r=u(e),i=0,o=[];for(n in r)!h(X,n)&&h(r,n)&&o.push(n);for(;t.length>i;)h(r,n=t[i++])&&(~me(o,n)||o.push(n));return o}function ie(e,t){for(var n=Se(t),r=P.f,i=O.f,o=0;o<n.length;o++){var a=n[o];h(e,a)||r(e,a,i(t,a))}}function oe(e,t){var n,r,i,o=e.target,a=e.global,s=e.stat,u=a?v:s?v[o]||p(o,{}):(v[o]||{}).prototype;if(u)for(n in t){if(r=t[n],i=e.noTargetGet?(i=Pe(u,n))&&i.value:u[n],!xe(a?n:o+(s?".":"#")+n,e.forced)&&void 0!==i){if(typeof r==typeof i)continue;ie(r,i)}(e.sham||i&&i.sham)&&N(r,"sham",!0),he(u,n,r,e)}}function ae(e){return Object(s(e))}function se(){}function ue(e){return"<script>"+e+"</"+Ue+">"}B=z?(j=R.state||(R.state=new J),L=j.get,M=j.has,F=j.set,U=function(e,t){return t.facade=e,F.call(j,e,t),t},q=function(e){return L.call(j,e)||{}},function(e){return M.call(j,e)}):(V=$("state"),X[V]=!0,U=function(e,t){return t.facade=e,N(e,V,t),t},q=function(e){return h(e,V)?e[V]:{}},function(e){return h(e,V)});var ce,le={set:U,get:q,has:B,enforce:function(e){return B(e)?q(e):U(e,{})},getterFor:function(e){return function(t){var n;if(!c(t)||(n=q(t)).type!==e)throw TypeError("Incompatible receiver, "+e+" required");return n}}},he=r((function(e){var t=le.get,n=le.enforce,r=String(String).split("String");(e.exports=function(e,t,i,o){var a=!!o&&!!o.unsafe,s=!!o&&!!o.enumerable,u=!!o&&!!o.noTargetGet;"function"==typeof i&&("string"!=typeof t||h(i,"name")||N(i,"name",t),(o=n(i)).source||(o.source=r.join("string"==typeof t?t:""))),e!==v?(a?!u&&e[t]&&(s=!0):delete e[t],s?e[t]=i:N(e,t,i)):s?e[t]=i:p(t,i)})(Function.prototype,"toString",(function(){return"function"==typeof this&&t(this).source||W(this)}))})),fe=v,de=Math.ceil,pe=Math.floor,ve=Math.min,ye=Math.max,ge=Math.min,me=((Ot=function(e){return function(t,n,r){var i,o=u(t),a=ne(o.length),s=function(e,t){return(e=te(e))<0?ye(e+t,0):ge(e,t)}(r,a);if(e&&n!=n){for(;s<a;)if((i=o[s++])!=i)return!0}else for(;s<a;s++)if((e||s in o)&&o[s]===n)return e||s||0;return!e&&-1}})(!0),Ot(!1)),be=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],_e=be.concat("length","prototype"),we={f:Object.getOwnPropertyNames||function(e){return re(e,_e)}},Ee={f:Object.getOwnPropertySymbols},Se=ee("Reflect","ownKeys")||function(e){var t=we.f(d(e)),n=Ee.f;return n?t.concat(n(e)):t},Te=/#|\.prototype\./,Ie=(Nt=function(e,t){return(e=Ce[Ie(e)])==Oe||e!=ke&&("function"==typeof t?i(t):!!t)}).normalize=function(e){return String(e).replace(Te,".").toLowerCase()},Ce=Nt.data={},ke=Nt.NATIVE="N",Oe=Nt.POLYFILL="P",xe=Nt,Pe=O.f,Ne=(e=!i((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype})),$("IE_PROTO")),Re=Object.prototype,Ae=e?Object.getPrototypeOf:function(e){return h(e=ae(e),Ne)?e[Ne]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?Re:null},De=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{(e=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(n,[]),t=n instanceof Array}catch(n){}return function(n,r){return d(n),function(e){if(!c(e)&&null!==e)throw TypeError("Can't set "+String(e)+" as a prototype")}(r),t?e.call(n,r):n.__proto__=r,n}}():void 0),je=Object.keys||function(e){return re(e,be)},Le=y?Object.defineProperties:function(e,t){d(e);for(var n,r=je(t),i=r.length,o=0;o<i;)P.f(e,n=r[o++],t[n]);return e},Me=ee("document","documentElement"),Fe="prototype",Ue="script",qe=$("IE_PROTO"),Be=function(){try{ce=document.domain&&new ActiveXObject("htmlfile")}catch(e){}var e;Be=ce?function(e){e.write(ue("")),e.close();var t=e.parentWindow.Object;return e=null,t}(ce):((e=f("iframe")).style.display="none",Me.appendChild(e),e.src=String("javascript:"),(e=e.contentWindow.document).open(),e.write(ue("document.F=Object")),e.close(),e.F);for(var t=be.length;t--;)delete Be[Fe][be[t]];return Be()};function Ve(e){return h(Qe,e)||(Ge&&h(Ye,e)?Qe[e]=Ye[e]:Qe[e]=$e("Symbol."+e)),Qe[e]}function We(e){return void 0!==e&&(Xe.Array===e||Ze[Je]===e)}function ze(e){if("function"!=typeof e)throw TypeError(String(e)+" is not a function");return e}function He(e,t,n){if(ze(e),void 0===t)return e;switch(n){case 0:return function(){return e.call(t)};case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)}}return function(){return e.apply(t,arguments)}}X[qe]=!0;var Ke=Object.create||function(e,t){var n;return null!==e?(se[Fe]=d(e),n=new se,se[Fe]=null,n[qe]=e):n=Be(),void 0===t?n:Le(n,t)},Ge=!!Object.getOwnPropertySymbols&&!i((function(){return!String(Symbol())})),Qe=(g=Ge&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,K("wks")),Ye=v.Symbol,$e=g?Ye:Ye&&Ye.withoutSetter||D,Xe={},Je=Ve("iterator"),Ze=Array.prototype;function et(e){if(null!=e)return e[ut]||e["@@iterator"]||Xe[st(e)]}function tt(e){var t=e.return;return void 0!==t&&d(t.call(e)).value}function nt(e,t){this.stopped=e,this.result=t}function rt(e,t,n){function r(e){return o&&tt(o),new nt(!0,e)}function i(e){return f?(d(e),v?y(e[0],e[1],r):y(e[0],e[1])):v?y(e,r):y(e)}var o,a,s,u,c,l,h=n&&n.that,f=!(!n||!n.AS_ENTRIES),p=!(!n||!n.IS_ITERATOR),v=!(!n||!n.INTERRUPTED),y=He(t,h,1+f+v);if(p)o=e;else{if("function"!=typeof(p=et(e)))throw TypeError("Target is not iterable");if(We(p)){for(a=0,s=ne(e.length);a<s;a++)if((u=i(e[a]))&&u instanceof nt)return u;return new nt(!1)}o=p.call(e)}for(c=o.next;!(l=c.call(o)).done;){try{u=i(l.value)}catch(e){throw tt(o),e}if("object"==typeof u&&u&&u instanceof nt)return u}return new nt(!1)}(At={})[Ve("toStringTag")]="z";var it="[object z]"===String(At),ot=Ve("toStringTag"),at="Arguments"==a(function(){return arguments}()),st=it?a:function(e){var t;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(e=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),ot))?e:at?a(t):"Object"==(e=a(t))&&"function"==typeof t.callee?"Arguments":e},ut=Ve("iterator"),ct=function e(t,n){var r=this;return r instanceof e?(De&&(r=De(new Error(void 0),Ae(r))),void 0!==n&&N(r,"message",String(n)),rt(t,(n=[]).push,{that:n}),N(r,"errors",n),r):new e(t,n)};function lt(e,t,n){for(var r in t)he(e,r,t[r],n);return e}function ht(e,t,n){e&&!h(e=n?e:e.prototype,yt)&&vt(e,yt,{configurable:!0,value:t})}function ft(e){var t=ee(e);e=P.f,y&&t&&!t[gt]&&e(t,gt,{configurable:!0,get:function(){return this}})}function dt(e,t,n){if(!(e instanceof t))throw TypeError("Incorrect "+(n?n+" ":"")+"invocation");return e}ct.prototype=Ke(Error.prototype,{constructor:o(5,ct),message:o(5,""),name:o(5,"AggregateError")}),oe({global:!0},{AggregateError:ct}),z=it?{}.toString:function(){return"[object "+st(this)+"]"},it||he(Object.prototype,"toString",z,{unsafe:!0});var pt=v.Promise,vt=P.f,yt=Ve("toStringTag"),gt=Ve("species"),mt=Ve("iterator"),bt=!1;try{var _t=0,wt={next:function(){return{done:!!_t++}},return:function(){bt=!0}};wt[mt]=function(){return this},Array.from(wt,(function(){throw 2}))}catch(Ua){}function Et(e,t){if(!t&&!bt)return!1;var n=!1;try{var r={};r[mt]=function(){return{next:function(){return{done:n=!0}}}},e(r)}catch(e){}return n}function St(e,t){var n;return void 0===(e=d(e).constructor)||null==(n=d(e)[kt])?t:ze(n)}function Tt(e){var t;Lt.hasOwnProperty(e)&&(t=Lt[e],delete Lt[e],t())}function It(e){return function(){Tt(e)}}var Ct,kt=Ve("species"),Ot=(J=ee("navigator","userAgent")||"",/(iphone|ipod|ipad).*applewebkit/i.test(J)),xt="process"==a(v.process),Pt=v.location,Nt=v.setImmediate,Rt=(e=v.clearImmediate,v.process),At=v.MessageChannel,Dt=v.Dispatch,jt=0,Lt={},Mt="onreadystatechange";it=function(e){Tt(e.data)},z=function(e){v.postMessage(e+"",Pt.protocol+"//"+Pt.host)},Nt&&e||(Nt=function(e){for(var t=[],n=1;n<arguments.length;)t.push(arguments[n++]);return Lt[++jt]=function(){("function"==typeof e?e:Function(e)).apply(void 0,t)},Ct(jt),jt},e=function(e){delete Lt[e]},xt?Ct=function(e){Rt.nextTick(It(e))}:Dt&&Dt.now?Ct=function(e){Dt.now(It(e))}:At&&!Ot?(Kt=(At=new At).port2,At.port1.onmessage=it,Ct=He(Kt.postMessage,Kt,1)):v.addEventListener&&"function"==typeof postMessage&&!v.importScripts&&Pt&&"file:"!==Pt.protocol&&!i(z)?(Ct=z,v.addEventListener("message",it,!1)):Ct=Mt in f("script")?function(e){Me.appendChild(f("script"))[Mt]=function(){Me.removeChild(this),Tt(e)}}:function(e){setTimeout(It(e),0)});var Ft,Ut,qt,Bt,Vt,Wt,zt,Ht,Kt={set:Nt,clear:e},Gt=(z=O.f,Kt.set),Qt=(it=v.MutationObserver||v.WebKitMutationObserver,Nt=v.document,v.process);function Yt(e){var t,n;this.promise=new e((function(e,r){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=r})),this.resolve=ze(t),this.reject=ze(n)}function $t(e,t){return d(e),c(t)&&t.constructor===e?t:((0,(e=Zt.f(e)).resolve)(t),e.promise)}function Xt(e){try{return{error:!1,value:e()}}catch(e){return{error:!0,value:e}}}e=v.Promise,(z=(z=z(v,"queueMicrotask"))&&z.value)||(Ft=function(){var e,t;for(xt&&(e=Qt.domain)&&e.exit();Ut;){t=Ut.fn,Ut=Ut.next;try{t()}catch(e){throw Ut?Bt():qt=void 0,e}}qt=void 0,e&&e.enter()},Bt=!Ot&&!xt&&it&&Nt?(Vt=!0,Wt=Nt.createTextNode(""),new it(Ft).observe(Wt,{characterData:!0}),function(){Wt.data=Vt=!Vt}):e&&e.resolve?(zt=e.resolve(void 0),Ht=zt.then,function(){Ht.call(zt,Ft)}):xt?function(){Qt.nextTick(Ft)}:function(){Gt.call(v,Ft)});var Jt=z||function(e){e={fn:e,next:void 0},qt&&(qt.next=e),Ut||(Ut=e,Bt()),qt=e},Zt={f:function(e){return new Yt(e)}};function en(e){var t;return!(!c(e)||"function"!=typeof(t=e.then))&&t}function tn(e,t){var n;e.notified||(e.notified=!0,n=e.reactions,Jt((function(){for(var r=e.value,i=1==e.state,o=0;n.length>o;){var a,s,u,c=n[o++],l=i?c.ok:c.fail,h=c.resolve,f=c.reject,d=c.domain;try{l?(i||(2===e.rejection&&Pn(e),e.rejection=1),!0===l?a=r:(d&&d.enter(),a=l(r),d&&(d.exit(),u=!0)),a===c.promise?f(mn("Promise-chain cycle")):(s=en(a))?s.call(a,h,f):h(a)):f(r)}catch(r){d&&!u&&d.exit(),f(r)}}e.reactions=[],e.notified=!1,t&&!e.rejection&&On(e)})))}function nn(e,t,n){var r,i;Tn?((r=bn.createEvent("Event")).promise=t,r.reason=n,r.initEvent(e,!1,!0),v.dispatchEvent(r)):r={promise:t,reason:n},!In&&(i=v["on"+e])?i(r):e===Cn&&function(e,t){var n=v.console;n&&n.error&&(1===arguments.length?n.error(e):n.error(e,t))}("Unhandled promise rejection",n)}function rn(e,t,n){return function(r){e(t,r,n)}}function on(e,t,n){e.done||(e.done=!0,(e=n||e).value=t,e.state=2,tn(e,!0))}(z=(z=(z=v.process)&&z.versions)&&z.v8)?kr=(kn=z.split("."))[0]+kn[1]:J&&(!(kn=J.match(/Edge\/(\d+)/))||74<=kn[1])&&(kn=J.match(/Chrome\/(\d+)/))&&(kr=kn[1]);var an,sn,un,cn,ln=kr&&+kr,hn=Kt.set,fn=Ve("species"),dn="Promise",pn=le.get,vn=le.set,yn=le.getterFor(dn),gn=pt,mn=v.TypeError,bn=v.document,_n=v.process,wn=ee("fetch"),En=Zt.f,Sn=En,Tn=!!(bn&&bn.createEvent&&v.dispatchEvent),In="function"==typeof PromiseRejectionEvent,Cn="unhandledrejection",kn=(J=xe(dn,(function(){if(W(gn)===String(gn)){if(66===ln)return!0;if(!xt&&!In)return!0}if(51<=ln&&/native code/.test(gn))return!1;function e(e){e((function(){}),(function(){}))}var t=gn.resolve(1);return(t.constructor={})[fn]=e,!(t.then((function(){}))instanceof e)})))||!Et((function(e){gn.all(e).catch((function(){}))})),On=function(e){hn.call(v,(function(){var t,n=e.facade,r=e.value;if(xn(e)&&(t=Xt((function(){xt?_n.emit("unhandledRejection",r,n):nn(Cn,n,r)})),e.rejection=xt||xn(e)?2:1,t.error))throw t.value}))},xn=function(e){return 1!==e.rejection&&!e.parent},Pn=function(e){hn.call(v,(function(){var t=e.facade;xt?_n.emit("rejectionHandled",t):nn("rejectionhandled",t,e.value)}))},Nn=function e(t,n,r){if(!t.done){t.done=!0,r&&(t=r);try{if(t.facade===n)throw mn("Promise can't be resolved itself");var i=en(n);i?Jt((function(){var r={done:!1};try{i.call(n,rn(e,r,t),rn(on,r,t))}catch(n){on(r,n,t)}})):(t.value=n,t.state=1,tn(t,!1))}catch(n){on({done:!1},n,t)}}};J&&(gn=function(e){dt(this,gn,dn),ze(e),an.call(this);var t=pn(this);try{e(rn(Nn,t),rn(on,t))}catch(e){on(t,e)}},(an=function(e){vn(this,{type:dn,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=lt(gn.prototype,{then:function(e,t){var n=yn(this),r=En(St(this,gn));return r.ok="function"!=typeof e||e,r.fail="function"==typeof t&&t,r.domain=xt?_n.domain:void 0,n.parent=!0,n.reactions.push(r),0!=n.state&&tn(n,!1),r.promise},catch:function(e){return this.then(void 0,e)}}),sn=function(){var e=new an,t=pn(e);this.promise=e,this.resolve=rn(Nn,t),this.reject=rn(on,t)},Zt.f=En=function(e){return e===gn||e===un?new sn:Sn(e)},"function"==typeof pt&&(cn=pt.prototype.then,he(pt.prototype,"then",(function(e,t){var n=this;return new gn((function(e,t){cn.call(n,e,t)})).then(e,t)}),{unsafe:!0}),"function"==typeof wn&&oe({global:!0,enumerable:!0,forced:!0},{fetch:function(e){return $t(gn,wn.apply(v,arguments))}}))),oe({global:!0,wrap:!0,forced:J},{Promise:gn}),ht(gn,dn,!1),ft(dn),un=ee(dn),oe({target:dn,stat:!0,forced:J},{reject:function(e){var t=En(this);return t.reject.call(void 0,e),t.promise}}),oe({target:dn,stat:!0,forced:J},{resolve:function(e){return $t(this,e)}}),oe({target:dn,stat:!0,forced:kn},{all:function(e){var t=this,n=En(t),r=n.resolve,i=n.reject,o=Xt((function(){var n=ze(t.resolve),o=[],a=0,s=1;rt(e,(function(e){var u=a++,c=!1;o.push(void 0),s++,n.call(t,e).then((function(e){c||(c=!0,o[u]=e,--s||r(o))}),i)})),--s||r(o)}));return o.error&&i(o.value),n.promise},race:function(e){var t=this,n=En(t),r=n.reject,i=Xt((function(){var i=ze(t.resolve);rt(e,(function(e){i.call(t,e).then(n.resolve,r)}))}));return i.error&&r(i.value),n.promise}}),oe({target:"Promise",stat:!0},{allSettled:function(e){var t=this,n=Zt.f(t),r=n.resolve,i=n.reject,o=Xt((function(){var n=ze(t.resolve),i=[],o=0,a=1;rt(e,(function(e){var s=o++,u=!1;i.push(void 0),a++,n.call(t,e).then((function(e){u||(u=!0,i[s]={status:"fulfilled",value:e},--a||r(i))}),(function(e){u||(u=!0,i[s]={status:"rejected",reason:e},--a||r(i))}))})),--a||r(i)}));return o.error&&i(o.value),n.promise}});var Rn="No one promise resolved";function An(){return this}function Dn(){return this}function jn(e,t,n,r,i,a,s){function u(e){if(e===i&&v)return v;if(!Fn&&e in d)return d[e];switch(e){case"keys":case qn:case Bn:return function(){return new n(this,e)}}return function(){return new n(this)}}!function(e,t,n){t+=" Iterator",e.prototype=Ke(Ln,{next:o(1,n)}),ht(e,t,!1),Xe[t]=An}(n,t,r);var c,l,h=t+" Iterator",f=!1,d=e.prototype,p=d[Un]||d["@@iterator"]||i&&d[i],v=!Fn&&p||u(i);if((r="Array"==t&&d.entries||p)&&(e=Ae(r.call(new e)),Mn!==Object.prototype&&e.next&&(Ae(e)!==Mn&&(De?De(e,Mn):"function"!=typeof e[Un]&&N(e,Un,Dn)),ht(e,h,!0))),i==qn&&p&&p.name!==qn&&(f=!0,v=function(){return p.call(this)}),d[Un]!==v&&N(d,Un,v),Xe[t]=v,i)if(c={values:u(qn),keys:a?v:u("keys"),entries:u(Bn)},s)for(l in c)!Fn&&!f&&l in d||he(d,l,c[l]);else oe({target:t,proto:!0,forced:Fn||f},c);return c}oe({target:"Promise",stat:!0},{any:function(e){var t=this,n=Zt.f(t),r=n.resolve,i=n.reject,o=Xt((function(){var n=ze(t.resolve),o=[],a=0,s=1,u=!1;rt(e,(function(e){var c=a++,l=!1;o.push(void 0),s++,n.call(t,e).then((function(e){l||u||(u=!0,r(e))}),(function(e){l||u||(l=!0,o[c]=e,--s||i(new(ee("AggregateError"))(o,Rn)))}))})),--s||i(new(ee("AggregateError"))(o,Rn))}));return o.error&&i(o.value),n.promise}}),oe({target:"Promise",proto:!0,real:!0,forced:kr=!!pt&&i((function(){pt.prototype.finally.call({then:function(){}},(function(){}))}))},{finally:function(e){var t=St(this,ee("Promise")),n="function"==typeof e;return this.then(n?function(n){return $t(t,e()).then((function(){return n}))}:e,n?function(n){return $t(t,e()).then((function(){throw n}))}:e)}}),"function"!=typeof pt||pt.prototype.finally||he(pt.prototype,"finally",ee("Promise").prototype.finally),J={codeAt:(Kt=function(e){return function(t,n){var r,i=String(s(t)),o=te(n);return t=i.length,o<0||t<=o?e?"":void 0:(n=i.charCodeAt(o))<55296||56319<n||o+1===t||(r=i.charCodeAt(o+1))<56320||57343<r?e?i.charAt(o):n:e?i.slice(o,o+2):r-56320+(n-55296<<10)+65536}})(!1),charAt:Kt(!0)},kn=Ve("iterator"),kr=!1,[].keys&&("next"in(Yn=[].keys())?(Cr=Ae(Ae(Yn)))!==Object.prototype&&(pr=Cr):kr=!0),h(pr=null==pr?{}:pr,kn)||N(pr,kn,(function(){return this}));var Ln=(Kt={IteratorPrototype:pr,BUGGY_SAFARI_ITERATORS:kr}).IteratorPrototype,Mn=Kt.IteratorPrototype,Fn=Kt.BUGGY_SAFARI_ITERATORS,Un=Ve("iterator"),qn="values",Bn="entries",Vn=J.charAt,Wn="String Iterator",zn=le.set,Hn=le.getterFor(Wn);jn(String,"String",(function(e){zn(this,{type:Wn,string:String(e),index:0})}),(function(){var e=Hn(this),t=e.string,n=e.index;return n>=t.length?{value:void 0,done:!0}:(n=Vn(t,n),e.index+=n.length,{value:n,done:!1})}));var Kn={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},Gn=Ve("unscopables"),Qn=Array.prototype;null==Qn[Gn]&&P.f(Qn,Gn,{configurable:!0,value:Ke(null)});var Yn=function(e){Qn[Gn][e]=!0},$n="Array Iterator",Xn=le.set,Jn=le.getterFor($n),Zn=jn(Array,"Array",(function(e,t){Xn(this,{type:$n,target:u(e),index:0,kind:t})}),(function(){var e=Jn(this),t=e.target,n=e.kind,r=e.index++;return!t||r>=t.length?{value:e.target=void 0,done:!0}:"keys"==n?{value:r,done:!1}:"values"==n?{value:t[r],done:!1}:{value:[r,t[r]],done:!1}}),"values");Xe.Arguments=Xe.Array,Yn("keys"),Yn("values"),Yn("entries");var er,tr=Ve("iterator"),nr=Ve("toStringTag"),rr=Zn.values;for(er in Kn){var ir=v[er],or=ir&&ir.prototype;if(or){if(or[tr]!==rr)try{N(or,tr,rr)}catch(Ua){or[tr]=rr}if(or[nr]||N(or,nr,er),Kn[er])for(var ar in Zn)if(or[ar]!==Zn[ar])try{N(or,ar,Zn[ar])}catch(Ua){or[ar]=Zn[ar]}}}function sr(e,t){var n;return new(void 0===(n=cr(e)&&("function"==typeof(n=e.constructor)&&(n===Array||cr(n.prototype))||c(n)&&null===(n=n[lr]))?void 0:n)?Array:n)(0===t?0:t)}function ur(e){throw e}fe.Promise,oe({target:"Promise",stat:!0},{try:function(e){var t=Zt.f(this);return((e=Xt(e)).error?t.reject:t.resolve)(e.value),t.promise}});var cr=Array.isArray||function(e){return"Array"==a(e)},lr=Ve("species"),hr=[].push,fr=(kn={forEach:(Cr=function(e){var t=1==e,n=2==e,r=3==e,i=4==e,o=6==e,a=7==e,s=5==e||o;return function(u,c,l,h){for(var f,d,p=ae(u),v=E(p),y=He(c,l,3),g=ne(v.length),m=0,b=(h=h||sr,t?h(u,g):n||a?h(u,0):void 0);m<g;m++)if((s||m in v)&&(d=y(f=v[m],m,p),e))if(t)b[m]=d;else if(d)switch(e){case 3:return!0;case 5:return f;case 6:return m;case 2:hr.call(b,f)}else switch(e){case 4:return!1;case 7:hr.call(b,f)}return o?-1:r||i?i:b}})(0),map:Cr(1),filter:Cr(2),some:Cr(3),every:Cr(4),find:Cr(5),findIndex:Cr(6),filterOut:Cr(7)},Object.defineProperty),dr={},pr=function(e,t){if(h(dr,e))return dr[e];var n=[][e],r=!!h(t=t||{},"ACCESSORS")&&t.ACCESSORS,o=h(t,0)?t[0]:ur,a=h(t,1)?t[1]:void 0;return dr[e]=!!n&&!i((function(){if(r&&!y)return 1;var e={length:-1};r?fr(e,1,{enumerable:!0,get:ur}):e[1]=1,n.call(e,o,a)}))},vr=kn.find,yr=!0;Kt=pr(kr="find"),kr in[]&&Array(1)[kr]((function(){yr=!1})),oe({target:"Array",proto:!0,forced:yr||!Kt},{find:function(e){return vr(this,e,1<arguments.length?arguments[1]:void 0)}}),Yn(kr);var gr=Function.call,mr=((J=function(e,t,n){return He(gr,v[e].prototype[t],n)})("Array","find"),kn.findIndex),br=!0;function _r(e,t,n){(t=l(t))in e?P.f(e,t,o(0,n)):e[t]=n}Kt=pr(Cr="findIndex"),Cr in[]&&Array(1)[Cr]((function(){br=!1})),oe({target:"Array",proto:!0,forced:br||!Kt},{findIndex:function(e){return mr(this,e,1<arguments.length?arguments[1]:void 0)}}),Yn(Cr),J("Array","findIndex"),oe({target:"Array",stat:!0,forced:kr=!Et((function(e){Array.from(e)}))},{from:function(e){var t,n,r,i,o,a=ae(e),s="function"==typeof this?this:Array,u=arguments.length,c=1<u?arguments[1]:void 0,l=void 0!==c,h=(e=et(a),0);if(l&&(c=He(c,2<u?arguments[2]:void 0,2)),null==e||s==Array&&We(e))for(n=new s(t=ne(a.length));h<t;h++)_r(n,h,l?c(a[h],h):a[h]);else for(o=(i=e.call(a)).next,n=new s;!(r=o.call(i)).done;h++)_r(n,h,l?function(e,t,n,r){try{return r?t(d(n)[0],n[1]):t(n)}catch(t){throw tt(e),t}}(i,c,[r.value,h],!0):r.value);return n.length=h,n}}),fe.Array.from;var wr,Er,Sr=kn.some;function Tr(e){return!!c(e)&&(e=st(e),h(Dr,e)||h(jr,e))}Kt=!!(Er=[].some)&&i((function(){Er.call(null,wr||function(){throw 1},1)})),Yn=pr("some"),oe({target:"Array",proto:!0,forced:!Kt||!Yn},{some:function(e){return Sr(this,e,1<arguments.length?arguments[1]:void 0)}}),J("Array","some");var Ir,Cr="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView,kr=P.f,Or=v.Int8Array,xr=Or&&Or.prototype,Pr=(Kt=(pr=v.Uint8ClampedArray)&&pr.prototype,Or&&Ae(Or)),Nr=xr&&Ae(xr),Rr=((Yn=Object.prototype).isPrototypeOf,pr=Ve("toStringTag"),D("TYPED_ARRAY_TAG")),Ar=Cr&&!!De&&"Opera"!==st(v.opera),Dr=(Cr=!1,{Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8}),jr={BigInt64Array:8,BigUint64Array:8};for(Ir in Dr)v[Ir]||(Ar=!1);if((!Ar||"function"!=typeof Pr||Pr===Function.prototype)&&(Pr=function(){throw TypeError("Incorrect invocation")},Ar))for(Ir in Dr)v[Ir]&&De(v[Ir],Pr);if((!Ar||!Nr||Nr===Yn)&&(Nr=Pr.prototype,Ar))for(Ir in Dr)v[Ir]&&De(v[Ir].prototype,Nr);if(Ar&&Ae(Kt)!==Nr&&De(Kt,Nr),y&&!h(Nr,pr))for(Ir in Cr=!0,kr(Nr,pr,{get:function(){return c(this)?this[Rr]:void 0}}),Dr)v[Ir]&&N(v[Ir],Rr,Ir);Kt=function(e){if(Tr(e))return e;throw TypeError("Target is not a typed array")},kr=function(e,t,n){if(y){if(n)for(var r in Dr)(r=v[r])&&h(r.prototype,e)&&delete r.prototype[e];Nr[e]&&!n||he(Nr,e,!n&&Ar&&xr[e]||t)}},pr=Ve("iterator"),Cr=v.Uint8Array;var Lr=Zn.values,Mr=Zn.keys,Fr=Zn.entries,Ur=Kt;Kt=kr,Cr=!!(kr=Cr&&Cr.prototype[pr])&&("values"==kr.name||null==kr.name),kr=function(){return Lr.call(Ur(this))},Kt("entries",(function(){return Fr.call(Ur(this))})),Kt("keys",(function(){return Mr.call(Ur(this))})),Kt("values",kr,!Cr),Kt(pr,kr,!Cr);var qr=Object.assign,Br=Object.defineProperty;kr=!qr||i((function(){if(y&&1!==qr({b:1},qr(Br({},"a",{enumerable:!0,get:function(){Br(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return 1;var e={},t={},n=Symbol(),r="abcdefghijklmnopqrst";return e[n]=7,r.split("").forEach((function(e){t[e]=e})),7!=qr({},e)[n]||je(qr({},t)).join("")!=r}))?function(e,t){for(var n=ae(e),r=arguments.length,i=1,o=Ee.f,a=b.f;i<r;)for(var s,u=E(arguments[i++]),c=o?je(u).concat(o(u)):je(u),l=c.length,h=0;h<l;)s=c[h++],y&&!a.call(u,s)||(n[s]=u[s]);return n}:qr,oe({target:"Object",stat:!0,forced:Object.assign!==kr},{assign:kr}),fe.Object.assign;var Vr=b.f,Wr=(kr={entries:(Cr=function(e){return function(t){for(var n,r=u(t),i=je(r),o=i.length,a=0,s=[];a<o;)n=i[a++],y&&!Vr.call(r,n)||s.push(e?[n,r[n]]:r[n]);return s}})(!0),values:Cr(!1)}).entries;oe({target:"Object",stat:!0},{entries:function(e){return Wr(e)}}),fe.Object.entries;var zr=kr.values;function Hr(e){if(c(t=e)&&(void 0!==(n=t[Kr])?n:"RegExp"==a(t)))throw TypeError("The method doesn't accept regular expressions");var t,n;return e}oe({target:"Object",stat:!0},{values:function(e){return zr(e)}}),fe.Object.values;var Kr=Ve("match"),Gr=Ve("match");oe({target:"String",proto:!0,forced:!(Cr=function(t){var n=/./;try{"/./"[t](n)}catch(e){try{return n[Gr]=!1,"/./"[t](n)}catch(e){}}return!1})("includes")},{includes:function(e){return!!~String(s(this)).indexOf(Hr(e),1<arguments.length?arguments[1]:void 0)}}),J("String","includes"),kr=O.f;var Qr,Yr="".startsWith,$r=Math.min;Cr=Cr("startsWith"),oe({target:"String",proto:!0,forced:!(Qr=!(Cr||!(Qr=kr(String.prototype,"startsWith"))||Qr.writable))&&!Cr},{startsWith:function(e){var t=String(s(this));Hr(e);var n=ne($r(1<arguments.length?arguments[1]:void 0,t.length));return e=String(e),Yr?Yr.call(t,e,n):t.slice(n,n+e.length)===e}}),J("String","startsWith"),oe({target:"String",proto:!0},{repeat:"".repeat||function(e){var t=String(s(this)),n="",r=te(e);if(r<0||r==1/0)throw RangeError("Wrong number of repetitions");for(;0<r;(r>>>=1)&&(t+=t))1&r&&(n+=t);return n}}),J("String","repeat");var Xr,Jr=Ve("species"),Zr=Ve("isConcatSpreadable"),ei=9007199254740991,ti="Maximum allowed index exceeded";function ni(e){var t=fe.Symbol||(fe.Symbol={});h(t,e)||ci(t,e,{value:ui.f(e)})}function ri(e,t){var n=Si[e]=Ke(gi[di]);return pi(n,{type:fi,tag:e,description:t}),y||(n.description=t),n}function ii(e,t){d(e);var n=u(t);return t=je(n).concat(Ri(n)),li(t,(function(t){y&&!Ni.call(n,t)||Pi(e,t,n[t])})),e}Cr=51<=ln||!i((function(){var e=[];return e[Zr]=!1,e.concat()[0]!==e})),Xr="concat",J=51<=ln||!i((function(){var e=[];return(e.constructor={})[Jr]=function(){return{foo:1}},1!==e[Xr](Boolean).foo})),oe({target:"Array",proto:!0,forced:!Cr||!J},{concat:function(e){for(var t,n,r,i=ae(this),o=sr(i,0),a=0,s=-1,u=arguments.length;s<u;s++)if(function(e){if(!c(e))return!1;var t=e[Zr];return void 0!==t?!!t:cr(e)}(r=-1===s?i:arguments[s])){if(n=ne(r.length),ei<a+n)throw TypeError(ti);for(t=0;t<n;t++,a++)t in r&&_r(o,a,r[t])}else{if(ei<=a)throw TypeError(ti);_r(o,a++,r)}return o.length=a,o}});var oi=we.f,ai={}.toString,si="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],ui=(J={f:function(e){return si&&"[object Window]"==ai.call(e)?function(e){try{return oi(e)}catch(e){return si.slice()}}(e):oi(u(e))}},{f:Ve}),ci=P.f,li=kn.forEach,hi=$("hidden"),fi="Symbol",di="prototype",pi=(kn=Ve("toPrimitive"),le.set),vi=le.getterFor(fi),yi=Object[di],gi=v.Symbol,mi=ee("JSON","stringify"),bi=O.f,_i=P.f,wi=J.f,Ei=b.f,Si=K("symbols"),Ti=K("op-symbols"),Ii=K("string-to-symbol-registry"),Ci=K("symbol-to-string-registry"),ki=($=K("wks"),!(K=v.QObject)||!K[di]||!K[di].findChild),Oi=y&&i((function(){return 7!=Ke(_i({},"a",{get:function(){return _i(this,"a",{value:7}).a}})).a}))?function(e,t,n){var r=bi(yi,t);r&&delete yi[t],_i(e,t,n),r&&e!==yi&&_i(yi,t,r)}:_i,xi=g?function(e){return"symbol"==typeof e}:function(e){return Object(e)instanceof gi},Pi=function e(t,n,r){return t===yi&&e(Ti,n,r),d(t),n=l(n,!0),d(r),h(Si,n)?(r.enumerable?(h(t,hi)&&t[hi][n]&&(t[hi][n]=!1),r=Ke(r,{enumerable:o(0,!1)})):(h(t,hi)||_i(t,hi,o(1,{})),t[hi][n]=!0),Oi(t,n,r)):_i(t,n,r)},Ni=function(e){var t=l(e,!0);return e=Ei.call(this,t),!(this===yi&&h(Si,t)&&!h(Ti,t))&&(!(e||!h(this,t)||!h(Si,t)||h(this,hi)&&this[hi][t])||e)},Ri=(K=function(e,t){var n=u(e);if(e=l(t,!0),n!==yi||!h(Si,e)||h(Ti,e))return!(t=bi(n,e))||!h(Si,e)||h(n,hi)&&n[hi][e]||(t.enumerable=!0),t},g=function(e){e=wi(u(e));var t=[];return li(e,(function(e){h(Si,e)||h(X,e)||t.push(e)})),t},function(e){var t=e===yi,n=(e=wi(t?Ti:u(e)),[]);return li(e,(function(e){!h(Si,e)||t&&!h(yi,e)||n.push(Si[e])})),n});Ge||(he((gi=function(){if(this instanceof gi)throw TypeError("Symbol is not a constructor");var e=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,t=D(e),n=function e(n){this===yi&&e.call(Ti,n),h(this,hi)&&h(this[hi],t)&&(this[hi][t]=!1),Oi(this,t,o(1,n))};return y&&ki&&Oi(yi,t,{configurable:!0,set:n}),ri(t,e)})[di],"toString",(function(){return vi(this).tag})),he(gi,"withoutSetter",(function(e){return ri(D(e),e)})),b.f=Ni,P.f=Pi,O.f=K,we.f=J.f=g,Ee.f=Ri,ui.f=function(e){return ri(Ve(e),e)},y&&(_i(gi[di],"description",{configurable:!0,get:function(){return vi(this).description}}),he(yi,"propertyIsEnumerable",Ni,{unsafe:!0}))),oe({global:!0,wrap:!0,forced:!Ge,sham:!Ge},{Symbol:gi}),li(je($),(function(e){ni(e)})),oe({target:fi,stat:!0,forced:!Ge},{for:function(e){var t=String(e);return h(Ii,t)?Ii[t]:(e=gi(t),Ii[t]=e,Ci[e]=t,e)},keyFor:function(e){if(!xi(e))throw TypeError(e+" is not a symbol");if(h(Ci,e))return Ci[e]},useSetter:function(){ki=!0},useSimple:function(){ki=!1}}),oe({target:"Object",stat:!0,forced:!Ge,sham:!y},{create:function(e,t){return void 0===t?Ke(e):ii(Ke(e),t)},defineProperty:Pi,defineProperties:ii,getOwnPropertyDescriptor:K}),oe({target:"Object",stat:!0,forced:!Ge},{getOwnPropertyNames:g,getOwnPropertySymbols:Ri}),oe({target:"Object",stat:!0,forced:i((function(){Ee.f(1)}))},{getOwnPropertySymbols:function(e){return Ee.f(ae(e))}}),mi&&oe({target:"JSON",stat:!0,forced:Hi=!Ge||i((function(){var e=gi();return"[null]"!=mi([e])||"{}"!=mi({a:e})||"{}"!=mi(Object(e))}))},{stringify:function(e,t,n){for(var r,i=[e],o=1;o<arguments.length;)i.push(arguments[o++]);if((c(r=t)||void 0!==e)&&!xi(e))return cr(t)||(t=function(e,t){if("function"==typeof r&&(t=r.call(this,e,t)),!xi(t))return t}),i[1]=t,mi.apply(null,i)}}),gi[di][kn]||N(gi[di],kn,gi[di].valueOf),ht(gi,fi),X[hi]=!0,ni("asyncIterator"),K=P.f;var Ai,Di,ji,Li,Mi,Fi=v.Symbol;!y||"function"!=typeof Fi||"description"in Fi.prototype&&void 0===Fi().description||(Ai={},ie(Di=function(){var e=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),t=this instanceof Di?new Fi(e):void 0===e?Fi():Fi(e);return""===e&&(Ai[t]=!0),t},Fi),(Qi=Di.prototype=Fi.prototype).constructor=Di,ji=Qi.toString,Li="Symbol(test)"==String(Fi("test")),Mi=/^Symbol\((.*)\)[^)]+$/,K(Qi,"description",{configurable:!0,get:function(){var e=c(this)?this.valueOf():this,t=ji.call(e);return h(Ai,e)?"":""===(t=Li?t.slice(7,-1):t.replace(Mi,"$1"))?void 0:t}}),oe({global:!0,forced:!0},{Symbol:Di})),ni("hasInstance"),ni("isConcatSpreadable"),ni("iterator"),ni("match"),ni("matchAll"),ni("replace"),ni("search"),ni("species"),ni("split"),ni("toPrimitive"),ni("toStringTag"),ni("unscopables"),ht(v.JSON,"JSON",!0),ht(Math,"Math",!0),oe({global:!0},{Reflect:{}}),ht(v.Reflect,"Reflect",!0),fe.Symbol,ni("asyncDispose"),ni("dispose"),ni("observable"),ni("patternMatch"),ni("replaceAll"),ui.f("iterator");var Ui=!i((function(){return Object.isExtensible(Object.preventExtensions({}))})),qi=r((function(e){function t(e){n(e,r,{value:{objectID:"O"+ ++i,weakData:{}}})}var n=P.f,r=D("meta"),i=0,o=Object.isExtensible||function(){return!0},a=e.exports={REQUIRED:!1,fastKey:function(e,n){if(!c(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!h(e,r)){if(!o(e))return"F";if(!n)return"E";t(e)}return e[r].objectID},getWeakData:function(e,n){if(!h(e,r)){if(!o(e))return!0;if(!n)return!1;t(e)}return e[r].weakData},onFreeze:function(e){return Ui&&a.REQUIRED&&o(e)&&!h(e,r)&&t(e),e}};X[r]=!0})),Bi=(g=function(e,t,n){function r(e){var t=y[e];he(y,e,"add"==e?function(e){return t.call(this,0===e?0:e),this}:"delete"==e?function(e){return!(f&&!c(e))&&t.call(this,0===e?0:e)}:"get"==e?function(e){return f&&!c(e)?void 0:t.call(this,0===e?0:e)}:"has"==e?function(e){return!(f&&!c(e))&&t.call(this,0===e?0:e)}:function(e,n){return t.call(this,0===e?0:e,n),this})}var o,a,s,u,l,h=-1!==e.indexOf("Map"),f=-1!==e.indexOf("Weak"),d=h?"set":"add",p=v[e],y=p&&p.prototype,g=p,m={};return xe(e,"function"!=typeof p||!(f||y.forEach&&!i((function(){(new p).entries().next()}))))?(g=n.getConstructor(t,e,h,d),qi.REQUIRED=!0):xe(e,!0)&&(a=(o=new g)[d](f?{}:-0,1)!=o,s=i((function(){o.has(1)})),u=Et((function(e){new p(e)})),l=!f&&i((function(){for(var e=new p,t=5;t--;)e[d](t,t);return!e.has(-0)})),u||(((g=t((function(t,n){dt(t,g,e);var r,i,o,a=(a=new p,r=t,t=g,De&&"function"==typeof(i=r.constructor)&&i!==t&&c(o=i.prototype)&&o!==t.prototype&&De(a,o),a);return null!=n&&rt(n,a[d],{that:a,AS_ENTRIES:h}),a}))).prototype=y).constructor=g),(s||l)&&(r("delete"),r("has"),h&&r("get")),(l||a)&&r(d),f&&y.clear&&delete y.clear),m[e]=g,oe({global:!0,forced:g!=p},m),ht(g,e),f||n.setStrong(g,e,h),g},P.f),Vi=qi.fastKey,Wi=le.set,zi=le.getterFor,Hi={getConstructor:function(e,t,n,r){function i(e,t,n){var r,i=a(e),o=s(e,t);return o?o.value=n:(i.last=o={index:r=Vi(t,!0),key:t,value:n,previous:n=i.last,next:void 0,removed:!1},i.first||(i.first=o),n&&(n.next=o),y?i.size++:e.size++,"F"!==r&&(i.index[r]=o)),e}var o=e((function(e,i){dt(e,o,t),Wi(e,{type:t,index:Ke(null),first:void 0,last:void 0,size:0}),y||(e.size=0),null!=i&&rt(i,e[r],{that:e,AS_ENTRIES:n})})),a=zi(t),s=function(e,t){var n,r=a(e);if("F"!==(e=Vi(t)))return r.index[e];for(n=r.first;n;n=n.next)if(n.key==t)return n};return lt(o.prototype,{clear:function(){for(var e=a(this),t=e.index,n=e.first;n;)n.removed=!0,n.previous&&(n.previous=n.previous.next=void 0),delete t[n.index],n=n.next;e.first=e.last=void 0,y?e.size=0:this.size=0},delete:function(e){var t,n=a(this),r=s(this,e);return r&&(t=r.next,e=r.previous,delete n.index[r.index],r.removed=!0,e&&(e.next=t),t&&(t.previous=e),n.first==r&&(n.first=t),n.last==r&&(n.last=e),y?n.size--:this.size--),!!r},forEach:function(e){for(var t,n=a(this),r=He(e,1<arguments.length?arguments[1]:void 0,3);t=t?t.next:n.first;)for(r(t.value,t.key,this);t&&t.removed;)t=t.previous},has:function(e){return!!s(this,e)}}),lt(o.prototype,n?{get:function(e){return(e=s(this,e))&&e.value},set:function(e,t){return i(this,0===e?0:e,t)}}:{add:function(e){return i(this,e=0===e?0:e,e)}}),y&&Bi(o.prototype,"size",{get:function(){return a(this).size}}),o},setStrong:function(e,t,n){var r=t+" Iterator",i=zi(t),o=zi(r);jn(e,t,(function(e,t){Wi(this,{type:r,target:e,state:i(e),kind:t,last:void 0})}),(function(){for(var e=o(this),t=e.kind,n=e.last;n&&n.removed;)n=n.previous;return e.target&&(e.last=n=n?n.next:e.state.first)?"keys"==t?{value:n.key,done:!1}:"values"==t?{value:n.value,done:!1}:{value:[n.key,n.value],done:!1}:{value:e.target=void 0,done:!0}}),n?"entries":"values",!n,!0),ft(t)}};function Ki(){for(var e,t=d(this),n=ze(t.delete),r=!0,i=0,o=arguments.length;i<o;i++)e=n.call(t,arguments[i]),r=r&&e;return!!r}function Gi(e){return Map.prototype.entries.call(e)}oe({target:"Map",stat:!0},{from:(g("Map",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),Hi),fe.Map,kn=function(e){var t,n,r,i,o=arguments.length,a=1<o?arguments[1]:void 0;return ze(this),(t=void 0!==a)&&ze(a),null==e?new this:(n=[],t?(r=0,i=He(a,2<o?arguments[2]:void 0,2),rt(e,(function(e){n.push(i(e,r++))}))):rt(e,n.push,{that:n}),new this(n))})}),oe({target:"Map",stat:!0},{of:K=function(){for(var e=arguments.length,t=new Array(e);e--;)t[e]=arguments[e];return new this(t)}}),oe({target:"Map",proto:!0,real:!0,forced:H},{deleteAll:function(){return Ki.apply(this,arguments)}}),oe({target:"Map",proto:!0,real:!0,forced:H},{emplace:function(e,t){var n=d(this);return t=n.has(e)&&"update"in t?t.update(n.get(e),e,n):t.insert(e,n),n.set(e,t),t}}),oe({target:"Map",proto:!0,real:!0,forced:H},{every:function(e){var t=d(this),n=Gi(t),r=He(e,1<arguments.length?arguments[1]:void 0,3);return!rt(n,(function(e,n,i){if(!r(n,e,t))return i()}),{AS_ENTRIES:!0,IS_ITERATOR:!0,INTERRUPTED:!0}).stopped}}),oe({target:"Map",proto:!0,real:!0,forced:H},{filter:function(e){var t=d(this),n=Gi(t),r=He(e,1<arguments.length?arguments[1]:void 0,3),i=new(St(t,ee("Map"))),o=ze(i.set);return rt(n,(function(e,n){r(n,e,t)&&o.call(i,e,n)}),{AS_ENTRIES:!0,IS_ITERATOR:!0}),i}}),oe({target:"Map",proto:!0,real:!0,forced:H},{find:function(e){var t=d(this),n=Gi(t),r=He(e,1<arguments.length?arguments[1]:void 0,3);return rt(n,(function(e,n,i){if(r(n,e,t))return i(n)}),{AS_ENTRIES:!0,IS_ITERATOR:!0,INTERRUPTED:!0}).result}}),oe({target:"Map",proto:!0,real:!0,forced:H},{findKey:function(e){var t=d(this),n=Gi(t),r=He(e,1<arguments.length?arguments[1]:void 0,3);return rt(n,(function(e,n,i){if(r(n,e,t))return i(e)}),{AS_ENTRIES:!0,IS_ITERATOR:!0,INTERRUPTED:!0}).result}}),oe({target:"Map",stat:!0},{groupBy:function(e,t){var n=new this;ze(t);var r=ze(n.has),i=ze(n.get),o=ze(n.set);return rt(e,(function(e){var a=t(e);r.call(n,a)?i.call(n,a).push(e):o.call(n,a,[e])})),n}}),oe({target:"Map",proto:!0,real:!0,forced:H},{includes:function(e){return rt(Gi(d(this)),(function(t,n,r){if((i=n)===(n=e)||i!=i&&n!=n)return r();var i}),{AS_ENTRIES:!0,IS_ITERATOR:!0,INTERRUPTED:!0}).stopped}}),oe({target:"Map",stat:!0},{keyBy:function(e,t){var n=new this;ze(t);var r=ze(n.set);return rt(e,(function(e){r.call(n,t(e),e)})),n}}),oe({target:"Map",proto:!0,real:!0,forced:H},{keyOf:function(e){return rt(Gi(d(this)),(function(t,n,r){if(n===e)return r(t)}),{AS_ENTRIES:!0,IS_ITERATOR:!0,INTERRUPTED:!0}).result}}),oe({target:"Map",proto:!0,real:!0,forced:H},{mapKeys:function(e){var t=d(this),n=Gi(t),r=He(e,1<arguments.length?arguments[1]:void 0,3),i=new(St(t,ee("Map"))),o=ze(i.set);return rt(n,(function(e,n){o.call(i,r(n,e,t),n)}),{AS_ENTRIES:!0,IS_ITERATOR:!0}),i}}),oe({target:"Map",proto:!0,real:!0,forced:H},{mapValues:function(e){var t=d(this),n=Gi(t),r=He(e,1<arguments.length?arguments[1]:void 0,3),i=new(St(t,ee("Map"))),o=ze(i.set);return rt(n,(function(e,n){o.call(i,e,r(n,e,t))}),{AS_ENTRIES:!0,IS_ITERATOR:!0}),i}}),oe({target:"Map",proto:!0,real:!0,forced:H},{merge:function(e){for(var t=d(this),n=ze(t.set),r=0;r<arguments.length;)rt(arguments[r++],n,{that:t,AS_ENTRIES:!0});return t}}),oe({target:"Map",proto:!0,real:!0,forced:H},{reduce:function(e){var t=d(this),n=Gi(t),r=arguments.length<2,i=r?void 0:arguments[1];if(ze(e),rt(n,(function(n,o){i=r?(r=!1,o):e(i,o,n,t)}),{AS_ENTRIES:!0,IS_ITERATOR:!0}),r)throw TypeError("Reduce of empty map with no initial value");return i}}),oe({target:"Map",proto:!0,real:!0,forced:H},{some:function(e){var t=d(this),n=Gi(t),r=He(e,1<arguments.length?arguments[1]:void 0,3);return rt(n,(function(e,n,i){if(r(n,e,t))return i()}),{AS_ENTRIES:!0,IS_ITERATOR:!0,INTERRUPTED:!0}).stopped}}),oe({target:"Map",proto:!0,real:!0,forced:H},{update:function(e,t){var n=d(this),r=arguments.length;ze(t);var i=n.has(e);if(!i&&r<3)throw TypeError("Updating absent value");return r=i?n.get(e):ze(2<r?arguments[2]:void 0)(e,n),n.set(e,t(r,e,n)),n}});var Qi=function(e,t){var n,r=d(this),i=2<arguments.length?arguments[2]:void 0;if("function"!=typeof t&&"function"!=typeof i)throw TypeError("At least one callback required");return r.has(e)?(n=r.get(e),"function"==typeof t&&(n=t(n),r.set(e,n))):"function"==typeof i&&(n=i(),r.set(e,n)),n};function Yi(e){return Set.prototype.values.call(e)}oe({target:"Map",proto:!0,real:!0,forced:H},{upsert:Qi}),oe({target:"Map",proto:!0,real:!0,forced:H},{updateOrInsert:Qi}),g("Set",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),Hi),fe.Set,oe({target:"Set",stat:!0},{from:kn}),oe({target:"Set",stat:!0},{of:K}),oe({target:"Set",proto:!0,real:!0,forced:H},{addAll:function(){return function(){for(var e=d(this),t=ze(e.add),n=0,r=arguments.length;n<r;n++)t.call(e,arguments[n]);return e}.apply(this,arguments)}}),oe({target:"Set",proto:!0,real:!0,forced:H},{deleteAll:function(){return Ki.apply(this,arguments)}}),oe({target:"Set",proto:!0,real:!0,forced:H},{every:function(e){var t=d(this),n=Yi(t),r=He(e,1<arguments.length?arguments[1]:void 0,3);return!rt(n,(function(e,n){if(!r(e,e,t))return n()}),{IS_ITERATOR:!0,INTERRUPTED:!0}).stopped}}),oe({target:"Set",proto:!0,real:!0,forced:H},{difference:function(e){var t=d(this),n=new(St(t,ee("Set")))(t),r=ze(n.delete);return rt(e,(function(e){r.call(n,e)})),n}}),oe({target:"Set",proto:!0,real:!0,forced:H},{filter:function(e){var t=d(this),n=Yi(t),r=He(e,1<arguments.length?arguments[1]:void 0,3),i=new(St(t,ee("Set"))),o=ze(i.add);return rt(n,(function(e){r(e,e,t)&&o.call(i,e)}),{IS_ITERATOR:!0}),i}}),oe({target:"Set",proto:!0,real:!0,forced:H},{find:function(e){var t=d(this),n=Yi(t),r=He(e,1<arguments.length?arguments[1]:void 0,3);return rt(n,(function(e,n){if(r(e,e,t))return n(e)}),{IS_ITERATOR:!0,INTERRUPTED:!0}).result}}),oe({target:"Set",proto:!0,real:!0,forced:H},{intersection:function(e){var t=d(this),n=new(St(t,ee("Set"))),r=ze(t.has),i=ze(n.add);return rt(e,(function(e){r.call(t,e)&&i.call(n,e)})),n}}),oe({target:"Set",proto:!0,real:!0,forced:H},{isDisjointFrom:function(e){var t=d(this),n=ze(t.has);return!rt(e,(function(e,r){if(!0===n.call(t,e))return r()}),{INTERRUPTED:!0}).stopped}}),oe({target:"Set",proto:!0,real:!0,forced:H},{isSubsetOf:function(e){var t=function(e){var t=et(e);if("function"!=typeof t)throw TypeError(String(e)+" is not iterable");return d(t.call(e))}(this),n=d(e),r=n.has;return"function"!=typeof r&&(n=new(ee("Set"))(e),r=ze(n.has)),!rt(t,(function(e,t){if(!1===r.call(n,e))return t()}),{IS_ITERATOR:!0,INTERRUPTED:!0}).stopped}}),oe({target:"Set",proto:!0,real:!0,forced:H},{isSupersetOf:function(e){var t=d(this),n=ze(t.has);return!rt(e,(function(e,r){if(!1===n.call(t,e))return r()}),{INTERRUPTED:!0}).stopped}}),oe({target:"Set",proto:!0,real:!0,forced:H},{join:function(e){var t=Yi(n=d(this)),n=void 0===e?",":String(e);return rt(t,(e=[]).push,{that:e,IS_ITERATOR:!0}),e.join(n)}}),oe({target:"Set",proto:!0,real:!0,forced:H},{map:function(e){var t=d(this),n=Yi(t),r=He(e,1<arguments.length?arguments[1]:void 0,3),i=new(St(t,ee("Set"))),o=ze(i.add);return rt(n,(function(e){o.call(i,r(e,e,t))}),{IS_ITERATOR:!0}),i}}),oe({target:"Set",proto:!0,real:!0,forced:H},{reduce:function(e){var t=d(this),n=Yi(t),r=arguments.length<2,i=r?void 0:arguments[1];if(ze(e),rt(n,(function(n){i=r?(r=!1,n):e(i,n,n,t)}),{IS_ITERATOR:!0}),r)throw TypeError("Reduce of empty set with no initial value");return i}}),oe({target:"Set",proto:!0,real:!0,forced:H},{some:function(e){var t=d(this),n=Yi(t),r=He(e,1<arguments.length?arguments[1]:void 0,3);return rt(n,(function(e,n){if(r(e,e,t))return n()}),{IS_ITERATOR:!0,INTERRUPTED:!0}).stopped}}),oe({target:"Set",proto:!0,real:!0,forced:H},{symmetricDifference:function(e){var t=d(this),n=new(St(t,ee("Set")))(t),r=ze(n.delete),i=ze(n.add);return rt(e,(function(e){r.call(n,e)||i.call(n,e)})),n}}),oe({target:"Set",proto:!0,real:!0,forced:H},{union:function(e){var t;return rt(e,ze((t=new(St(t=d(this),ee("Set")))(t)).add),{that:t}),t}});var $i=Math.floor;oe({target:"Number",stat:!0},{isInteger:function(e){return!c(e)&&isFinite(e)&&$i(e)===e}}),fe.Number.isInteger,oe({target:"Number",stat:!0},{isNaN:function(e){return e!=e}}),fe.Number.isNaN;var Xi=function(e,t){return(Xi=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function Ji(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}Xi(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var Zi=function(){return(Zi=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function eo(e,t,n,r){return new(n=n||Promise)((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):((t=e.value)instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function to(e,t){var n,r,i,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},a={next:s(0),throw:s(1),return:s(2)};return"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,(a=i?[2&a[0],i.value]:a)[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=0<(i=o.trys).length&&i[i.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(s){a=[6,s],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}}function no(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return{value:(e=e&&r>=e.length?void 0:e)&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function ro(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||0<t--)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function io(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e}function oo(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:(i<2048?t[n++]=i>>6|192:(55296==(64512&i)&&r+1<e.length&&56320==(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128):t[n++]=i>>12|224,t[n++]=i>>6&63|128),t[n++]=63&i|128)}return t}function ao(e){try{return lo.decodeString(e,!0)}catch(e){console.error("base64Decode failed: ",e)}return null}var so={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},uo=function(e,t){if(!e)throw co(t)},co=function(e){return new Error("Firebase Database ("+so.SDK_VERSION+") INTERNAL ASSERT FAILED: "+e)},lo={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var o=e[i],a=i+1<e.length,s=a?e[i+1]:0,u=i+2<e.length,c=o>>2,l=(o=(3&o)<<4|s>>4,s=(15&s)<<2|(l=u?e[i+2]:0)>>6,63&l);u||(l=64,a||(s=64)),r.push(n[c],n[o],n[s],n[l])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(oo(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i,o,a,s=e[n++];s<128?t[r++]=String.fromCharCode(s):191<s&&s<224?(o=e[n++],t[r++]=String.fromCharCode((31&s)<<6|63&o)):239<s&&s<365?(i=((7&s)<<18|(63&(o=e[n++]))<<12|(63&(a=e[n++]))<<6|63&e[n++])-65536,t[r++]=String.fromCharCode(55296+(i>>10)),t[r++]=String.fromCharCode(56320+(1023&i))):(o=e[n++],a=e[n++],t[r++]=String.fromCharCode((15&s)<<12|(63&o)<<6|63&a))}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var o=n[e.charAt(i++)],a=i<e.length?n[e.charAt(i)]:0,s=++i<e.length?n[e.charAt(i)]:64,u=++i<e.length?n[e.charAt(i)]:64;if(++i,null==o||null==a||null==s||null==u)throw Error();o=o<<2|a>>4,r.push(o),64!==s&&(a=a<<4&240|s>>2,r.push(a),64!==u&&(u|=s<<6&192,r.push(u)))}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),(this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e)>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};function ho(e){return fo(void 0,e)}function fo(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=fo(e[n],t[n]));return e}var po=(vo.prototype.wrapCallback=function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"==typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}},vo);function vo(){var e=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(t,n){e.resolve=t,e.reject=n}))}function yo(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function go(){return"undefined"!=typeof window&&(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(yo())}function mo(){var e="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof e&&void 0!==e.id}function bo(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function _o(){return!0===so.NODE_ADMIN}function wo(){return"indexedDB"in self&&null!=indexedDB}function Eo(){return new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(e){t(e)}}))}function So(){return!(!navigator||!navigator.cookieEnabled)}var To,Io="FirebaseError",Co=(Ji(ko,To=Error),ko);function ko(e,t,n){return(t=To.call(this,t)||this).code=e,t.customData=n,t.name=Io,Object.setPrototypeOf(t,ko.prototype),Error.captureStackTrace&&Error.captureStackTrace(t,Oo.prototype.create),t}var Oo=(xo.prototype.create=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r,i=t[0]||{},o=this.service+"/"+e;return e=(e=this.errors[e])?(r=i,e.replace(Po,(function(e,t){var n=r[t];return null!=n?String(n):"<"+t+"?>"}))):"Error",e=this.serviceName+": "+e+" ("+o+").",new Co(o,e,i)},xo);function xo(e,t,n){this.service=e,this.serviceName=t,this.errors=n}var Po=/\{\$([^}]+)}/g;function No(e){return JSON.parse(e)}function Ro(e){return JSON.stringify(e)}function Ao(e){var t={},n={},r={},i="";try{var o=e.split(".");t=No(ao(o[0])||""),n=No(ao(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch(e){}return{header:t,claims:n,data:r,signature:i}}function Do(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function jo(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]}function Lo(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Mo(e,t,n){var r,i={};for(r in e)Object.prototype.hasOwnProperty.call(e,r)&&(i[r]=t.call(n,e[r],r,e));return i}function Fo(e){for(var t=[],n=0,r=Object.entries(e);n<r.length;n++){var i=r[n];!function(e,n){Array.isArray(n)?n.forEach((function(n){t.push(encodeURIComponent(e)+"="+encodeURIComponent(n))})):t.push(encodeURIComponent(e)+"="+encodeURIComponent(n))}(i[0],i[1])}return t.length?"&"+t.join("&"):""}var Uo=(qo.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},qo.prototype.compress_=function(e,t){t=t||0;var n=this.W_;if("string"==typeof e)for(var r=0;r<16;r++)n[r]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(r=0;r<16;r++)n[r]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(r=16;r<80;r++){var i=n[r-3]^n[r-8]^n[r-14]^n[r-16];n[r]=4294967295&(i<<1|i>>>31)}var o,a=this.chain_[0],s=this.chain_[1],u=this.chain_[2],c=this.chain_[3],l=this.chain_[4];for(r=0;r<80;r++){var h=r<40?r<20?(o=c^s&(u^c),1518500249):(o=s^u^c,1859775393):r<60?(o=s&u|c&(s|u),2400959708):(o=s^u^c,3395469782);i=(a<<5|a>>>27)+o+l+h+n[r]&4294967295,l=c,c=u,u=4294967295&(s<<30|s>>>2),s=a,a=i}this.chain_[0]=this.chain_[0]+a&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+u&4294967295,this.chain_[3]=this.chain_[3]+c&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295},qo.prototype.update=function(e,t){if(null!=e){for(var n=(t=void 0===t?e.length:t)-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;r<t;){if(0===o)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"==typeof e){for(;r<t;)if(i[o]=e.charCodeAt(r),++r,++o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<t;)if(i[o]=e[r],++r,++o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=t}},qo.prototype.digest=function(){var e=[],t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;56<=n;n--)this.buf_[n]=255&t,t/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var i=24;0<=i;i-=8)e[r]=this.chain_[n]>>i&255,++r;return e},qo);function qo(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}function Bo(e,t){return(t=new Vo(e,t)).subscribe.bind(t)}var Vo=(Wo.prototype.next=function(e){this.forEachObserver((function(t){t.next(e)}))},Wo.prototype.error=function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)},Wo.prototype.complete=function(){this.forEachObserver((function(e){e.complete()})),this.close()},Wo.prototype.subscribe=function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");return void 0===(r=function(e,t){if("object"!=typeof e||null===e)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in e&&"function"==typeof e[i])return!0}return!1}(e)?e:{next:e,error:t,complete:n}).next&&(r.next=zo),void 0===r.error&&(r.error=zo),void 0===r.complete&&(r.complete=zo),n=this.unsubscribeOne.bind(this,this.observers.length),this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),n},Wo.prototype.unsubscribeOne=function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],--this.observerCount,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},Wo.prototype.forEachObserver=function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)},Wo.prototype.sendOne=function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(e){"undefined"!=typeof console&&console.error&&console.error(e)}}))},Wo.prototype.close=function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))},Wo);function Wo(e,t){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((function(){e(n)})).catch((function(e){n.error(e)}))}function zo(){}function Ho(e,t,n,r){var i;if(r<t?i="at least "+t:n<r&&(i=0===n?"none":"no more than "+n),i)throw new Error(e+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".")}function Ko(e,t){return e+" failed: "+t+" argument "}function Go(e,t,n,r){if((!r||n)&&"function"!=typeof n)throw new Error(Ko(e,t)+"must be a valid function.")}function Qo(e,t,n,r){if((!r||n)&&("object"!=typeof n||null===n))throw new Error(Ko(e,t)+"must be a valid context object.")}function Yo(e){for(var t=0,n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:55296<=r&&r<=56319?(t+=4,n++):t+=3}return t}var $o=1e3,Xo=2,Jo=144e5,Zo=.5;function ea(e,t,n){return void 0===n&&(n=Xo),n=(t=void 0===t?$o:t)*Math.pow(n,e),e=Math.round(Zo*n*(Math.random()-.5)*2),Math.min(Jo,n+e)}function ta(e){return e&&e._delegate?e._delegate:e}var na=(ra.prototype.setInstantiationMode=function(e){return this.instantiationMode=e,this},ra.prototype.setMultipleInstances=function(e){return this.multipleInstances=e,this},ra.prototype.setServiceProps=function(e){return this.serviceProps=e,this},ra.prototype.setInstanceCreatedCallback=function(e){return this.onInstanceCreated=e,this},ra);function ra(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}var ia="[DEFAULT]",oa=(aa.prototype.get=function(e){void 0===e&&(e=ia);var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new po;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(e){}}return this.instancesDeferred.get(t).promise},aa.prototype.getImmediate=function(e){e=(t=Zi({identifier:ia,optional:!1},e)).identifier;var t=t.optional,n=this.normalizeInstanceIdentifier(e);if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(t)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(e){if(t)return null;throw e}},aa.prototype.getComponent=function(){return this.component},aa.prototype.setComponent=function(e){var t,n;if(e.name!==this.name)throw Error("Mismatching Component "+e.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=e,this.shouldAutoInitialize()){if("EAGER"===e.instantiationMode)try{this.getOrInitializeService({instanceIdentifier:ia})}catch(e){}try{for(var r=no(this.instancesDeferred.entries()),i=r.next();!i.done;i=r.next()){var o=ro(i.value,2),a=o[0],s=o[1],u=this.normalizeInstanceIdentifier(a);try{var c=this.getOrInitializeService({instanceIdentifier:u});s.resolve(c)}catch(e){}}}catch(e){t={error:e}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}}},aa.prototype.clearInstance=function(e){void 0===e&&(e=ia),this.instancesDeferred.delete(e),this.instances.delete(e)},aa.prototype.delete=function(){return eo(this,void 0,void 0,(function(){var e;return to(this,(function(t){switch(t.label){case 0:return e=Array.from(this.instances.values()),[4,Promise.all(io(io([],ro(e.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()})))),ro(e.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))))];case 1:return t.sent(),[2]}}))}))},aa.prototype.isComponentSet=function(){return null!=this.component},aa.prototype.isInitialized=function(e){return void 0===e&&(e=ia),this.instances.has(e)},aa.prototype.initialize=function(e){var t,n,r=void 0===(r=(e=void 0===e?{}:e).instanceIdentifier)?ia:r,i=(e=void 0===(e=e.options)?{}:e,this.normalizeInstanceIdentifier(r));if(this.isInitialized(i))throw Error(this.name+"("+i+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var o=this.getOrInitializeService({instanceIdentifier:i,options:e});try{for(var a=no(this.instancesDeferred.entries()),s=a.next();!s.done;s=a.next()){var u=(c=ro(s.value,2))[0],c=c[1];i===this.normalizeInstanceIdentifier(u)&&c.resolve(o)}}catch(e){t={error:e}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}return o},aa.prototype.getOrInitializeService=function(e){var t=e.instanceIdentifier,n=e.options,r=(e=void 0===n?{}:n,this.instances.get(t));if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(n=t)===ia?void 0:n,options:e}),this.instances.set(t,r),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(e){}return r||null},aa.prototype.normalizeInstanceIdentifier=function(e){return!this.component||this.component.multipleInstances?e:ia},aa.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},aa);function aa(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}var sa=(ua.prototype.addComponent=function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component "+e.name+" has already been registered with "+this.name);t.setComponent(e)},ua.prototype.addOrOverwriteComponent=function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)},ua.prototype.getProvider=function(e){if(this.providers.has(e))return this.providers.get(e);var t=new oa(e,this);return this.providers.set(e,t),t},ua.prototype.getProviders=function(){return Array.from(this.providers.values())},ua);function ua(e){this.name=e,this.providers=new Map}var ca,la=[];function ha(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!(t<e.logLevel)){var i=(new Date).toISOString(),o=pa[t];if(!o)throw new Error("Attempted to log a message with an invalid logType (value: "+t+")");console[o].apply(console,io(["["+i+"]  "+e.name+":"],n))}}(kn=ca=ca||{})[kn.DEBUG=0]="DEBUG",kn[kn.VERBOSE=1]="VERBOSE",kn[kn.INFO=2]="INFO",kn[kn.WARN=3]="WARN",kn[kn.ERROR=4]="ERROR",kn[kn.SILENT=5]="SILENT";var fa={debug:ca.DEBUG,verbose:ca.VERBOSE,info:ca.INFO,warn:ca.WARN,error:ca.ERROR,silent:ca.SILENT},da=ca.INFO,pa=((K={})[ca.DEBUG]="log",K[ca.VERBOSE]="log",K[ca.INFO]="info",K[ca.WARN]="warn",K[ca.ERROR]="error",K),va=(Object.defineProperty(ya.prototype,"logLevel",{get:function(){return this._logLevel},set:function(e){if(!(e in ca))throw new TypeError('Invalid value "'+e+'" assigned to `logLevel`');this._logLevel=e},enumerable:!1,configurable:!0}),ya.prototype.setLogLevel=function(e){this._logLevel="string"==typeof e?fa[e]:e},Object.defineProperty(ya.prototype,"logHandler",{get:function(){return this._logHandler},set:function(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e},enumerable:!1,configurable:!0}),Object.defineProperty(ya.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e},enumerable:!1,configurable:!0}),ya.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,io([this,ca.DEBUG],e)),this._logHandler.apply(this,io([this,ca.DEBUG],e))},ya.prototype.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,io([this,ca.VERBOSE],e)),this._logHandler.apply(this,io([this,ca.VERBOSE],e))},ya.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,io([this,ca.INFO],e)),this._logHandler.apply(this,io([this,ca.INFO],e))},ya.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,io([this,ca.WARN],e)),this._logHandler.apply(this,io([this,ca.WARN],e))},ya.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,io([this,ca.ERROR],e)),this._logHandler.apply(this,io([this,ca.ERROR],e))},ya);function ya(e){this.name=e,this._logLevel=da,this._logHandler=ha,this._userLogHandler=null,la.push(this)}function ga(e){la.forEach((function(t){t.setLogLevel(e)}))}function ma(e,t){for(var n=0,r=la;n<r.length;n++)!function(n){var r=null;t&&t.level&&(r=fa[t.level]),n.userLogHandler=null===e?null:function(t,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];var a=i.map((function(e){if(null==e)return null;if("string"==typeof e)return e;if("number"==typeof e||"boolean"==typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(e){return null}})).filter((function(e){return e})).join(" ");n>=(null!=r?r:t.logLevel)&&e({level:ca[n].toLowerCase(),message:a,args:i,type:t.name})}}(r[n])}(H={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",H["bad-app-name"]="Illegal App name: '{$appName}",H["duplicate-app"]="Firebase App named '{$appName}' already exists",H["app-deleted"]="Firebase App named '{$appName}' already deleted",H["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",H["invalid-log-argument"]="First argument to `onLog` must be null or a function.";var ba=new Oo("app","Firebase",kn=H),_a="@firebase/app",wa="[DEFAULT]",Ea=((K={})[_a]="fire-core",K["@firebase/analytics"]="fire-analytics",K["@firebase/auth"]="fire-auth",K["@firebase/database"]="fire-rtdb",K["@firebase/functions"]="fire-fn",K["@firebase/installations"]="fire-iid",K["@firebase/messaging"]="fire-fcm",K["@firebase/performance"]="fire-perf",K["@firebase/remote-config"]="fire-rc",K["@firebase/storage"]="fire-gcs",K["@firebase/firestore"]="fire-fst",K["fire-js"]="fire-js",K["firebase-wrapper"]="fire-js-all",K),Sa=new va("@firebase/app"),Ta=(Object.defineProperty(Ia.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(e){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=e},enumerable:!1,configurable:!0}),Object.defineProperty(Ia.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(Ia.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),Ia.prototype.delete=function(){var e=this;return new Promise((function(t){e.checkDestroyed_(),t()})).then((function(){return e.firebase_.INTERNAL.removeApp(e.name_),Promise.all(e.container.getProviders().map((function(e){return e.delete()})))})).then((function(){e.isDeleted_=!0}))},Ia.prototype._getService=function(e,t){return void 0===t&&(t=wa),this.checkDestroyed_(),this.container.getProvider(e).getImmediate({identifier:t})},Ia.prototype._removeServiceInstance=function(e,t){void 0===t&&(t=wa),this.container.getProvider(e).clearInstance(t)},Ia.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){Sa.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},Ia.prototype._addOrOverwriteComponent=function(e){this.container.addOrOverwriteComponent(e)},Ia.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},Ia.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw ba.create("app-deleted",{appName:this.name_})},Ia);function Ia(e,t,n){var r=this;this.firebase_=n,this.isDeleted_=!1,this.name_=t.name,this.automaticDataCollectionEnabled_=t.automaticDataCollectionEnabled||!1,this.options_=ho(e),this.container=new sa(t.name),this._addComponent(new na("app",(function(){return r}),"PUBLIC")),this.firebase_.INTERNAL.components.forEach((function(e){return r._addComponent(e)}))}Ta.prototype.name&&Ta.prototype.options||Ta.prototype.delete||console.log("dc");var Ca="8.4.3";function ka(e){var t={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"==typeof i&&null!==i||(i={name:i});var o=i;if(void 0===o.name&&(o.name=wa),"string"!=typeof(i=o.name)||!i)throw ba.create("bad-app-name",{appName:String(i)});if(Do(t,i))throw ba.create("duplicate-app",{appName:i});return o=new e(n,o,r),t[i]=o},app:i,registerVersion:function(e,t,n){var r=null!==(i=Ea[e])&&void 0!==i?i:e;n&&(r+="-"+n);var i=r.match(/\s|\//);if(e=t.match(/\s|\//),i||e)return n=['Unable to register library "'+r+'" with version "'+t+'":'],i&&n.push('library name "'+r+'" contains illegal characters (whitespace or "/")'),i&&e&&n.push("and"),e&&n.push('version name "'+t+'" contains illegal characters (whitespace or "/")'),void Sa.warn(n.join(" "));o(new na(r+"-version",(function(){return{library:r,version:t}}),"VERSION"))},setLogLevel:ga,onLog:function(e,t){if(null!==e&&"function"!=typeof e)throw ba.create("invalid-log-argument");ma(e,t)},apps:null,SDK_VERSION:Ca,INTERNAL:{registerComponent:o,removeApp:function(e){delete t[e]},components:n,useAsService:function(e,t){return"serverAuth"===t?null:t}}};function i(e){if(!Do(t,e=e||wa))throw ba.create("no-app",{appName:e});return t[e]}function o(o){var a,s=o.name;if(n.has(s))return Sa.debug("There were multiple attempts to register component "+s+"."),"PUBLIC"===o.type?r[s]:null;n.set(s,o),"PUBLIC"===o.type&&(a=function(e){if("function"!=typeof(e=void 0===e?i():e)[s])throw ba.create("invalid-app-argument",{appName:s});return e[s]()},void 0!==o.serviceProps&&fo(a,o.serviceProps),r[s]=a,e.prototype[s]=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this._getService.bind(this,s).apply(this,o.multipleInstances?e:[])});for(var u=0,c=Object.keys(t);u<c.length;u++){var l=c[u];t[l]._addComponent(o)}return"PUBLIC"===o.type?r[s]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(t).map((function(e){return t[e]}))}}),i.App=e,r}H=function e(){var t=ka(Ta);return t.INTERNAL=Zi(Zi({},t.INTERNAL),{createFirebaseNamespace:e,extendNamespace:function(e){fo(t,e)},createSubscribe:Bo,ErrorFactory:Oo,deepExtend:fo}),t}();var Oa=(xa.prototype.getPlatformInfoString=function(){return this.container.getProviders().map((function(e){return function(e){return"VERSION"===(null==(e=e.getComponent())?void 0:e.type)}(e)?(e=e.getImmediate()).library+"/"+e.version:null})).filter((function(e){return e})).join(" ")},xa);function xa(e){this.container=e}"object"==typeof self&&self.self===self&&void 0!==self.firebase&&(Sa.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  "),(Qs=self.firebase.SDK_VERSION)&&0<=Qs.indexOf("LITE")&&Sa.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    "));var Pa=H.initializeApp;H.initializeApp=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return function(){try{return"[object process]"===Object.prototype.toString.call(t.process)}catch(e){return}}()&&Sa.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),Pa.apply(void 0,e)};var Na,Ra,Aa=H;(Na=Aa).INTERNAL.registerComponent(new na("platform-logger",(function(e){return new Oa(e)}),"PRIVATE")),Na.registerVersion(_a,"0.6.20",Ra),Na.registerVersion("fire-js",""),Aa.registerVersion("firebase","8.4.3","app"),function(){var e,n="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){e!=Array.prototype&&e!=Object.prototype&&(e[t]=n.value)},r=function(e){e=["object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof t&&t,e];for(var n=0;n<e.length;++n){var r=e[n];if(r&&r.Math==Math)return r}return globalThis}(this);function i(e){var t,n,r="undefined"!=typeof Symbol&&Symbol.iterator&&e[Symbol.iterator];return r?r.call(e):{next:(t=e,n=0,function(){return n<t.length?{done:!1,value:t[n++]}:{done:!0}})}}!function(e,t){if(t){var i=r;e=e.split(".");for(var o=0;o<e.length-1;o++){var a=e[o];a in i||(i[a]={}),i=i[a]}(t=t(o=i[e=e[e.length-1]]))!=o&&null!=t&&n(i,e,{configurable:!0,writable:!0,value:t})}}("Promise",(function(e){function t(e){this.b=0,this.c=void 0,this.a=[];var t=this.f();try{e(t.resolve,t.reject)}catch(e){t.reject(e)}}function n(){this.a=null}function o(e){return e instanceof t?e:new t((function(t){t(e)}))}if(e)return e;n.prototype.b=function(e){var t;null==this.a&&(this.a=[],(t=this).c((function(){t.g()}))),this.a.push(e)};var a=r.setTimeout;n.prototype.c=function(e){a(e,0)},n.prototype.g=function(){for(;this.a&&this.a.length;){var e=this.a;this.a=[];for(var t=0;t<e.length;++t){var n=e[t];e[t]=null;try{n()}catch(e){this.f(e)}}}this.a=null},n.prototype.f=function(e){this.c((function(){throw e}))},t.prototype.f=function(){function e(e){return function(r){n||(n=!0,e.call(t,r))}}var t=this,n=!1;return{resolve:e(this.m),reject:e(this.g)}},t.prototype.m=function(e){if(e===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(e instanceof t)this.s(e);else{e:switch(typeof e){case"object":var n=null!=e;break e;case"function":n=!0;break e;default:n=!1}n?this.v(e):this.h(e)}},t.prototype.v=function(e){var t=void 0;try{t=e.then}catch(e){return void this.g(e)}"function"==typeof t?this.u(t,e):this.h(e)},t.prototype.g=function(e){this.i(2,e)},t.prototype.h=function(e){this.i(1,e)},t.prototype.i=function(e,t){if(0!=this.b)throw Error("Cannot settle("+e+", "+t+"): Promise already settled in state"+this.b);this.b=e,this.c=t,this.l()},t.prototype.l=function(){if(null!=this.a){for(var e=0;e<this.a.length;++e)s.b(this.a[e]);this.a=null}};var s=new n;return t.prototype.s=function(e){var t=this.f();e.Qa(t.resolve,t.reject)},t.prototype.u=function(e,t){var n=this.f();try{e.call(t,n.resolve,n.reject)}catch(e){n.reject(e)}},t.prototype.then=function(e,n){function r(e,t){return"function"==typeof e?function(t){try{i(e(t))}catch(t){o(t)}}:t}var i,o,a=new t((function(e,t){i=e,o=t}));return this.Qa(r(e,i),r(n,o)),a},t.prototype.catch=function(e){return this.then(void 0,e)},t.prototype.Qa=function(e,t){function n(){switch(r.b){case 1:e(r.c);break;case 2:t(r.c);break;default:throw Error("Unexpected state: "+r.b)}}var r=this;null==this.a?s.b(n):this.a.push(n)},t.resolve=o,t.reject=function(e){return new t((function(t,n){n(e)}))},t.race=function(e){return new t((function(t,n){for(var r=i(e),a=r.next();!a.done;a=r.next())o(a.value).Qa(t,n)}))},t.all=function(e){var n=i(e),r=n.next();return r.done?o([]):new t((function(e,t){for(var i=[],a=0;i.push(void 0),a++,o(r.value).Qa(function(t){return function(n){i[t]=n,0==--a&&e(i)}}(i.length-1),t),!(r=n.next()).done;);}))},t}));var o=o||{},a=this||self,s=/^[\w+/_-]+[=]{0,2}$/,u=null;function c(e){return(e=e.querySelector&&e.querySelector("script[nonce]"))&&(e=e.nonce||e.getAttribute("nonce"))&&s.test(e)?e:""}function l(){}function h(e){var t=typeof e;return"object"!=t?t:e?Array.isArray(e)?"array":t:"null"}function f(e){var t=h(e);return"array"==t||"object"==t&&"number"==typeof e.length}function d(e){return"function"==h(e)}function p(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var v="closure_uid_"+(1e9*Math.random()>>>0),y=0;function g(e,t,n){return e.call.apply(e.bind,arguments)}function m(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function b(e,t,n){return(b=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?g:m).apply(null,arguments)}function _(e){var t=Array.prototype.slice.call(arguments,1);return function(){var n=t.slice();return n.push.apply(n,arguments),e.apply(this,n)}}function w(e,t){function n(){}n.prototype=t.prototype,e.ab=t.prototype,e.prototype=new n,e.prototype.constructor=e}function E(e){return e}function S(e,t,n){this.code=C+e,this.message=t||k[e]||"",this.a=n||null}function T(e){var t=e&&e.code;return t?new S(t.substring(C.length),e.message,e.serverResponse):null}w(S,Error),S.prototype.w=function(){var e={code:this.code,message:this.message};return this.a&&(e.serverResponse=this.a),e},S.prototype.toJSON=function(){return this.w()};var I,C="auth/",k={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},O={ld:{Ta:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Za:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Wa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},sd:{Ta:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",Za:"https://securetoken.googleapis.com/v1/token",Wa:"https://identitytoolkit.googleapis.com/v2/",id:"p"},ud:{Ta:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Za:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Wa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},vd:{Ta:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",Za:"https://test-securetoken.sandbox.googleapis.com/v1/token",Wa:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function x(e){for(var t in O)if(O[t].id===e)return{firebaseEndpoint:(e=O[t]).Ta,secureTokenEndpoint:e.Za,identityPlatformEndpoint:e.Wa};return null}function P(e){if(e)try{return e.$goog_Thenable}catch(e){return}}function N(e){var t;Error.captureStackTrace?Error.captureStackTrace(this,N):(t=Error().stack)&&(this.stack=t),e&&(this.message=String(e))}function R(e,t){for(var n="",r=(e=e.split("%s")).length-1,i=0;i<r;i++)n+=e[i]+(i<t.length?t[i]:"%s");N.call(this,n+e[r])}function A(e){throw new R("Failure"+(e?": "+e:""),Array.prototype.slice.call(arguments,1))}function D(e,t){this.c=e,this.f=t,this.b=0,this.a=null}function j(e,t){e.f(t),e.b<100&&(e.b++,t.next=e.a,e.a=t)}function L(){this.b=this.a=null}I=x("__EID__")?"__EID__":void 0,w(N,Error),N.prototype.name="CustomError",w(R,N),R.prototype.name="AssertionError",D.prototype.get=function(){var e;return 0<this.b?(this.b--,e=this.a,this.a=e.next,e.next=null):e=this.c(),e};var M=new D((function(){return new F}),(function(e){e.reset()}));function F(){this.next=this.b=this.a=null}L.prototype.add=function(e,t){var n=M.get();n.set(e,t),this.b?this.b.next=n:this.a=n,this.b=n},F.prototype.set=function(e,t){this.a=e,this.b=t,this.next=null},F.prototype.reset=function(){this.next=this.b=this.a=null};var U=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"==typeof e)return"string"!=typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},q=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"==typeof e?e.split(""):e,o=0;o<r;o++)o in i&&t.call(n,i[o],o,e)},B=Array.prototype.filter?function(e,t){return Array.prototype.filter.call(e,t,void 0)}:function(e,t){for(var n,r=e.length,i=[],o=0,a="string"==typeof e?e.split(""):e,s=0;s<r;s++)s in a&&(n=a[s],t.call(void 0,n,s,e)&&(i[o++]=n));return i},V=Array.prototype.map?function(e,t){return Array.prototype.map.call(e,t,void 0)}:function(e,t){for(var n=e.length,r=Array(n),i="string"==typeof e?e.split(""):e,o=0;o<n;o++)o in i&&(r[o]=t.call(void 0,i[o],o,e));return r},W=Array.prototype.some?function(e,t){return Array.prototype.some.call(e,t,void 0)}:function(e,t){for(var n=e.length,r="string"==typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e))return!0;return!1};function z(e,t){return 0<=U(e,t)}function H(e,t){var n;return(n=0<=(t=U(e,t)))&&Array.prototype.splice.call(e,t,1),n}function K(e,t){!function(e,t){for(var n="string"==typeof e?e.split(""):e,r=e.length-1;0<=r;--r)r in n&&t.call(void 0,n[r],r,e)}(e,(function(n,r){t.call(void 0,n,r,e)&&Array.prototype.splice.call(e,r,1).length}))}function G(){return Array.prototype.concat.apply([],arguments)}function Q(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}var Y,$=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]},X=/&/g,J=/</g,Z=/>/g,ee=/"/g,te=/'/g,ne=/\x00/g,re=/[\x00&<>"']/;function ie(e,t){return-1!=e.indexOf(t)}function oe(e,t){return e<t?-1:t<e?1:0}var ae=a.navigator;function se(e){return ie(Y,e)}function ue(e,t){for(var n in e)t.call(void 0,e[n],n,e)}function ce(e){for(var t in e)return;return 1}function le(e){var t,n={};for(t in e)n[t]=e[t];return n}Y=ae&&(ae=ae.userAgent)?ae:"";var he="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function fe(e){for(var t,n,r=1;r<arguments.length;r++){for(t in n=arguments[r])e[t]=n[t];for(var i=0;i<he.length;i++)t=he[i],Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t])}}function de(e,t){e:{try{var n;if((n=(n=(n=e&&e.ownerDocument)&&(n.defaultView||n.parentWindow))||a).Element&&n.Location){var r=n;break e}}catch(e){}r=null}if(r&&void 0!==r[t]&&(!e||!(e instanceof r[t])&&(e instanceof r.Location||e instanceof r.Element))){if(p(e))try{var i=e.constructor.displayName||e.constructor.name||Object.prototype.toString.call(e)}catch(e){i="<object could not be stringified>"}else i=void 0===e?"undefined":null===e?"null":typeof e;A("Argument is not a %s (or a non-Element, non-Location mock); got: %s",t,i)}}function pe(e,t){this.a=e===me&&t||"",this.b=ge}function ve(e){return e instanceof pe&&e.constructor===pe&&e.b===ge?e.a:(A("expected object of type Const, got '"+e+"'"),"type_error:Const")}pe.prototype.sa=!0,pe.prototype.ra=function(){return this.a},pe.prototype.toString=function(){return"Const{"+this.a+"}"};var ye,ge={},me={};function be(){if(void 0===ye){var e=null,t=a.trustedTypes;if(t&&t.createPolicy){try{e=t.createPolicy("goog#html",{createHTML:E,createScript:E,createScriptURL:E})}catch(e){a.console&&a.console.error(e.message)}ye=e}else ye=e}return ye}function _e(e,t){this.a=t===Ie?e:""}function we(e){return e instanceof _e&&e.constructor===_e?e.a:(A("expected object of type TrustedResourceUrl, got '"+e+"' of type "+h(e)),"type_error:TrustedResourceUrl")}function Ee(e,t){var n,r=ve(e);if(!Te.test(r))throw Error("Invalid TrustedResourceUrl format: "+r);return n=e=r.replace(Se,(function(e,n){if(!Object.prototype.hasOwnProperty.call(t,n))throw Error('Found marker, "'+n+'", in format string, "'+r+'", but no valid label mapping found in args: '+JSON.stringify(t));return(e=t[n])instanceof pe?ve(e):encodeURIComponent(String(e))})),new _e(n=(e=be())?e.createScriptURL(n):n,Ie)}_e.prototype.sa=!0,_e.prototype.ra=function(){return this.a.toString()},_e.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var Se=/%{(\w+)}/g,Te=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,Ie={};function Ce(e,t){this.a=t===Ae?e:""}function ke(e){return e instanceof Ce&&e.constructor===Ce?e.a:(A("expected object of type SafeUrl, got '"+e+"' of type "+h(e)),"type_error:SafeUrl")}Ce.prototype.sa=!0,Ce.prototype.ra=function(){return this.a.toString()},Ce.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var Oe=/^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-matroska|x-wav|wav|webm)|font\/\w+|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime|x-matroska))(?:;\w+=(?:\w+|"[\w;,= ]+"))*$/i,xe=/^data:(.*);base64,[a-z0-9+\/]+=*$/i,Pe=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function Ne(e){return e instanceof Ce?e:(e="object"==typeof e&&e.sa?e.ra():String(e),e=Pe.test(e)||(t=(e=(e=String(e)).replace(/(%0A|%0D)/g,"")).match(xe))&&Oe.test(t[1])?new Ce(e,Ae):null);var t}function Re(e){return e instanceof Ce?e:(e="object"==typeof e&&e.sa?e.ra():String(e),new Ce(e=Pe.test(e)?e:"about:invalid#zClosurez",Ae))}var Ae={},De=new Ce("about:invalid#zClosurez",Ae);function je(e,t,n){this.a=n===Le?e:""}je.prototype.sa=!0,je.prototype.ra=function(){return this.a.toString()},je.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var Le={};function Me(e,t,n,r){return e=e instanceof Ce?e:Re(e),t=t||a,n=n instanceof pe?ve(n):n||"",t.open(ke(e),n,r,void 0)}function Fe(e){for(var t=e.split("%s"),n="",r=Array.prototype.slice.call(arguments,1);r.length&&1<t.length;)n+=t.shift()+r.shift();return n+t.join("%s")}function Ue(e){return re.test(e)&&-1!=(e=-1!=(e=-1!=(e=-1!=(e=-1!=(e=-1!=e.indexOf("&")?e.replace(X,"&amp;"):e).indexOf("<")?e.replace(J,"&lt;"):e).indexOf(">")?e.replace(Z,"&gt;"):e).indexOf('"')?e.replace(ee,"&quot;"):e).indexOf("'")?e.replace(te,"&#39;"):e).indexOf("\0")&&(e=e.replace(ne,"&#0;")),e}function qe(e){return qe[" "](e),e}qe[" "]=l;var Be,Ve=se("Opera"),We=se("Trident")||se("MSIE"),ze=se("Edge"),He=ze||We,Ke=se("Gecko")&&!(ie(Y.toLowerCase(),"webkit")&&!se("Edge"))&&!(se("Trident")||se("MSIE"))&&!se("Edge"),Ge=ie(Y.toLowerCase(),"webkit")&&!se("Edge");function Qe(){var e=a.document;return e?e.documentMode:void 0}var Ye="",$e=($e=Y,Ke?/rv:([^\);]+)(\)|;)/.exec($e):ze?/Edge\/([\d\.]+)/.exec($e):We?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec($e):Ge?/WebKit\/(\S+)/.exec($e):Ve?/(?:Version)[ \/]?(\S+)/.exec($e):void 0);$e&&(Ye=$e?$e[1]:""),Be=We&&null!=($e=Qe())&&$e>parseFloat(Ye)?String($e):Ye;var Xe={};function Je(e){return t=e,n=function(){for(var t=0,n=$(String(Be)).split("."),r=$(String(e)).split("."),i=Math.max(n.length,r.length),o=0;0==t&&o<i;o++)for(var a=n[o]||"",s=r[o]||"";a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],(0!=a[0].length||0!=s[0].length)&&(t=oe(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||oe(0==a[2].length,0==s[2].length)||oe(a[2],s[2]),a=a[3],s=s[3],0==t););return 0<=t},r=Xe,Object.prototype.hasOwnProperty.call(r,t)?r[t]:r[t]=n(t);var t,n,r}var Ze=a.document&&We&&(Qe()||parseInt(Be,10))||void 0;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch(e){}var et=!We||9<=Number(Ze);function tt(e){var t=document;return"string"==typeof e?t.getElementById(e):e}function nt(e,t){ue(t,(function(t,n){t&&"object"==typeof t&&t.sa&&(t=t.ra()),"style"==n?e.style.cssText=t:"class"==n?e.className=t:"for"==n?e.htmlFor=t:ot.hasOwnProperty(n)?e.setAttribute(ot[n],t):0==n.lastIndexOf("aria-",0)||0==n.lastIndexOf("data-",0)?e.setAttribute(n,t):e[n]=t}))}var rt,it,ot={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function at(){var e,t=arguments,n=document,r=String(t[0]),i=t[1];return!et&&i&&(i.name||i.type)&&(r=["<",r],i.name&&r.push(' name="',Ue(i.name),'"'),i.type&&(r.push(' type="',Ue(i.type),'"'),fe(e={},i),delete e.type,i=e),r.push(">"),r=r.join("")),r=st(n,r),i&&("string"==typeof i?r.className=i:Array.isArray(i)?r.className=i.join(" "):nt(r,i)),2<t.length&&function(e,t,n){function r(n){n&&t.appendChild("string"==typeof n?e.createTextNode(n):n)}for(var i=2;i<n.length;i++){var o=n[i];if(!f(o)||p(o)&&0<o.nodeType)r(o);else{e:{if(o&&"number"==typeof o.length){if(p(o)){var a="function"==typeof o.item||"string"==typeof o.item;break e}if(d(o)){a="function"==typeof o.item;break e}}a=!1}q(a?Q(o):o,r)}}}(n,r,t),r}function st(e,t){return t=String(t),"application/xhtml+xml"===e.contentType&&(t=t.toLowerCase()),e.createElement(t)}function ut(e){a.setTimeout((function(){throw e}),0)}function ct(e,t){it||function(){var e;it=a.Promise&&a.Promise.resolve?(e=a.Promise.resolve(void 0),function(){e.then(ft)}):function(){var e=ft;!d(a.setImmediate)||a.Window&&a.Window.prototype&&!se("Edge")&&a.Window.prototype.setImmediate==a.setImmediate?(rt=rt||function(){var e=a.MessageChannel;if(void 0===(e=void 0===e&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&!se("Presto")?function(){var e=st(document,"IFRAME");e.style.display="none",document.documentElement.appendChild(e);var t=e.contentWindow;(e=t.document).open(),e.close();var n="callImmediate"+Math.random(),r="file:"==t.location.protocol?"*":t.location.protocol+"//"+t.location.host;e=b((function(e){"*"!=r&&e.origin!=r||e.data!=n||this.port1.onmessage()}),this),t.addEventListener("message",e,!1),this.port1={},this.port2={postMessage:function(){t.postMessage(n,r)}}}:e)||se("Trident")||se("MSIE"))return function(e){a.setTimeout(e,0)};var t=new e,n={},r=n;return t.port1.onmessage=function(){var e;void 0!==n.next&&(e=(n=n.next).Gb,n.Gb=null,e())},function(e){r.next={Gb:e},r=r.next,t.port2.postMessage(0)}}())(e):a.setImmediate(e)}}(),lt||(it(),lt=!0),ht.add(e,t)}var lt=!1,ht=new L;function ft(){for(var e,t,n;n=t=void 0,n=null,(t=ht).a&&(n=t.a,t.a=t.a.next,t.a||(t.b=null),n.next=null),e=n;){try{e.a.call(e.b)}catch(e){ut(e)}j(M,e)}lt=!1}function dt(e,t){if(this.a=pt,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,e!=l)try{var n=this;e.call(t,(function(e){Ct(n,vt,e)}),(function(e){if(!(e instanceof At))try{if(e instanceof Error)throw e;throw Error("Promise rejected.")}catch(e){}Ct(n,yt,e)}))}catch(e){Ct(this,yt,e)}}var pt=0,vt=2,yt=3;function gt(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}gt.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var mt=new D((function(){return new gt}),(function(e){e.reset()}));function bt(e,t,n){var r=mt.get();return r.g=e,r.b=t,r.f=n,r}function _t(e){if(e instanceof dt)return e;var t=new dt(l);return Ct(t,vt,e),t}function wt(e){return new dt((function(t,n){n(e)}))}function Et(e,t,n){kt(e,t,n,null)||ct(_(t,e))}function St(e){return new dt((function(t){var n=e.length,r=[];if(n)for(var i=function(e,i,o){n--,r[e]=i?{Pb:!0,value:o}:{Pb:!1,reason:o},0==n&&t(r)},o=0;o<e.length;o++)Et(e[o],_(i,o,!0),_(i,o,!1));else t(r)}))}function Tt(e,t){e.b||e.a!=vt&&e.a!=yt||Ot(e),e.f?e.f.next=t:e.b=t,e.f=t}function It(e,t,n,r){var i=bt(null,null,null);return i.a=new dt((function(e,o){i.g=t?function(n){try{var i=t.call(r,n);e(i)}catch(n){o(n)}}:e,i.b=n?function(t){try{var i=n.call(r,t);void 0===i&&t instanceof At?o(t):e(i)}catch(t){o(t)}}:o})),Tt(i.a.c=e,i),i.a}function Ct(e,t,n){var r,i;e.a==pt&&(e===n&&(t=yt,n=new TypeError("Promise cannot resolve to itself")),e.a=1,kt(n,e.$c,e.ad,e)||(e.i=n,e.a=t,e.c=null,Ot(e),t!=yt||n instanceof At||(i=n,(r=e).g=!0,ct((function(){r.g&&Rt.call(null,i)})))))}function kt(e,t,n,r){if(e instanceof dt)return Tt(e,bt(t||l,n||null,r)),1;if(P(e))return e.then(t,n,r),1;if(p(e))try{var i=e.then;if(d(i))return function(e,t,n,r,i){function o(e){a||(a=!0,r.call(i,e))}var a=!1;try{t.call(e,(function(e){a||(a=!0,n.call(i,e))}),o)}catch(e){o(e)}}(e,i,t,n,r),1}catch(e){return n.call(r,e),1}}function Ot(e){e.h||(e.h=!0,ct(e.gc,e))}function xt(e){var t=null;return e.b&&(t=e.b,e.b=t.next,t.next=null),e.b||(e.f=null),t}function Pt(e,t,n,r){if(n==yt&&t.b&&!t.c)for(;e&&e.g;e=e.c)e.g=!1;if(t.a)t.a.c=null,Nt(t,n,r);else try{t.c?t.g.call(t.f):Nt(t,n,r)}catch(e){Rt.call(null,e)}j(mt,t)}function Nt(e,t,n){t==vt?e.g.call(e.f,n):e.b&&e.b.call(e.f,n)}dt.prototype.then=function(e,t,n){return It(this,d(e)?e:null,d(t)?t:null,n)},dt.prototype.$goog_Thenable=!0,(e=dt.prototype).oa=function(e,t){return(e=bt(e,e,t)).c=!0,Tt(this,e),this},e.o=function(e,t){return It(this,null,e,t)},e.cancel=function(e){var t;this.a==pt&&(t=new At(e),ct((function(){!function e(t,n){if(t.a==pt)if(t.c){var r=t.c;if(r.b){for(var i=0,o=null,a=null,s=r.b;s&&(s.c||(i++,!((o=s.a==t?s:o)&&1<i)));s=s.next)o||(a=s);o&&(r.a==pt&&1==i?e(r,n):(a?((i=a).next==r.f&&(r.f=i),i.next=i.next.next):xt(r),Pt(r,o,yt,n)))}t.c=null}else Ct(t,yt,n)}(this,t)}),this))},e.$c=function(e){this.a=pt,Ct(this,vt,e)},e.ad=function(e){this.a=pt,Ct(this,yt,e)},e.gc=function(){for(var e;e=xt(this);)Pt(this,e,this.a,this.i);this.h=!1};var Rt=ut;function At(e){N.call(this,e)}function Dt(){this.xa=this.xa,this.pa=this.pa}w(At,N);var jt=0;function Lt(e){e.xa||(e.xa=!0,e.Da(),0==jt)||(e=e,Object.prototype.hasOwnProperty.call(e,v)&&e[v]||(e[v]=++y))}Dt.prototype.xa=!(At.prototype.name="cancel"),Dt.prototype.Da=function(){if(this.pa)for(;this.pa.length;)this.pa.shift()()};var Mt=Object.freeze||function(e){return e},Ft=!We||9<=Number(Ze),Ut=We&&!Je("9"),qt=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{a.addEventListener("test",l,t),a.removeEventListener("test",l,t)}catch(e){}return e}();function Bt(e,t){this.type=e,this.b=this.target=t,this.defaultPrevented=!1}function Vt(e,t){if(Bt.call(this,e?e.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.b=t,t=e.relatedTarget){if(Ke){e:{try{qe(t.nodeName);var i=!0;break e}catch(e){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"==typeof e.pointerType?e.pointerType:Wt[e.pointerType]||"",(this.a=e).defaultPrevented&&this.preventDefault()}}Bt.prototype.preventDefault=function(){this.defaultPrevented=!0},w(Vt,Bt);var Wt=Mt({2:"touch",3:"pen",4:"mouse"});Vt.prototype.preventDefault=function(){Vt.ab.preventDefault.call(this);var e=this.a;if(e.preventDefault)e.preventDefault();else if(e.returnValue=!1,Ut)try{(e.ctrlKey||112<=e.keyCode&&e.keyCode<=123)&&(e.keyCode=-1)}catch(e){}},Vt.prototype.g=function(){return this.a};var zt="closure_listenable_"+(1e6*Math.random()|0),Ht=0;function Kt(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.Va=i,this.key=++Ht,this.va=this.Pa=!1}function Gt(e){e.va=!0,e.listener=null,e.proxy=null,e.src=null,e.Va=null}function Qt(e){this.src=e,this.a={},this.b=0}function Yt(e,t){var n=t.type;n in e.a&&H(e.a[n],t)&&(Gt(t),0==e.a[n].length&&(delete e.a[n],e.b--))}function $t(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.va&&o.listener==t&&o.capture==!!n&&o.Va==r)return i}return-1}Qt.prototype.add=function(e,t,n,r,i){var o=e.toString();(e=this.a[o])||(e=this.a[o]=[],this.b++);var a=$t(e,t,r,i);return-1<a?(t=e[a],n||(t.Pa=!1)):((t=new Kt(t,this.src,o,!!r,i)).Pa=n,e.push(t)),t};var Xt="closure_lm_"+(1e6*Math.random()|0),Jt={};function Zt(e,t,n,r,i){if(r&&r.once)tn(e,t,n,r,i);else if(Array.isArray(t))for(var o=0;o<t.length;o++)Zt(e,t[o],n,r,i);else n=hn(n),e&&e[zt]?dn(e,t,n,p(r)?!!r.capture:!!r,i):en(e,t,n,!1,r,i)}function en(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var a,s,u=p(i)?!!i.capture:!!i,c=cn(e);if(c||(e[Xt]=c=new Qt(e)),!(n=c.add(t,n,r,u,o)).proxy)if(a=un,r=s=Ft?function(e){return a.call(s.src,s.listener,e)}:function(e){if(!(e=a.call(s.src,s.listener,e)))return e},(n.proxy=r).src=e,r.listener=n,e.addEventListener)void 0===(i=qt?i:u)&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(on(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}}function tn(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)tn(e,t[o],n,r,i);else n=hn(n),e&&e[zt]?pn(e,t,n,p(r)?!!r.capture:!!r,i):en(e,t,n,!0,r,i)}function nn(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)nn(e,t[o],n,r,i);else r=p(r)?!!r.capture:!!r,n=hn(n),e&&e[zt]?(e=e.v,(t=String(t).toString())in e.a&&-1<(n=$t(o=e.a[t],n,r,i))&&(Gt(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete e.a[t],e.b--))):(e=e&&cn(e))&&(t=e.a[t.toString()],(n=(e=-1)<(e=t?$t(t,n,r,i):e)?t[e]:null)&&rn(n))}function rn(e){var t,n,r;"number"!=typeof e&&e&&!e.va&&((t=e.src)&&t[zt]?Yt(t.v,e):(n=e.type,r=e.proxy,t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(on(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=cn(t))?(Yt(n,e),0==n.b&&(n.src=null,t[Xt]=null)):Gt(e)))}function on(e){return e in Jt?Jt[e]:Jt[e]="on"+e}function an(e,t,n,r){var i=!0;if((e=cn(e))&&(t=e.a[t.toString()]))for(t=t.concat(),e=0;e<t.length;e++){var o=t[e];o&&o.capture==n&&!o.va&&(o=sn(o,r),i=i&&!1!==o)}return i}function sn(e,t){var n=e.listener,r=e.Va||e.src;return e.Pa&&rn(e),n.call(r,t)}function un(e,t){if(e.va)return!0;if(Ft)return sn(e,new Vt(t,this));if(!t)e:{t=["window","event"];for(var n=a,r=0;r<t.length;r++)if(null==(n=n[t[r]])){t=null;break e}t=n}if(t=new Vt(r=t,this),n=!0,!(r.keyCode<0||null!=r.returnValue)){e:{var i=!1;if(0==r.keyCode)try{r.keyCode=-1;break e}catch(e){i=!0}!i&&null!=r.returnValue||(r.returnValue=!0)}for(r=[],i=t.b;i;i=i.parentNode)r.push(i);for(e=e.type,i=r.length-1;0<=i;i--){t.b=r[i];var o=an(r[i],e,!0,t);n=n&&o}for(i=0;i<r.length;i++)t.b=r[i],o=an(r[i],e,!1,t),n=n&&o}return n}function cn(e){return(e=e[Xt])instanceof Qt?e:null}var ln="__closure_events_fn_"+(1e9*Math.random()>>>0);function hn(e){return d(e)?e:(e[ln]||(e[ln]=function(t){return e.handleEvent(t)}),e[ln])}function fn(){Dt.call(this),this.v=new Qt(this),(this.ac=this).gb=null}function dn(e,t,n,r,i){e.v.add(String(t),n,!1,r,i)}function pn(e,t,n,r,i){e.v.add(String(t),n,!0,r,i)}function vn(e,t,n,r){if(!(t=e.v.a[String(t)]))return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var a,s,u=t[o];u&&!u.va&&u.capture==n&&(a=u.listener,s=u.Va||u.src,u.Pa&&Yt(e.v,u),i=!1!==a.call(s,r)&&i)}return i&&!r.defaultPrevented}function yn(e,t,n){if(d(e))n&&(e=b(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=b(e.handleEvent,e)}return 2147483647<Number(t)?-1:a.setTimeout(e,t||0)}function gn(e){var t=null;return new dt((function(n,r){-1==(t=yn((function(){n(void 0)}),e))&&r(Error("Failed to schedule timer."))})).o((function(e){throw a.clearTimeout(t),e}))}function mn(e){if(e.W&&"function"==typeof e.W)return e.W();if("string"==typeof e)return e.split("");if(f(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}function bn(e){if(e.Y&&"function"==typeof e.Y)return e.Y();if(!e.W||"function"!=typeof e.W){if(f(e)||"string"==typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}for(var r in t=[],n=0,e)t[n++]=r;return t}}function _n(e,t){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof _n)for(n=e.Y(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function wn(e){if(e.c!=e.a.length){for(var t=0,n=0;t<e.a.length;){var r=e.a[t];En(e.b,r)&&(e.a[n++]=r),t++}e.a.length=n}if(e.c!=e.a.length){var i={};for(n=t=0;t<e.a.length;)En(i,r=e.a[t])||(i[e.a[n++]=r]=1),t++;e.a.length=n}}function En(e,t){return Object.prototype.hasOwnProperty.call(e,t)}w(fn,Dt),fn.prototype[zt]=!0,fn.prototype.addEventListener=function(e,t,n,r){Zt(this,e,t,n,r)},fn.prototype.removeEventListener=function(e,t,n,r){nn(this,e,t,n,r)},fn.prototype.dispatchEvent=function(e){var t;if(n=this.gb)for(t=[];n;n=n.gb)t.push(n);var n=this.ac,r=e.type||e;if("string"==typeof e?e=new Bt(e,n):e instanceof Bt?e.target=e.target||n:(a=e,fe(e=new Bt(r,n),a)),a=!0,t)for(var i=t.length-1;0<=i;i--)var o=e.b=t[i],a=vn(o,r,!0,e)&&a;if(a=vn(o=e.b=n,r,!0,e)&&a,a=vn(o,r,!1,e)&&a,t)for(i=0;i<t.length;i++)a=vn(o=e.b=t[i],r,!1,e)&&a;return a},fn.prototype.Da=function(){if(fn.ab.Da.call(this),this.v){var e,t=this.v;for(e in t.a){for(var n=t.a[e],r=0;r<n.length;r++)Gt(n[r]);delete t.a[e],t.b--}}this.gb=null},(e=_n.prototype).W=function(){wn(this);for(var e=[],t=0;t<this.a.length;t++)e.push(this.b[this.a[t]]);return e},e.Y=function(){return wn(this),this.a.concat()},e.clear=function(){this.b={},this.c=this.a.length=0},e.get=function(e,t){return En(this.b,e)?this.b[e]:t},e.set=function(e,t){En(this.b,e)||(this.c++,this.a.push(e)),this.b[e]=t},e.forEach=function(e,t){for(var n=this.Y(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);e.call(t,o,i,this)}};var Sn=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Tn(e,t){var n;this.a=this.l=this.c="",this.g=null,this.h=this.f="",this.i=!1,e instanceof Tn?(this.i=void 0!==t?t:e.i,In(this,e.c),this.l=e.l,this.a=e.a,Cn(this,e.g),this.f=e.f,kn(this,Kn(e.b)),this.h=e.h):e&&(n=String(e).match(Sn))?(this.i=!!t,In(this,n[1]||"",!0),this.l=Rn(n[2]||""),this.a=Rn(n[3]||"",!0),Cn(this,n[4]),this.f=Rn(n[5]||"",!0),kn(this,n[6]||"",!0),this.h=Rn(n[7]||"")):(this.i=!!t,this.b=new qn(null,this.i))}function In(e,t,n){e.c=n?Rn(t,!0):t,e.c&&(e.c=e.c.replace(/:$/,""))}function Cn(e,t){if(t){if(t=Number(t),isNaN(t)||t<0)throw Error("Bad port number "+t);e.g=t}else e.g=null}function kn(e,t,n){var r,i;t instanceof qn?(e.b=t,r=e.b,(i=e.i)&&!r.f&&(Bn(r),r.c=null,r.a.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Wn(this,t),Hn(this,n,e))}),r)),r.f=i):(n||(t=An(t,Fn)),e.b=new qn(t,e.i))}function On(e,t,n){e.b.set(t,n)}function xn(e,t){return e.b.get(t)}function Pn(e){return e instanceof Tn?new Tn(e):new Tn(e,void 0)}function Nn(e,t,n,r){var i=new Tn(null,void 0);return e&&In(i,e),t&&(i.a=t),n&&Cn(i,n),r&&(i.f=r),i}function Rn(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function An(e,t,n){return"string"==typeof e?(e=encodeURI(e).replace(t,Dn),e=n?e.replace(/%25([0-9a-fA-F]{2})/g,"%$1"):e):null}function Dn(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Tn.prototype.toString=function(){var e=[],t=this.c;t&&e.push(An(t,jn,!0),":");var n=this.a;return!n&&"file"!=t||(e.push("//"),(t=this.l)&&e.push(An(t,jn,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.g)&&e.push(":",String(n))),(n=this.f)&&(this.a&&"/"!=n.charAt(0)&&e.push("/"),e.push(An(n,"/"==n.charAt(0)?Mn:Ln,!0))),(n=this.b.toString())&&e.push("?",n),(n=this.h)&&e.push("#",An(n,Un)),e.join("")},Tn.prototype.resolve=function(e){var t=new Tn(this),n=!!e.c;n?In(t,e.c):n=!!e.l,n?t.l=e.l:n=!!e.a,n?t.a=e.a:n=null!=e.g;var r=e.f;if(n)Cn(t,e.g);else if(n=!!e.f)if("/"!=r.charAt(0)&&(this.a&&!this.f?r="/"+r:-1!=(i=t.f.lastIndexOf("/"))&&(r=t.f.substr(0,i+1)+r)),".."==(i=r)||"."==i)r="";else if(ie(i,"./")||ie(i,"/.")){r=0==i.lastIndexOf("/",0);for(var i=i.split("/"),o=[],a=0;a<i.length;){var s=i[a++];"."==s?r&&a==i.length&&o.push(""):".."==s?((1<o.length||1==o.length&&""!=o[0])&&o.pop(),r&&a==i.length&&o.push("")):(o.push(s),r=!0)}r=o.join("/")}else r=i;return n?t.f=r:n=""!==e.b.toString(),n?kn(t,Kn(e.b)):n=!!e.h,n&&(t.h=e.h),t};var jn=/[#\/\?@]/g,Ln=/[#\?:]/g,Mn=/[#\?]/g,Fn=/[#\?@]/g,Un=/#/g;function qn(e,t){this.b=this.a=null,this.c=e||null,this.f=!!t}function Bn(e){e.a||(e.a=new _n,e.b=0,e.c&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r,i=e[n].indexOf("="),o=null;0<=i?(r=e[n].substring(0,i),o=e[n].substring(i+1)):r=e[n],t(r,o?decodeURIComponent(o.replace(/\+/g," ")):"")}}}(e.c,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Vn(e){var t=bn(e);if(void 0===t)throw Error("Keys are undefined");var n=new qn(null,void 0);e=mn(e);for(var r=0;r<t.length;r++){var i=t[r],o=e[r];Array.isArray(o)?Hn(n,i,o):n.add(i,o)}return n}function Wn(e,t){Bn(e),t=Gn(e,t),En(e.a.b,t)&&(e.c=null,e.b-=e.a.get(t).length,En((e=e.a).b,t)&&(delete e.b[t],e.c--,e.a.length>2*e.c&&wn(e)))}function zn(e,t){return Bn(e),t=Gn(e,t),En(e.a.b,t)}function Hn(e,t,n){Wn(e,t),0<n.length&&(e.c=null,e.a.set(Gn(e,t),Q(n)),e.b+=n.length)}function Kn(e){var t=new qn;return t.c=e.c,e.a&&(t.a=new _n(e.a),t.b=e.b),t}function Gn(e,t){return t=String(t),e.f?t.toLowerCase():t}function Qn(e){var t=[];return function e(t,n,r){if(null==n)r.push("null");else{if("object"==typeof n){if(Array.isArray(n)){var i=n;n=i.length,r.push("[");for(var o="",a=0;a<n;a++)r.push(o),e(t,i[a],r),o=",";return void r.push("]")}if(!(n instanceof String||n instanceof Number||n instanceof Boolean)){for(i in r.push("{"),o="",n)Object.prototype.hasOwnProperty.call(n,i)&&"function"!=typeof(a=n[i])&&(r.push(o),Jn(i,r),r.push(":"),e(t,a,r),o=",");return void r.push("}")}n=n.valueOf()}switch(typeof n){case"string":Jn(n,r);break;case"number":r.push(isFinite(n)&&!isNaN(n)?String(n):"null");break;case"boolean":r.push(String(n));break;case"function":r.push("null");break;default:throw Error("Unknown type: "+typeof n)}}}(new Yn,e,t),t.join("")}function Yn(){}(e=qn.prototype).add=function(e,t){Bn(this),this.c=null,e=Gn(this,e);var n=this.a.get(e);return n||this.a.set(e,n=[]),n.push(t),this.b+=1,this},e.clear=function(){this.a=this.c=null,this.b=0},e.forEach=function(e,t){Bn(this),this.a.forEach((function(n,r){q(n,(function(n){e.call(t,n,r,this)}),this)}),this)},e.Y=function(){Bn(this);for(var e=this.a.W(),t=this.a.Y(),n=[],r=0;r<t.length;r++)for(var i=e[r],o=0;o<i.length;o++)n.push(t[r]);return n},e.W=function(e){Bn(this);var t=[];if("string"==typeof e)zn(this,e)&&(t=G(t,this.a.get(Gn(this,e))));else{e=this.a.W();for(var n=0;n<e.length;n++)t=G(t,e[n])}return t},e.set=function(e,t){return Bn(this),this.c=null,zn(this,e=Gn(this,e))&&(this.b-=this.a.get(e).length),this.a.set(e,[t]),this.b+=1,this},e.get=function(e,t){return e&&0<(e=this.W(e)).length?String(e[0]):t},e.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var e=[],t=this.a.Y(),n=0;n<t.length;n++)for(var r=t[n],i=encodeURIComponent(String(r)),o=(r=this.W(r),0);o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),e.push(a)}return this.c=e.join("&")};var $n={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},Xn=/\uffff/.test("\uffff")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function Jn(e,t){t.push('"',e.replace(Xn,(function(e){var t=$n[e];return t||(t="\\u"+(65536|e.charCodeAt(0)).toString(16).substr(1),$n[e]=t),t})),'"')}function Zn(){var e=mr();return We&&Ze&&11==Ze||/Edge\/\d+/.test(e)}function er(){return a.window&&a.window.location.href||self&&self.location&&self.location.href||""}function tr(e,t){t=t||a.window;var n="about:blank";e&&(n=ke(Ne(e)||De)),t.location.href=n}function nr(e){return!!((e=(e||mr()).toLowerCase()).match(/android/)||e.match(/webos/)||e.match(/iphone|ipad|ipod/)||e.match(/blackberry/)||e.match(/windows phone/)||e.match(/iemobile/))}function rr(e){e=e||a.window;try{e.close()}catch(e){}}function ir(e,t,n){var r=Math.floor(1e9*Math.random()).toString();t=t||500,n=n||600;var i=(window.screen.availHeight-n)/2,o=(window.screen.availWidth-t)/2;for(a in t={width:t,height:n,top:0<i?i:0,left:0<o?o:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},n=mr().toLowerCase(),r&&(t.target=r,ie(n,"crios/")&&(t.target="_blank")),vr(mr())==dr&&(e=e||"http://localhost",t.scrollbars=!0),n=e||"",(e=t)||(e={}),r=window,t=n instanceof Ce?n:Ne(void 0!==n.href?n.href:String(n))||De,n=e.target||n.target,i=[],e)switch(a){case"width":case"height":case"top":case"left":i.push(a+"="+e[a]);break;case"target":case"noopener":case"noreferrer":break;default:i.push(a+"="+(e[a]?1:0))}var a=i.join(",");if((se("iPhone")&&!se("iPod")&&!se("iPad")||se("iPad")||se("iPod"))&&r.navigator&&r.navigator.standalone&&n&&"_self"!=n?(de(a=st(document,"A"),"HTMLAnchorElement"),t=t instanceof Ce?t:Re(t),a.href=ke(t),a.setAttribute("target",n),e.noreferrer&&a.setAttribute("rel","noreferrer"),(e=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,r,1),a.dispatchEvent(e),a={}):e.noreferrer?(a=Me("",r,n,a),e=ke(t),a&&(He&&ie(e,";")&&(e="'"+e.replace(/'/g,"%27")+"'"),a.opener=null,e='<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+Ue(e)+'">',e=new je(e=(r=be())?r.createHTML(e):e,0,Le),r=a.document)&&(r.write((o=e)instanceof je&&o.constructor===je?o.a:(A("expected object of type SafeHtml, got '"+o+"' of type "+h(o)),"type_error:SafeHtml")),r.close())):(a=Me(t,r,n,a))&&e.noopener&&(a.opener=null),a)try{a.focus()}catch(e){}return a}var or=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ar=/^[^@]+@[^@]+$/;function sr(){var e=null;return new dt((function(t){"complete"==a.document.readyState?t():(e=function(){t()},tn(window,"load",e))})).o((function(t){throw nn(window,"load",e),t}))}function ur(e){return e=e||mr(),!("file:"!==Sr()&&"ionic:"!==Sr()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function cr(){var e=a.window;try{return e&&e!=e.top}catch(e){return}}function lr(){return void 0!==a.WorkerGlobalScope&&"function"==typeof a.importScripts}function hr(){return Aa.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":Aa.INTERNAL.hasOwnProperty("node")?"Node":lr()?"Worker":"Browser"}function fr(){var e=hr();return"ReactNative"===e||"Node"===e}var dr="Firefox",pr="Chrome";function vr(e){var t=e.toLowerCase();return ie(t,"opera/")||ie(t,"opr/")||ie(t,"opios/")?"Opera":ie(t,"iemobile")?"IEMobile":ie(t,"msie")||ie(t,"trident/")?"IE":ie(t,"edge/")?"Edge":ie(t,"firefox/")?dr:ie(t,"silk/")?"Silk":ie(t,"blackberry")?"Blackberry":ie(t,"webos")?"Webos":!ie(t,"safari/")||ie(t,"chrome/")||ie(t,"crios/")||ie(t,"android")?!ie(t,"chrome/")&&!ie(t,"crios/")||ie(t,"edge/")?ie(t,"android")?"Android":(e=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==e.length?e[1]:"Other":pr:"Safari"}var yr={md:"FirebaseCore-web",od:"FirebaseUI-web"};function gr(e,t){t=t||[];var n,r=[],i={};for(n in yr)i[yr[n]]=!0;for(n=0;n<t.length;n++)void 0!==i[t[n]]&&(delete i[t[n]],r.push(t[n]));return r.sort(),(t=r).length||(t=["FirebaseCore-web"]),"Browser"===(r=hr())?r=vr(i=mr()):"Worker"===r&&(r=vr(i=mr())+"-"+r),r+"/JsCore/"+e+"/"+t.join(",")}function mr(){return a.navigator&&a.navigator.userAgent||""}function br(e,t){e=e.split("."),t=t||a;for(var n=0;n<e.length&&"object"==typeof t&&null!=t;n++)t=t[e[n]];return n!=e.length?void 0:t}function _r(){try{var e=a.localStorage,t=Or();if(e)return e.setItem(t,"1"),e.removeItem(t),!Zn()||!!a.indexedDB}catch(e){return lr()&&!!a.indexedDB}return!1}function wr(){return(Er()||"chrome-extension:"===Sr()||ur())&&!fr()&&_r()&&!lr()}function Er(){return"http:"===Sr()||"https:"===Sr()}function Sr(){return a.location&&a.location.protocol||null}function Tr(e){return!nr(e=e||mr())&&vr(e)!=dr}function Ir(e){return void 0===e?null:Qn(e)}function Cr(e){var t,n={};for(t in e)e.hasOwnProperty(t)&&null!==e[t]&&void 0!==e[t]&&(n[t]=e[t]);return n}function kr(e){if(null!==e)return JSON.parse(e)}function Or(e){return e||Math.floor(1e9*Math.random()).toString()}function xr(e){return"Safari"!=vr(e=e||mr())&&!e.toLowerCase().match(/iphone|ipad|ipod/)}function Pr(){var e=a.___jsl;if(e&&e.H)for(var t in e.H)if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=e.H[t].L.concat(),e.CP)for(var n=0;n<e.CP.length;n++)e.CP[n]=null}function Nr(e,t){if(t<e)throw Error("Short delay should be less than long delay!");this.a=e,this.c=t,e=mr(),t=hr(),this.b=nr(e)||"ReactNative"===t}function Rr(){var e=a.document;return!e||void 0===e.visibilityState||"visible"==e.visibilityState}function Ar(){var e=a.document,t=null;return Rr()||!e?_t():new dt((function(n){t=function(){Rr()&&(e.removeEventListener("visibilitychange",t,!1),n())},e.addEventListener("visibilitychange",t,!1)})).o((function(n){throw e.removeEventListener("visibilitychange",t,!1),n}))}function Dr(e){try{var t=new Date(parseInt(e,10));if(!isNaN(t.getTime())&&!/[^0-9]/.test(e))return t.toUTCString()}catch(e){}return null}function jr(){return br("fireauth.oauthhelper",a)||br("fireauth.iframe",a)}Nr.prototype.get=function(){var e=a.navigator;return!e||"boolean"!=typeof e.onLine||!Er()&&"chrome-extension:"!==Sr()&&void 0===e.connection||e.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};var Lr,Mr={};function Fr(e){Mr[e]||(Mr[e]=!0,"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn(e))}try{var Ur={};Object.defineProperty(Ur,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(Ur,"abcd",{configurable:!0,enumerable:!0,value:2}),Lr=2==Ur.abcd}catch(e){Lr=!1}function qr(e,t,n){Lr?Object.defineProperty(e,t,{configurable:!0,enumerable:!0,value:n}):e[t]=n}function Br(e,t){if(t)for(var n in t)t.hasOwnProperty(n)&&qr(e,n,t[n])}function Vr(e){var t={};return Br(t,e),t}function Wr(e){var t=e;if("object"==typeof e&&null!=e)for(var n in t="length"in e?[]:{},e)qr(t,n,Wr(e[n]));return t}function zr(e){var t=e&&(e[Yr]?"phone":null);if(!(t&&e&&e[Qr]))throw new S("internal-error","Internal assert: invalid MultiFactorInfo object");qr(this,"uid",e[Qr]),qr(this,"displayName",e[Kr]||null);var n=null;qr(this,"enrollmentTime",n=e[Gr]?new Date(e[Gr]).toUTCString():n),qr(this,"factorId",t)}function Hr(e){try{var t=new $r(e)}catch(e){t=null}return t}zr.prototype.w=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};var Kr="displayName",Gr="enrolledAt",Qr="mfaEnrollmentId",Yr="phoneInfo";function $r(e){zr.call(this,e),qr(this,"phoneNumber",e[Yr])}function Xr(e){var t={},n=e[ti],r=e[ri],i=e[ii];if(e=Hr(e[ni]),!i||i!=Zr&&i!=ei&&!n||i==ei&&!r||i==Jr&&!e)throw Error("Invalid checkActionCode response!");i==ei?(t[ai]=n||null,t[ui]=n||null,t[oi]=r):(t[ai]=r||null,t[ui]=r||null,t[oi]=n||null),t[si]=e||null,qr(this,li,i),qr(this,ci,Wr(t))}w($r,zr),$r.prototype.w=function(){var e=$r.ab.w.call(this);return e.phoneNumber=this.phoneNumber,e};var Jr="REVERT_SECOND_FACTOR_ADDITION",Zr="EMAIL_SIGNIN",ei="VERIFY_AND_CHANGE_EMAIL",ti="email",ni="mfaInfo",ri="newEmail",ii="requestType",oi="email",ai="fromEmail",si="multiFactorInfo",ui="previousEmail",ci="data",li="operation";function hi(e){var t=xn(e=Pn(e),fi)||null,n=xn(e,di)||null,r=(r=xn(e,yi)||null)&&mi[r]||null;if(!t||!n||!r)throw new S("argument-error",fi+", "+di+"and "+yi+" are required in a valid action code URL.");Br(this,{apiKey:t,operation:r,code:n,continueUrl:xn(e,pi)||null,languageCode:xn(e,vi)||null,tenantId:xn(e,gi)||null})}var fi="apiKey",di="oobCode",pi="continueUrl",vi="languageCode",yi="mode",gi="tenantId",mi={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:Jr,signIn:Zr,verifyAndChangeEmail:ei,verifyEmail:"VERIFY_EMAIL"};function bi(e){try{return new hi(e)}catch(e){return null}}function _i(e){if(void 0===(t=e[Ii]))throw new S("missing-continue-uri");if("string"!=typeof t||"string"==typeof t&&!t.length)throw new S("invalid-continue-uri");if(this.h=t,this.b=this.a=null,this.g=!1,(r=e[wi])&&"object"==typeof r){var t=r[Oi],n=r[Ci],r=r[ki];if("string"==typeof t&&t.length){if(this.a=t,void 0!==n&&"boolean"!=typeof n)throw new S("argument-error",Ci+" property must be a boolean when specified.");if(this.g=!!n,void 0!==r&&("string"!=typeof r||"string"==typeof r&&!r.length))throw new S("argument-error",ki+" property must be a non empty string when specified.");this.b=r||null}else{if(void 0!==t)throw new S("argument-error",Oi+" property must be a non empty string when specified.");if(void 0!==n||void 0!==r)throw new S("missing-android-pkg-name")}}else if(void 0!==r)throw new S("argument-error",wi+" property must be a non null object when specified.");if(this.f=null,(t=e[Ti])&&"object"==typeof t){if("string"==typeof(t=t[xi])&&t.length)this.f=t;else if(void 0!==t)throw new S("argument-error",xi+" property must be a non empty string when specified.")}else if(void 0!==t)throw new S("argument-error",Ti+" property must be a non null object when specified.");if(void 0!==(t=e[Si])&&"boolean"!=typeof t)throw new S("argument-error",Si+" property must be a boolean when specified.");if(this.c=!!t,void 0!==(e=e[Ei])&&("string"!=typeof e||"string"==typeof e&&!e.length))throw new S("argument-error",Ei+" property must be a non empty string when specified.");this.i=e||null}var wi="android",Ei="dynamicLinkDomain",Si="handleCodeInApp",Ti="iOS",Ii="url",Ci="installApp",ki="minimumVersion",Oi="packageName",xi="bundleId";function Pi(e){var t,n={};for(t in n.continueUrl=e.h,n.canHandleCodeInApp=e.c,(n.androidPackageName=e.a)&&(n.androidMinimumVersion=e.b,n.androidInstallApp=e.g),n.iOSBundleId=e.f,n.dynamicLinkDomain=e.i,n)null===n[t]&&delete n[t];return n}var Ni=null;function Ri(e){var t=[];return function(e,t){function n(t){for(;r<e.length;){var n=e.charAt(r++),i=Ni[n];if(null!=i)return i;if(!/^[\s\xa0]*$/.test(n))throw Error("Unknown base64 encoding at char: "+n)}return t}!function(){if(!Ni){Ni={};for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),t=["+/=","+/","-_=","-_.","-_"],n=0;n<5;n++)for(var r=e.concat(t[n].split("")),i=0;i<r.length;i++){var o=r[i];void 0===Ni[o]&&(Ni[o]=i)}}}();for(var r=0;;){var i=n(-1),o=n(0),a=n(64),s=n(64);if(64===s&&-1===i)break;t(i<<2|o>>4),64!=a&&(t(o<<4&240|a>>2),64!=s&&t(a<<6&192|s))}}(e,(function(e){t.push(e)})),t}function Ai(e){var t=ji(e);if(!(t&&t.sub&&t.iss&&t.aud&&t.exp))throw Error("Invalid JWT");this.h=e,this.a=t.exp,this.i=t.sub,e=Date.now()/1e3,this.g=t.iat||(e>this.a?this.a:e),this.b=t.provider_id||t.firebase&&t.firebase.sign_in_provider||null,this.f=t.firebase&&t.firebase.tenant||null,this.c=!!t.is_anonymous||"anonymous"==this.b}function Di(e){try{return new Ai(e)}catch(e){return null}}function ji(e){if(!e)return null;if(3!=(e=e.split(".")).length)return null;for(var t=(4-(e=e[1]).length%4)%4,n=0;n<t;n++)e+=".";try{var r=Ri(e);for(e=[],n=t=0;t<r.length;){var i,o,a,s=r[t++];s<128?e[n++]=String.fromCharCode(s):191<s&&s<224?(i=r[t++],e[n++]=String.fromCharCode((31&s)<<6|63&i)):239<s&&s<365?(a=((7&s)<<18|(63&(i=r[t++]))<<12|(63&(o=r[t++]))<<6|63&r[t++])-65536,e[n++]=String.fromCharCode(55296+(a>>10)),e[n++]=String.fromCharCode(56320+(1023&a))):(i=r[t++],o=r[t++],e[n++]=String.fromCharCode((15&s)<<12|(63&i)<<6|63&o))}return JSON.parse(e.join(""))}catch(e){}return null}Ai.prototype.T=function(){return this.f},Ai.prototype.l=function(){return this.c},Ai.prototype.toString=function(){return this.h};var Li="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),Mi=["client_id","response_type","scope","redirect_uri","state"],Fi={nd:{Ja:"locale",ua:700,ta:600,fa:"facebook.com",Xa:Mi},pd:{Ja:null,ua:500,ta:750,fa:"github.com",Xa:Mi},qd:{Ja:"hl",ua:515,ta:680,fa:"google.com",Xa:Mi},wd:{Ja:"lang",ua:485,ta:705,fa:"twitter.com",Xa:Li},kd:{Ja:"locale",ua:640,ta:600,fa:"apple.com",Xa:[]}};function Ui(e){for(var t in Fi)if(Fi[t].fa==e)return Fi[t];return null}function qi(e){var t={};t["facebook.com"]=Hi,t["google.com"]=Gi,t["github.com"]=Ki,t["twitter.com"]=Qi;var n=e&&e[Vi];try{if(n)return new(t[n]||zi)(e);if(void 0!==e[Bi])return new Wi(e)}catch(e){}return null}var Bi="idToken",Vi="providerId";function Wi(e){var t,n=e[Vi];if(n||!e[Bi]||(t=Di(e[Bi]))&&t.b&&(n=t.b),!n)throw Error("Invalid additional user info!");"anonymous"!=n&&"custom"!=n||(n=null),t=!1,void 0!==e.isNewUser?t=!!e.isNewUser:"identitytoolkit#SignupNewUserResponse"===e.kind&&(t=!0),qr(this,"providerId",n),qr(this,"isNewUser",t)}function zi(e){Wi.call(this,e),qr(this,"profile",Wr((e=kr(e.rawUserInfo||"{}"))||{}))}function Hi(e){if(zi.call(this,e),"facebook.com"!=this.providerId)throw Error("Invalid provider ID!")}function Ki(e){if(zi.call(this,e),"github.com"!=this.providerId)throw Error("Invalid provider ID!");qr(this,"username",this.profile&&this.profile.login||null)}function Gi(e){if(zi.call(this,e),"google.com"!=this.providerId)throw Error("Invalid provider ID!")}function Qi(e){if(zi.call(this,e),"twitter.com"!=this.providerId)throw Error("Invalid provider ID!");qr(this,"username",e.screenName||null)}function Yi(e){var t=xn(r=Pn(e),"link"),n=xn(Pn(t),"link"),r=xn(r,"deep_link_id");return xn(Pn(r),"link")||r||n||t||e}function $i(e,t){if(!e&&!t)throw new S("internal-error","Internal assert: no raw session string available");if(e&&t)throw new S("internal-error","Internal assert: unable to determine the session type");this.a=e||null,this.b=t||null,this.type=this.a?Xi:Ji}w(zi,Wi),w(Hi,zi),w(Ki,zi),w(Gi,zi),w(Qi,zi);var Xi="enroll",Ji="signin";function Zi(){}function eo(e,t){return e.then((function(e){if(e[za]){var n=Di(e[za]);if(!n||t!=n.i)throw new S("user-mismatch");return e}throw new S("user-mismatch")})).o((function(e){throw e&&e.code&&e.code==C+"user-not-found"?new S("user-mismatch"):e}))}function to(e,t){if(!t)throw new S("internal-error","failed to construct a credential");this.a=t,qr(this,"providerId",e),qr(this,"signInMethod",e)}function no(e){return{pendingToken:e.a,requestUri:"http://localhost"}}function ro(e){if(e&&e.providerId&&e.signInMethod&&0==e.providerId.indexOf("saml.")&&e.pendingToken)try{return new to(e.providerId,e.pendingToken)}catch(e){}return null}function io(e,t,n){if(this.a=null,t.idToken||t.accessToken)t.idToken&&qr(this,"idToken",t.idToken),t.accessToken&&qr(this,"accessToken",t.accessToken),t.nonce&&!t.pendingToken&&qr(this,"nonce",t.nonce),t.pendingToken&&(this.a=t.pendingToken);else{if(!t.oauthToken||!t.oauthTokenSecret)throw new S("internal-error","failed to construct a credential");qr(this,"accessToken",t.oauthToken),qr(this,"secret",t.oauthTokenSecret)}qr(this,"providerId",e),qr(this,"signInMethod",n)}function oo(e){var t={};return e.idToken&&(t.id_token=e.idToken),e.accessToken&&(t.access_token=e.accessToken),e.secret&&(t.oauth_token_secret=e.secret),t.providerId=e.providerId,e.nonce&&!e.a&&(t.nonce=e.nonce),t={postBody:Vn(t).toString(),requestUri:"http://localhost"},e.a&&(delete t.postBody,t.pendingToken=e.a),t}function ao(e){if(e&&e.providerId&&e.signInMethod){var t={idToken:e.oauthIdToken,accessToken:e.oauthTokenSecret?null:e.oauthAccessToken,oauthTokenSecret:e.oauthTokenSecret,oauthToken:e.oauthTokenSecret&&e.oauthAccessToken,nonce:e.nonce,pendingToken:e.pendingToken};try{return new io(e.providerId,t,e.signInMethod)}catch(e){}}return null}function so(e,t){this.Qc=t||[],Br(this,{providerId:e,isOAuthProvider:!0}),this.Ib={},this.pb=(Ui(e)||{}).Ja||null,this.ob=null}function uo(e){if("string"!=typeof e||0!=e.indexOf("saml."))throw new S("argument-error",'SAML provider IDs must be prefixed with "saml."');so.call(this,e,[])}function co(e){so.call(this,e,Mi),this.a=[]}function lo(){co.call(this,"facebook.com")}function ho(e){if(!e)throw new S("argument-error","credential failed: expected 1 argument (the OAuth access token).");var t=e;return p(e)&&(t=e.accessToken),(new lo).credential({accessToken:t})}function fo(){co.call(this,"github.com")}function po(e){if(!e)throw new S("argument-error","credential failed: expected 1 argument (the OAuth access token).");var t=e;return p(e)&&(t=e.accessToken),(new fo).credential({accessToken:t})}function vo(){co.call(this,"google.com"),this.Ca("profile")}function yo(e,t){var n=e;return p(e)&&(n=e.idToken,t=e.accessToken),(new vo).credential({idToken:n,accessToken:t})}function go(){so.call(this,"twitter.com",Li)}function mo(e,t){var n=e;if(!(n=p(n)?n:{oauthToken:e,oauthTokenSecret:t}).oauthToken||!n.oauthTokenSecret)throw new S("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new io("twitter.com",n,"twitter.com")}function bo(e,t,n){this.a=e,this.f=t,qr(this,"providerId","password"),qr(this,"signInMethod",n===wo.EMAIL_LINK_SIGN_IN_METHOD?wo.EMAIL_LINK_SIGN_IN_METHOD:wo.EMAIL_PASSWORD_SIGN_IN_METHOD)}function _o(e){return e&&e.email&&e.password?new bo(e.email,e.password,e.signInMethod):null}function wo(){Br(this,{providerId:"password",isOAuthProvider:!1})}function Eo(e,t){if(!(t=So(t)))throw new S("argument-error","Invalid email link!");return new bo(e,t.code,wo.EMAIL_LINK_SIGN_IN_METHOD)}function So(e){return(e=bi(e=Yi(e)))&&e.operation===Zr?e:null}function To(e){if(!(e.eb&&e.cb||e.La&&e.ea))throw new S("internal-error");this.a=e,qr(this,"providerId","phone"),this.fa="phone",qr(this,"signInMethod","phone")}function Io(e){if(e&&"phone"===e.providerId&&(e.verificationId&&e.verificationCode||e.temporaryProof&&e.phoneNumber)){var t={};return q(["verificationId","verificationCode","temporaryProof","phoneNumber"],(function(n){e[n]&&(t[n]=e[n])})),new To(t)}return null}function Co(e){return e.a.La&&e.a.ea?{temporaryProof:e.a.La,phoneNumber:e.a.ea}:{sessionInfo:e.a.eb,code:e.a.cb}}function ko(e){try{this.a=e||Aa.auth()}catch(e){throw new S("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}Br(this,{providerId:"phone",isOAuthProvider:!1})}function Oo(e,t){if(!e)throw new S("missing-verification-id");if(!t)throw new S("missing-verification-code");return new To({eb:e,cb:t})}function xo(e){if(e.temporaryProof&&e.phoneNumber)return new To({La:e.temporaryProof,ea:e.phoneNumber});var t=e&&e.providerId;if(!t||"password"===t)return null;var n=e&&e.oauthAccessToken,r=e&&e.oauthTokenSecret,i=e&&e.nonce,o=e&&e.oauthIdToken,a=e&&e.pendingToken;try{switch(t){case"google.com":return yo(o,n);case"facebook.com":return ho(n);case"github.com":return po(n);case"twitter.com":return mo(n,r);default:return n||r||o||a?a?0==t.indexOf("saml.")?new to(t,a):new io(t,{pendingToken:a,idToken:e.oauthIdToken,accessToken:e.oauthAccessToken},t):new co(t).credential({idToken:o,accessToken:n,rawNonce:i}):null}}catch(e){return null}}function Po(e){if(!e.isOAuthProvider)throw new S("invalid-oauth-provider")}function No(e,t,n,r,i,o,a){if(this.c=e,this.b=t||null,this.g=n||null,this.f=r||null,this.i=o||null,this.h=a||null,this.a=i||null,!this.g&&!this.a)throw new S("invalid-auth-event");if(this.g&&this.a)throw new S("invalid-auth-event");if(this.g&&!this.f)throw new S("invalid-auth-event")}function Ro(e){return(e=e||{}).type?new No(e.type,e.eventId,e.urlResponse,e.sessionId,e.error&&T(e.error),e.postBody,e.tenantId):null}function Ao(){this.b=null,this.a=[]}$i.prototype.Ha=function(){return this.a?_t(this.a):_t(this.b)},$i.prototype.w=function(){return this.type==Xi?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}},Zi.prototype.ka=function(){},Zi.prototype.b=function(){},Zi.prototype.c=function(){},Zi.prototype.w=function(){},to.prototype.ka=function(e){return fs(e,no(this))},to.prototype.b=function(e,t){var n=no(this);return n.idToken=t,ds(e,n)},to.prototype.c=function(e,t){return eo(ps(e,no(this)),t)},to.prototype.w=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}},io.prototype.ka=function(e){return fs(e,oo(this))},io.prototype.b=function(e,t){var n=oo(this);return n.idToken=t,ds(e,n)},io.prototype.c=function(e,t){return eo(ps(e,oo(this)),t)},io.prototype.w=function(){var e={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(e.oauthIdToken=this.idToken),this.accessToken&&(e.oauthAccessToken=this.accessToken),this.secret&&(e.oauthTokenSecret=this.secret),this.nonce&&(e.nonce=this.nonce),this.a&&(e.pendingToken=this.a),e},so.prototype.Ka=function(e){return this.Ib=le(e),this},w(uo,so),w(co,so),co.prototype.Ca=function(e){return z(this.a,e)||this.a.push(e),this},co.prototype.Qb=function(){return Q(this.a)},co.prototype.credential=function(e,t){if(!(t=p(e)?{idToken:e.idToken||null,accessToken:e.accessToken||null,nonce:e.rawNonce||null}:{idToken:e||null,accessToken:t||null}).idToken&&!t.accessToken)throw new S("argument-error","credential failed: must provide the ID token and/or the access token.");return new io(this.providerId,t,this.providerId)},w(lo,co),qr(lo,"PROVIDER_ID","facebook.com"),qr(lo,"FACEBOOK_SIGN_IN_METHOD","facebook.com"),w(fo,co),qr(fo,"PROVIDER_ID","github.com"),qr(fo,"GITHUB_SIGN_IN_METHOD","github.com"),w(vo,co),qr(vo,"PROVIDER_ID","google.com"),qr(vo,"GOOGLE_SIGN_IN_METHOD","google.com"),w(go,so),qr(go,"PROVIDER_ID","twitter.com"),qr(go,"TWITTER_SIGN_IN_METHOD","twitter.com"),bo.prototype.ka=function(e){return this.signInMethod==wo.EMAIL_LINK_SIGN_IN_METHOD?Ys(e,Es,{email:this.a,oobCode:this.f}):Ys(e,zs,{email:this.a,password:this.f})},bo.prototype.b=function(e,t){return this.signInMethod==wo.EMAIL_LINK_SIGN_IN_METHOD?Ys(e,Ss,{idToken:t,email:this.a,oobCode:this.f}):Ys(e,Ls,{idToken:t,email:this.a,password:this.f})},bo.prototype.c=function(e,t){return eo(this.ka(e),t)},bo.prototype.w=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}},Br(wo,{PROVIDER_ID:"password"}),Br(wo,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),Br(wo,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"}),To.prototype.ka=function(e){return e.fb(Co(this))},To.prototype.b=function(e,t){var n=Co(this);return n.idToken=t,Ys(e,Ks,n)},To.prototype.c=function(e,t){var n=Co(this);return n.operation="REAUTH",eo(e=Ys(e,Gs,n),t)},To.prototype.w=function(){var e={providerId:"phone"};return this.a.eb&&(e.verificationId=this.a.eb),this.a.cb&&(e.verificationCode=this.a.cb),this.a.La&&(e.temporaryProof=this.a.La),this.a.ea&&(e.phoneNumber=this.a.ea),e},ko.prototype.fb=function(e,t){var n=this.a.a;return _t(t.verify()).then((function(r){if("string"!=typeof r)throw new S("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");if("recaptcha"!==t.type)throw new S("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.');var i=p(e)?e.session:null,o=p(e)?e.phoneNumber:e;return(i=i&&i.type==Xi?i.Ha().then((function(e){return Ys(n,Fs,{idToken:e,phoneEnrollmentInfo:{phoneNumber:o,recaptchaToken:r}}).then((function(e){return e.phoneSessionInfo.sessionInfo}))})):i&&i.type==Ji?i.Ha().then((function(t){return i=n,t={mfaPendingCredential:t,mfaEnrollmentId:e.multiFactorHint&&e.multiFactorHint.uid||e.multiFactorUid,phoneSignInInfo:{recaptchaToken:r}},Ys(i,Us,t).then((function(e){return e.phoneResponseInfo.sessionInfo}));var i})):Ys(n,Ds,{phoneNumber:o,recaptchaToken:r})).then((function(e){return"function"==typeof t.reset&&t.reset(),e}),(function(e){throw"function"==typeof t.reset&&t.reset(),e}))}))},Br(ko,{PROVIDER_ID:"phone"}),Br(ko,{PHONE_SIGN_IN_METHOD:"phone"}),No.prototype.getUid=function(){var e=[];return e.push(this.c),this.b&&e.push(this.b),this.f&&e.push(this.f),this.h&&e.push(this.h),e.join("-")},No.prototype.T=function(){return this.h},No.prototype.w=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.w()}};var Do,jo=null;function Lo(e){var t="unauthorized-domain",n=void 0,r=Pn(e);e=r.a,"chrome-extension"==(r=r.c)?n=Fe("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",e):"http"==r||"https"==r?n=Fe("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",e):t="operation-not-supported-in-this-environment",S.call(this,t,n)}function Mo(e,t,n){S.call(this,e,n),(e=t||{}).Jb&&qr(this,"email",e.Jb),e.ea&&qr(this,"phoneNumber",e.ea),e.credential&&qr(this,"credential",e.credential),e.Zb&&qr(this,"tenantId",e.Zb)}function Fo(e){if(e.code){var t=e.code||"";0==t.indexOf(C)&&(t=t.substring(C.length));var n={credential:xo(e),Zb:e.tenantId};if(e.email)n.Jb=e.email;else if(e.phoneNumber)n.ea=e.phoneNumber;else if(!n.credential)return new S(t,e.message||void 0);return new Mo(t,n,e.message)}return null}function Uo(){}function qo(e){return e.c||(e.c=e.b())}function Bo(){}function Vo(e){if(e.f||"undefined"!=typeof XMLHttpRequest||"undefined"==typeof ActiveXObject)return e.f;for(var t=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],n=0;n<t.length;n++){var r=t[n];try{return new ActiveXObject(r),e.f=r}catch(e){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}function Wo(){}function zo(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=b(this.qc,this),this.a.onerror=b(this.Sb,this),this.a.onprogress=b(this.rc,this),this.a.ontimeout=b(this.vc,this)}function Ho(e,t){e.readyState=t,e.onreadystatechange&&e.onreadystatechange()}function Ko(e,t,n){this.reset(e,t,n,void 0,void 0)}function Go(e){this.f=e,this.b=this.c=this.a=null}function Qo(e,t){this.name=e,this.value=t}w(Lo,S),w(Mo,S),Mo.prototype.w=function(){var e={code:this.code,message:this.message};this.email&&(e.email=this.email),this.phoneNumber&&(e.phoneNumber=this.phoneNumber),this.tenantId&&(e.tenantId=this.tenantId);var t=this.credential&&this.credential.w();return t&&fe(e,t),e},Mo.prototype.toJSON=function(){return this.w()},Uo.prototype.c=null,w(Bo,Uo),Bo.prototype.a=function(){var e=Vo(this);return e?new ActiveXObject(e):new XMLHttpRequest},Bo.prototype.b=function(){var e={};return Vo(this)&&(e[0]=!0,e[1]=!0),e},Do=new Bo,w(Wo,Uo),Wo.prototype.a=function(){var e=new XMLHttpRequest;if("withCredentials"in e)return e;if("undefined"!=typeof XDomainRequest)return new zo;throw Error("Unsupported browser")},Wo.prototype.b=function(){return{}},(e=zo.prototype).open=function(e,t,n){if(null!=n&&!n)throw Error("Only async requests are supported.");this.a.open(e,t)},e.send=function(e){if(e){if("string"!=typeof e)throw Error("Only string data is supported");this.a.send(e)}else this.a.send()},e.abort=function(){this.a.abort()},e.setRequestHeader=function(){},e.getResponseHeader=function(e){return"content-type"==e.toLowerCase()?this.a.contentType:""},e.qc=function(){this.status=200,this.response=this.responseText=this.a.responseText,Ho(this,4)},e.Sb=function(){this.status=500,this.response=this.responseText="",Ho(this,4)},e.vc=function(){this.Sb()},e.rc=function(){this.status=200,Ho(this,1)},e.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType},Ko.prototype.a=null,Ko.prototype.reset=function(e,t,n,r,i){delete this.a},Qo.prototype.toString=function(){return this.name};var Yo=new Qo("SEVERE",1e3),$o=new Qo("WARNING",900),Xo=new Qo("CONFIG",700),Jo=new Qo("FINE",500);Go.prototype.log=function(e,t,n){if(e.value>=function e(t){return t.c||(t.a?e(t.a):(A("Root logger has no level set."),null))}(this).value)for(d(t)&&(t=t()),e=new Ko(e,String(t),this.f),n&&(e.a=n),n=this;n;)n=n.a};var Zo,ea={},ta=null;function na(e){var t,n,r;return ta||(ta=new Go(""),(ea[""]=ta).c=Xo),(t=ea[e])||(t=new Go(e),r=e.lastIndexOf("."),n=e.substr(r+1),(r=na(e.substr(0,r))).b||(r.b={}),(r.b[n]=t).a=r,ea[e]=t),t}function ra(e,t){e&&e.log(Jo,t,void 0)}function ia(e){this.f=e}function oa(e){fn.call(this),this.u=e,this.h=void 0,this.readyState=aa,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.l=new Headers,this.b=null,this.s="GET",this.f="",this.a=!1,this.i=na("goog.net.FetchXmlHttp"),this.m=this.c=this.g=null}w(ia,Uo),ia.prototype.a=function(){return new oa(this.f)},ia.prototype.b=(Zo={},function(){return Zo}),w(oa,fn);var aa=0;function sa(e){e.c.read().then(e.pc.bind(e)).catch(e.Ua.bind(e))}function ua(e){e.readyState=4,e.g=null,e.c=null,e.m=null,ca(e)}function ca(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function la(e){fn.call(this),this.headers=new _n,this.D=e||null,this.c=!1,this.C=this.a=null,this.h=this.R=this.l="",this.f=this.O=this.i=this.J=!1,this.g=0,this.s=null,this.m=ha,this.u=this.S=!1}(e=oa.prototype).open=function(e,t){if(this.readyState!=aa)throw this.abort(),Error("Error reopening a connection");this.s=e,this.f=t,this.readyState=1,ca(this)},e.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var t={headers:this.l,method:this.s,credentials:this.h,cache:void 0};e&&(t.body=e),this.u.fetch(new Request(this.f,t)).then(this.uc.bind(this),this.Ua.bind(this))},e.abort=function(){this.response=this.responseText="",this.l=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&4!=this.readyState&&(this.a=!1,ua(this)),this.readyState=aa},e.uc=function(e){this.a&&(this.g=e,this.b||(this.status=this.g.status,this.statusText=this.g.statusText,this.b=e.headers,this.readyState=2,ca(this)),this.a&&(this.readyState=3,ca(this),this.a&&("arraybuffer"===this.responseType?e.arrayBuffer().then(this.sc.bind(this),this.Ua.bind(this)):void 0!==a.ReadableStream&&"body"in e?(this.response=this.responseText="",this.c=e.body.getReader(),this.m=new TextDecoder,sa(this)):e.text().then(this.tc.bind(this),this.Ua.bind(this)))))},e.pc=function(e){var t;this.a&&((t=this.m.decode(e.value||new Uint8Array(0),{stream:!e.done}))&&(this.response=this.responseText+=t),(e.done?ua:ca)(this),3==this.readyState&&sa(this))},e.tc=function(e){this.a&&(this.response=this.responseText=e,ua(this))},e.sc=function(e){this.a&&(this.response=e,ua(this))},e.Ua=function(e){var t=this.i;t&&t.log($o,"Failed to fetch url "+this.f,e instanceof Error?e:Error(e)),this.a&&ua(this)},e.setRequestHeader=function(e,t){this.l.append(e,t)},e.getResponseHeader=function(e){return this.b?this.b.get(e.toLowerCase())||"":((e=this.i)&&e.log($o,"Attempting to get response header but no headers have been received for url: "+this.f,void 0),"")},e.getAllResponseHeaders=function(){if(!this.b)return(e=this.i)&&e.log($o,"Attempting to get all response headers but no headers have been received for url: "+this.f,void 0),"";for(var e=[],t=this.b.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(oa.prototype,"withCredentials",{get:function(){return"include"===this.h},set:function(e){this.h=e?"include":"same-origin"}}),w(la,fn);var ha="";la.prototype.b=na("goog.net.XhrIo");var fa=/^https?$/i,da=["POST","PUT"];function pa(e,t,n,r,i){if(e.a)throw Error("[goog.net.XhrIo] Object is active with another request="+e.l+"; newUri="+t);n=n?n.toUpperCase():"GET",e.l=t,e.h="",e.R=n,e.J=!1,e.c=!0,e.a=(e.D||Do).a(),e.C=e.D?qo(e.D):qo(Do),e.a.onreadystatechange=b(e.Vb,e);try{ra(e.b,Sa(e,"Opening Xhr")),e.O=!0,e.a.open(n,String(t),!0),e.O=!1}catch(t){return ra(e.b,Sa(e,"Error opening Xhr: "+t.message)),void ya(e,t)}t=r||"";var o,s=new _n(e.headers);i&&function(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(f(e)||"string"==typeof e)q(e,t,void 0);else for(var n=bn(e),r=mn(e),i=r.length,o=0;o<i;o++)t.call(void 0,r[o],n&&n[o],e)}(i,(function(e,t){s.set(t,e)})),i=function(e){e:{for(var t=va,n=e.length,r="string"==typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return t<0?null:"string"==typeof e?e.charAt(t):e[t]}(s.Y()),r=a.FormData&&t instanceof a.FormData,!z(da,n)||i||r||s.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),s.forEach((function(e,t){this.a.setRequestHeader(t,e)}),e),e.m&&(e.a.responseType=e.m),"withCredentials"in e.a&&e.a.withCredentials!==e.S&&(e.a.withCredentials=e.S);try{_a(e),0<e.g&&(e.u=(o=e.a,We&&Je(9)&&"number"==typeof o.timeout&&void 0!==o.ontimeout),ra(e.b,Sa(e,"Will abort after "+e.g+"ms if incomplete, xhr2 "+e.u)),e.u?(e.a.timeout=e.g,e.a.ontimeout=b(e.Ma,e)):e.s=yn(e.Ma,e.g,e)),ra(e.b,Sa(e,"Sending request")),e.i=!0,e.a.send(t),e.i=!1}catch(t){ra(e.b,Sa(e,"Send error: "+t.message)),ya(e,t)}}function va(e){return"content-type"==e.toLowerCase()}function ya(e,t){e.c=!1,e.a&&(e.f=!0,e.a.abort(),e.f=!1),e.h=t,ga(e),ba(e)}function ga(e){e.J||(e.J=!0,e.dispatchEvent("complete"),e.dispatchEvent("error"))}function ma(e){if(e.c&&void 0!==o)if(e.C[1]&&4==wa(e)&&2==Ea(e))ra(e.b,Sa(e,"Local request error detected and ignored"));else if(e.i&&4==wa(e))yn(e.Vb,0,e);else if(e.dispatchEvent("readystatechange"),4==wa(e)){ra(e.b,Sa(e,"Request complete")),e.c=!1;try{var t,n,r,i,s=Ea(e);e:switch(s){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var u=!0;break e;default:u=!1}if((t=u)||((n=0===s)&&(!(i=String(e.l).match(Sn)[1]||null)&&a.self&&a.self.location&&(i=(r=a.self.location.protocol).substr(0,r.length-1)),n=!fa.test(i?i.toLowerCase():"")),t=n),t)e.dispatchEvent("complete"),e.dispatchEvent("success");else{try{var c=2<wa(e)?e.a.statusText:""}catch(t){ra(e.b,"Can not get status: "+t.message),c=""}e.h=c+" ["+Ea(e)+"]",ga(e)}}finally{ba(e)}}}function ba(e,t){if(e.a){_a(e);var n=e.a,r=e.C[0]?l:null;e.a=null,e.C=null,t||e.dispatchEvent("ready");try{n.onreadystatechange=r}catch(t){(e=e.b)&&e.log(Yo,"Problem encountered resetting onreadystatechange: "+t.message,void 0)}}}function _a(e){e.a&&e.u&&(e.a.ontimeout=null),e.s&&(a.clearTimeout(e.s),e.s=null)}function wa(e){return e.a?e.a.readyState:0}function Ea(e){try{return 2<wa(e)?e.a.status:-1}catch(e){return-1}}function Sa(e,t){return t+" ["+e.R+" "+e.l+" "+Ea(e)+"]"}function Ta(e){var t=La;this.g=[],this.u=t,this.s=e||null,this.f=this.a=!1,this.c=void 0,this.v=this.C=this.i=!1,this.h=0,this.b=null,this.l=0}function Ia(e,t,n){e.a=!0,e.c=n,e.f=!t,xa(e)}function Ca(e){if(e.a){if(!e.v)throw new Pa;e.v=!1}}function ka(e,t,n,r){e.g.push([t,n,r]),e.a&&xa(e)}function Oa(e){return W(e.g,(function(e){return d(e[1])}))}function xa(e){var t;e.h&&e.a&&Oa(e)&&(n=e.h,(t=Da[n])&&(a.clearTimeout(t.a),delete Da[n]),e.h=0),e.b&&(e.b.l--,delete e.b);for(var n=e.c,r=t=!1;e.g.length&&!e.i;){var i=(s=e.g.shift())[0],o=s[1],s=s[2];if(i=e.f?o:i)try{var u=i.call(s||e.s,n);void 0!==u&&(e.f=e.f&&(u==n||u instanceof Error),e.c=n=u),(P(n)||"function"==typeof a.Promise&&n instanceof a.Promise)&&(r=!0,e.i=!0)}catch(r){n=r,e.f=!0,Oa(e)||(t=!0)}}e.c=n,r&&(u=b(e.m,e,!0),r=b(e.m,e,!1),n instanceof Ta?(ka(n,u,r),n.C=!0):n.then(u,r)),t&&(n=new Ra(n),Da[n.a]=n,e.h=n.a)}function Pa(){N.call(this)}function Na(){N.call(this)}function Ra(e){this.a=a.setTimeout(b(this.c,this),0),this.b=e}(e=la.prototype).Ma=function(){void 0!==o&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",ra(this.b,Sa(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))},e.abort=function(){this.a&&this.c&&(ra(this.b,Sa(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),ba(this))},e.Da=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),ba(this,!0)),la.ab.Da.call(this)},e.Vb=function(){this.xa||(this.O||this.i||this.f?ma(this):this.Jc())},e.Jc=function(){ma(this)},e.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case ha:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var e=this.b;return e&&e.log(Yo,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(e){return ra(this.b,"Can not get response: "+e.message),null}},Ta.prototype.cancel=function(e){var t;this.a?this.c instanceof Ta&&this.c.cancel():(this.b&&(t=this.b,delete this.b,e?t.cancel(e):(t.l--,t.l<=0&&t.cancel())),this.u?this.u.call(this.s,this):this.v=!0,this.a||(e=new Na,Ca(this),Ia(this,!1,e)))},Ta.prototype.m=function(e,t){this.i=!1,Ia(this,e,t)},Ta.prototype.then=function(e,t,n){var r,i,o=new dt((function(e,t){r=e,i=t}));return ka(this,r,(function(e){e instanceof Na?o.cancel():i(e)})),o.then(e,t,n)},Ta.prototype.$goog_Thenable=!0,w(Pa,N),Pa.prototype.message="Deferred has already fired",Pa.prototype.name="AlreadyCalledError",w(Na,N),Na.prototype.message="Deferred was canceled",Na.prototype.name="CanceledError",Ra.prototype.c=function(){throw delete Da[this.a],this.b};var Da={};function ja(e){var t=document,n=we(e).toString(),r=st(document,"SCRIPT"),i={Wb:r,Ma:void 0},o=new Ta(i),s=window.setTimeout((function(){Ma(r,!0);var e=new qa(Ua,"Timeout reached for loading script "+n);Ca(o),Ia(o,!1,e)}),5e3);return i.Ma=s,r.onload=r.onreadystatechange=function(){r.readyState&&"loaded"!=r.readyState&&"complete"!=r.readyState||(Ma(r,!1,s),Ca(o),Ia(o,!0,null))},r.onerror=function(){Ma(r,!0,s);var e=new qa(Fa,"Error while loading script "+n);Ca(o),Ia(o,!1,e)},fe(i={},{type:"text/javascript",charset:"UTF-8"}),nt(r,i),i=e,de(e=r,"HTMLScriptElement"),e.src=we(i),(i=(i=e.ownerDocument&&e.ownerDocument.defaultView)&&i!=a?c(i.document):u=null===u?c(a.document):u)&&e.setAttribute("nonce",i),((t=((i=t)||document).getElementsByTagName("HEAD"))&&0!=t.length?t[0]:i.documentElement).appendChild(r),o}function La(){var e;this&&this.Wb&&(e=this.Wb)&&"SCRIPT"==e.tagName&&Ma(e,!0,this.Ma)}function Ma(e,t,n){null!=n&&a.clearTimeout(n),e.onload=l,e.onerror=l,e.onreadystatechange=l,t&&window.setTimeout((function(){e&&e.parentNode&&e.parentNode.removeChild(e)}),0)}var Fa=0,Ua=1;function qa(e,t){var n="Jsloader error (code #"+e+")";t&&(n+=": "+t),N.call(this,n),this.code=e}function Ba(e){this.f=e}function Va(e,t,n){if(this.c=e,e=t||{},this.l=e.secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.m=e.secureTokenTimeout||Ha,this.g=le(e.secureTokenHeaders||Ka),this.h=e.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=e.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.v=e.firebaseTimeout||Ga,this.a=le(e.firebaseHeaders||Qa),n&&(this.a["X-Client-Version"]=n,this.g["X-Client-Version"]=n),n="Node"==hr(),!(n=a.XMLHttpRequest||n&&Aa.INTERNAL.node&&Aa.INTERNAL.node.XMLHttpRequest)&&!lr())throw new S("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,lr()?this.f=new ia(self):fr()?this.f=new Ba(n):this.f=new Wo,this.b=null}w(qa,N),w(Ba,Uo),Ba.prototype.a=function(){return new this.f},Ba.prototype.b=function(){return{}};var Wa,za="idToken",Ha=new Nr(3e4,6e4),Ka={"Content-Type":"application/x-www-form-urlencoded"},Ga=new Nr(3e4,6e4),Qa={"Content-Type":"application/json"};function Ya(e,t){t?e.a["X-Firebase-Locale"]=t:delete e.a["X-Firebase-Locale"]}function $a(e,t){t&&(e.l=Xa("https://securetoken.googleapis.com/v1/token",t),e.h=Xa("https://www.googleapis.com/identitytoolkit/v3/relyingparty/",t),e.i=Xa("https://identitytoolkit.googleapis.com/v2/",t))}function Xa(e,t){return e=Pn(e),t=Pn(t.url),e.f=e.a+e.f,In(e,t.c),e.a=t.a,Cn(e,t.g),e.toString()}function Ja(e,t){t?(e.a["X-Client-Version"]=t,e.g["X-Client-Version"]=t):(delete e.a["X-Client-Version"],delete e.g["X-Client-Version"])}function Za(e,t,n,r,i,o,s){var u;(e=((u=vr(u=mr())==pr&&(u=u.match(/\sChrome\/(\d+)/i))&&2==u.length?parseInt(u[1],10):null)&&u<30||We&&Ze&&!(9<Ze))&&!lr()?(Wa=Wa||new dt((function(e,t){var n,r;n=e,r=t,((window.gapi||{}).client||{}).request?n():(a[ts]=function(){((window.gapi||{}).client||{}).request?n():r(Error("CORS_UNSUPPORTED"))},function(e,t){ka(e,null,t,void 0)}(ja(Ee(es,{onload:ts})),(function(){r(Error("CORS_UNSUPPORTED"))})))})),b(e.s,e)):b(e.u,e))(t,n,r,i,o,s)}Va.prototype.T=function(){return this.b},Va.prototype.u=function(e,t,n,r,i,o){if(lr()&&(void 0===a.fetch||void 0===a.Headers||void 0===a.Request))throw new S("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var s,u=new la(this.f);o&&(u.g=Math.max(0,o),s=setTimeout((function(){u.dispatchEvent("timeout")}),o)),dn(u,"complete",(function(){s&&clearTimeout(s);var n=null;try{n=JSON.parse(function(t){try{return t.a?t.a.responseText:""}catch(e){return ra(t.b,"Can not get responseText: "+e.message),""}}(this))||null}catch(e){n=null}t&&t(n)})),pn(u,"ready",(function(){s&&clearTimeout(s),Lt(this)})),pn(u,"timeout",(function(){s&&clearTimeout(s),Lt(this),t&&t(null)})),pa(u,e,n,r,i)};var es=new pe(me,"https://apis.google.com/js/client.js?onload=%{onload}"),ts="__fcb"+Math.floor(1e6*Math.random()).toString();function ns(e,t,n,r,i,o,a){var s=Pn(t+n);On(s,"key",e.c),a&&On(s,"cb",Date.now().toString());var u="GET"==r;if(u)for(var c in i)i.hasOwnProperty(c)&&On(s,c,i[c]);return new dt((function(t,n){Za(e,s.toString(),(function(e){e?e.error?n(Xs(e,o||{})):t(e):n(new S("network-request-failed"))}),r,u?void 0:Qn(Cr(i)),e.a,e.v.get())}))}function rs(e){if("string"!=typeof(e=e.email)||!ar.test(e))throw new S("invalid-email")}function is(e){"email"in e&&rs(e)}function os(e){if(!e[za]){if(e.mfaPendingCredential)throw new S("multi-factor-auth-required",null,le(e));throw new S("internal-error")}}function as(e){if(e.phoneNumber||e.temporaryProof){if(!e.phoneNumber||!e.temporaryProof)throw new S("internal-error")}else{if(!e.sessionInfo)throw new S("missing-verification-id");if(!e.code)throw new S("missing-verification-code")}}Va.prototype.s=function(e,t,n,r,i){var o=this;Wa.then((function(){window.gapi.client.setApiKey(o.c);var a=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:e,method:n,body:r,headers:i,authType:"none",callback:function(e){window.gapi.auth.setToken(a),t&&t(e)}})})).o((function(e){t&&t({error:{message:e&&e.message||"CORS_UNSUPPORTED"}})}))},Va.prototype.zb=function(){return Ys(this,Ms,{})},Va.prototype.Bb=function(e,t){return Ys(this,js,{idToken:e,email:t})},Va.prototype.Cb=function(e,t){return Ys(this,Ls,{idToken:e,password:t})};var ss={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};function us(e){if(!e.phoneVerificationInfo)throw new S("internal-error");if(!e.phoneVerificationInfo.sessionInfo)throw new S("missing-verification-id");if(!e.phoneVerificationInfo.code)throw new S("missing-verification-code")}function cs(e){if(!e.requestUri||!e.sessionId&&!e.postBody&&!e.pendingToken)throw new S("internal-error")}function ls(e,t){return t.oauthIdToken&&t.providerId&&0==t.providerId.indexOf("oidc.")&&!t.pendingToken&&(e.sessionId?t.nonce=e.sessionId:e.postBody&&zn(e=new qn(e.postBody),"nonce")&&(t.nonce=e.get("nonce"))),t}function hs(e){var t=null;if(e.needConfirmation?(e.code="account-exists-with-different-credential",t=Fo(e)):"FEDERATED_USER_ID_ALREADY_LINKED"==e.errorMessage?(e.code="credential-already-in-use",t=Fo(e)):"EMAIL_EXISTS"==e.errorMessage?(e.code="email-already-in-use",t=Fo(e)):e.errorMessage&&(t=$s(e.errorMessage)),t)throw t;os(e)}function fs(e,t){return t.returnIdpCredential=!0,Ys(e,qs,t)}function ds(e,t){return t.returnIdpCredential=!0,Ys(e,Vs,t)}function ps(e,t){return t.returnIdpCredential=!0,t.autoCreate=!1,Ys(e,Bs,t)}function vs(e){if(!e.oobCode)throw new S("invalid-action-code")}(e=Va.prototype).Db=function(e,t){var n={idToken:e},r=[];return ue(ss,(function(e,i){var o=t[i];null===o?r.push(e):i in t&&(n[i]=o)})),r.length&&(n.deleteAttribute=r),Ys(this,js,n)},e.vb=function(e,t){return fe(e={requestType:"PASSWORD_RESET",email:e},t),Ys(this,Ps,e)},e.wb=function(e,t){return fe(e={requestType:"EMAIL_SIGNIN",email:e},t),Ys(this,ks,e)},e.ub=function(e,t){return fe(e={requestType:"VERIFY_EMAIL",idToken:e},t),Ys(this,Os,e)},e.Eb=function(e,t,n){return fe(e={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:e,newEmail:t},n),Ys(this,xs,e)},e.fb=function(e){return Ys(this,Hs,e)},e.nb=function(e,t){return Ys(this,As,{oobCode:e,newPassword:t})},e.Ra=function(e){return Ys(this,gs,{oobCode:e})},e.jb=function(e){return Ys(this,ys,{oobCode:e})};var ys={endpoint:"setAccountInfo",A:vs,Z:"email",B:!0},gs={endpoint:"resetPassword",A:vs,G:function(e){var t=e.requestType;if(!t||!e.email&&"EMAIL_SIGNIN"!=t&&"VERIFY_AND_CHANGE_EMAIL"!=t)throw new S("internal-error")},B:!0},ms={endpoint:"signupNewUser",A:function(e){if(rs(e),!e.password)throw new S("weak-password")},G:os,V:!0,B:!0},bs={endpoint:"createAuthUri",B:!0},_s={endpoint:"deleteAccount",N:["idToken"]},ws={endpoint:"setAccountInfo",N:["idToken","deleteProvider"],A:function(e){if(!Array.isArray(e.deleteProvider))throw new S("internal-error")}},Es={endpoint:"emailLinkSignin",N:["email","oobCode"],A:rs,G:os,V:!0,B:!0},Ss={endpoint:"emailLinkSignin",N:["idToken","email","oobCode"],A:rs,G:os,V:!0},Ts={endpoint:"accounts/mfaEnrollment:finalize",N:["idToken","phoneVerificationInfo"],A:us,G:os,B:!0,Na:!0},Is={endpoint:"accounts/mfaSignIn:finalize",N:["mfaPendingCredential","phoneVerificationInfo"],A:us,G:os,B:!0,Na:!0},Cs={endpoint:"getAccountInfo"},ks={endpoint:"getOobConfirmationCode",N:["requestType"],A:function(e){if("EMAIL_SIGNIN"!=e.requestType)throw new S("internal-error");rs(e)},Z:"email",B:!0},Os={endpoint:"getOobConfirmationCode",N:["idToken","requestType"],A:function(e){if("VERIFY_EMAIL"!=e.requestType)throw new S("internal-error")},Z:"email",B:!0},xs={endpoint:"getOobConfirmationCode",N:["idToken","newEmail","requestType"],A:function(e){if("VERIFY_AND_CHANGE_EMAIL"!=e.requestType)throw new S("internal-error")},Z:"email",B:!0},Ps={endpoint:"getOobConfirmationCode",N:["requestType"],A:function(e){if("PASSWORD_RESET"!=e.requestType)throw new S("internal-error");rs(e)},Z:"email",B:!0},Ns={lb:!0,endpoint:"getProjectConfig",Ub:"GET"},Rs={lb:!0,endpoint:"getRecaptchaParam",Ub:"GET",G:function(e){if(!e.recaptchaSiteKey)throw new S("internal-error")}},As={endpoint:"resetPassword",A:vs,Z:"email",B:!0},Ds={endpoint:"sendVerificationCode",N:["phoneNumber","recaptchaToken"],Z:"sessionInfo",B:!0},js={endpoint:"setAccountInfo",N:["idToken"],A:is,V:!0},Ls={endpoint:"setAccountInfo",N:["idToken"],A:function(e){if(is(e),!e.password)throw new S("weak-password")},G:os,V:!0},Ms={endpoint:"signupNewUser",G:os,V:!0,B:!0},Fs={endpoint:"accounts/mfaEnrollment:start",N:["idToken","phoneEnrollmentInfo"],A:function(e){if(!e.phoneEnrollmentInfo)throw new S("internal-error");if(!e.phoneEnrollmentInfo.phoneNumber)throw new S("missing-phone-number");if(!e.phoneEnrollmentInfo.recaptchaToken)throw new S("missing-app-credential")},G:function(e){if(!e.phoneSessionInfo||!e.phoneSessionInfo.sessionInfo)throw new S("internal-error")},B:!0,Na:!0},Us={endpoint:"accounts/mfaSignIn:start",N:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],A:function(e){if(!e.phoneSignInInfo||!e.phoneSignInInfo.recaptchaToken)throw new S("missing-app-credential")},G:function(e){if(!e.phoneResponseInfo||!e.phoneResponseInfo.sessionInfo)throw new S("internal-error")},B:!0,Na:!0},qs={endpoint:"verifyAssertion",A:cs,Ya:ls,G:hs,V:!0,B:!0},Bs={endpoint:"verifyAssertion",A:cs,Ya:ls,G:function(e){if(e.errorMessage&&"USER_NOT_FOUND"==e.errorMessage)throw new S("user-not-found");if(e.errorMessage)throw $s(e.errorMessage);os(e)},V:!0,B:!0},Vs={endpoint:"verifyAssertion",A:function(e){if(cs(e),!e.idToken)throw new S("internal-error")},Ya:ls,G:hs,V:!0},Ws={endpoint:"verifyCustomToken",A:function(e){if(!e.token)throw new S("invalid-custom-token")},G:os,V:!0,B:!0},zs={endpoint:"verifyPassword",A:function(e){if(rs(e),!e.password)throw new S("wrong-password")},G:os,V:!0,B:!0},Hs={endpoint:"verifyPhoneNumber",A:as,G:os,B:!0},Ks={endpoint:"verifyPhoneNumber",A:function(e){if(!e.idToken)throw new S("internal-error");as(e)},G:function(e){if(e.temporaryProof)throw e.code="credential-already-in-use",Fo(e);os(e)}},Gs={Hb:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",A:as,G:os,B:!0},Qs={endpoint:"accounts/mfaEnrollment:withdraw",N:["idToken","mfaEnrollmentId"],G:function(e){if(!!e[za]^!!e.refreshToken)throw new S("internal-error")},B:!0,Na:!0};function Ys(e,t,n){if(!function(e,t){if(!t||!t.length)return 1;if(e){for(var n=0;n<t.length;n++){var r=e[t[n]];if(null==r||""===r)return}return 1}}(n,t.N))return wt(new S("internal-error"));var r,i=!!t.Na,o=t.Ub||"POST";return _t(n).then(t.A).then((function(){return t.V&&(n.returnSecureToken=!0),t.B&&e.b&&void 0===n.tenantId&&(n.tenantId=e.b),ns(e,i?e.i:e.h,t.endpoint,o,n,t.Hb,t.lb||!1)})).then((function(e){return r=e,t.Ya?t.Ya(n,r):r})).then(t.G).then((function(){if(!t.Z)return r;if(!(t.Z in r))throw new S("internal-error");return r[t.Z]}))}function $s(e){return Xs({error:{errors:[{message:e}],code:400,message:e}})}function Xs(e,t){var n,r=(e.error&&e.error.errors&&e.error.errors[0]||{}).reason||"",i={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(r=i[r]?new S(i[r]):null)return r;for(n in r=e.error&&e.error.message||"",fe(i={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},t||{}),t=(t=r.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<t.length?t[1]:void 0,i)if(0===r.indexOf(n))return new S(i[n],t);return new S("internal-error",t=!t&&e?Ir(e):t)}function Js(e){var t;this.b=e,this.a=null,this.rb=(t=this,(nu=nu||new dt((function(e,t){function n(){Pr(),br("gapi.load")("gapi.iframes",{callback:e,ontimeout:function(){Pr(),t(Error("Network Error"))},timeout:eu.get()})}var r;br("gapi.iframes.Iframe")?e():br("gapi.load")?n():(r="__iframefcb"+Math.floor(1e6*Math.random()).toString(),a[r]=function(){br("gapi.load")?n():t(Error("Network Error"))},_t(ja(r=Ee(Zs,{onload:r}))).o((function(){t(Error("Network Error"))})))})).o((function(e){throw nu=null,e}))).then((function(){return new dt((function(e,n){br("gapi.iframes.getContext")().open({where:document.body,url:t.b,messageHandlersFilter:br("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},(function(r){function i(){clearTimeout(o),e()}t.a=r,t.a.restyle({setHideOnLeave:!1});var o=setTimeout((function(){n(Error("Network Error"))}),tu.get());r.ping(i).then(i,(function(){n(Error("Network Error"))}))}))}))})))}var Zs=new pe(me,"https://apis.google.com/js/api.js?onload=%{onload}"),eu=new Nr(3e4,6e4),tu=new Nr(5e3,15e3),nu=null;function ru(e,t,n,r){this.l=e,this.h=t,this.i=n,this.g=r,this.f=null,e=this.g?Nn((e=Pn(this.g.url)).c,e.a,e.g,"/emulator/auth/iframe"):Nn("https",this.l,null,"/__/auth/iframe"),this.a=e,On(this.a,"apiKey",this.h),On(this.a,"appName",this.i),this.b=null,this.c=[]}function iu(e,t,n,r,i,o){this.u=e,this.s=t,this.c=n,this.m=r,this.v=o,this.i=this.g=this.l=null,this.a=i,this.h=this.f=null}function ou(e){try{return Aa.app(e).auth().Ga()}catch(e){return[]}}function au(e,t,n,r,i,o){this.s=e,this.g=t,this.b=n,this.f=o,this.c=r||null,this.i=i||null,this.l=this.u=this.C=null,this.h=[],this.m=this.a=null}function su(e){var t=er();return Ys(e,Ns,{}).then((function(e){return e.authorizedDomains||[]})).then((function(e){e:{for(var n=(r=Pn(t)).c,r=r.a,i=0;i<e.length;i++){var o=e[i],a=r,s=n;if(a=0==o.indexOf("chrome-extension://")?Pn(o).a==a&&"chrome-extension"==s:("http"==s||"https"==s)&&(or.test(o)?a==o:(o=o.split(".").join("\\."),new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)))){e=!0;break e}}e=!1}if(!e)throw new Lo(er())}))}function uu(e){return e.m||(e.m=sr().then((function(){var t,n,r,i;e.u||(t=e.c,n=e.i,r=ou(e.b),(i=new ru(e.s,e.g,e.b,e.f)).f=t,i.b=n,i.c=Q(r||[]),e.u=i.toString()),e.v=new Js(e.u),function(e){if(!e.v)throw Error("IfcHandler must be initialized!");!function(e,t){e.rb.then((function(){e.a.register("authEvent",t,br("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}(e.v,(function(t){var n={};if(t&&t.authEvent){var r=!1;for(t=Ro(t.authEvent),n=0;n<e.h.length;n++)r=e.h[n](t)||r;return(n={}).status=r?"ACK":"ERROR",_t(n)}return n.status="ERROR",_t(n)}))}(e)})),e.m)}function cu(e){return e.l||(e.C=e.c?gr(e.c,ou(e.b)):null,e.l=new Va(e.g,x(e.i),e.C),e.f&&$a(e.l,e.f)),e.l}function lu(e,t,n,r,i,o,a,s,u,c,l,h){return(e=new iu(e,t,n,r,i,h)).l=o,e.g=a,e.i=s,e.b=le(u||null),e.f=c,e.yb(l).toString()}function hu(e){if(this.a=e||Aa.INTERNAL.reactNative&&Aa.INTERNAL.reactNative.AsyncStorage,!this.a)throw new S("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}function fu(e){this.b=e,this.a={},this.f=b(this.c,this)}ru.prototype.toString=function(){return this.f?On(this.a,"v",this.f):Wn(this.a.b,"v"),this.b?On(this.a,"eid",this.b):Wn(this.a.b,"eid"),this.c.length?On(this.a,"fw",this.c.join(",")):Wn(this.a.b,"fw"),this.a.toString()},iu.prototype.yb=function(e){return this.h=e,this},iu.prototype.toString=function(){var e;if(On(e=this.v?Nn((e=Pn(this.v.url)).c,e.a,e.g,"/emulator/auth/handler"):Nn("https",this.u,null,"/__/auth/handler"),"apiKey",this.s),On(e,"appName",this.c),On(e,"authType",this.m),this.a.isOAuthProvider){var t=this.a;try{var n=Aa.app(this.c).auth().la()}catch(e){n=null}for(r in t.ob=n,On(e,"providerId",this.a.providerId),t=Cr((n=this.a).Ib))t[r]=t[r].toString();for(var r=n.Qc,i=(t=le(t),0);i<r.length;i++){var o=r[i];o in t&&delete t[o]}n.pb&&n.ob&&!t[n.pb]&&(t[n.pb]=n.ob),ce(t)||On(e,"customParameters",Ir(t))}if("function"==typeof this.a.Qb&&(n=this.a.Qb()).length&&On(e,"scopes",n.join(",")),this.l?On(e,"redirectUrl",this.l):Wn(e.b,"redirectUrl"),this.g?On(e,"eventId",this.g):Wn(e.b,"eventId"),this.i?On(e,"v",this.i):Wn(e.b,"v"),this.b)for(var a in this.b)this.b.hasOwnProperty(a)&&!xn(e,a)&&On(e,a,this.b[a]);return this.h?On(e,"tid",this.h):Wn(e.b,"tid"),this.f?On(e,"eid",this.f):Wn(e.b,"eid"),(a=ou(this.c)).length&&On(e,"fw",a.join(",")),e.toString()},(e=au.prototype).Ob=function(e,t,n){var r=new S("popup-closed-by-user"),i=new S("web-storage-unsupported"),o=this,a=!1;return this.ma().then((function(){var n,r;r={type:"webStorageSupport"},uu(n=o).then((function(){return e=n.v,t=r,e.rb.then((function(){return new dt((function(n){e.a.send(t.type,t,n,br("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}));var e,t})).then((function(e){if(e&&e.length&&void 0!==e[0].webStorageSupport)return e[0].webStorageSupport;throw Error()})).then((function(n){n||(e&&rr(e),t(i),a=!0)}))})).o((function(){})).then((function(){if(!a)return t=e,new dt((function(e){return function n(){gn(2e3).then((function(){return t&&!t.closed?n():void e()}))}()}));var t})).then((function(){if(!a)return gn(n).then((function(){t(r)}))}))},e.Xb=function(){var e=mr();return!Tr(e)&&!xr(e)},e.Tb=function(){return!1},e.Mb=function(e,t,n,r,i,o,a,s){if(!e)return wt(new S("popup-blocked"));if(a&&!Tr())return this.ma().o((function(t){rr(e),i(t)})),r(),_t();this.a||(this.a=su(cu(this)));var u=this;return this.a.then((function(){var t=u.ma().o((function(t){throw rr(e),i(t),t}));return r(),t})).then((function(){Po(n),a||tr(lu(u.s,u.g,u.b,t,n,null,o,u.c,void 0,u.i,s,u.f),e)})).o((function(e){throw"auth/network-request-failed"==e.code&&(u.a=null),e}))},e.Nb=function(e,t,n,r){this.a||(this.a=su(cu(this)));var i=this;return this.a.then((function(){Po(t),tr(lu(i.s,i.g,i.b,e,t,er(),n,i.c,void 0,i.i,r,i.f))})).o((function(e){throw"auth/network-request-failed"==e.code&&(i.a=null),e}))},e.ma=function(){var e=this;return uu(this).then((function(){return e.v.rb})).o((function(){throw e.a=null,new S("network-request-failed")}))},e.$b=function(){return!0},e.Ea=function(e){this.h.push(e)},e.Sa=function(e){K(this.h,(function(t){return t==e}))},(e=hu.prototype).get=function(e){return _t(this.a.getItem(e)).then((function(e){return e&&kr(e)}))},e.set=function(e,t){return _t(this.a.setItem(e,Ir(t)))},e.U=function(e){return _t(this.a.removeItem(e))},e.ca=function(){},e.ia=function(){};var du,pu=[];function vu(e,t,n){ce(e.a)&&e.b.addEventListener("message",e.f),void 0===e.a[t]&&(e.a[t]=[]),e.a[t].push(n)}function yu(e){this.a=e}function gu(e){this.c=e,this.b=!1,this.a=[]}function mu(e,t,n,r){var i,o,a,s,u=n||{},c=null;if(e.b)return wt(Error("connection_unavailable"));var l=r?800:50,h="undefined"!=typeof MessageChannel?new MessageChannel:null;return new dt((function(n,r){h?(i=Math.floor(Math.random()*Math.pow(10,20)).toString(),h.port1.start(),a=setTimeout((function(){r(Error("unsupported_event"))}),l),c={messageChannel:h,onMessage:o=function(e){e.data.eventId===i&&("ack"===e.data.status?(clearTimeout(a),s=setTimeout((function(){r(Error("timeout"))}),3e3)):"done"===e.data.status?(clearTimeout(s),void 0!==e.data.response?n(e.data.response):r(Error("unknown_error"))):(clearTimeout(a),clearTimeout(s),r(Error("invalid_response"))))}},e.a.push(c),h.port1.addEventListener("message",o),e.c.postMessage({eventType:t,eventId:i,data:u},[h.port2])):r(Error("connection_unavailable"))})).then((function(t){return bu(e,c),t})).o((function(t){throw bu(e,c),t}))}function bu(e,t){var n,r;t&&(n=t.messageChannel,r=t.onMessage,n&&(n.port1.removeEventListener("message",r),n.port1.close()),K(e.a,(function(e){return e==t})))}function _u(){if(!Tu())throw new S("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.m=a.indexedDB,this.type="indexedDB",this.g=this.v=this.f=this.l=null,this.s=!1,this.h=null;var e,t,n,r=this;lr()&&self?(this.v=(n=lr()?self:null,q(pu,(function(e){e.b==n&&(t=e)})),t||(t=new fu(n),pu.push(t)),t),vu(this.v,"keyChanged",(function(e,t){return xu(r).then((function(e){return 0<e.length&&q(r.a,(function(t){t(e)})),{keyProcessed:z(e,t.key)}}))})),vu(this.v,"ping",(function(){return _t(["keyChanged"])}))):((e=a.navigator)&&e.serviceWorker?_t().then((function(){return e.serviceWorker.ready})).then((function(e){return e.active||null})).o((function(){return null})):_t(null)).then((function(e){(r.h=e)&&(r.g=new gu(new yu(e)),mu(r.g,"ping",null,!0).then((function(e){e[0].fulfilled&&z(e[0].value,"keyChanged")&&(r.s=!0)})).o((function(){})))}))}function wu(e){return new dt((function(t,n){var r=e.m.open("firebaseLocalStorageDb",1);r.onerror=function(e){try{e.preventDefault()}catch(e){}n(Error(e.target.error))},r.onupgradeneeded=function(e){e=e.target.result;try{e.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(e){n(e)}},r.onsuccess=function(r){var i;(r=r.target.result).objectStoreNames.contains("firebaseLocalStorage")?t(r):(i=e,new dt((function(e,t){var n=i.m.deleteDatabase("firebaseLocalStorageDb");n.onsuccess=function(){e()},n.onerror=function(e){t(Error(e.target.error))}})).then((function(){return wu(e)})).then((function(e){t(e)})).o((function(e){n(e)})))}}))}function Eu(e){return e.i||(e.i=wu(e)),e.i}function Su(e,t){var n=0;return new dt((function r(i,o){Eu(e).then(t).then(i).o((function(t){return 3<++n?void o(t):Eu(e).then((function(t){return t.close(),e.i=void 0,r(i,o)})).o((function(e){o(e)}))}))}))}function Tu(){try{return a.indexedDB}catch(e){return}}function Iu(e){return e.objectStore("firebaseLocalStorage")}function Cu(e,t){return e.transaction(["firebaseLocalStorage"],t?"readwrite":"readonly")}function ku(e){return new dt((function(t,n){e.onsuccess=function(e){e&&e.target?t(e.target.result):t()},e.onerror=function(e){n(e.target.error)}}))}function Ou(e,t){return e.g&&e.h&&((n=a.navigator)&&n.serviceWorker&&n.serviceWorker.controller||null)===e.h?mu(e.g,"keyChanged",{key:t},e.s).then((function(){})).o((function(){})):_t();var n}function xu(e){return Eu(e).then((function(e){var t=Iu(Cu(e,!1));return t.getAll?ku(t.getAll()):new dt((function(e,n){var r=[],i=t.openCursor();i.onsuccess=function(t){(t=t.target.result)?(r.push(t.value),t.continue()):e(r)},i.onerror=function(e){n(e.target.error)}}))})).then((function(t){var n={},r=[];if(0==e.b){for(r=0;r<t.length;r++)n[t[r].fbase_key]=t[r].value;r=function e(t,n){var r,i=[];for(r in t)r in n&&typeof t[r]==typeof n[r]?"object"==typeof t[r]&&null!=t[r]&&null!=n[r]?0<e(t[r],n[r]).length&&i.push(r):t[r]!==n[r]&&i.push(r):i.push(r);for(r in n)r in t||i.push(r);return i}(e.c,n),e.c=n}return r}))}function Pu(e){e.l&&e.l.cancel("STOP_EVENT"),e.f&&(clearTimeout(e.f),e.f=null)}function Nu(e){var t=this,n=null;this.a=[],this.type="indexedDB",this.c=e,this.b=_t().then((function(){if(Tu()){var e=Or(),r="__sak"+e;return du=du||new _u,(n=du).set(r,e).then((function(){return n.get(r)})).then((function(t){if(t!==e)throw Error("indexedDB not supported!");return n.U(r)})).then((function(){return n})).o((function(){return t.c}))}return t.c})).then((function(e){return t.type=e.type,e.ca((function(e){q(t.a,(function(t){t(e)}))})),e}))}function Ru(){this.a={},this.type="inMemory"}function Au(){if(!function(){var e="Node"==hr();if(!(e=Du()||e&&Aa.INTERNAL.node&&Aa.INTERNAL.node.localStorage))return!1;try{return e.setItem("__sak","1"),e.removeItem("__sak"),!0}catch(e){return!1}}()){if("Node"==hr())throw new S("internal-error","The LocalStorage compatibility library was not found.");throw new S("web-storage-unsupported")}this.a=Du()||Aa.INTERNAL.node.localStorage,this.type="localStorage"}function Du(){try{var e=a.localStorage,t=Or();return e&&(e.setItem(t,"1"),e.removeItem(t)),e}catch(e){return null}}function ju(){this.type="nullStorage"}function Lu(){if(!function(){var e="Node"==hr();if(!(e=Mu()||e&&Aa.INTERNAL.node&&Aa.INTERNAL.node.sessionStorage))return!1;try{return e.setItem("__sak","1"),e.removeItem("__sak"),!0}catch(e){return!1}}()){if("Node"==hr())throw new S("internal-error","The SessionStorage compatibility library was not found.");throw new S("web-storage-unsupported")}this.a=Mu()||Aa.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function Mu(){try{var e=a.sessionStorage,t=Or();return e&&(e.setItem(t,"1"),e.removeItem(t)),e}catch(e){return null}}function Fu(){var e={};e.Browser=Bu,e.Node=Vu,e.ReactNative=Wu,e.Worker=zu,this.a=e[hr()]}fu.prototype.c=function(e){var t,n=e.data.eventType,r=e.data.eventId,i=this.a[n];i&&0<i.length&&(e.ports[0].postMessage({status:"ack",eventId:r,eventType:n,response:null}),t=[],q(i,(function(n){t.push(_t().then((function(){return n(e.origin,e.data.data)})))})),St(t).then((function(t){var i=[];q(t,(function(e){i.push({fulfilled:e.Pb,value:e.value,reason:e.reason?e.reason.message:void 0})})),q(i,(function(e){for(var t in e)void 0===e[t]&&delete e[t]})),e.ports[0].postMessage({status:"done",eventId:r,eventType:n,response:i})})))},yu.prototype.postMessage=function(e,t){this.a.postMessage(e,t)},gu.prototype.close=function(){for(;0<this.a.length;)bu(this,this.a[0]);this.b=!0},(e=_u.prototype).set=function(e,t){var n=this,r=!1;return Su(this,(function(t){return ku((t=Iu(Cu(t,!0))).get(e))})).then((function(i){return Su(n,(function(o){if(o=Iu(Cu(o,!0)),i)return i.value=t,ku(o.put(i));n.b++,r=!0;var a={};return a.fbase_key=e,a.value=t,ku(o.add(a))}))})).then((function(){return n.c[e]=t,Ou(n,e)})).oa((function(){r&&n.b--}))},e.get=function(e){return Su(this,(function(t){return ku(Iu(Cu(t,!1)).get(e))})).then((function(e){return e&&e.value}))},e.U=function(e){var t=this,n=!1;return Su(this,(function(r){return n=!0,t.b++,ku(Iu(Cu(r,!0)).delete(e))})).then((function(){return delete t.c[e],Ou(t,e)})).oa((function(){n&&t.b--}))},e.ca=function(e){var t;0==this.a.length&&(Pu(t=this),function e(){t.f=setTimeout((function(){t.l=xu(t).then((function(e){0<e.length&&q(t.a,(function(t){t(e)}))})).then((function(){e()})).o((function(t){"STOP_EVENT"!=t.message&&e()}))}),800)}()),this.a.push(e)},e.ia=function(e){K(this.a,(function(t){return t==e})),0==this.a.length&&Pu(this)},(e=Nu.prototype).get=function(e){return this.b.then((function(t){return t.get(e)}))},e.set=function(e,t){return this.b.then((function(n){return n.set(e,t)}))},e.U=function(e){return this.b.then((function(t){return t.U(e)}))},e.ca=function(e){this.a.push(e)},e.ia=function(e){K(this.a,(function(t){return t==e}))},(e=Ru.prototype).get=function(e){return _t(this.a[e])},e.set=function(e,t){return this.a[e]=t,_t()},e.U=function(e){return delete this.a[e],_t()},e.ca=function(){},e.ia=function(){},(e=Au.prototype).get=function(e){var t=this;return _t().then((function(){return kr(t.a.getItem(e))}))},e.set=function(e,t){var n=this;return _t().then((function(){var r=Ir(t);null===r?n.U(e):n.a.setItem(e,r)}))},e.U=function(e){var t=this;return _t().then((function(){t.a.removeItem(e)}))},e.ca=function(e){a.window&&Zt(a.window,"storage",e)},e.ia=function(e){a.window&&nn(a.window,"storage",e)},(e=ju.prototype).get=function(){return _t(null)},e.set=function(){return _t()},e.U=function(){return _t()},e.ca=function(){},e.ia=function(){},(e=Lu.prototype).get=function(e){var t=this;return _t().then((function(){return kr(t.a.getItem(e))}))},e.set=function(e,t){var n=this;return _t().then((function(){var r=Ir(t);null===r?n.U(e):n.a.setItem(e,r)}))},e.U=function(e){var t=this;return _t().then((function(){t.a.removeItem(e)}))},e.ca=function(){},e.ia=function(){};var Uu,qu,Bu={F:Au,bb:Lu},Vu={F:Au,bb:Lu},Wu={F:hu,bb:ju},zu={F:Au,bb:ju},Hu={rd:"local",NONE:"none",td:"session"};function Ku(){var e=!(xr(mr())||!cr()),t=Tr(),n=_r();this.m=e,this.h=t,this.l=n,this.a={},e=Uu=Uu||new Fu;try{this.g=!Zn()&&jr()||!a.indexedDB?new e.a.F:new Nu(new(lr()?Ru:e.a.F))}catch(e){this.g=new Ru,this.h=!0}try{this.i=new e.a.bb}catch(e){this.i=new Ru}this.v=new Ru,this.f=b(this.Yb,this),this.b={}}function Gu(){return qu=qu||new Ku}function Qu(e,t){switch(t){case"session":return e.i;case"none":return e.v;default:return e.g}}function Yu(e,t){return"firebase:"+e.name+(t?":"+t:"")}function $u(e,t,n){return n=Yu(t,n),"local"==t.F&&(e.b[n]=null),Qu(e,t.F).U(n)}function Xu(e){e.c&&(clearInterval(e.c),e.c=null)}function Ju(e){this.a=e,this.b=Gu()}(e=Ku.prototype).get=function(e,t){return Qu(this,e.F).get(Yu(e,t))},e.set=function(e,t,n){var r=Yu(e,n),i=this,o=Qu(this,e.F);return o.set(r,t).then((function(){return o.get(r)})).then((function(t){"local"==e.F&&(i.b[r]=t)}))},e.addListener=function(e,t,n){var r;e=Yu(e,t),this.l&&(this.b[e]=a.localStorage.getItem(e)),ce(this.a)&&(Qu(this,"local").ca(this.f),this.h||(Zn()||!jr())&&a.indexedDB||!this.l||(Xu(r=this),r.c=setInterval((function(){for(var e in r.a){var t=a.localStorage.getItem(e),n=r.b[e];t!=n&&(r.b[e]=t,t=new Vt({type:"storage",key:e,target:window,oldValue:n,newValue:t,a:!0}),r.Yb(t))}}),1e3))),this.a[e]||(this.a[e]=[]),this.a[e].push(n)},e.removeListener=function(e,t,n){e=Yu(e,t),this.a[e]&&(K(this.a[e],(function(e){return e==n})),0==this.a[e].length&&delete this.a[e]),ce(this.a)&&(Qu(this,"local").ia(this.f),Xu(this))},e.Yb=function(e){if(e&&e.g){var t=e.a.key;if(null==t)for(var n in this.a){var r=this.b[n];void 0===r&&(r=null);var i=a.localStorage.getItem(n);i!==r&&(this.b[n]=i,this.mb(n))}else if(0==t.indexOf("firebase:")&&this.a[t]){if(void 0!==e.a.a?Qu(this,"local").ia(this.f):Xu(this),this.m)if(n=a.localStorage.getItem(t),(r=e.a.newValue)!==n)null!==r?a.localStorage.setItem(t,r):a.localStorage.removeItem(t);else if(this.b[t]===r&&void 0===e.a.a)return;var o=this;n=function(){void 0===e.a.a&&o.b[t]===a.localStorage.getItem(t)||(o.b[t]=a.localStorage.getItem(t),o.mb(t))},We&&Ze&&10==Ze&&a.localStorage.getItem(t)!==e.a.newValue&&e.a.newValue!==e.a.oldValue?setTimeout(n,10):n()}}else q(e,b(this.mb,this))},e.mb=function(e){this.a[e]&&q(this.a[e],(function(e){e()}))};var Zu,ec={name:"authEvent",F:"local"};function tc(){this.a=Gu()}function nc(e,t){this.b=rc,this.f=a.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=e,this.h=t,this.l=a.Int32Array?new Int32Array(64):Array(64),void 0===Zu&&(Zu=a.Int32Array?new Int32Array(lc):lc),this.reset()}w(nc,(function(){this.b=-1}));for(var rc=64,ic=rc-1,oc=[],ac=0;ac<ic;ac++)oc[ac]=0;var sc=G(128,oc);function uc(e){for(var t=e.f,n=e.l,r=0,i=0;i<t.length;)n[r++]=t[i]<<24|t[i+1]<<16|t[i+2]<<8|t[i+3],i=4*r;for(t=16;t<64;t++){i=0|n[t-15],r=0|n[t-2];var o=(0|n[t-16])+((i>>>7|i<<25)^(i>>>18|i<<14)^i>>>3)|0,a=(0|n[t-7])+((r>>>17|r<<15)^(r>>>19|r<<13)^r>>>10)|0;n[t]=o+a|0}r=0|e.a[0],i=0|e.a[1];var s=0|e.a[2],u=0|e.a[3],c=0|e.a[4],l=0|e.a[5],h=0|e.a[6];for(o=0|e.a[7],t=0;t<64;t++){var f=((r>>>2|r<<30)^(r>>>13|r<<19)^(r>>>22|r<<10))+(r&i^r&s^i&s)|0;a=(o=o+((c>>>6|c<<26)^(c>>>11|c<<21)^(c>>>25|c<<7))|0)+((a=(a=c&l^~c&h)+(0|Zu[t])|0)+(0|n[t])|0)|0,o=h,h=l,l=c,c=u+a|0,u=s,s=i,i=r,r=a+f|0}e.a[0]=e.a[0]+r|0,e.a[1]=e.a[1]+i|0,e.a[2]=e.a[2]+s|0,e.a[3]=e.a[3]+u|0,e.a[4]=e.a[4]+c|0,e.a[5]=e.a[5]+l|0,e.a[6]=e.a[6]+h|0,e.a[7]=e.a[7]+o|0}function cc(e,t,n){void 0===n&&(n=t.length);var r=0,i=e.c;if("string"==typeof t)for(;r<n;)e.f[i++]=t.charCodeAt(r++),i==e.b&&(uc(e),i=0);else{if(!f(t))throw Error("message must be string or array");for(;r<n;){var o=t[r++];if(!("number"==typeof o&&0<=o&&o<=255&&o==(0|o)))throw Error("message must be a byte array");e.f[i++]=o,i==e.b&&(uc(e),i=0)}}e.c=i,e.g+=n}nc.prototype.reset=function(){this.g=this.c=0,this.a=a.Int32Array?new Int32Array(this.h):Q(this.h)};var lc=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function hc(){nc.call(this,8,fc)}w(hc,nc);var fc=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function dc(e,t,n,r,i,o){this.v=e,this.i=t,this.l=n,this.m=r||null,this.u=i||null,this.s=o,this.h=t+":"+n,this.C=new tc,this.g=new Ju(this.h),this.f=null,this.b=[],this.a=this.c=null}function pc(e){return new S("invalid-cordova-configuration",e)}function vc(e){var t=new hc;cc(t,e),e=[];var n=8*t.g;t.c<56?cc(t,sc,56-t.c):cc(t,sc,t.b-(t.c-56));for(var r=63;56<=r;r--)t.f[r]=255&n,n/=256;for(uc(t),r=n=0;r<t.i;r++)for(var i=24;0<=i;i-=8)e[n++]=t.a[r]>>i&255;return V(e,(function(e){return 1<(e=e.toString(16)).length?e:"0"+e})).join("")}function yc(e,t){for(var n=0;n<e.b.length;n++)try{e.b[n](t)}catch(e){}}function gc(e){return e.f||(e.f=e.ma().then((function(){return new dt((function(t){function n(e){o=!0,s&&s.cancel(),mc(r).then((function(t){var n,o=i;t&&e&&e.url&&(n=null,o=(n=-1!=(o=Yi(e.url)).indexOf("/__/auth/callback")?(n="object"==typeof(n=kr(xn(n=Pn(o),"firebaseError")||null))?T(n):null)?new No(t.c,t.b,null,null,n,null,t.T()):new No(t.c,t.b,o,t.f,null,null,t.T()):n)||i),yc(r,o)}))}var r,i,o,s,u;e.Ea((function n(r){return t(r),e.Sa(n),!1})),r=e,i=new No("unknown",null,null,null,new S("no-auth-event")),o=!1,s=gn(500).then((function(){return mc(r).then((function(){o||yc(r,i)}))})),u=a.handleOpenURL,a.handleOpenURL=function(e){if(0==e.toLowerCase().indexOf(br("BuildInfo.packageName",a).toLowerCase()+"://")&&n({url:e}),"function"==typeof u)try{u(e)}catch(e){console.error(e)}},jo=jo||new Ao,function(e){var t=jo;t.a.push(e),t.b||(t.b=function(e){for(var n=0;n<t.a.length;n++)t.a[n](e)},"function"==typeof(e=br("universalLinks.subscribe",a))&&e(null,t.b))}(n)}))}))),e.f}function mc(e){var t,n=null;return(t=e.g).b.get(ec,t.a).then(Ro).then((function(t){return n=t,$u((t=e.g).b,ec,t.a)})).then((function(){return n}))}function bc(e){this.a=e,this.b=Gu()}(e=dc.prototype).ma=function(){return this.Ia||(this.Ia=(ur(void 0)?sr().then((function(){return new dt((function(e,t){var n=a.document,r=setTimeout((function(){t(Error("Cordova framework is not ready."))}),1e3);n.addEventListener("deviceready",(function(){clearTimeout(r),e()}),!1)}))})):wt(Error("Cordova must run in an Android or iOS file scheme."))).then((function(){if("function"!=typeof br("universalLinks.subscribe",a))throw pc("cordova-universal-links-plugin-fix is not installed");if(void 0===br("BuildInfo.packageName",a))throw pc("cordova-plugin-buildinfo is not installed");if("function"!=typeof br("cordova.plugins.browsertab.openUrl",a))throw pc("cordova-plugin-browsertab is not installed");if("function"!=typeof br("cordova.InAppBrowser.open",a))throw pc("cordova-plugin-inappbrowser is not installed")}),(function(){throw new S("cordova-not-ready")})))},e.Ob=function(e,t){return t(new S("operation-not-supported-in-this-environment")),_t()},e.Mb=function(){return wt(new S("operation-not-supported-in-this-environment"))},e.$b=function(){return!1},e.Xb=function(){return!0},e.Tb=function(){return!0},e.Nb=function(e,t,n,r){if(this.c)return wt(new S("redirect-operation-pending"));var i=this,o=a.document,s=null,u=null,c=null,l=null;return this.c=_t().then((function(){return Po(t),gc(i)})).then((function(){return function(e,t,n,r,i){var o=function(){for(var e=20,t=[];0<e;)t.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),e--;return t.join("")}(),s=new No(t,r,null,o,new S("no-auth-event"),null,i),u=br("BuildInfo.packageName",a);if("string"!=typeof u)throw new S("invalid-cordova-configuration");var c=br("BuildInfo.displayName",a),l={};if(mr().toLowerCase().match(/iphone|ipad|ipod/))l.ibi=u;else{if(!mr().toLowerCase().match(/android/))return wt(new S("operation-not-supported-in-this-environment"));l.apn=u}c&&(l.appDisplayName=c),o=vc(o),l.sessionId=o;var h=lu(e.v,e.i,e.l,t,n,null,r,e.m,l,e.u,i,e.s);return e.ma().then((function(){var t=e.h;return e.C.a.set(ec,s.w(),t)})).then((function(){var t=br("cordova.plugins.browsertab.isAvailable",a);if("function"!=typeof t)throw new S("invalid-cordova-configuration");var n=null;t((function(t){if(t){if("function"!=typeof(n=br("cordova.plugins.browsertab.openUrl",a)))throw new S("invalid-cordova-configuration");n(h)}else{if("function"!=typeof(n=br("cordova.InAppBrowser.open",a)))throw new S("invalid-cordova-configuration");t=mr(),e.a=n(h,t.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||t.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}}))}))}(i,e,t,n,r)})).then((function(){return new dt((function(e,t){u=function(){var t=br("cordova.plugins.browsertab.close",a);return e(),"function"==typeof t&&t(),i.a&&"function"==typeof i.a.close&&(i.a.close(),i.a=null),!1},i.Ea(u),c=function(){s=s||gn(2e3).then((function(){t(new S("redirect-cancelled-by-user"))}))},l=function(){Rr()&&c()},o.addEventListener("resume",c,!1),mr().toLowerCase().match(/android/)||o.addEventListener("visibilitychange",l,!1)})).o((function(e){return mc(i).then((function(){throw e}))}))})).oa((function(){c&&o.removeEventListener("resume",c,!1),l&&o.removeEventListener("visibilitychange",l,!1),s&&s.cancel(),u&&i.Sa(u),i.c=null}))},e.Ea=function(e){this.b.push(e),gc(this).o((function(t){"auth/invalid-cordova-configuration"===t.code&&(t=new No("unknown",null,null,null,new S("no-auth-event")),e(t))}))},e.Sa=function(e){K(this.b,(function(t){return t==e}))};var _c={name:"pendingRedirect",F:"session"};function wc(e){return $u(e.b,_c,e.a)}function Ec(e,t,n,r){this.i={},this.u=0,this.D=e,this.v=t,this.m=n,this.J=r,this.h=[],this.f=!1,this.l=b(this.s,this),this.b=new Mc,this.C=new Vc,this.g=new bc(jc(this.v,this.m)),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.C,this.c.linkViaPopup=this.C,this.c.reauthViaPopup=this.C,this.a=Sc(this.D,this.v,this.m,I,this.J)}function Sc(e,t,n,r,i){var o=Aa.SDK_VERSION||null;return new(ur()?dc:au)(e,t,n,o,r,i)}function Tc(e){e.f||(e.f=!0,e.a.Ea(e.l));var t=e.a;return e.a.ma().o((function(n){throw e.a==t&&e.reset(),n}))}function Ic(e){e.a.Xb()&&Tc(e).o((function(t){var n=new No("unknown",null,null,null,new S("operation-not-supported-in-this-environment"));Nc(t)&&e.s(n)})),e.a.Tb()||Fc(e.b)}function Cc(e,t){z(e.h,t)||e.h.push(t),e.f||(t=e.g).b.get(_c,t.a).then((function(e){return"pending"==e})).then((function(t){t?wc(e.g).then((function(){Tc(e).o((function(t){var n=new No("unknown",null,null,null,new S("operation-not-supported-in-this-environment"));Nc(t)&&e.s(n)}))})):Ic(e)})).o((function(){Ic(e)}))}function kc(e,t){K(e.h,(function(e){return e==t}))}Ec.prototype.reset=function(){this.f=!1,this.a.Sa(this.l),this.a=Sc(this.D,this.v,this.m,null,this.J),this.i={}},Ec.prototype.s=function(e){if(!e)throw new S("invalid-auth-event");if(6e5<=Date.now()-this.u&&(this.i={},this.u=0),e&&e.getUid()&&this.i.hasOwnProperty(e.getUid()))return!1;for(var t=!1,n=0;n<this.h.length;n++){var r=this.h[n];if(r.Fb(e.c,e.b)){(t=this.c[e.c])&&(t.h(e,r),e&&(e.f||e.b)&&(this.i[e.getUid()]=!0,this.u=Date.now())),t=!0;break}}return Fc(this.b),t};var Oc=new Nr(2e3,1e4),xc=new Nr(3e4,6e4);function Pc(e,t,n,r,i,o,a){return e.a.Mb(t,n,r,(function(){e.f||(e.f=!0,e.a.Ea(e.l))}),(function(){e.reset()}),i,o,a)}function Nc(e){return!(!e||"auth/cordova-not-ready"!=e.code)}function Rc(e,t,n,r,i){var o,a;return(a=e.g).b.set(_c,"pending",a.a).then((function(){return e.a.Nb(t,n,r,i).o((function(t){if(Nc(t))throw new S("operation-not-supported-in-this-environment");return o=t,wc(e.g).then((function(){throw o}))})).then((function(){return e.a.$b()?new dt((function(){})):wc(e.g).then((function(){return e.qa()})).then((function(){})).o((function(){}))}))}))}function Ac(e,t,n,r,i){return e.a.Ob(r,(function(e){t.na(n,null,e,i)}),Oc.get())}Ec.prototype.qa=function(){return this.b.qa()};var Dc={};function jc(e,t,n){return e=e+":"+t,n?e+":"+n.url:e}function Lc(e,t,n,r){var i=jc(t,n,r);return Dc[i]||(Dc[i]=new Ec(e,t,n,r)),Dc[i]}function Mc(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}function Fc(e){e.g||(e.g=!0,Bc(e,!1,null,null))}function Uc(e){e.g&&!e.i&&Bc(e,!1,null,null)}function qc(e,t){if(e.b=function(){return _t(t)},e.f.length)for(var n=0;n<e.f.length;n++)e.f[n](t)}function Bc(e,t,n,r){t?r?function(e,t){if(e.b=function(){return wt(t)},e.c.length)for(var n=0;n<e.c.length;n++)e.c[n](t)}(e,r):qc(e,n):qc(e,{user:null}),e.f=[],e.c=[]}function Vc(){}function Wc(){this.ib=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.ib},set:function(e){this.ib=e},enumerable:!1})}function zc(e,t){this.a=t,qr(this,"verificationId",e)}function Hc(e,t,n,r){return new ko(e).fb(t,n).then((function(e){return new zc(e,r)}))}function Kc(e){var t=ji(e);if(!(t&&t.exp&&t.auth_time&&t.iat))throw new S("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");Br(this,{token:e,expirationTime:Dr(1e3*t.exp),authTime:Dr(1e3*t.auth_time),issuedAtTime:Dr(1e3*t.iat),signInProvider:t.firebase&&t.firebase.sign_in_provider?t.firebase.sign_in_provider:null,signInSecondFactor:t.firebase&&t.firebase.sign_in_second_factor?t.firebase.sign_in_second_factor:null,claims:t})}function Gc(e,t,n){var r=t&&t[Yc];if(!r)throw new S("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=e,this.f=le(t),this.g=n,this.c=new $i(null,r),this.b=[];var i=this;q(t[Qc]||[],(function(e){(e=Hr(e))&&i.b.push(e)})),qr(this,"auth",this.a),qr(this,"session",this.c),qr(this,"hints",this.b)}Mc.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},Mc.prototype.h=function(e,t){var n,r,i,o;e?(this.reset(),this.g=!0,n=e.c,r=e.b,i=e.a&&"auth/web-storage-unsupported"==e.a.code,o=e.a&&"auth/operation-not-supported-in-this-environment"==e.a.code,this.i=!(!i&&!o),"unknown"!=n||i||o?e.a?(Bc(this,!0,null,e.a),_t()):t.Fa(n,r)?function(e,t,n){n=n.Fa(t.c,t.b);var r=t.g,i=t.f,o=t.i,a=t.T(),s=!!t.c.match(/Redirect$/);n(r,i,a,o).then((function(t){Bc(e,s,t,null)})).o((function(t){Bc(e,s,null,t)}))}(this,e,t):wt(new S("invalid-auth-event")):(Bc(this,!1,null,null),_t())):wt(new S("invalid-auth-event"))},Mc.prototype.qa=function(){var e=this;return new dt((function(t,n){var r,i;e.b?e.b().then(t,n):(e.f.push(t),e.c.push(n),r=e,i=new S("timeout"),r.a&&r.a.cancel(),r.a=gn(xc.get()).then((function(){r.b||(r.g=!0,Bc(r,!0,null,i))})))}))},Vc.prototype.h=function(e,t){var n,r,i,o,a;e?(n=e.c,r=e.b,e.a?(t.na(e.c,null,e.a,e.b),_t()):t.Fa(n,r)?(i=t,o=(e=e).b,a=e.c,i.Fa(a,o)(e.g,e.f,e.T(),e.i).then((function(e){i.na(a,e,null,o)})).o((function(e){i.na(a,null,e,o)}))):wt(new S("invalid-auth-event"))):wt(new S("invalid-auth-event"))},zc.prototype.confirm=function(e){return e=Oo(this.verificationId,e),this.a(e)};var Qc="mfaInfo",Yc="mfaPendingCredential";function $c(e,t,n,r){S.call(this,"multi-factor-auth-required",r,t),this.b=new Gc(e,t,n),qr(this,"resolver",this.b)}function Xc(e,t,n){if(e&&p(e.serverResponse)&&"auth/multi-factor-auth-required"===e.code)try{return new $c(t,e.serverResponse,n,e.message)}catch(e){}return null}function Jc(){}function Zc(e){qr(this,"factorId",e.fa),this.a=e}function el(e){if(Zc.call(this,e),this.a.fa!=ko.PROVIDER_ID)throw new S("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}function tl(e,t){for(var n in Bt.call(this,e),t)this[n]=t[n]}function nl(e,t){this.a=e,this.b=[],this.c=b(this.yc,this),Zt(this.a,"userReloaded",this.c);var n=[];t&&t.multiFactor&&t.multiFactor.enrolledFactors&&q(t.multiFactor.enrolledFactors,(function(e){var t=null,r={};if(e){e.uid&&(r[Qr]=e.uid),e.displayName&&(r[Kr]=e.displayName),e.enrollmentTime&&(r[Gr]=new Date(e.enrollmentTime).toISOString()),e.phoneNumber&&(r[Yr]=e.phoneNumber);try{t=new $r(r)}catch(e){}e=t}else e=null;e&&n.push(e)})),rl(this,n)}function rl(e,t){e.b=t,qr(e,"enrolledFactors",t)}function il(e,t,n){if(this.h=e,this.i=t,this.g=n,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}function ol(e,t){return t?(e.a=e.c,e.g()):(t=e.a,e.a*=2,e.a>e.f&&(e.a=e.f),t)}function al(e){this.f=e,this.b=this.a=null,this.c=Date.now()}function sl(e,t){void 0===t&&(t=e.b?(t=e.b).a-t.g:0),e.c=Date.now()+1e3*t}function ul(e,t){e.b=Di(t[za]||""),e.a=t.refreshToken,sl(e,void 0!==(t=t.expiresIn)?Number(t):void 0)}function cl(e,t){return n=e.f,r=t,new dt((function(e,t){"refresh_token"==r.grant_type&&r.refresh_token||"authorization_code"==r.grant_type&&r.code?Za(n,n.l+"?key="+encodeURIComponent(n.c),(function(n){n?n.error?t(Xs(n)):n.access_token&&n.refresh_token?e(n):t(new S("internal-error")):t(new S("network-request-failed"))}),"POST",Vn(r).toString(),n.g,n.m.get()):t(new S("internal-error"))})).then((function(t){return e.b=Di(t.access_token),e.a=t.refresh_token,sl(e,t.expires_in),{accessToken:e.b.toString(),refreshToken:e.a}})).o((function(t){throw"auth/user-token-expired"==t.code&&(e.a=null),t}));var n,r}function ll(e,t){this.a=e||null,this.b=t||null,Br(this,{lastSignInTime:Dr(t||null),creationTime:Dr(e||null)})}function hl(e,t,n,r,i,o){Br(this,{uid:e,displayName:r||null,photoURL:i||null,email:n||null,phoneNumber:o||null,providerId:t})}function fl(e,t,n){this.J=[],this.l=e.apiKey,this.m=e.appName,this.s=e.authDomain||null;var r,i=Aa.SDK_VERSION?gr(Aa.SDK_VERSION):null;this.a=new Va(this.l,x(I),i),e.emulatorConfig&&$a(this.a,e.emulatorConfig),this.b=new al(this.a),_l(this,t[za]),ul(this.b,t),qr(this,"refreshToken",this.b.a),Sl(this,n||{}),fn.call(this),this.R=!1,this.s&&wr()&&(this.i=Lc(this.s,this.l,this.m)),this.S=[],this.h=null,this.u=(r=this,new il((function(){return r.I(!0)}),(function(e){return!(!e||"auth/network-request-failed"!=e.code)}),(function(){var e=r.b.c-Date.now()-3e5;return 0<e?e:0}))),this.aa=b(this.hb,this);var o=this;this.ya=null,this.Oa=function(e){o.wa(e.h)},this.ja=null,this.Aa=function(e){$a(o.a,e.c)},this.X=null,this.$=[],this.Ba=function(e){vl(o,e.f)},this.ba=null,this.O=new nl(this,n),qr(this,"multiFactor",this.O)}function dl(e,t){e.ja&&nn(e.ja,"languageCodeChanged",e.Oa),(e.ja=t)&&Zt(t,"languageCodeChanged",e.Oa)}function pl(e,t){e.X&&nn(e.X,"emulatorConfigChanged",e.Aa),(e.X=t)&&Zt(t,"emulatorConfigChanged",e.Aa)}function vl(e,t){e.$=t,Ja(e.a,Aa.SDK_VERSION?gr(Aa.SDK_VERSION,e.$):null)}function yl(e,t){e.ba&&nn(e.ba,"frameworkChanged",e.Ba),(e.ba=t)&&Zt(t,"frameworkChanged",e.Ba)}function gl(t){try{return Aa.app(t.m).auth()}catch(e){throw new S("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+t.m+"'!")}}function ml(e){e.D||e.u.b||(e.u.start(),nn(e,"tokenChanged",e.aa),Zt(e,"tokenChanged",e.aa))}function bl(e){nn(e,"tokenChanged",e.aa),e.u.stop()}function _l(e,t){e.za=t,qr(e,"_lat",t)}function wl(e){for(var t=[],n=0;n<e.S.length;n++)t.push(e.S[n](e));return St(t).then((function(){return e}))}function El(e){e.i&&!e.R&&(e.R=!0,Cc(e.i,e))}function Sl(e,t){Br(e,{uid:t.uid,displayName:t.displayName||null,photoURL:t.photoURL||null,email:t.email||null,emailVerified:t.emailVerified||!1,phoneNumber:t.phoneNumber||null,isAnonymous:t.isAnonymous||!1,tenantId:t.tenantId||null,metadata:new ll(t.createdAt,t.lastLoginAt),providerData:[]}),e.a.b=e.tenantId}function Tl(){}function Il(e){return _t().then((function(){if(e.D)throw new S("app-deleted")}))}function Cl(e){return V(e.providerData,(function(e){return e.providerId}))}function kl(e,t){t&&(Ol(e,t.providerId),e.providerData.push(t))}function Ol(e,t){K(e.providerData,(function(e){return e.providerId==t}))}function xl(e,t,n){("uid"!=t||n)&&e.hasOwnProperty(t)&&qr(e,t,n)}function Pl(e,t){var n,r;e!=t&&(Br(e,{uid:t.uid,displayName:t.displayName,photoURL:t.photoURL,email:t.email,emailVerified:t.emailVerified,phoneNumber:t.phoneNumber,isAnonymous:t.isAnonymous,tenantId:t.tenantId,providerData:[]}),t.metadata?qr(e,"metadata",new ll((r=t.metadata).a,r.b)):qr(e,"metadata",new ll),q(t.providerData,(function(t){kl(e,t)})),n=e.b,r=t.b,n.b=r.b,n.a=r.a,n.c=r.c,qr(e,"refreshToken",e.b.a),rl(e.O,t.O.b))}function Nl(e){return e.I().then((function(t){var n,r,i=e.isAnonymous;return r=t,Ys((n=e).a,Cs,{idToken:r}).then(b(n.Kc,n)).then((function(){return i||xl(e,"isAnonymous",!1),t}))}))}function Rl(e,t){t[za]&&e.za!=t[za]&&(ul(e.b,t),e.dispatchEvent(new tl("tokenChanged")),_l(e,t[za]),xl(e,"refreshToken",e.b.a))}function Al(e,t){return Nl(e).then((function(){if(z(Cl(e),t))return wl(e).then((function(){throw new S("provider-already-linked")}))}))}function Dl(e,t,n){return Vr({user:e,credential:xo(t),additionalUserInfo:t=qi(t),operationType:n})}function jl(e,t){return Rl(e,t),e.reload().then((function(){return e}))}function Ll(e,t,n,r,i){if(!wr())return wt(new S("operation-not-supported-in-this-environment"));if(e.h&&!i)return wt(e.h);var o=Ui(n.providerId),a=Or(e.uid+":::"),s=null,u=ir(s=(!Tr()||cr())&&e.s&&n.isOAuthProvider?lu(e.s,e.l,e.m,t,n,null,a,Aa.SDK_VERSION||null,null,null,e.tenantId):s,o&&o.ua,o&&o.ta);return r=r().then((function(){if(Fl(e),!i)return e.I().then((function(){}))})).then((function(){return Pc(e.i,u,t,n,a,!!s,e.tenantId)})).then((function(){return new dt((function(n,r){e.na(t,null,new S("cancelled-popup-request"),e.g||null),e.f=n,e.C=r,e.g=a,e.c=Ac(e.i,e,t,u,a)}))})).then((function(e){return u&&rr(u),e?Vr(e):null})).o((function(e){throw u&&rr(u),e})),Ul(e,r,i)}function Ml(e,t,n,r,i){if(!wr())return wt(new S("operation-not-supported-in-this-environment"));if(e.h&&!i)return wt(e.h);var o=null,a=Or(e.uid+":::");return r=r().then((function(){if(Fl(e),!i)return e.I().then((function(){}))})).then((function(){return e.ga=a,wl(e)})).then((function(t){return e.ha?(t=e.ha).b.set(Vl,e.w(),t.a):t})).then((function(){return Rc(e.i,t,n,a,e.tenantId)})).o((function(t){if(o=t,e.ha)return Wl(e.ha);throw o})).then((function(){if(o)throw o})),Ul(e,r,i)}function Fl(e){if(!e.i||!e.R){if(e.i&&!e.R)throw new S("internal-error");throw new S("auth-domain-config-required")}}function Ul(e,t,n){var r,i=(t=t,n=n,(r=e).h&&!n?(t.cancel(),wt(r.h)):t.o((function(e){throw!e||"auth/user-disabled"!=e.code&&"auth/user-token-expired"!=e.code||(r.h||r.dispatchEvent(new tl("userInvalidated")),r.h=e),e})));return e.J.push(i),i.oa((function(){H(e.J,i)})),i.o((function(t){var n=null;throw(n=t&&"auth/multi-factor-auth-required"===t.code?Xc(t.w(),gl(e),b(e.jc,e)):n)||t}))}function ql(e){if(!e.apiKey)return null;var t={apiKey:e.apiKey,authDomain:e.authDomain,appName:e.appName,emulatorConfig:e.emulatorConfig},n={};if(!e.stsTokenManager||!e.stsTokenManager.accessToken)return null;n[za]=e.stsTokenManager.accessToken,n.refreshToken=e.stsTokenManager.refreshToken||null;var r=e.stsTokenManager.expirationTime;r&&(n.expiresIn=(r-Date.now())/1e3);var i=new fl(t,n,e);return e.providerData&&q(e.providerData,(function(e){e&&kl(i,Vr(e))})),e.redirectEventId&&(i.ga=e.redirectEventId),i}function Bl(e){this.a=e,this.b=Gu()}Gc.prototype.Rc=function(e){var t=this;return e.sb(this.a.a,this.c).then((function(e){var n=le(t.f);return delete n[Qc],delete n[Yc],fe(n,e),t.g(n)}))},w($c,S),Jc.prototype.sb=function(e,t,n){return t.type==Xi?(o=this,a=e,s=n,t.Ha().then((function(e){return e={idToken:e},void 0!==s&&(e.displayName=s),fe(e,{phoneVerificationInfo:Co(o.a)}),Ys(a,Ts,e)}))):(r=this,i=e,t.Ha().then((function(e){return fe(e={mfaPendingCredential:e},{phoneVerificationInfo:Co(r.a)}),Ys(i,Is,e)})));var r,i,o,a,s},w(Zc,Jc),w(el,Zc),w(tl,Bt),(e=nl.prototype).yc=function(e){var t;rl(this,(e=e.hd,t=[],q(e.mfaInfo||[],(function(e){(e=Hr(e))&&t.push(e)})),t))},e.Rb=function(){return this.a.I().then((function(e){return new $i(e,null)}))},e.fc=function(e,t){var n=this,r=this.a.a;return this.Rb().then((function(n){return e.sb(r,n,t)})).then((function(e){return Rl(n.a,e),n.a.reload()}))},e.bd=function(e){var t=this,n="string"==typeof e?e:e.uid,r=this.a.a;return this.a.I().then((function(e){return Ys(r,Qs,{idToken:e,mfaEnrollmentId:n})})).then((function(e){var r=B(t.b,(function(e){return e.uid!=n}));return rl(t,r),Rl(t.a,e),t.a.reload().o((function(e){if("auth/user-token-expired"!=e.code)throw e}))}))},e.w=function(){return{multiFactor:{enrolledFactors:V(this.b,(function(e){return e.w()}))}}},il.prototype.start=function(){this.a=this.c,function e(t,n){t.stop(),t.b=gn(ol(t,n)).then(Ar).then((function(){return t.h()})).then((function(){e(t,!0)})).o((function(n){t.i(n)&&e(t,!1)}))}(this,!0)},il.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)},al.prototype.w=function(){return{apiKey:this.f.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:this.c}},al.prototype.getToken=function(e){return e=!!e,this.b&&!this.a?wt(new S("user-token-expired")):e||!this.b||Date.now()>this.c-3e4?this.a?cl(this,{grant_type:"refresh_token",refresh_token:this.a}):_t(null):_t({accessToken:this.b.toString(),refreshToken:this.a})},ll.prototype.w=function(){return{lastLoginAt:this.b,createdAt:this.a}},w(fl,fn),fl.prototype.wa=function(e){this.ya=e,Ya(this.a,e)},fl.prototype.la=function(){return this.ya},fl.prototype.Ga=function(){return Q(this.$)},fl.prototype.hb=function(){this.u.b&&(this.u.stop(),this.u.start())},qr(fl.prototype,"providerId","firebase"),(e=fl.prototype).reload=function(){var e=this;return Ul(this,Il(this).then((function(){return Nl(e).then((function(){return wl(e)})).then(Tl)})))},e.oc=function(e){return this.I(e).then((function(e){return new Kc(e)}))},e.I=function(e){var t=this;return Ul(this,Il(this).then((function(){return t.b.getToken(e)})).then((function(e){if(!e)throw new S("internal-error");return e.accessToken!=t.za&&(_l(t,e.accessToken),t.dispatchEvent(new tl("tokenChanged"))),xl(t,"refreshToken",e.refreshToken),e.accessToken})))},e.Kc=function(e){if(!(e=e.users)||!e.length)throw new S("internal-error");Sl(this,{uid:(e=e[0]).localId,displayName:e.displayName,photoURL:e.photoUrl,email:e.email,emailVerified:!!e.emailVerified,phoneNumber:e.phoneNumber,lastLoginAt:e.lastLoginAt,createdAt:e.createdAt,tenantId:e.tenantId});for(var t,n=(t=(t=e).providerUserInfo)&&t.length?V(t,(function(e){return new hl(e.rawId,e.providerId,e.email,e.displayName,e.photoUrl,e.phoneNumber)})):[],r=0;r<n.length;r++)kl(this,n[r]);xl(this,"isAnonymous",!(this.email&&e.passwordHash||this.providerData&&this.providerData.length)),this.dispatchEvent(new tl("userReloaded",{hd:e}))},e.Lc=function(e){return Fr("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.tb(e)},e.tb=function(e){var t=this,n=null;return Ul(this,e.c(this.a,this.uid).then((function(e){return Rl(t,e),n=Dl(t,e,"reauthenticate"),t.h=null,t.reload()})).then((function(){return n})),!0)},e.Cc=function(e){return Fr("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.qb(e)},e.qb=function(e){var t=this,n=null;return Ul(this,Al(this,e.providerId).then((function(){return t.I()})).then((function(n){return e.b(t.a,n)})).then((function(e){return n=Dl(t,e,"link"),jl(t,e)})).then((function(){return n})))},e.Dc=function(e,t){var n=this;return Ul(this,Al(this,"phone").then((function(){return Hc(gl(n),e,t,b(n.qb,n))})))},e.Mc=function(e,t){var n=this;return Ul(this,_t().then((function(){return Hc(gl(n),e,t,b(n.tb,n))})),!0)},e.Bb=function(e){var t=this;return Ul(this,this.I().then((function(n){return t.a.Bb(n,e)})).then((function(e){return Rl(t,e),t.reload()})))},e.ed=function(e){var t=this;return Ul(this,this.I().then((function(n){return e.b(t.a,n)})).then((function(e){return Rl(t,e),t.reload()})))},e.Cb=function(e){var t=this;return Ul(this,this.I().then((function(n){return t.a.Cb(n,e)})).then((function(e){return Rl(t,e),t.reload()})))},e.Db=function(e){if(void 0===e.displayName&&void 0===e.photoURL)return Il(this);var t=this;return Ul(this,this.I().then((function(n){return t.a.Db(n,{displayName:e.displayName,photoUrl:e.photoURL})})).then((function(e){return Rl(t,e),xl(t,"displayName",e.displayName||null),xl(t,"photoURL",e.photoUrl||null),q(t.providerData,(function(e){"password"===e.providerId&&(qr(e,"displayName",t.displayName),qr(e,"photoURL",t.photoURL))})),wl(t)})).then(Tl))},e.cd=function(e){var t=this;return Ul(this,Nl(this).then((function(n){return z(Cl(t),e)?Ys(t.a,ws,{idToken:n,deleteProvider:[e]}).then((function(e){var n={};return q(e.providerUserInfo||[],(function(e){n[e.providerId]=!0})),q(Cl(t),(function(e){n[e]||Ol(t,e)})),n[ko.PROVIDER_ID]||qr(t,"phoneNumber",null),wl(t)})):wl(t).then((function(){throw new S("no-such-provider")}))})))},e.delete=function(){var e=this;return Ul(this,this.I().then((function(t){return Ys(e.a,_s,{idToken:t})})).then((function(){e.dispatchEvent(new tl("userDeleted"))}))).then((function(){for(var t=0;t<e.J.length;t++)e.J[t].cancel("app-deleted");dl(e,null),pl(e,null),yl(e,null),e.J=[],e.D=!0,bl(e),qr(e,"refreshToken",null),e.i&&kc(e.i,e)}))},e.Fb=function(e,t){return!!("linkViaPopup"==e&&(this.g||null)==t&&this.f||"reauthViaPopup"==e&&(this.g||null)==t&&this.f||"linkViaRedirect"==e&&(this.ga||null)==t||"reauthViaRedirect"==e&&(this.ga||null)==t)},e.na=function(e,t,n,r){"linkViaPopup"!=e&&"reauthViaPopup"!=e||r!=(this.g||null)||(n&&this.C?this.C(n):t&&!n&&this.f&&this.f(t),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},e.Fa=function(e,t){return"linkViaPopup"==e&&t==(this.g||null)?b(this.Kb,this):"reauthViaPopup"==e&&t==(this.g||null)?b(this.Lb,this):"linkViaRedirect"==e&&(this.ga||null)==t?b(this.Kb,this):"reauthViaRedirect"==e&&(this.ga||null)==t?b(this.Lb,this):null},e.Ec=function(e){var t=this;return Ll(this,"linkViaPopup",e,(function(){return Al(t,e.providerId).then((function(){return wl(t)}))}),!1)},e.Nc=function(e){return Ll(this,"reauthViaPopup",e,(function(){return _t()}),!0)},e.Fc=function(e){var t=this;return Ml(this,"linkViaRedirect",e,(function(){return Al(t,e.providerId)}),!1)},e.Oc=function(e){return Ml(this,"reauthViaRedirect",e,(function(){return _t()}),!0)},e.Kb=function(e,t,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return Ul(this,this.I().then((function(n){return ds(i.a,{requestUri:e,postBody:r,sessionId:t,idToken:n})})).then((function(e){return o=Dl(i,e,"link"),jl(i,e)})).then((function(){return o})))},e.Lb=function(e,t,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return Ul(this,_t().then((function(){return eo(ps(i.a,{requestUri:e,sessionId:t,postBody:r,tenantId:n}),i.uid)})).then((function(e){return o=Dl(i,e,"reauthenticate"),Rl(i,e),i.h=null,i.reload()})).then((function(){return o})),!0)},e.ub=function(e){var t=this,n=null;return Ul(this,this.I().then((function(t){return n=t,void 0===e||ce(e)?{}:Pi(new _i(e))})).then((function(e){return t.a.ub(n,e)})).then((function(e){if(t.email!=e)return t.reload()})).then((function(){})))},e.Eb=function(e,t){var n=this,r=null;return Ul(this,this.I().then((function(e){return r=e,void 0===t||ce(t)?{}:Pi(new _i(t))})).then((function(t){return n.a.Eb(r,e,t)})).then((function(e){if(n.email!=e)return n.reload()})).then((function(){})))},e.jc=function(e){var t=null,n=this;return Ul(this,e=eo(_t(e),n.uid).then((function(e){return t=Dl(n,e,"reauthenticate"),Rl(n,e),n.h=null,n.reload()})).then((function(){return t})),!0)},e.toJSON=function(){return this.w()},e.w=function(){var e={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.s,stsTokenManager:this.b.w(),redirectEventId:this.ga||null};return this.metadata&&fe(e,this.metadata.w()),q(this.providerData,(function(t){e.providerData.push(function(e){var t,n={};for(t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}(t))})),fe(e,this.O.w()),e};var Vl={name:"redirectUser",F:"session"};function Wl(e){return $u(e.b,Vl,e.a)}function zl(e){var t,n,r,i;this.a=e,this.b=Gu(),this.c=null,this.f=(n=Gl("local"),r=Gl("session"),i=Gl("none"),function(e,t,n){var r=Yu(t,n),i=Qu(e,t.F);return e.get(t,n).then((function(o){var s=null;try{s=kr(a.localStorage.getItem(r))}catch(o){}if(s&&!o)return a.localStorage.removeItem(r),e.set(t,s,n);s&&o&&"localStorage"!=i.type&&a.localStorage.removeItem(r)}))}((t=this).b,n,t.a).then((function(){return t.b.get(r,t.a)})).then((function(e){return e?r:t.b.get(i,t.a).then((function(e){return e?i:t.b.get(n,t.a).then((function(e){return e?n:t.b.get(Kl,t.a).then((function(e){return e?Gl(e):n}))}))}))})).then((function(e){return t.c=e,Hl(t,e.F)})).o((function(){t.c||(t.c=n)}))),this.b.addListener(Gl("local"),this.a,b(this.g,this))}function Hl(e,t){var n,r,i=[];for(n in Hu)Hu[n]!==t&&i.push($u(e.b,Gl(Hu[n]),e.a));return i.push($u(e.b,Kl,e.a)),r=i,new dt((function(e,t){var n=r.length,i=[];if(n)for(var o=function(t,r){n--,i[t]=r,0==n&&e(i)},a=function(e){t(e)},s=0;s<r.length;s++)Et(r[s],_(o,s),a);else e(i)}))}zl.prototype.g=function(){var e=this,t=Gl("local");Xl(this,(function(){return _t().then((function(){return e.c&&"local"!=e.c.F?e.b.get(t,e.a):null})).then((function(n){if(n)return Hl(e,"local").then((function(){e.c=t}))}))}))};var Kl={name:"persistence",F:"session"};function Gl(e){return{name:"authUser",F:e}}function Ql(e,t){return Xl(e,(function(){return e.b.set(e.c,t.w(),e.a)}))}function Yl(e){return Xl(e,(function(){return $u(e.b,e.c,e.a)}))}function $l(e,t,n){return Xl(e,(function(){return e.b.get(e.c,e.a).then((function(e){return e&&t&&(e.authDomain=t),e&&n&&(e.emulatorConfig=n),ql(e||{})}))}))}function Xl(e,t){return e.f=e.f.then(t,t),e.f}function Jl(e){if(this.l=!1,qr(this,"settings",new Wc),qr(this,"app",e),!this.app.options||!this.app.options.apiKey)throw new S("invalid-api-key");var t,n,r,i,o,a;e=Aa.SDK_VERSION?gr(Aa.SDK_VERSION):null,this.a=new Va(this.app.options&&this.app.options.apiKey,x(I),e),this.R=[],this.s=[],this.O=[],this.hb=Aa.INTERNAL.createSubscribe(b(this.zc,this)),this.X=void 0,this.bc=Aa.INTERNAL.createSubscribe(b(this.Ac,this)),oh(this,null),this.i=new zl(this.app.options.apiKey+":"+this.app.name),this.D=new Bl(this.app.options.apiKey+":"+this.app.name),this.$=lh(this,(n=(t=this).app.options.authDomain,e=function(e){var t=function(e,t){return e.b.get(Vl,e.a).then((function(e){return e&&t&&(e.authDomain=t),ql(e||{})}))}(e.D,e.app.options.authDomain).then((function(t){return(e.m=t)&&(t.ha=e.D),Wl(e.D)}));return lh(e,t)}(t).then((function(){return $l(t.i,n,t.P)})).then((function(e){return e?(e.ha=t.D,t.m&&(t.m.ga||null)==(e.ga||null)?e:e.reload().then((function(){return Ql(t.i,e).then((function(){return e}))})).o((function(n){return"auth/network-request-failed"==n.code?e:Yl(t.i)}))):null})).then((function(e){oh(t,e||null)})),lh(t,e))),this.h=lh(this,(r=this).$.then((function(){return rh(r)})).o((function(){})).then((function(){if(!r.l)return r.ja()})).o((function(){})).then((function(){var e;r.l||(r.ba=!0,(e=r.i).b.addListener(Gl("local"),e.a,r.ja))}))),this.ba=!1,this.ja=b(this.Zc,this),this.Ba=b(this.da,this),this.ya=b(this.mc,this),this.za=b(this.wc,this),this.Aa=b(this.xc,this),this.b=null,o=(i=this).app.options.authDomain,a=i.app.options.apiKey,o&&wr()&&(i.Oa=i.$.then((function(){var e;if(!i.l)return i.b=Lc(o,a,i.app.name,i.P),Cc(i.b,i),sh(i)&&El(sh(i)),i.m&&(El(i.m),(e=i.m).wa(i.la()),dl(e,i),vl(e=i.m,i.J),yl(e,i),$a((e=i.m).a,i.P),pl(e,i),i.m=null),i.b}))),this.INTERNAL={},this.INTERNAL.delete=b(this.delete,this),this.INTERNAL.logFramework=b(this.Gc,this),this.u=0,fn.call(this),e=this,Object.defineProperty(e,"lc",{get:function(){return this.la()},set:function(e){this.wa(e)},enumerable:!1}),e.aa=null,Object.defineProperty(e,"ti",{get:function(){return this.T()},set:function(e){this.yb(e)},enumerable:!1}),e.S=null,Object.defineProperty(e,"emulatorConfig",{get:function(){var e;return this.P?Vr({protocol:(e=Pn(this.P.url)).c,host:e.a,port:e.g,options:Vr({disableWarnings:this.P.ec})}):null},enumerable:!1}),this.J=[],this.P=null}function Zl(e){Bt.call(this,"languageCodeChanged"),this.h=e}function eh(e){Bt.call(this,"emulatorConfigChanged"),this.c=e}function th(e){Bt.call(this,"frameworkChanged"),this.f=e}function nh(e){return e.Oa||wt(new S("auth-domain-config-required"))}function rh(e){if(!wr())return wt(new S("operation-not-supported-in-this-environment"));var t=nh(e).then((function(){return e.b.qa()})).then((function(e){return e?Vr(e):null}));return lh(e,t)}function ih(e,t){var n={};return n.apiKey=e.app.options.apiKey,n.authDomain=e.app.options.authDomain,n.appName=e.app.name,e.P&&(n.emulatorConfig=e.P),e.$.then((function(){return r=n,i=t,o=e.D,a=e.Ga(),s=new fl(r,i),o&&(s.ha=o),a&&vl(s,a),s.reload().then((function(){return s}));var r,i,o,a,s})).then((function(t){return sh(e)&&t.uid==sh(e).uid?Pl(sh(e),t):(oh(e,t),El(t)),e.da(t)})).then((function(){ch(e)}))}function oh(e,t){var n,r;sh(e)&&(n=sh(e),r=e.Ba,K(n.S,(function(e){return e==r})),nn(sh(e),"tokenChanged",e.ya),nn(sh(e),"userDeleted",e.za),nn(sh(e),"userInvalidated",e.Aa),bl(sh(e))),t&&(t.S.push(e.Ba),Zt(t,"tokenChanged",e.ya),Zt(t,"userDeleted",e.za),Zt(t,"userInvalidated",e.Aa),0<e.u&&ml(t)),qr(e,"currentUser",t),t&&(t.wa(e.la()),dl(t,e),vl(t,e.J),yl(t,e),$a(t.a,e.P),pl(t,e))}function ah(e,t){var n=null,r=null;return lh(e,t.then((function(t){return n=xo(t),r=qi(t),ih(e,t)}),(function(t){var n=null;throw(n=t&&"auth/multi-factor-auth-required"===t.code?Xc(t.w(),e,b(e.kc,e)):n)||t})).then((function(){return Vr({user:sh(e),credential:n,additionalUserInfo:r,operationType:"signIn"})})))}function sh(e){return e.currentUser}function uh(e){return sh(e)&&sh(e)._lat||null}function ch(e){if(e.ba){for(var t=0;t<e.s.length;t++)e.s[t]&&e.s[t](uh(e));if(e.X!==e.getUid()&&e.O.length)for(e.X=e.getUid(),t=0;t<e.O.length;t++)e.O[t]&&e.O[t](uh(e))}}function lh(e,t){return e.R.push(t),t.oa((function(){H(e.R,t)})),t}function hh(){}function fh(){this.a={},this.b=1e12}zl.prototype.xb=function(e){var t=null,n=this;return function(e){var t=new S("invalid-persistence-type"),n=new S("unsupported-persistence-type");e:{for(r in Hu)if(Hu[r]==e){var r=!0;break e}r=!1}if(!r||"string"!=typeof e)throw t;switch(hr()){case"ReactNative":if("session"===e)throw n;break;case"Node":if("none"!==e)throw n;break;case"Worker":if("session"===e||!Tu()&&"none"!==e)throw n;break;default:if(!_r()&&"none"!==e)throw n}}(e),Xl(this,(function(){return e!=n.c.F?n.b.get(n.c,n.a).then((function(r){return t=r,Hl(n,e)})).then((function(){if(n.c=Gl(e),t)return n.b.set(n.c,t,n.a)})):_t()}))},w(Jl,fn),w(Zl,Bt),w(eh,Bt),w(th,Bt),(e=Jl.prototype).xb=function(e){return lh(this,e=this.i.xb(e))},e.wa=function(e){this.aa===e||this.l||(this.aa=e,Ya(this.a,this.aa),this.dispatchEvent(new Zl(this.la())))},e.la=function(){return this.aa},e.fd=function(){var e=a.navigator;this.wa(e&&(e.languages&&e.languages[0]||e.language||e.userLanguage)||null)},e.gd=function(e,t){if(!this.P){if(!/^https?:\/\//.test(e))throw new S("argument-error","Emulator URL must start with a valid scheme (http:// or https://).");n=t=!!t&&!!t.disableWarnings,"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),a.document&&!n&&sr().then((function(){var e=a.document.createElement("div");e.innerText="Running in emulator mode. Do not use with production credentials.",e.style.position="fixed",e.style.width="100%",e.style.backgroundColor="#ffffff",e.style.border=".1em solid #000000",e.style.color="#ff0000",e.style.bottom="0px",e.style.left="0px",e.style.margin="0px",e.style.zIndex=1e4,e.style.textAlign="center",e.classList.add("firebase-emulator-warning"),a.document.body.appendChild(e)})),this.P={url:e,ec:t},this.settings.ib=!0,$a(this.a,this.P),this.dispatchEvent(new eh(this.P))}var n},e.Gc=function(e){this.J.push(e),Ja(this.a,Aa.SDK_VERSION?gr(Aa.SDK_VERSION,this.J):null),this.dispatchEvent(new th(this.J))},e.Ga=function(){return Q(this.J)},e.yb=function(e){this.S===e||this.l||(this.S=e,this.a.b=this.S)},e.T=function(){return this.S},e.toJSON=function(){return{apiKey:this.app.options.apiKey,authDomain:this.app.options.authDomain,appName:this.app.name,currentUser:sh(this)&&sh(this).w()}},e.Fb=function(e,t){switch(e){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==t&&!!this.f;default:return!1}},e.na=function(e,t,n,r){"signInViaPopup"==e&&this.g==r&&(n&&this.C?this.C(n):t&&!n&&this.f&&this.f(t),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},e.Fa=function(e,t){return"signInViaRedirect"==e||"signInViaPopup"==e&&this.g==t&&this.f?b(this.ic,this):null},e.ic=function(e,t,n,r){var i=this,o={requestUri:e,postBody:r,sessionId:t,tenantId:n};return this.c&&(this.c.cancel(),this.c=null),i.$.then((function(){return ah(i,fs(i.a,o))}))},e.Xc=function(e){if(!wr())return wt(new S("operation-not-supported-in-this-environment"));var t=this,n=Ui(e.providerId),r=Or(),i=null,o=ir(i=(!Tr()||cr())&&this.app.options.authDomain&&e.isOAuthProvider?lu(this.app.options.authDomain,this.app.options.apiKey,this.app.name,"signInViaPopup",e,null,r,Aa.SDK_VERSION||null,null,null,this.T(),this.P):i,n&&n.ua,n&&n.ta);return lh(this,n=nh(this).then((function(n){return Pc(n,o,"signInViaPopup",e,r,!!i,t.T())})).then((function(){return new dt((function(e,n){t.na("signInViaPopup",null,new S("cancelled-popup-request"),t.g),t.f=e,t.C=n,t.g=r,t.c=Ac(t.b,t,"signInViaPopup",o,r)}))})).then((function(e){return o&&rr(o),e?Vr(e):null})).o((function(e){throw o&&rr(o),e})))},e.Yc=function(e){if(!wr())return wt(new S("operation-not-supported-in-this-environment"));var t=this;return lh(this,nh(this).then((function(){return Xl(e=t.i,(function(){return e.b.set(Kl,e.c.F,e.a)}));var e})).then((function(){return Rc(t.b,"signInViaRedirect",e,void 0,t.T())})))},e.qa=function(){var e=this;return rh(this).then((function(t){return e.b&&Uc(e.b.b),t})).o((function(t){throw e.b&&Uc(e.b.b),t}))},e.dd=function(e){if(!e)return wt(new S("null-user"));if(this.S!=e.tenantId)return wt(new S("tenant-id-mismatch"));var t=this,n={};n.apiKey=this.app.options.apiKey,n.authDomain=this.app.options.authDomain,n.appName=this.app.name;var r,i,o,a,s,u=(r=e,i=n,o=t.D,a=t.Ga(),s=r.b,(n={})[za]=s.b&&s.b.toString(),n.refreshToken=s.a,i=new fl(i||{apiKey:r.l,authDomain:r.s,appName:r.m},n),o&&(i.ha=o),a&&vl(i,a),Pl(i,r),i);return lh(this,this.h.then((function(){if(t.app.options.apiKey!=e.l)return u.reload()})).then((function(){return sh(t)&&e.uid==sh(t).uid?(Pl(sh(t),e),t.da(e)):(oh(t,u),El(u),t.da(u))})).then((function(){ch(t)})))},e.Ab=function(){var e=this;return lh(this,this.h.then((function(){return e.b&&Uc(e.b.b),sh(e)?(oh(e,null),Yl(e.i).then((function(){ch(e)}))):_t()})))},e.Zc=function(){var e=this;return $l(this.i,this.app.options.authDomain).then((function(t){if(!e.l){var n,r;if((n=sh(e)&&t)&&(n=sh(e).uid,r=t.uid,n=null!=n&&""!==n&&null!=r&&""!==r&&n==r),n)return Pl(sh(e),t),sh(e).I();(sh(e)||t)&&(oh(e,t),t&&(El(t),t.ha=e.D),e.b&&Cc(e.b,e),ch(e))}}))},e.da=function(e){return Ql(this.i,e)},e.mc=function(){ch(this),this.da(sh(this))},e.wc=function(){this.Ab()},e.xc=function(){this.Ab()},e.kc=function(e){var t=this;return this.h.then((function(){return ah(t,_t(e))}))},e.zc=function(e){var t=this;this.addAuthTokenListener((function(){e.next(sh(t))}))},e.Ac=function(e){var t,n,r=this;n=function(){e.next(sh(r))},(t=this).O.push(n),lh(t,t.h.then((function(){!t.l&&z(t.O,n)&&t.X!==t.getUid()&&(t.X=t.getUid(),n(uh(t)))})))},e.Ic=function(e,t,n){var r=this;return this.ba&&Promise.resolve().then((function(){"function"==typeof e?e(sh(r)):"function"==typeof e.next&&e.next(sh(r))})),this.hb(e,t,n)},e.Hc=function(e,t,n){var r=this;return this.ba&&Promise.resolve().then((function(){r.X=r.getUid(),"function"==typeof e?e(sh(r)):"function"==typeof e.next&&e.next(sh(r))})),this.bc(e,t,n)},e.nc=function(e){var t=this;return lh(this,this.h.then((function(){return sh(t)?sh(t).I(e).then((function(e){return{accessToken:e}})):null})))},e.Tc=function(e){var t=this;return this.h.then((function(){return ah(t,Ys(t.a,Ws,{token:e}))})).then((function(e){var n=e.user;return xl(n,"isAnonymous",!1),t.da(n),e}))},e.Uc=function(e,t){var n=this;return this.h.then((function(){return ah(n,Ys(n.a,zs,{email:e,password:t}))}))},e.dc=function(e,t){var n=this;return this.h.then((function(){return ah(n,Ys(n.a,ms,{email:e,password:t}))}))},e.$a=function(e){var t=this;return this.h.then((function(){return ah(t,e.ka(t.a))}))},e.Sc=function(e){return Fr("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.$a(e)},e.zb=function(){var e=this;return this.h.then((function(){var t=sh(e);if(t&&t.isAnonymous){var n=Vr({providerId:null,isNewUser:!1});return Vr({user:t,credential:null,additionalUserInfo:n,operationType:"signIn"})}return ah(e,e.a.zb()).then((function(t){var n=t.user;return xl(n,"isAnonymous",!0),e.da(n),t}))}))},e.getUid=function(){return sh(this)&&sh(this).uid||null},e.cc=function(e){this.addAuthTokenListener(e),this.u++,0<this.u&&sh(this)&&ml(sh(this))},e.Pc=function(e){var t=this;q(this.s,(function(n){n==e&&t.u--})),this.u<0&&(this.u=0),0==this.u&&sh(this)&&bl(sh(this)),this.removeAuthTokenListener(e)},e.addAuthTokenListener=function(e){var t=this;this.s.push(e),lh(this,this.h.then((function(){t.l||z(t.s,e)&&e(uh(t))})))},e.removeAuthTokenListener=function(e){K(this.s,(function(t){return t==e}))},e.delete=function(){this.l=!0;for(var e=0;e<this.R.length;e++)this.R[e].cancel("app-deleted");return this.R=[],this.i&&(e=this.i).b.removeListener(Gl("local"),e.a,this.ja),this.b&&(kc(this.b,this),Uc(this.b.b)),Promise.resolve()},e.hc=function(e){return lh(this,Ys(this.a,bs,{identifier:e,continueUri:Er()?er():"http://localhost"}).then((function(e){return e.signinMethods||[]})))},e.Bc=function(e){return!!So(e)},e.wb=function(e,t){var n=this;return lh(this,_t().then((function(){var e=new _i(t);if(!e.c)throw new S("argument-error",Si+" must be true when sending sign in link to email");return Pi(e)})).then((function(t){return n.a.wb(e,t)})).then((function(){})))},e.jd=function(e){return this.Ra(e).then((function(e){return e.data.email}))},e.nb=function(e,t){return lh(this,this.a.nb(e,t).then((function(){})))},e.Ra=function(e){return lh(this,this.a.Ra(e).then((function(e){return new Xr(e)})))},e.jb=function(e){return lh(this,this.a.jb(e).then((function(){})))},e.vb=function(e,t){var n=this;return lh(this,_t().then((function(){return void 0===t||ce(t)?{}:Pi(new _i(t))})).then((function(t){return n.a.vb(e,t)})).then((function(){})))},e.Wc=function(e,t){return lh(this,Hc(this,e,t,b(this.$a,this)))},e.Vc=function(e,t){var n=this;return lh(this,_t().then((function(){var r=t||er(),i=Eo(e,r);if(!(r=So(r)))throw new S("argument-error","Invalid email link!");if(r.tenantId!==n.T())throw new S("tenant-id-mismatch");return n.$a(i)})))},hh.prototype.render=function(){},hh.prototype.reset=function(){},hh.prototype.getResponse=function(){},hh.prototype.execute=function(){};var dh=null;function ph(e,t){return(t=vh(t))&&e.a[t]||null}function vh(e){return(e=void 0===e?1e12:e)?e.toString():null}function yh(e,t){this.g=!1,this.c=t,this.a=this.b=null,this.h="invisible"!==this.c.size,this.f=tt(e);var n=this;this.i=function(){n.execute()},this.h?this.execute():Zt(this.f,"click",this.i)}function gh(e){if(e.g)throw Error("reCAPTCHA mock was already deleted!")}function mh(){}function bh(){}fh.prototype.render=function(e,t){return this.a[this.b.toString()]=new yh(e,t),this.b++},fh.prototype.reset=function(e){var t=ph(this,e);e=vh(e),t&&e&&(t.delete(),delete this.a[e])},fh.prototype.getResponse=function(e){return(e=ph(this,e))?e.getResponse():null},fh.prototype.execute=function(e){(e=ph(this,e))&&e.execute()},yh.prototype.getResponse=function(){return gh(this),this.b},yh.prototype.execute=function(){gh(this);var e=this;this.a||(this.a=setTimeout((function(){e.b=function(){for(var e=50,t=[];0<e;)t.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),e--;return t.join("")}();var t=e.c.callback,n=e.c["expired-callback"];if(t)try{t(e.b)}catch(t){}e.a=setTimeout((function(){if(e.a=null,e.b=null,n)try{n()}catch(t){}e.h&&e.execute()}),6e4)}),500))},yh.prototype.delete=function(){gh(this),this.g=!0,clearTimeout(this.a),this.a=null,nn(this.f,"click",this.i)},qr(mh,"FACTOR_ID","phone"),bh.prototype.g=function(){return _t(dh=dh||new fh)},bh.prototype.c=function(){};var _h=null;function wh(){this.b=a.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var Eh=new pe(me,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),Sh=new Nr(3e4,6e4);wh.prototype.g=function(e){var t=this;return new dt((function(n,r){var i=setTimeout((function(){r(new S("network-request-failed"))}),Sh.get());!a.grecaptcha||e!==t.f&&!t.b?(a[t.a]=function(){var o;a.grecaptcha?(t.f=e,o=a.grecaptcha.render,a.grecaptcha.render=function(e,n){return e=o(e,n),t.b++,e},clearTimeout(i),n(a.grecaptcha)):(clearTimeout(i),r(new S("internal-error"))),delete a[t.a]},_t(ja(Ee(Eh,{onload:t.a,hl:e||""}))).o((function(){clearTimeout(i),r(new S("internal-error","Unable to load external reCAPTCHA dependencies!"))}))):(clearTimeout(i),n(a.grecaptcha))}))},wh.prototype.c=function(){this.b--};var Th=null;function Ih(e,t,n,r,i,o,s){if(qr(this,"type","recaptcha"),this.c=this.f=null,this.D=!1,this.v=t,this.g=null,s=s?_h=_h||new bh:Th=Th||new wh,this.m=s,this.a=n||{theme:"light",type:"image"},this.h=[],this.a[Oh])throw new S("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i="invisible"===this.a[xh],!a.document)throw new S("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!tt(t)||!this.i&&tt(t).hasChildNodes())throw new S("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.s=new Va(e,o||null,i||null),this.u=r||function(){return null};var u=this;this.l=[];var c=this.a[Ch];this.a[Ch]=function(e){var t;Ph(u,e),"function"==typeof c?c(e):"string"!=typeof c||"function"==typeof(t=br(c,a))&&t(e)};var l=this.a[kh];this.a[kh]=function(){var e;Ph(u,null),"function"==typeof l?l():"string"!=typeof l||"function"==typeof(e=br(l,a))&&e()}}var Ch="callback",kh="expired-callback",Oh="sitekey",xh="size";function Ph(e,t){for(var n=0;n<e.l.length;n++)try{e.l[n](t)}catch(e){}}function Nh(e,t){return e.h.push(t),t.oa((function(){H(e.h,t)})),t}function Rh(e){if(e.D)throw new S("internal-error","RecaptchaVerifier instance has been destroyed.")}function Ah(e,t,n){var r=!1;try{this.b=n||Aa.app()}catch(e){throw new S("argument-error","No firebase.app.App instance is currently initialized.")}if(!this.b.options||!this.b.options.apiKey)throw new S("invalid-api-key");n=this.b.options.apiKey;var i=this,o=null;try{o=this.b.auth().Ga()}catch(e){}try{r=this.b.auth().settings.appVerificationDisabledForTesting}catch(e){}o=Aa.SDK_VERSION?gr(Aa.SDK_VERSION,o):null,Ih.call(this,n,e,t,(function(){try{var t=i.b.auth().la()}catch(e){t=null}return t}),o,x(I),r)}function Dh(e,t,n,r){e:{n=Array.prototype.slice.call(n);for(var i=0,o=!1,a=0;a<t.length;a++)if(t[a].optional)o=!0;else{if(o)throw new S("internal-error","Argument validator encountered a required argument after an optional argument.");i++}if(o=t.length,n.length<i||o<n.length)r="Expected "+(i==o?1==i?"1 argument":i+" arguments":i+"-"+o+" arguments")+" but got "+n.length+".";else{for(i=0;i<n.length;i++)if(o=t[i].optional&&void 0===n[i],!t[i].M(n[i])&&!o){if(t=t[i],i<0||i>=jh.length)throw new S("internal-error","Argument validator received an unsupported number of arguments.");n=jh[i],r=(r?"":n+" argument ")+(t.name?'"'+t.name+'" ':"")+"must be "+t.K+".";break e}r=null}}if(r)throw new S("argument-error",e+" failed: "+r)}(e=Ih.prototype).Ia=function(){var e=this;return this.f||(this.f=Nh(this,_t().then((function(){if(Er()&&!lr())return sr();throw new S("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")})).then((function(){return e.m.g(e.u())})).then((function(t){return e.g=t,Ys(e.s,Rs,{})})).then((function(t){e.a[Oh]=t.recaptchaSiteKey})).o((function(t){throw e.f=null,t}))))},e.render=function(){Rh(this);var e=this;return Nh(this,this.Ia().then((function(){var t,n;return null===e.c&&(n=e.v,e.i||(t=tt(n),n=at("DIV"),t.appendChild(n)),e.c=e.g.render(n,e.a)),e.c})))},e.verify=function(){Rh(this);var e=this;return Nh(this,this.render().then((function(t){return new dt((function(n){var r,i=e.g.getResponse(t);i?n(i):(r=function(t){var i;t&&(i=r,K(e.l,(function(e){return e==i})),n(t))},e.l.push(r),e.i&&e.g.execute(e.c))}))})))},e.reset=function(){Rh(this),null!==this.c&&this.g.reset(this.c)},e.clear=function(){Rh(this),this.D=!0,this.m.c();for(var e,t=0;t<this.h.length;t++)this.h[t].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i)for(t=tt(this.v);e=t.firstChild;)t.removeChild(e)},w(Ah,Ih);var jh="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function Lh(e,t){return{name:e||"",K:"a valid string",optional:!!t,M:function(e){return"string"==typeof e}}}function Mh(e,t){return{name:e||"",K:"a boolean",optional:!!t,M:function(e){return"boolean"==typeof e}}}function Fh(e,t){return{name:e||"",K:"a valid object",optional:!!t,M:p}}function Uh(e,t){return{name:e||"",K:"a function",optional:!!t,M:function(e){return"function"==typeof e}}}function qh(e,t){return{name:e||"",K:"null",optional:!!t,M:function(e){return null===e}}}function Bh(e){return{name:e?e+"Credential":"credential",K:e?"a valid "+e+" credential":"a valid credential",optional:!1,M:function(t){if(!t)return!1;var n=!e||t.providerId===e;return!(!t.ka||!n)}}}function Vh(){return{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(e){return!!e&&!!e.sb}}}function Wh(){return{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}}function zh(e,t){return p(e)&&"string"==typeof e.type&&e.type===t&&"function"==typeof e.Ha}function Hh(e){return p(e)&&"string"==typeof e.uid}function Kh(){return{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(e){return!(!e||"string"!=typeof e.type||"function"!=typeof e.verify)}}}function Gh(e,t,n,r){return{name:n||"",K:e.K+" or "+t.K,optional:!!r,M:function(n){return e.M(n)||t.M(n)}}}function Qh(e,t){for(var n in t){var r=t[n].name;e[r]=Xh(r,e[n],t[n].j)}}function Yh(e,t){for(var n in t){var r=t[n].name;r!==n&&Object.defineProperty(e,r,{get:_((function(e){return this[e]}),n),set:_((function(e,t,n,r){Dh(e,[n],[r],!0),this[t]=r}),r,n,t[n].kb),enumerable:!0})}}function $h(e,t,n,r){e[t]=Xh(t,n,r)}function Xh(e,t,n){function r(){var e=Array.prototype.slice.call(arguments);return Dh(o,n,e),t.apply(this,e)}if(!n)return t;var i,o=(e=(e=e).split("."))[e.length-1];for(i in t)r[i]=t[i];for(i in t.prototype)r.prototype[i]=t.prototype[i];return r}Qh(Jl.prototype,{jb:{name:"applyActionCode",j:[Lh("code")]},Ra:{name:"checkActionCode",j:[Lh("code")]},nb:{name:"confirmPasswordReset",j:[Lh("code"),Lh("newPassword")]},dc:{name:"createUserWithEmailAndPassword",j:[Lh("email"),Lh("password")]},hc:{name:"fetchSignInMethodsForEmail",j:[Lh("email")]},qa:{name:"getRedirectResult",j:[]},Bc:{name:"isSignInWithEmailLink",j:[Lh("emailLink")]},Hc:{name:"onAuthStateChanged",j:[Gh(Fh(),Uh(),"nextOrObserver"),Uh("opt_error",!0),Uh("opt_completed",!0)]},Ic:{name:"onIdTokenChanged",j:[Gh(Fh(),Uh(),"nextOrObserver"),Uh("opt_error",!0),Uh("opt_completed",!0)]},vb:{name:"sendPasswordResetEmail",j:[Lh("email"),Gh(Fh("opt_actionCodeSettings",!0),qh(null,!0),"opt_actionCodeSettings",!0)]},wb:{name:"sendSignInLinkToEmail",j:[Lh("email"),Fh("actionCodeSettings")]},xb:{name:"setPersistence",j:[Lh("persistence")]},Sc:{name:"signInAndRetrieveDataWithCredential",j:[Bh()]},zb:{name:"signInAnonymously",j:[]},$a:{name:"signInWithCredential",j:[Bh()]},Tc:{name:"signInWithCustomToken",j:[Lh("token")]},Uc:{name:"signInWithEmailAndPassword",j:[Lh("email"),Lh("password")]},Vc:{name:"signInWithEmailLink",j:[Lh("email"),Lh("emailLink",!0)]},Wc:{name:"signInWithPhoneNumber",j:[Lh("phoneNumber"),Kh()]},Xc:{name:"signInWithPopup",j:[Wh()]},Yc:{name:"signInWithRedirect",j:[Wh()]},dd:{name:"updateCurrentUser",j:[Gh({name:"user",K:"an instance of Firebase User",optional:!1,M:function(e){return!!(e&&e instanceof fl)}},qh(),"user")]},Ab:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[Lh(null,!0)]},fd:{name:"useDeviceLanguage",j:[]},gd:{name:"useEmulator",j:[Lh("url"),Fh("options",!0)]},jd:{name:"verifyPasswordResetCode",j:[Lh("code")]}}),Yh(Jl.prototype,{lc:{name:"languageCode",kb:Gh(Lh(),qh(),"languageCode")},ti:{name:"tenantId",kb:Gh(Lh(),qh(),"tenantId")}}),(Jl.Persistence=Hu).LOCAL="local",Jl.Persistence.SESSION="session",Jl.Persistence.NONE="none",Qh(fl.prototype,{delete:{name:"delete",j:[]},oc:{name:"getIdTokenResult",j:[Mh("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[Mh("opt_forceRefresh",!0)]},Cc:{name:"linkAndRetrieveDataWithCredential",j:[Bh()]},qb:{name:"linkWithCredential",j:[Bh()]},Dc:{name:"linkWithPhoneNumber",j:[Lh("phoneNumber"),Kh()]},Ec:{name:"linkWithPopup",j:[Wh()]},Fc:{name:"linkWithRedirect",j:[Wh()]},Lc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[Bh()]},tb:{name:"reauthenticateWithCredential",j:[Bh()]},Mc:{name:"reauthenticateWithPhoneNumber",j:[Lh("phoneNumber"),Kh()]},Nc:{name:"reauthenticateWithPopup",j:[Wh()]},Oc:{name:"reauthenticateWithRedirect",j:[Wh()]},reload:{name:"reload",j:[]},ub:{name:"sendEmailVerification",j:[Gh(Fh("opt_actionCodeSettings",!0),qh(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[Lh(null,!0)]},cd:{name:"unlink",j:[Lh("provider")]},Bb:{name:"updateEmail",j:[Lh("email")]},Cb:{name:"updatePassword",j:[Lh("password")]},ed:{name:"updatePhoneNumber",j:[Bh("phone")]},Db:{name:"updateProfile",j:[Fh("profile")]},Eb:{name:"verifyBeforeUpdateEmail",j:[Lh("email"),Gh(Fh("opt_actionCodeSettings",!0),qh(null,!0),"opt_actionCodeSettings",!0)]}}),Qh(fh.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Qh(hh.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Qh(dt.prototype,{oa:{name:"finally"},o:{name:"catch"},then:{name:"then"}}),Yh(Wc.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",kb:Mh("appVerificationDisabledForTesting")}}),Qh(zc.prototype,{confirm:{name:"confirm",j:[Lh("verificationCode")]}}),$h(Zi,"fromJSON",(function(e){e="string"==typeof e?JSON.parse(e):e;for(var t,n=[ao,_o,Io,ro],r=0;r<n.length;r++)if(t=n[r](e))return t;return null}),[Gh(Lh(),Fh(),"json")]),$h(wo,"credential",(function(e,t){return new bo(e,t)}),[Lh("email"),Lh("password")]),Qh(bo.prototype,{w:{name:"toJSON",j:[Lh(null,!0)]}}),Qh(lo.prototype,{Ca:{name:"addScope",j:[Lh("scope")]},Ka:{name:"setCustomParameters",j:[Fh("customOAuthParameters")]}}),$h(lo,"credential",ho,[Gh(Lh(),Fh(),"token")]),$h(wo,"credentialWithLink",Eo,[Lh("email"),Lh("emailLink")]),Qh(fo.prototype,{Ca:{name:"addScope",j:[Lh("scope")]},Ka:{name:"setCustomParameters",j:[Fh("customOAuthParameters")]}}),$h(fo,"credential",po,[Gh(Lh(),Fh(),"token")]),Qh(vo.prototype,{Ca:{name:"addScope",j:[Lh("scope")]},Ka:{name:"setCustomParameters",j:[Fh("customOAuthParameters")]}}),$h(vo,"credential",yo,[Gh(Lh(),Gh(Fh(),qh()),"idToken"),Gh(Lh(),qh(),"accessToken",!0)]),Qh(go.prototype,{Ka:{name:"setCustomParameters",j:[Fh("customOAuthParameters")]}}),$h(go,"credential",mo,[Gh(Lh(),Fh(),"token"),Lh("secret",!0)]),Qh(co.prototype,{Ca:{name:"addScope",j:[Lh("scope")]},credential:{name:"credential",j:[Gh(Lh(),Gh(Fh(),qh()),"optionsOrIdToken"),Gh(Lh(),qh(),"accessToken",!0)]},Ka:{name:"setCustomParameters",j:[Fh("customOAuthParameters")]}}),Qh(io.prototype,{w:{name:"toJSON",j:[Lh(null,!0)]}}),Qh(to.prototype,{w:{name:"toJSON",j:[Lh(null,!0)]}}),$h(ko,"credential",Oo,[Lh("verificationId"),Lh("verificationCode")]),Qh(ko.prototype,{fb:{name:"verifyPhoneNumber",j:[Gh(Lh(),{name:"phoneInfoOptions",K:"valid phone info options",optional:!1,M:function(e){return!!e&&(e.session&&e.phoneNumber?zh(e.session,Xi)&&"string"==typeof e.phoneNumber:e.session&&e.multiFactorHint?zh(e.session,Ji)&&Hh(e.multiFactorHint):e.session&&e.multiFactorUid?zh(e.session,Ji)&&"string"==typeof e.multiFactorUid:!!e.phoneNumber&&"string"==typeof e.phoneNumber)}},"phoneInfoOptions"),Kh()]}}),Qh(To.prototype,{w:{name:"toJSON",j:[Lh(null,!0)]}}),Qh(S.prototype,{toJSON:{name:"toJSON",j:[Lh(null,!0)]}}),Qh(Mo.prototype,{toJSON:{name:"toJSON",j:[Lh(null,!0)]}}),Qh(Lo.prototype,{toJSON:{name:"toJSON",j:[Lh(null,!0)]}}),Qh($c.prototype,{toJSON:{name:"toJSON",j:[Lh(null,!0)]}}),Qh(Gc.prototype,{Rc:{name:"resolveSignIn",j:[Vh()]}}),Qh(nl.prototype,{Rb:{name:"getSession",j:[]},fc:{name:"enroll",j:[Vh(),Lh("displayName",!0)]},bd:{name:"unenroll",j:[Gh({name:"multiFactorInfo",K:"a valid multiFactorInfo",optional:!1,M:Hh},Lh(),"multiFactorInfoIdentifier")]}}),Qh(Ah.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),$h(hi,"parseLink",bi,[Lh("link")]),$h(mh,"assertion",(function(e){return new el(e)}),[Bh("phone")]),function(){if(void 0===Aa||!Aa.INTERNAL||!Aa.INTERNAL.registerComponent)throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var e={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Zr,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:Jr,VERIFY_AND_CHANGE_EMAIL:ei,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:Jl,AuthCredential:Zi,Error:S};$h(e,"EmailAuthProvider",wo,[]),$h(e,"FacebookAuthProvider",lo,[]),$h(e,"GithubAuthProvider",fo,[]),$h(e,"GoogleAuthProvider",vo,[]),$h(e,"TwitterAuthProvider",go,[]),$h(e,"OAuthProvider",co,[Lh("providerId")]),$h(e,"SAMLAuthProvider",uo,[Lh("providerId")]),$h(e,"PhoneAuthProvider",ko,[{name:"auth",K:"an instance of Firebase Auth",optional:!0,M:function(e){return!!(e&&e instanceof Jl)}}]),$h(e,"RecaptchaVerifier",Ah,[Gh(Lh(),{name:"",K:"an HTML element",optional:!1,M:function(e){return!!(e&&e instanceof Element)}},"recaptchaContainer"),Fh("recaptchaParameters",!0),{name:"app",K:"an instance of Firebase App",optional:!0,M:function(e){return!!(e&&e instanceof Aa.app.App)}}]),$h(e,"ActionCodeURL",hi,[]),$h(e,"PhoneMultiFactorGenerator",mh,[]),Aa.INTERNAL.registerComponent({name:"auth",instanceFactory:function(e){return new Jl(e=e.getProvider("app").getImmediate())},multipleInstances:!1,serviceProps:e,instantiationMode:"LAZY",type:"PUBLIC"}),Aa.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(e){return{getUid:b((e=e.getProvider("auth").getImmediate()).getUid,e),getToken:b(e.nc,e),addAuthTokenListener:b(e.cc,e),removeAuthTokenListener:b(e.Pc,e)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),Aa.registerVersion("@firebase/auth","0.16.5"),Aa.INTERNAL.extendNamespace({User:fl})}()}.apply("undefined"!=typeof t?t:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});var Da=(ja.prototype.set=function(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Ro(t))},ja.prototype.get=function(e){return null==(e=this.domStorage_.getItem(this.prefixedName_(e)))?null:No(e)},ja.prototype.remove=function(e){this.domStorage_.removeItem(this.prefixedName_(e))},ja.prototype.prefixedName_=function(e){return this.prefix_+e},ja.prototype.toString=function(){return this.domStorage_.toString()},ja);function ja(e){this.domStorage_=e,this.prefix_="firebase:"}var La=(Ma.prototype.set=function(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t},Ma.prototype.get=function(e){return Do(this.cache_,e)?this.cache_[e]:null},Ma.prototype.remove=function(e){delete this.cache_[e]},Ma);function Ma(){this.cache_={},this.isInMemoryStorage=!0}function Fa(e){var t=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i,o=e.charCodeAt(r);55296<=o&&o<=56319&&(i=o-55296,uo(++r<e.length,"Surrogate pair missing trail surrogate."),o=65536+(i<<10)+(e.charCodeAt(r)-56320)),o<128?t[n++]=o:(o<2048?t[n++]=o>>6|192:(o<65536?t[n++]=o>>12|224:(t[n++]=o>>18|240,t[n++]=o>>12&63|128),t[n++]=o>>6&63|128),t[n++]=63&o|128)}return t}(e);return(e=new Uo).update(t),e=e.digest(),lo.encodeByteArray(e)}function Ua(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE INTERNAL ERROR: "+Ya.apply(void 0,io([],ro(e)));Ga.error(n)}function qa(e){return"number"==typeof e&&(e!=e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)}function Ba(e,t){return e===t?0:e<t?-1:1}function Va(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+Ro(t))}function Wa(e,t){var n=e.length;if(n<=t)return[e];for(var r=[],i=0;i<n;i+=t)n<i+t?r.push(e.substring(i,n)):r.push(e.substring(i,i+t));return r}var za,Ha=(kn=function(e){try{if("undefined"!=typeof window&&void 0!==window[e]){var t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new Da(t)}}catch(e){}return new La})("localStorage"),Ka=kn("sessionStorage"),Ga=new va("@firebase/database"),Qa=(za=1,function(){return za++}),Ya=function e(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r="",i=0;i<t.length;i++){var o=t[i];Array.isArray(o)||o&&"object"==typeof o&&"number"==typeof o.length?r+=e.apply(null,o):r+="object"==typeof o?Ro(o):o,r+=" "}return r},$a=null,Xa=!0,Ja=function(e,t){uo(!t||!0===e||!1===e,"Can't turn on custom loggers persistently."),!0===e?(Ga.logLevel=ca.VERBOSE,$a=Ga.log.bind(Ga),t&&Ka.set("logging_enabled",!0)):"function"==typeof e?$a=e:($a=null,Ka.remove("logging_enabled"))},Za=function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];!0===Xa&&(Xa=!1,null===$a&&!0===Ka.get("logging_enabled")&&Ja(!0)),$a&&(e=Ya.apply(null,t),$a(e))},es=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];Za.apply(void 0,io([e],ro(t)))}},ts=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE FATAL ERROR: "+Ya.apply(void 0,io([],ro(e)));throw Ga.error(n),new Error(n)},ns=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE WARNING: "+Ya.apply(void 0,io([],ro(e)));Ga.warn(n)},rs="[MIN_NAME]",is="[MAX_NAME]",os=function(e,t){if(e===t)return 0;if(e===rs||t===is)return-1;if(t===rs||e===is)return 1;var n=ds(e),r=ds(t);return null!==n?null!==r?n-r==0?e.length-t.length:n-r:-1:null===r&&e<t?-1:1},as=function e(t){if("object"!=typeof t||null===t)return Ro(t);var n,r=[];for(n in t)r.push(n);r.sort();for(var i="{",o=0;o<r.length;o++)0!==o&&(i+=","),i+=Ro(r[o]),i+=":",i+=e(t[r[o]]);return i+"}"};function ss(e,t){for(var n in e)e.hasOwnProperty(n)&&t(n,e[n])}function us(e){var t,n,r,i;uo(!qa(e),"Invalid JSON number"),0===e?t=1/e==-1/(r=n=0)?1:0:(t=e<0,r=(e=Math.abs(e))>=Math.pow(2,-1022)?(n=(i=Math.min(Math.floor(Math.log(e)/Math.LN2),1023))+1023,Math.round(e*Math.pow(2,52-i)-Math.pow(2,52))):(n=0,Math.round(e/Math.pow(2,-1074))));for(var o=[],a=52;a;--a)o.push(r%2?1:0),r=Math.floor(r/2);for(a=11;a;--a)o.push(n%2?1:0),n=Math.floor(n/2);o.push(t?1:0),o.reverse();var s=o.join(""),u="";for(a=0;a<64;a+=8){var c=parseInt(s.substr(a,8),2).toString(16);u+=c=1===c.length?"0"+c:c}return u.toLowerCase()}function cs(e,t){return"object"==typeof(t=setTimeout(e,t))&&t.unref&&t.unref(),t}var ls=new RegExp("^-?(0*)\\d{1,10}$"),hs=-2147483648,fs=2147483647,ds=function(e){return ls.test(e)&&(e=Number(e),hs<=e&&e<=fs)?e:null},ps=function(e){try{e()}catch(r){setTimeout((function(){var t=r.stack||"";throw ns("Exception was thrown by user callback.",t),r}),Math.floor(0))}},vs=(ys.prototype.getToken=function(e){return this.auth_?this.auth_.getToken(e).catch((function(e){return e&&"auth/token-not-initialized"===e.code?(Za("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)})):Promise.resolve(null)},ys.prototype.addTokenChangeListener=function(e){this.auth_?this.auth_.addAuthTokenListener(e):(setTimeout((function(){return e(null)}),0),this.authProvider_.get().then((function(t){return t.addAuthTokenListener(e)})))},ys.prototype.removeTokenChangeListener=function(e){this.authProvider_.get().then((function(t){return t.removeAuthTokenListener(e)}))},ys.prototype.notifyForInvalidToken=function(){var e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',ns(e)},ys);function ys(e,t,n){var r=this;this.appName_=e,this.firebaseOptions_=t,this.authProvider_=n,this.auth_=null,this.auth_=n.getImmediate({optional:!0}),this.auth_||n.get().then((function(e){return r.auth_=e}))}var gs=(ms.prototype.getToken=function(e){return Promise.resolve({accessToken:ms.EMULATOR_AUTH_TOKEN})},ms.prototype.addTokenChangeListener=function(e){e(ms.EMULATOR_AUTH_TOKEN)},ms.prototype.removeTokenChangeListener=function(e){},ms.prototype.notifyForInvalidToken=function(){},ms.EMULATOR_AUTH_TOKEN="owner",ms);function ms(){}var bs=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,_s="websocket",ws="long_polling",Es=(Ss.prototype.isCacheableHost=function(){return"s-"===this.internalHost.substr(0,2)},Ss.prototype.isCustomHost=function(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain},Object.defineProperty(Ss.prototype,"host",{get:function(){return this._host},set:function(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Ha.set("host:"+this._host,this.internalHost))},enumerable:!1,configurable:!0}),Ss.prototype.toString=function(){var e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e},Ss.prototype.toURLString=function(){var e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?"?ns="+this.namespace:"";return e+this.host+"/"+t},Ss);function Ss(e,t,n,r,i,o,a){void 0===i&&(i=!1),void 0===o&&(o=""),void 0===a&&(a=!1),this.secure=t,this.namespace=n,this.webSocketOnly=r,this.nodeAdmin=i,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Ha.get("host:"+e)||this._host}function Ts(e,t,n){var r;if(uo("string"==typeof t,"typeof type must == string"),uo("object"==typeof n,"typeof params must == object"),t===_s)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else{if(t!==ws)throw new Error("Unknown connection type: "+t);r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?"}((t=e).host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams)&&(n.ns=e.namespace);var i=[];return ss(n,(function(e,t){i.push(e+"="+t)})),r+i.join("&")}var Is=(Cs.prototype.incrementCounter=function(e,t){void 0===t&&(t=1),Do(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t},Cs.prototype.get=function(){return ho(this.counters_)},Cs);function Cs(){this.counters_={}}var ks={},Os={};function xs(e){return e=e.toString(),ks[e]||(ks[e]=new Is),ks[e]}var Ps=(Ns.prototype.closeAfter=function(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)},Ns.prototype.handleResponse=function(e,t){var n=this;this.pendingResponses[e]=t;for(var r=this;this.pendingResponses[this.currentResponseNum]&&"break"!==function(){var e=r.pendingResponses[r.currentResponseNum];delete r.pendingResponses[r.currentResponseNum];for(var t=0;t<e.length;++t)!function(t){e[t]&&ps((function(){n.onMessage_(e[t])}))}(t);if(r.currentResponseNum===r.closeAfterResponse)return r.onClose&&(r.onClose(),r.onClose=null),"break";r.currentResponseNum++}(););},Ns);function Ns(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}var Rs="pLPCommand",As="pRTLPCB",Ds=(js.prototype.open=function(e,t){var n,r,i,o=this;this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new Ps(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout((function(){o.log_("Timed out trying to connect."),o.onClosed_(),o.connectTimeoutTimer_=null}),Math.floor(3e4)),n=function(){var e;o.isClosed_||(o.scriptTagHolder=new Ls((function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=ro(e,5),r=n[0],i=n[1],a=n[2];if(n[3],n[4],o.incrementIncomingBytes_(e),o.scriptTagHolder)if(o.connectTimeoutTimer_&&(clearTimeout(o.connectTimeoutTimer_),o.connectTimeoutTimer_=null),o.everConnected_=!0,"start"===r)o.id=i,o.password=a;else{if("close"!==r)throw new Error("Unrecognized command received: "+r);i?(o.scriptTagHolder.sendNewPolls=!1,o.myPacketOrderer.closeAfter(i,(function(){o.onClosed_()}))):o.onClosed_()}}),(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=(r=ro(e,2))[0],r=r[1];o.incrementIncomingBytes_(e),o.myPacketOrderer.handleResponse(n,r)}),(function(){o.onClosed_()}),o.urlFn),(e={start:"t"}).ser=Math.floor(1e8*Math.random()),o.scriptTagHolder.uniqueCallbackIdentifier&&(e.cb=o.scriptTagHolder.uniqueCallbackIdentifier),e.v="5",o.transportSessionId&&(e.s=o.transportSessionId),o.lastSessionId&&(e.ls=o.lastSessionId),o.applicationId&&(e.p=o.applicationId),"undefined"!=typeof location&&location.hostname&&bs.test(location.hostname)&&(e.r="f"),e=o.urlFn(e),o.log_("Connecting via long-poll to "+e),o.scriptTagHolder.addTag(e,(function(){})))},"complete"===document.readyState?n():(r=!1,i=function(){document.body?r||(r=!0,n()):setTimeout(i,Math.floor(10))},document.addEventListener?(document.addEventListener("DOMContentLoaded",i,!1),window.addEventListener("load",i,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",(function(){"complete"===document.readyState&&i()})),window.attachEvent("onload",i)))},js.prototype.start=function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)},js.forceAllow=function(){js.forceAllow_=!0},js.forceDisallow=function(){js.forceDisallow_=!0},js.isAvailable=function(){return!!js.forceAllow_||!(js.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI)},js.prototype.markConnectionHealthy=function(){},js.prototype.shutdown_=function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)},js.prototype.onClosed_=function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))},js.prototype.close=function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())},js.prototype.send=function(e){e=Ro(e),this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);for(var t=Wa(e=function(e){return e=oo(e),lo.encodeByteArray(e,!0)}(e),1840),n=0;n<t.length;n++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,t.length,t[n]),this.curSegmentNum++},js.prototype.addDisconnectPingFrame=function(e,t){this.myDisconnFrame=document.createElement("iframe");var n={dframe:"t"};n.id=e,n.pw=t,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)},js.prototype.incrementIncomingBytes_=function(e){e=Ro(e).length,this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)},js);function js(e,t,n,r,i){this.connId=e,this.repoInfo=t,this.applicationId=n,this.transportSessionId=r,this.lastSessionId=i,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=es(e),this.stats_=xs(t),this.urlFn=function(e){return Ts(t,ws,e)}}var Ls=(Ms.createIFrame_=function(){var t=document.createElement("iframe");if(t.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(t);try{t.contentWindow.document||Za("No IE domain setting required")}catch(e){var n=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+n+"';document.close();})())"}return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t},Ms.prototype.close=function(){var e=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout((function(){null!==e.myIFrame&&(document.body.removeChild(e.myIFrame),e.myIFrame=null)}),Math.floor(0)));var t=this.onDisconnect;t&&(this.onDisconnect=null,t())},Ms.prototype.startLongPoll=function(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););},Ms.prototype.newRequest_=function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(0<this.pendingSegs.length?2:1)){this.currentSerial++,(e={}).id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;for(var e=this.urlFn(e),t="",n=0;0<this.pendingSegs.length&&this.pendingSegs[0].d.length+30+t.length<=1870;){var r=this.pendingSegs.shift();t=t+"&seg"+n+"="+r.seg+"&ts"+n+"="+r.ts+"&d"+n+"="+r.d,n++}return e+=t,this.addLongPollTag_(e,this.currentSerial),!0}return!1},Ms.prototype.enqueueSegment=function(e,t,n){this.pendingSegs.push({seg:e,ts:t,d:n}),this.alive&&this.newRequest_()},Ms.prototype.addLongPollTag_=function(e,t){var n=this;function r(){n.outstandingRequests.delete(t),n.newRequest_()}this.outstandingRequests.add(t);var i=setTimeout(r,Math.floor(25e3));this.addTag(e,(function(){clearTimeout(i),r()}))},Ms.prototype.addTag=function(e,t){var n=this;setTimeout((function(){try{if(!n.sendNewPolls)return;var r=n.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){var e=r.readyState;e&&"loaded"!==e&&"complete"!==e||(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),t())},r.onerror=function(){Za("Long-poll script failed to load: "+e),n.sendNewPolls=!1,n.close()},n.myIFrame.doc.body.appendChild(r)}catch(e){}}),Math.floor(1))},Ms);function Ms(e,t,n,r){this.onDisconnect=n,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,this.uniqueCallbackIdentifier=Qa(),window[Rs+this.uniqueCallbackIdentifier]=e,window[As+this.uniqueCallbackIdentifier]=t,this.myIFrame=Ms.createIFrame_(),t="";var i="<html><body>"+(t=this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length)?'<script>document.domain="'+document.domain+'";<\/script>':t)+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(i),this.myIFrame.doc.close()}catch(e){Za("frame writing exception"),e.stack&&Za(e.stack),Za(e)}}var Fs="";function Us(e){Fs=e}var qs=null;"undefined"!=typeof MozWebSocket?qs=MozWebSocket:"undefined"!=typeof WebSocket&&(qs=WebSocket);var Bs=(Vs.connectionURL_=function(e,t,n){var r={v:"5"};return"undefined"!=typeof location&&location.hostname&&bs.test(location.hostname)&&(r.r="f"),t&&(r.s=t),n&&(r.ls=n),Ts(e,_s,r)},Vs.prototype.open=function(e,t){var n,r=this;this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Ha.set("previous_websocket_failure",!0);try{_o()||(n={headers:{"X-Firebase-GMPID":this.applicationId||""}},this.mySock=new qs(this.connURL,[],n))}catch(t){return this.log_("Error instantiating WebSocket."),(e=t.message||t.data)&&this.log_(e),void this.onClosed_()}this.mySock.onopen=function(){r.log_("Websocket connected."),r.everConnected_=!0},this.mySock.onclose=function(){r.log_("Websocket connection was disconnected."),r.mySock=null,r.onClosed_()},this.mySock.onmessage=function(e){r.handleIncomingFrame(e)},this.mySock.onerror=function(e){r.log_("WebSocket error.  Closing connection."),(e=e.message||e.data)&&r.log_(e),r.onClosed_()}},Vs.prototype.start=function(){},Vs.forceDisallow=function(){Vs.forceDisallow_=!0},Vs.isAvailable=function(){var e,t=!1;return"undefined"!=typeof navigator&&navigator.userAgent&&(e=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/))&&1<e.length&&parseFloat(e[1])<4.4&&(t=!0),!t&&null!==qs&&!Vs.forceDisallow_},Vs.previouslyFailed=function(){return Ha.isInMemoryStorage||!0===Ha.get("previous_websocket_failure")},Vs.prototype.markConnectionHealthy=function(){Ha.remove("previous_websocket_failure")},Vs.prototype.appendFrame_=function(e){this.frames.push(e),this.frames.length===this.totalFrames&&(e=this.frames.join(""),this.frames=null,e=No(e),this.onMessage(e))},Vs.prototype.handleNewFrameCount_=function(e){this.totalFrames=e,this.frames=[]},Vs.prototype.extractFrameCount_=function(e){if(uo(null===this.frames,"We already have a frame buffer"),e.length<=6){var t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e},Vs.prototype.handleIncomingFrame=function(e){null!==this.mySock&&(e=e.data,this.bytesReceived+=e.length,this.stats_.incrementCounter("bytes_received",e.length),this.resetKeepAlive(),(null!==this.frames||null!==(e=this.extractFrameCount_(e)))&&this.appendFrame_(e))},Vs.prototype.send=function(e){this.resetKeepAlive(),e=Ro(e),this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);var t=Wa(e,16384);1<t.length&&this.sendString_(String(t.length));for(var n=0;n<t.length;n++)this.sendString_(t[n])},Vs.prototype.shutdown_=function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)},Vs.prototype.onClosed_=function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))},Vs.prototype.close=function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())},Vs.prototype.resetKeepAlive=function(){var e=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval((function(){e.mySock&&e.sendString_("0"),e.resetKeepAlive()}),Math.floor(45e3))},Vs.prototype.sendString_=function(e){try{this.mySock.send(e)}catch(e){this.log_("Exception thrown from WebSocket.send():",e.message||e.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}},Vs.responsesRequiredToBeHealthy=2,Vs.healthyTimeout=3e4,Vs);function Vs(e,t,n,r,i){this.connId=e,this.applicationId=n,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=es(this.connId),this.stats_=xs(t),this.connURL=Vs.connectionURL_(t,r,i),this.nodeAdmin=t.nodeAdmin}var Ws=(Object.defineProperty(zs,"ALL_TRANSPORTS",{get:function(){return[Ds,Bs]},enumerable:!1,configurable:!0}),zs.prototype.initTransports_=function(e){var t,n,r=Bs&&Bs.isAvailable(),i=r&&!Bs.previouslyFailed();if(e.webSocketOnly&&(r||ns("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[Bs];else{var o=this.transports_=[];try{for(var a=no(zs.ALL_TRANSPORTS),s=a.next();!s.done;s=a.next()){var u=s.value;u&&u.isAvailable()&&o.push(u)}}catch(e){t={error:e}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}}},zs.prototype.initialTransport=function(){if(0<this.transports_.length)return this.transports_[0];throw new Error("No transports available")},zs.prototype.upgradeTransport=function(){return 1<this.transports_.length?this.transports_[1]:null},zs);function zs(e){this.initTransports_(e)}var Hs=(Ks.prototype.start_=function(){var e=this,t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,void 0,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout((function(){e.conn_&&e.conn_.open(n,r)}),Math.floor(0)),0<(t=t.healthyTimeout||0)&&(this.healthyTimeout_=cs((function(){e.healthyTimeout_=null,e.isHealthy_||(e.conn_&&102400<e.conn_.bytesReceived?(e.log_("Connection exceeded healthy timeout but has received "+e.conn_.bytesReceived+" bytes.  Marking connection healthy."),e.isHealthy_=!0,e.conn_.markConnectionHealthy()):e.conn_&&10240<e.conn_.bytesSent?e.log_("Connection exceeded healthy timeout but has sent "+e.conn_.bytesSent+" bytes.  Leaving connection alive."):(e.log_("Closing unhealthy connection after timeout."),e.close()))}),Math.floor(t)))},Ks.prototype.nextTransportId_=function(){return"c:"+this.id+":"+this.connectionCount++},Ks.prototype.disconnReceiver_=function(e){var t=this;return function(n){e===t.conn_?t.onConnectionLost_(n):e===t.secondaryConn_?(t.log_("Secondary connection lost."),t.onSecondaryConnectionLost_()):t.log_("closing an old connection")}},Ks.prototype.connReceiver_=function(e){var t=this;return function(n){2!==t.state_&&(e===t.rx_?t.onPrimaryMessageReceived_(n):e===t.secondaryConn_?t.onSecondaryMessageReceived_(n):t.log_("message on old connection"))}},Ks.prototype.sendRequest=function(e){e={t:"d",d:e},this.sendData_(e)},Ks.prototype.tryCleanupConnection=function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)},Ks.prototype.onSecondaryControl_=function(e){"t"in e&&("a"===(e=e.t)?this.upgradeIfSecondaryHealthy_():"r"===e?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===e&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_()))},Ks.prototype.onSecondaryMessageReceived_=function(e){var t=Va("t",e);if(e=Va("d",e),"c"===t)this.onSecondaryControl_(e);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(e)}},Ks.prototype.upgradeIfSecondaryHealthy_=function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))},Ks.prototype.proceedWithUpgrade_=function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()},Ks.prototype.onPrimaryMessageReceived_=function(e){var t=Va("t",e);e=Va("d",e),"c"===t?this.onControl_(e):"d"===t&&this.onDataMessage_(e)},Ks.prototype.onDataMessage_=function(e){this.onPrimaryResponse_(),this.onMessage_(e)},Ks.prototype.onPrimaryResponse_=function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))},Ks.prototype.onControl_=function(e){var t=Va("t",e);if("d"in e)if(e=e.d,"h"===t)this.onHandshake_(e);else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var n=0;n<this.pendingDataMessages.length;++n)this.onDataMessage_(this.pendingDataMessages[n]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(e):"r"===t?this.onReset_(e):"e"===t?Ua("Server Error: "+e):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Ua("Unknown control packet command: "+t)},Ks.prototype.onHandshake_=function(e){var t=e.ts,n=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),"5"!==n&&ns("Protocol version mismatch detected"),this.tryStartUpgrade_())},Ks.prototype.tryStartUpgrade_=function(){var e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)},Ks.prototype.startUpgrade_=function(e){var t=this;this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.secondaryConn_);e=this.disconnReceiver_(this.secondaryConn_),this.secondaryConn_.open(n,e),cs((function(){t.secondaryConn_&&(t.log_("Timed out trying to upgrade."),t.secondaryConn_.close())}),Math.floor(6e4))},Ks.prototype.onReset_=function(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())},Ks.prototype.onConnectionEstablished_=function(e,t){var n=this;this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):cs((function(){n.sendPingOnPrimaryIfNecessary_()}),Math.floor(5e3))},Ks.prototype.sendPingOnPrimaryIfNecessary_=function(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))},Ks.prototype.onSecondaryConnectionLost_=function(){var e=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==e&&this.rx_!==e||this.close()},Ks.prototype.onConnectionLost_=function(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Ha.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()},Ks.prototype.onConnectionShutdown_=function(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()},Ks.prototype.sendData_=function(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)},Ks.prototype.close=function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))},Ks.prototype.closeConnections_=function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)},Ks);function Ks(e,t,n,r,i,o,a,s){this.id=e,this.repoInfo_=t,this.applicationId_=n,this.onMessage_=r,this.onReady_=i,this.onDisconnect_=o,this.onKill_=a,this.lastSessionId=s,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=es("c:"+this.id+":"),this.transportManager_=new Ws(t),this.log_("Connection created"),this.start_()}function Gs(){}Gs.prototype.put=function(e,t,n,r){},Gs.prototype.merge=function(e,t,n,r){},Gs.prototype.refreshAuthToken=function(e){},Gs.prototype.onDisconnectPut=function(e,t,n){},Gs.prototype.onDisconnectMerge=function(e,t,n){},Gs.prototype.onDisconnectCancel=function(e,t){},Gs.prototype.reportStats=function(e){},K=Gs;var Qs=(Ys.prototype.trigger=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Array.isArray(this.listeners_[e]))for(var r=io([],ro(this.listeners_[e])),i=0;i<r.length;i++)r[i].callback.apply(r[i].context,t)},Ys.prototype.on=function(e,t,n){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:n}),(e=this.getInitialEvent(e))&&t.apply(n,e)},Ys.prototype.off=function(e,t,n){this.validateEventType_(e);for(var r=this.listeners_[e]||[],i=0;i<r.length;i++)if(r[i].callback===t&&(!n||n===r[i].context))return void r.splice(i,1)},Ys.prototype.validateEventType_=function(e){uo(this.allowedEvents_.find((function(t){return t===e})),"Unknown event: "+e)},Ys);function Ys(e){this.allowedEvents_=e,this.listeners_={},uo(Array.isArray(e)&&0<e.length,"Requires a non-empty array")}var $s,Xs=(Ji(Js,$s=Qs),Js.getInstance=function(){return new Js},Js.prototype.getInitialEvent=function(e){return uo("online"===e,"Unknown event type: "+e),[this.online_]},Js.prototype.currentlyOnline=function(){return this.online_},Js);function Js(){var e=$s.call(this,["online"])||this;return e.online_=!0,"undefined"==typeof window||void 0===window.addEventListener||go()||(window.addEventListener("online",(function(){e.online_||(e.online_=!0,e.trigger("online",!0))}),!1),window.addEventListener("offline",(function(){e.online_&&(e.online_=!1,e.trigger("online",!1))}),!1)),e}var Zs=32,eu=768,tu=(nu.prototype.toString=function(){for(var e="",t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"},nu);function nu(e,t){if(void 0===t){this.pieces_=e.split("/");for(var n=0,r=0;r<this.pieces_.length;r++)0<this.pieces_[r].length&&(this.pieces_[n]=this.pieces_[r],n++);this.pieces_.length=n,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}function ru(){return new tu("")}function iu(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function ou(e){return e.pieces_.length-e.pieceNum_}function au(e){var t=e.pieceNum_;return t<e.pieces_.length&&t++,new tu(e.pieces_,t)}function su(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function uu(e,t){return void 0===t&&(t=0),e.pieces_.slice(e.pieceNum_+t)}function cu(e){if(e.pieceNum_>=e.pieces_.length)return null;for(var t=[],n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new tu(t,0)}function lu(e,t){for(var n=[],r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof tu)for(r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);else{var i=t.split("/");for(r=0;r<i.length;r++)0<i[r].length&&n.push(i[r])}return new tu(n,0)}function hu(e){return e.pieceNum_>=e.pieces_.length}function fu(e,t){var n=iu(e),r=iu(t);if(null===n)return t;if(n===r)return fu(au(e),au(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function du(e,t){for(var n=uu(e,0),r=uu(t,0),i=0;i<n.length&&i<r.length;i++){var o=os(n[i],r[i]);if(0!==o)return o}return n.length===r.length?0:n.length<r.length?-1:1}function pu(e,t){if(ou(e)!==ou(t))return!1;for(var n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function vu(e,t){var n=e.pieceNum_,r=t.pieceNum_;if(ou(e)>ou(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}var yu=function(e,t){this.errorPrefix_=t,this.parts_=uu(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(var n=0;n<this.parts_.length;n++)this.byteLength_+=Yo(this.parts_[n]);gu(this)};function gu(e){if(e.byteLength_>eu)throw new Error(e.errorPrefix_+"has a key path longer than "+eu+" bytes ("+e.byteLength_+").");if(e.parts_.length>Zs)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+Zs+") or object contains a cycle "+mu(e))}function mu(e){return 0===e.parts_.length?"":"in property '"+e.parts_.join(".")+"'"}var bu,_u=(Ji(wu,bu=Qs),wu.getInstance=function(){return new wu},wu.prototype.getInitialEvent=function(e){return uo("visible"===e,"Unknown event type: "+e),[this.visible_]},wu);function wu(){var e,t,n=bu.call(this,["visible"])||this;return"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(t="visibilitychange",e="hidden"):void 0!==document.mozHidden?(t="mozvisibilitychange",e="mozHidden"):void 0!==document.msHidden?(t="msvisibilitychange",e="msHidden"):void 0!==document.webkitHidden&&(t="webkitvisibilitychange",e="webkitHidden")),n.visible_=!0,t&&document.addEventListener(t,(function(){var t=!document[e];t!==n.visible_&&(n.visible_=t,n.trigger("visible",t))}),!1),n}var Eu,Su=1e3,Tu=3e5,Iu=(Ji(Cu,Eu=K),Cu.prototype.sendRequest=function(e,t,n){var r=++this.requestNumber_;t={r:r,a:e,b:t},this.log_(Ro(t)),uo(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(t),n&&(this.requestCBHash_[r]=n)},Cu.prototype.get=function(e){var t=this,n=new po,r={p:e._path.toString(),q:e._queryObject},i={action:"g",request:r,onComplete:function(e){var i=e.d;"ok"===e.s?(t.onDataUpdate_(r.p,i,!1,null),n.resolve(i)):n.reject(i)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;var o=this.outstandingGets_.length-1;return this.connected_||setTimeout((function(){var e=t.outstandingGets_[o];void 0!==e&&i===e&&(delete t.outstandingGets_[o],t.outstandingGetCount_--,0===t.outstandingGetCount_&&(t.outstandingGets_=[]),t.log_("get "+o+" timed out on connection"),n.reject(new Error("Client is offline.")))}),3e3),this.connected_&&this.sendGet_(o),n.promise},Cu.prototype.listen=function(e,t,n,r){var i=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+i),this.listens.has(o)||this.listens.set(o,new Map),uo(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),uo(!this.listens.get(o).has(i),"listen() called twice for same path/queryId."),n={onComplete:r,hashFn:t,query:e,tag:n},this.listens.get(o).set(i,n),this.connected_&&this.sendListen_(n)},Cu.prototype.sendGet_=function(e){var t=this,n=this.outstandingGets_[e];this.sendRequest("g",n.request,(function(r){delete t.outstandingGets_[e],t.outstandingGetCount_--,0===t.outstandingGetCount_&&(t.outstandingGets_=[]),n.onComplete&&n.onComplete(r)}))},Cu.prototype.sendListen_=function(e){var t=this,n=e.query,r=n._path.toString(),i=n._queryIdentifier;this.log_("Listen on "+r+" for "+i);var o={p:r};e.tag&&(o.q=n._queryObject,o.t=e.tag),o.h=e.hashFn(),this.sendRequest("q",o,(function(o){var a=o.d,s=o.s;Cu.warnOnListenWarnings_(a,n),(t.listens.get(r)&&t.listens.get(r).get(i))===e&&(t.log_("listen response",o),"ok"!==s&&t.removeListen_(r,i),e.onComplete&&e.onComplete(s,a))}))},Cu.warnOnListenWarnings_=function(e,t){e&&"object"==typeof e&&Do(e,"w")&&(e=jo(e,"w"),Array.isArray(e)&&~e.indexOf("no_index")&&(e='".indexOn": "'+t._queryParams.getIndex().toString()+'"',t=t._path.toString(),ns("Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding "+e+" at "+t+" to your security rules for better performance.")))},Cu.prototype.refreshAuthToken=function(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},(function(){})),this.reduceReconnectDelayIfAdminCredential_(e)},Cu.prototype.reduceReconnectDelayIfAdminCredential_=function(e){(e&&40===e.length||function(e){return"object"==typeof(e=Ao(e).claims)&&!0===e.admin}(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)},Cu.prototype.tryAuth=function(){var e,t,n,r=this;this.connected_&&this.authToken_&&(t=function(e){return!!(e=Ao(e).claims)&&"object"==typeof e&&e.hasOwnProperty("iat")}(e=this.authToken_)?"auth":"gauth",n={cred:e},null===this.authOverride_?n.noauth=!0:"object"==typeof this.authOverride_&&(n.authvar=this.authOverride_),this.sendRequest(t,n,(function(t){var n=t.s;t=t.d||"error",r.authToken_===e&&("ok"===n?r.invalidAuthTokenCount_=0:r.onAuthRevoked_(n,t))})))},Cu.prototype.unlisten=function(e,t){var n=e._path.toString(),r=e._queryIdentifier;this.log_("Unlisten called for "+n+" "+r),uo(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,e._queryObject,t)},Cu.prototype.sendUnlisten_=function(e,t,n,r){this.log_("Unlisten on "+e+" for "+t),e={p:e},r&&(e.q=n,e.t=r),this.sendRequest("n",e)},Cu.prototype.onDisconnectPut=function(e,t,n){this.connected_?this.sendOnDisconnect_("o",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:n})},Cu.prototype.onDisconnectMerge=function(e,t,n){this.connected_?this.sendOnDisconnect_("om",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:n})},Cu.prototype.onDisconnectCancel=function(e,t){this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})},Cu.prototype.sendOnDisconnect_=function(e,t,n,r){n={p:t,d:n},this.log_("onDisconnect "+e,n),this.sendRequest(e,n,(function(e){r&&setTimeout((function(){r(e.s,e.d)}),Math.floor(0))}))},Cu.prototype.put=function(e,t,n,r){this.putInternal("p",e,t,n,r)},Cu.prototype.merge=function(e,t,n,r){this.putInternal("m",e,t,n,r)},Cu.prototype.putInternal=function(e,t,n,r,i){n={p:t,d:n},void 0!==i&&(n.h=i),this.outstandingPuts_.push({action:e,request:n,onComplete:r}),this.outstandingPutCount_++,r=this.outstandingPuts_.length-1,this.connected_?this.sendPut_(r):this.log_("Buffering put: "+t)},Cu.prototype.sendPut_=function(e){var t=this,n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,(function(r){t.log_(n+" response",r),delete t.outstandingPuts_[e],t.outstandingPutCount_--,0===t.outstandingPutCount_&&(t.outstandingPuts_=[]),i&&i(r.s,r.d)}))},Cu.prototype.reportStats=function(e){var t=this;this.connected_&&(e={c:e},this.log_("reportStats",e),this.sendRequest("s",e,(function(e){"ok"!==e.s&&(e=e.d,t.log_("reportStats","Error sending stats: "+e))})))},Cu.prototype.onDataMessage_=function(e){if("r"in e){this.log_("from server: "+Ro(e));var t=e.r,n=this.requestCBHash_[t];n&&(delete this.requestCBHash_[t],n(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}},Cu.prototype.onDataPush_=function(e,t){this.log_("handleServerMessage",e,t),"d"===e?this.onDataUpdate_(t.p,t.d,!1,t.t):"m"===e?this.onDataUpdate_(t.p,t.d,!0,t.t):"c"===e?this.onListenRevoked_(t.p,t.q):"ac"===e?this.onAuthRevoked_(t.s,t.d):"sd"===e?this.onSecurityDebugPacket_(t):Ua("Unrecognized action received from server: "+Ro(e)+"\nAre you using the latest client?")},Cu.prototype.onReady_=function(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)},Cu.prototype.scheduleConnect_=function(e){var t=this;uo(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout((function(){t.establishConnectionTimer_=null,t.establishConnection_()}),Math.floor(e))},Cu.prototype.onVisible_=function(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Su,this.realtime_||this.scheduleConnect_(0)),this.visible_=e},Cu.prototype.onOnline_=function(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Su,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())},Cu.prototype.onRealtimeDisconnect_=function(){var e;this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()&&(this.visible_?this.lastConnectionEstablishedTime_&&(3e4<(new Date).getTime()-this.lastConnectionEstablishedTime_&&(this.reconnectDelay_=Su),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime()),e=(new Date).getTime()-this.lastConnectionAttemptTime_,e=Math.max(0,this.reconnectDelay_-e),e=Math.random()*e,this.log_("Trying to reconnect in "+e+"ms"),this.scheduleConnect_(e),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)),this.onConnectStatus_(!1)},Cu.prototype.establishConnection_=function(){var e,t,n,r,i,o,a,s,u,c=this;this.shouldReconnect_()&&(this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null,e=this.onDataMessage_.bind(this),t=this.onReady_.bind(this),n=this.onRealtimeDisconnect_.bind(this),r=this.id+":"+Cu.nextConnectionId_++,i=this.lastSessionId,o=!1,a=null,s=function(){a?a.close():(o=!0,n())},this.realtime_={close:s,sendRequest:function(e){uo(a,"sendRequest call when we're not connected not allowed."),a.sendRequest(e)}},u=this.forceTokenRefresh_,this.forceTokenRefresh_=!1,this.authTokenProvider_.getToken(u).then((function(s){o?Za("getToken() completed but was canceled"):(Za("getToken() completed. Creating connection."),c.authToken_=s&&s.accessToken,a=new Hs(r,c.repoInfo_,c.applicationId_,e,t,n,(function(e){ns(e+" ("+c.repoInfo_.toString()+")"),c.interrupt("server_kill")}),i))})).then(null,(function(e){c.log_("Failed to get token: "+e),o||(c.repoInfo_.nodeAdmin&&ns(e),s())})))},Cu.prototype.interrupt=function(e){Za("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())},Cu.prototype.resume=function(e){Za("Resuming connection for reason: "+e),delete this.interruptReasons_[e],Lo(this.interruptReasons_)&&(this.reconnectDelay_=Su,this.realtime_||this.scheduleConnect_(0))},Cu.prototype.handleTimestamp_=function(e){e-=(new Date).getTime(),this.onServerInfoUpdate_({serverTimeOffset:e})},Cu.prototype.cancelSentTransactions_=function(){for(var e=0;e<this.outstandingPuts_.length;e++){var t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])},Cu.prototype.onListenRevoked_=function(e,t){t=t?t.map((function(e){return as(e)})).join("$"):"default",(t=this.removeListen_(e,t))&&t.onComplete&&t.onComplete("permission_denied")},Cu.prototype.removeListen_=function(e,t){var n,r=new tu(e).toString();return this.listens.has(r)?(n=(e=this.listens.get(r)).get(t),e.delete(t),0===e.size&&this.listens.delete(r)):n=void 0,n},Cu.prototype.onAuthRevoked_=function(e,t){Za("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAuthTokenCount_++,3<=this.invalidAuthTokenCount_&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))},Cu.prototype.onSecurityDebugPacket_=function(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))},Cu.prototype.restoreState_=function(){var e,t,n,r;this.tryAuth();try{for(var i=no(this.listens.values()),o=i.next();!o.done;o=i.next()){var a=o.value;try{for(var s=(n=void 0,no(a.values())),u=s.next();!u.done;u=s.next()){var c=u.value;this.sendListen_(c)}}catch(t){n={error:t}}finally{try{u&&!u.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}}}catch(t){e={error:t}}finally{try{o&&!o.done&&(t=i.return)&&t.call(i)}finally{if(e)throw e.error}}for(var l=0;l<this.outstandingPuts_.length;l++)this.outstandingPuts_[l]&&this.sendPut_(l);for(;this.onDisconnectRequestQueue_.length;){var h=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(h.action,h.pathString,h.data,h.onComplete)}for(l=0;l<this.outstandingGets_.length;l++)this.outstandingGets_[l]&&this.sendGet_(l)},Cu.prototype.sendConnectStats_=function(){var e={};e["sdk.js."+Fs.replace(/\./g,"-")]=1,go()?e["framework.cordova"]=1:bo()&&(e["framework.reactnative"]=1),this.reportStats(e)},Cu.prototype.shouldReconnect_=function(){var e=Xs.getInstance().currentlyOnline();return Lo(this.interruptReasons_)&&e},Cu.nextPersistentConnectionId_=0,Cu.nextConnectionId_=0,Cu);function Cu(e,t,n,r,i,o,a){var s=Eu.call(this)||this;if(s.repoInfo_=e,s.applicationId_=t,s.onDataUpdate_=n,s.onConnectStatus_=r,s.onServerInfoUpdate_=i,s.authTokenProvider_=o,s.authOverride_=a,s.id=Cu.nextPersistentConnectionId_++,s.log_=es("p:"+s.id+":"),s.interruptReasons_={},s.listens=new Map,s.outstandingPuts_=[],s.outstandingGets_=[],s.outstandingPutCount_=0,s.outstandingGetCount_=0,s.onDisconnectRequestQueue_=[],s.connected_=!1,s.reconnectDelay_=Su,s.maxReconnectDelay_=Tu,s.securityDebugCallback_=null,s.lastSessionId=null,s.establishConnectionTimer_=null,s.visible_=!1,s.requestCBHash_={},s.requestNumber_=0,s.realtime_=null,s.authToken_=null,s.forceTokenRefresh_=!1,s.invalidAuthTokenCount_=0,s.firstConnection_=!0,s.lastConnectionAttemptTime_=null,s.lastConnectionEstablishedTime_=null,a&&!_o())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return s.scheduleConnect_(0),_u.getInstance().on("visible",s.onVisible_,s),-1===e.host.indexOf("fblocal")&&Xs.getInstance().on("online",s.onOnline_,s),s}var ku,Ou,xu=(Pu.Wrap=function(e,t){return new Pu(e,t)},Pu);function Pu(e,t){this.name=e,this.node=t}function Nu(){}function Ru(){return null!==Ou&&Ou.apply(this,arguments)||this}Nu.prototype.getCompare=function(){return this.compare.bind(this)},Nu.prototype.indexedValueChanged=function(e,t){return e=new xu(rs,e),t=new xu(rs,t),0!==this.compare(e,t)},Nu.prototype.minPost=function(){return xu.MIN};var Au=new(Ji(Ru,Ou=H=Nu),Object.defineProperty(Ru,"__EMPTY_NODE",{get:function(){return ku},set:function(e){ku=e},enumerable:!1,configurable:!0}),Ru.prototype.compare=function(e,t){return os(e.name,t.name)},Ru.prototype.isDefinedOn=function(e){throw co("KeyIndex.isDefinedOn not expected to be called.")},Ru.prototype.indexedValueChanged=function(e,t){return!1},Ru.prototype.minPost=function(){return xu.MIN},Ru.prototype.maxPost=function(){return new xu(is,ku)},Ru.prototype.makePost=function(e,t){return uo("string"==typeof e,"KeyIndex indexValue must always be a string."),new xu(e,ku)},Ru.prototype.toString=function(){return".key"},kn=Ru),Du=(ju.prototype.getNext=function(){if(0===this.nodeStack_.length)return null;var e=this.nodeStack_.pop(),t=this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value};if(this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t},ju.prototype.hasNext=function(){return 0<this.nodeStack_.length},ju.prototype.peek=function(){if(0===this.nodeStack_.length)return null;var e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}},ju);function ju(e,t,n,r,i){void 0===i&&(i=null),this.isReverse_=r,this.resultGenerator_=i,this.nodeStack_=[];for(var o=1;!e.isEmpty();)if(o=t?n(e.key,t):1,r&&(o*=-1),o<0)e=this.isReverse_?e.left:e.right;else{if(0===o){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}var Lu=(Mu.prototype.copy=function(e,t,n,r,i){return new Mu(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)},Mu.prototype.count=function(){return this.left.count()+1+this.right.count()},Mu.prototype.isEmpty=function(){return!1},Mu.prototype.inorderTraversal=function(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)},Mu.prototype.reverseTraversal=function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)},Mu.prototype.min_=function(){return this.left.isEmpty()?this:this.left.min_()},Mu.prototype.minKey=function(){return this.min_().key},Mu.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},Mu.prototype.insert=function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp_()},Mu.prototype.removeMin_=function(){if(this.left.isEmpty())return qu.EMPTY_NODE;var e=this;return(e=(e=e.left.isRed_()||e.left.left.isRed_()?e:e.moveRedLeft_()).copy(null,null,null,e.left.removeMin_(),null)).fixUp_()},Mu.prototype.remove=function(e,t){var n,r=this;if(t(e,r.key)<0)r=(r=r.left.isEmpty()||r.left.isRed_()||r.left.left.isRed_()?r:r.moveRedLeft_()).copy(null,null,null,r.left.remove(e,t),null);else{if(0===t(e,(r=(r=r.left.isRed_()?r.rotateRight_():r).right.isEmpty()||r.right.isRed_()||r.right.left.isRed_()?r:r.moveRedRight_()).key)){if(r.right.isEmpty())return qu.EMPTY_NODE;n=r.right.min_(),r=r.copy(n.key,n.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp_()},Mu.prototype.isRed_=function(){return this.color},Mu.prototype.fixUp_=function(){var e=this;return(e=(e=e.right.isRed_()&&!e.left.isRed_()?e.rotateLeft_():e).left.isRed_()&&e.left.left.isRed_()?e.rotateRight_():e).left.isRed_()&&e.right.isRed_()?e.colorFlip_():e},Mu.prototype.moveRedLeft_=function(){var e=this.colorFlip_();return e.right.left.isRed_()?(e=(e=e.copy(null,null,null,null,e.right.rotateRight_())).rotateLeft_()).colorFlip_():e},Mu.prototype.moveRedRight_=function(){var e=this.colorFlip_();return e.left.left.isRed_()?(e=e.rotateRight_()).colorFlip_():e},Mu.prototype.rotateLeft_=function(){var e=this.copy(null,null,Mu.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},Mu.prototype.rotateRight_=function(){var e=this.copy(null,null,Mu.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},Mu.prototype.colorFlip_=function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)},Mu.prototype.checkMaxDepth_=function(){var e=this.check_();return Math.pow(2,e)<=this.count()+1},Mu.prototype.check_=function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)},Mu.RED=!0,Mu.BLACK=!1,Mu);function Mu(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:Mu.RED,this.left=null!=r?r:qu.EMPTY_NODE,this.right=null!=i?i:qu.EMPTY_NODE}function Fu(){}Fu.prototype.copy=function(e,t,n,r,i){return this},Fu.prototype.insert=function(e,t,n){return new Lu(e,t,null)},Fu.prototype.remove=function(e,t){return this},Fu.prototype.count=function(){return 0},Fu.prototype.isEmpty=function(){return!0},Fu.prototype.inorderTraversal=function(e){return!1},Fu.prototype.reverseTraversal=function(e){return!1},Fu.prototype.minKey=function(){return null},Fu.prototype.maxKey=function(){return null},Fu.prototype.check_=function(){return 0},Fu.prototype.isRed_=function(){return!1},Qs=Fu;var Uu,qu=(Bu.prototype.insert=function(e,t){return new Bu(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,Lu.BLACK,null,null))},Bu.prototype.remove=function(e){return new Bu(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Lu.BLACK,null,null))},Bu.prototype.get=function(e){for(var t,n=this.root_;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key)))return n.value;t<0?n=n.left:0<t&&(n=n.right)}return null},Bu.prototype.getPredecessorKey=function(e){for(var t,n=this.root_,r=null;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key))){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}t<0?n=n.left:0<t&&(n=(r=n).right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")},Bu.prototype.isEmpty=function(){return this.root_.isEmpty()},Bu.prototype.count=function(){return this.root_.count()},Bu.prototype.minKey=function(){return this.root_.minKey()},Bu.prototype.maxKey=function(){return this.root_.maxKey()},Bu.prototype.inorderTraversal=function(e){return this.root_.inorderTraversal(e)},Bu.prototype.reverseTraversal=function(e){return this.root_.reverseTraversal(e)},Bu.prototype.getIterator=function(e){return new Du(this.root_,null,this.comparator_,!1,e)},Bu.prototype.getIteratorFrom=function(e,t){return new Du(this.root_,e,this.comparator_,!1,t)},Bu.prototype.getReverseIteratorFrom=function(e,t){return new Du(this.root_,e,this.comparator_,!0,t)},Bu.prototype.getReverseIterator=function(e){return new Du(this.root_,null,this.comparator_,!0,e)},Bu.EMPTY_NODE=new Qs,Bu);function Bu(e,t){void 0===t&&(t=Bu.EMPTY_NODE),this.comparator_=e,this.root_=t}function Vu(e,t){return os(e.name,t.name)}function Wu(e,t){return os(e,t)}function zu(e){return"number"==typeof e?"number:"+us(e):"string:"+e}var Hu,Ku,Gu,Qu,Yu=function(e){var t;e.isLeafNode()?(t=e.val(),uo("string"==typeof t||"number"==typeof t||"object"==typeof t&&Do(t,".sv"),"Priority must be a string or number.")):uo(e===Uu||e.isEmpty(),"priority of unexpected type."),uo(e===Uu||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},$u=(Object.defineProperty(Xu,"__childrenNodeConstructor",{get:function(){return Hu},set:function(e){Hu=e},enumerable:!1,configurable:!0}),Xu.prototype.isLeafNode=function(){return!0},Xu.prototype.getPriority=function(){return this.priorityNode_},Xu.prototype.updatePriority=function(e){return new Xu(this.value_,e)},Xu.prototype.getImmediateChild=function(e){return".priority"===e?this.priorityNode_:Xu.__childrenNodeConstructor.EMPTY_NODE},Xu.prototype.getChild=function(e){return hu(e)?this:".priority"===iu(e)?this.priorityNode_:Xu.__childrenNodeConstructor.EMPTY_NODE},Xu.prototype.hasChild=function(){return!1},Xu.prototype.getPredecessorChildName=function(e,t){return null},Xu.prototype.updateImmediateChild=function(e,t){return".priority"===e?this.updatePriority(t):t.isEmpty()&&".priority"!==e?this:Xu.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,t).updatePriority(this.priorityNode_)},Xu.prototype.updateChild=function(e,t){var n=iu(e);return null===n?t:t.isEmpty()&&".priority"!==n?this:(uo(".priority"!==n||1===ou(e),".priority must be the last token in a path"),this.updateImmediateChild(n,Xu.__childrenNodeConstructor.EMPTY_NODE.updateChild(au(e),t)))},Xu.prototype.isEmpty=function(){return!1},Xu.prototype.numChildren=function(){return 0},Xu.prototype.forEachChild=function(e,t){return!1},Xu.prototype.val=function(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()},Xu.prototype.hash=function(){var e,t;return null===this.lazyHash_&&(e="",this.priorityNode_.isEmpty()||(e+="priority:"+zu(this.priorityNode_.val())+":"),e+=(t=typeof this.value_)+":",e+="number"==t?us(this.value_):this.value_,this.lazyHash_=Fa(e)),this.lazyHash_},Xu.prototype.getValue=function(){return this.value_},Xu.prototype.compareTo=function(e){return e===Xu.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof Xu.__childrenNodeConstructor?-1:(uo(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))},Xu.prototype.compareToLeafNode_=function(e){var t=typeof e.value_,n=typeof this.value_,r=Xu.VALUE_TYPE_ORDER.indexOf(t),i=Xu.VALUE_TYPE_ORDER.indexOf(n);return uo(0<=r,"Unknown leaf type: "+t),uo(0<=i,"Unknown leaf type: "+n),r===i?"object"==n?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:i-r},Xu.prototype.withIndex=function(){return this},Xu.prototype.isIndexed=function(){return!0},Xu.prototype.equals=function(e){return e===this||!!e.isLeafNode()&&this.value_===e.value_&&this.priorityNode_.equals(e.priorityNode_)},Xu.VALUE_TYPE_ORDER=["object","boolean","number","string"],Xu);function Xu(e,t){void 0===t&&(t=Xu.__childrenNodeConstructor.EMPTY_NODE),this.value_=e,this.priorityNode_=t,this.lazyHash_=null,uo(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),Yu(this.priorityNode_)}function Ju(){return null!==Qu&&Qu.apply(this,arguments)||this}var Zu=new(Ji(Ju,Qu=H),Ju.prototype.compare=function(e,t){var n=e.node.getPriority(),r=t.node.getPriority();return 0===(r=n.compareTo(r))?os(e.name,t.name):r},Ju.prototype.isDefinedOn=function(e){return!e.getPriority().isEmpty()},Ju.prototype.indexedValueChanged=function(e,t){return!e.getPriority().equals(t.getPriority())},Ju.prototype.minPost=function(){return xu.MIN},Ju.prototype.maxPost=function(){return new xu(is,new $u("[PRIORITY-POST]",Gu))},Ju.prototype.makePost=function(e,t){return e=Ku(e),new xu(t,new $u("[PRIORITY-POST]",e))},Ju.prototype.toString=function(){return".priority"},Ju),ec=Math.log(2),tc=(nc.prototype.nextBitIsOne=function(){var e=!(this.bits_&1<<this.current_);return this.current_--,e},nc);function nc(e){var t;this.count=(t=e+1,parseInt(Math.log(t)/ec,10)),this.current_=this.count-1;var n,r=(n=this.count,parseInt(Array(n+1).join("1"),2));this.bits_=e+1&r}var rc,ic,oc=function(e,t,n,r){e.sort(t);var i=function t(r,i){if(0==(o=i-r))return null;if(1==o)return a=e[r],s=n?n(a):a,new Lu(s,a.node,Lu.BLACK,null,null);r=t(r,o=parseInt(o/2,10)+r),i=t(o+1,i);var o,a=e[o],s=n?n(a):a;return new Lu(s,a.node,Lu.BLACK,r,i)},o=function(t){for(var r=null,o=null,a=e.length,s=function(t,r){var o=a-t,s=a;a-=t,t=i(1+o,s),s=e[o],o=n?n(s):s,u(new Lu(o,s.node,r,null,t))},u=function(e){r=r?r.left=e:o=e},c=0;c<t.count;++c){var l=t.nextBitIsOne(),h=Math.pow(2,t.count-(c+1));l?s(h,Lu.BLACK):(s(h,Lu.BLACK),s(h,Lu.RED))}return o}(new tc(e.length));return new qu(r||t,o)},ac={},sc=(Object.defineProperty(uc,"Default",{get:function(){return uo(Zu,"ChildrenNode.ts has not been loaded"),rc=rc||new uc({".priority":ac},{".priority":Zu})},enumerable:!1,configurable:!0}),uc.prototype.get=function(e){var t=jo(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof qu?t:null},uc.prototype.hasIndex=function(e){return Do(this.indexSet_,e.toString())},uc.prototype.addIndex=function(e,t){uo(e!==Au,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var n=[],r=!1,i=t.getIterator(xu.Wrap),o=i.getNext();o;)r=r||e.isDefinedOn(o.node),n.push(o),o=i.getNext();var a=r?oc(n,e.getCompare()):ac,s=e.toString(),u=Zi({},this.indexSet_);return u[s]=e,(t=Zi({},this.indexes_))[s]=a,new uc(t,u)},uc.prototype.addToIndexes=function(e,t){var n=this;return new uc(Mo(this.indexes_,(function(r,i){var o=jo(n.indexSet_,i);if(uo(o,"Missing index implementation for "+i),r===ac){if(o.isDefinedOn(e.node)){for(var a=[],s=t.getIterator(xu.Wrap),u=s.getNext();u;)u.name!==e.name&&a.push(u),u=s.getNext();return a.push(e),oc(a,o.getCompare())}return ac}return(r=(o=t.get(e.name))?r.remove(new xu(e.name,o)):r).insert(e,e.node)})),this.indexSet_)},uc.prototype.removeFromIndexes=function(e,t){return new uc(Mo(this.indexes_,(function(n){if(n===ac)return n;var r=t.get(e.name);return r?n.remove(new xu(e.name,r)):n})),this.indexSet_)},uc);function uc(e,t){this.indexes_=e,this.indexSet_=t}var cc,lc=(Object.defineProperty(hc,"EMPTY_NODE",{get:function(){return ic=ic||new hc(new qu(Wu),null,sc.Default)},enumerable:!1,configurable:!0}),hc.prototype.isLeafNode=function(){return!1},hc.prototype.getPriority=function(){return this.priorityNode_||ic},hc.prototype.updatePriority=function(e){return this.children_.isEmpty()?this:new hc(this.children_,e,this.indexMap_)},hc.prototype.getImmediateChild=function(e){return".priority"===e?this.getPriority():null===(e=this.children_.get(e))?ic:e},hc.prototype.getChild=function(e){var t=iu(e);return null===t?this:this.getImmediateChild(t).getChild(au(e))},hc.prototype.hasChild=function(e){return null!==this.children_.get(e)},hc.prototype.updateImmediateChild=function(e,t){if(uo(t,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(t);var n=new xu(e,t),r=void 0,i=void 0;return i=t.isEmpty()?(r=this.children_.remove(e),this.indexMap_.removeFromIndexes(n,this.children_)):(r=this.children_.insert(e,t),this.indexMap_.addToIndexes(n,this.children_)),n=r.isEmpty()?ic:this.priorityNode_,new hc(r,n,i)},hc.prototype.updateChild=function(e,t){var n=iu(e);return null===n?t:(uo(".priority"!==iu(e)||1===ou(e),".priority must be the last token in a path"),t=this.getImmediateChild(n).updateChild(au(e),t),this.updateImmediateChild(n,t))},hc.prototype.isEmpty=function(){return this.children_.isEmpty()},hc.prototype.numChildren=function(){return this.children_.count()},hc.prototype.val=function(e){if(this.isEmpty())return null;var t={},n=0,r=0,i=!0;if(this.forEachChild(Zu,(function(o,a){t[o]=a.val(e),n++,i&&hc.INTEGER_REGEXP_.test(o)?r=Math.max(r,Number(o)):i=!1})),!e&&i&&r<2*n){var o,a=[];for(o in t)a[o]=t[o];return a}return e&&!this.getPriority().isEmpty()&&(t[".priority"]=this.getPriority().val()),t},hc.prototype.hash=function(){var e;return null===this.lazyHash_&&(e="",this.getPriority().isEmpty()||(e+="priority:"+zu(this.getPriority().val())+":"),this.forEachChild(Zu,(function(t,n){""!==(n=n.hash())&&(e+=":"+t+":"+n)})),this.lazyHash_=""===e?"":Fa(e)),this.lazyHash_},hc.prototype.getPredecessorChildName=function(e,t,n){return(n=this.resolveIndex_(n))?(t=n.getPredecessorKey(new xu(e,t)))?t.name:null:this.children_.getPredecessorKey(e)},hc.prototype.getFirstChildName=function(e){return(e=this.resolveIndex_(e))?(e=e.minKey())&&e.name:this.children_.minKey()},hc.prototype.getFirstChild=function(e){return(e=this.getFirstChildName(e))?new xu(e,this.children_.get(e)):null},hc.prototype.getLastChildName=function(e){return(e=this.resolveIndex_(e))?(e=e.maxKey())&&e.name:this.children_.maxKey()},hc.prototype.getLastChild=function(e){return(e=this.getLastChildName(e))?new xu(e,this.children_.get(e)):null},hc.prototype.forEachChild=function(e,t){return(e=this.resolveIndex_(e))?e.inorderTraversal((function(e){return t(e.name,e.node)})):this.children_.inorderTraversal(t)},hc.prototype.getIterator=function(e){return this.getIteratorFrom(e.minPost(),e)},hc.prototype.getIteratorFrom=function(e,t){var n=this.resolveIndex_(t);if(n)return n.getIteratorFrom(e,(function(e){return e}));for(var r=this.children_.getIteratorFrom(e.name,xu.Wrap),i=r.peek();null!=i&&t.compare(i,e)<0;)r.getNext(),i=r.peek();return r},hc.prototype.getReverseIterator=function(e){return this.getReverseIteratorFrom(e.maxPost(),e)},hc.prototype.getReverseIteratorFrom=function(e,t){var n=this.resolveIndex_(t);if(n)return n.getReverseIteratorFrom(e,(function(e){return e}));for(var r=this.children_.getReverseIteratorFrom(e.name,xu.Wrap),i=r.peek();null!=i&&0<t.compare(i,e);)r.getNext(),i=r.peek();return r},hc.prototype.compareTo=function(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===dc?-1:0},hc.prototype.withIndex=function(e){return e===Au||this.indexMap_.hasIndex(e)?this:(e=this.indexMap_.addIndex(e,this.children_),new hc(this.children_,this.priorityNode_,e))},hc.prototype.isIndexed=function(e){return e===Au||this.indexMap_.hasIndex(e)},hc.prototype.equals=function(e){if(e===this)return!0;if(e.isLeafNode())return!1;if(this.getPriority().equals(e.getPriority())){if(this.children_.count()!==e.children_.count())return!1;for(var t=this.getIterator(Zu),n=e.getIterator(Zu),r=t.getNext(),i=n.getNext();r&&i;){if(r.name!==i.name||!r.node.equals(i.node))return!1;r=t.getNext(),i=n.getNext()}return null===r&&null===i}return!1},hc.prototype.resolveIndex_=function(e){return e===Au?null:this.indexMap_.get(e.toString())},hc.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,hc);function hc(e,t,n){this.children_=e,this.priorityNode_=t,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&Yu(this.priorityNode_),this.children_.isEmpty()&&uo(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}function fc(){return cc.call(this,new qu(Wu),lc.EMPTY_NODE,sc.Default)||this}var dc=new(Ji(fc,cc=lc),fc.prototype.compareTo=function(e){return e===this?0:1},fc.prototype.equals=function(e){return e===this},fc.prototype.getPriority=function(){return this},fc.prototype.getImmediateChild=function(e){return lc.EMPTY_NODE},fc.prototype.isEmpty=function(){return!1},fc);Object.defineProperties(xu,{MIN:{value:new xu(rs,lc.EMPTY_NODE)},MAX:{value:new xu(is,dc)}}),kn.__EMPTY_NODE=lc.EMPTY_NODE,$u.__childrenNodeConstructor=lc,Uu=dc,Gu=dc;var pc=!0;function vc(e,t){if(void 0===t&&(t=null),null===e)return lc.EMPTY_NODE;if("object"==typeof e&&".priority"in e&&(t=e[".priority"]),uo(null===t||"string"==typeof t||"number"==typeof t||"object"==typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"==typeof e&&".value"in e&&null!==e[".value"]&&(e=e[".value"]),"object"!=typeof e||".sv"in e)return new $u(e,vc(t));if(e instanceof Array||!pc){var n=lc.EMPTY_NODE;return ss(e,(function(t,r){Do(e,t)&&"."!==t.substring(0,1)&&(!(r=vc(r)).isLeafNode()&&r.isEmpty()||(n=n.updateImmediateChild(t,r)))})),n.updatePriority(vc(t))}var r=[],i=!1;if(ss(e,(function(e,t){"."!==e.substring(0,1)&&((t=vc(t)).isEmpty()||(i=i||!t.getPriority().isEmpty(),r.push(new xu(e,t))))})),0===r.length)return lc.EMPTY_NODE;var o=oc(r,Vu,(function(e){return e.name}),Wu);if(i){var a=oc(r,Zu.getCompare());return new lc(o,vc(t),new sc({".priority":a},{".priority":Zu}))}return new lc(o,vc(t),sc.Default)}Ku=vc;var yc,gc,mc=(Ji(bc,yc=H),bc.prototype.extractChild=function(e){return e.getChild(this.indexPath_)},bc.prototype.isDefinedOn=function(e){return!e.getChild(this.indexPath_).isEmpty()},bc.prototype.compare=function(e,t){var n=this.extractChild(e.node),r=this.extractChild(t.node);return 0===(r=n.compareTo(r))?os(e.name,t.name):r},bc.prototype.makePost=function(e,t){return e=vc(e),e=lc.EMPTY_NODE.updateChild(this.indexPath_,e),new xu(t,e)},bc.prototype.maxPost=function(){var e=lc.EMPTY_NODE.updateChild(this.indexPath_,dc);return new xu(is,e)},bc.prototype.toString=function(){return uu(this.indexPath_,0).join("/")},bc);function bc(e){var t=yc.call(this)||this;return t.indexPath_=e,uo(!hu(e)&&".priority"!==iu(e),"Can't create PathIndex with empty path or .priority key"),t}function _c(){return null!==gc&&gc.apply(this,arguments)||this}function wc(e){if(e===""+fs)return"-";var t=ds(e);if(null!=t)return""+(t+1);for(var n=new Array(e.length),r=0;r<n.length;r++)n[r]=e.charAt(r);if(n.length<786)return n.push("-"),n.join("");for(var i=n.length-1;0<=i&&"z"===n[i];)i--;return-1===i?is:(t=n[i],t=Cc.charAt(Cc.indexOf(t)+1),n[i]=t,n.slice(0,i+1).join(""))}function Ec(e){if(e===""+hs)return rs;var t=ds(e);if(null!=t)return""+(t-1);for(var n=new Array(e.length),r=0;r<n.length;r++)n[r]=e.charAt(r);return"-"===n[n.length-1]?1===n.length?""+fs:(delete n[n.length-1],n.join("")):(n[n.length-1]=Cc.charAt(Cc.indexOf(n[n.length-1])-1),n.join("")+"z".repeat(786-n.length))}var Sc,Tc,Ic=new(Ji(_c,gc=H),_c.prototype.compare=function(e,t){var n=e.node.compareTo(t.node);return 0===n?os(e.name,t.name):n},_c.prototype.isDefinedOn=function(e){return!0},_c.prototype.indexedValueChanged=function(e,t){return!e.equals(t)},_c.prototype.minPost=function(){return xu.MIN},_c.prototype.maxPost=function(){return xu.MAX},_c.prototype.makePost=function(e,t){return e=vc(e),new xu(t,e)},_c.prototype.toString=function(){return".value"},_c),Cc="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",kc=(Sc=0,Tc=[],function(e){var t=e===Sc;Sc=e;for(var n=new Array(8),r=7;0<=r;r--)n[r]=Cc.charAt(e%64),e=Math.floor(e/64);uo(0===e,"Cannot push at time == 0");var i=n.join("");if(t){for(r=11;0<=r&&63===Tc[r];r--)Tc[r]=0;Tc[r]++}else for(r=0;r<12;r++)Tc[r]=Math.floor(64*Math.random());for(r=0;r<12;r++)i+=Cc.charAt(Tc[r]);return uo(20===i.length,"nextPushId: Length should be 20."),i});function Oc(e){return{type:"value",snapshotNode:e}}function xc(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function Pc(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function Nc(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}var Rc=(Ac.prototype.updateChild=function(e,t,n,r,i,o){uo(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");var a=e.getImmediateChild(t);return a.getChild(r).equals(n.getChild(r))&&a.isEmpty()===n.isEmpty()?e:(null!=o&&(n.isEmpty()?e.hasChild(t)?o.trackChildChange(Pc(t,a)):uo(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?o.trackChildChange(xc(t,n)):o.trackChildChange(Nc(t,n,a))),e.isLeafNode()&&n.isEmpty()?e:e.updateImmediateChild(t,n).withIndex(this.index_))},Ac.prototype.updateFullNode=function(e,t,n){return null!=n&&(e.isLeafNode()||e.forEachChild(Zu,(function(e,r){t.hasChild(e)||n.trackChildChange(Pc(e,r))})),t.isLeafNode()||t.forEachChild(Zu,(function(t,r){var i;e.hasChild(t)?(i=e.getImmediateChild(t)).equals(r)||n.trackChildChange(Nc(t,r,i)):n.trackChildChange(xc(t,r))}))),t.withIndex(this.index_)},Ac.prototype.updatePriority=function(e,t){return e.isEmpty()?lc.EMPTY_NODE:e.updatePriority(t)},Ac.prototype.filtersNodes=function(){return!1},Ac.prototype.getIndexedFilter=function(){return this},Ac.prototype.getIndex=function(){return this.index_},Ac);function Ac(e){this.index_=e}var Dc=(jc.prototype.getStartPost=function(){return this.startPost_},jc.prototype.getEndPost=function(){return this.endPost_},jc.prototype.matches=function(e){return this.index_.compare(this.getStartPost(),e)<=0&&this.index_.compare(e,this.getEndPost())<=0},jc.prototype.updateChild=function(e,t,n,r,i,o){return this.matches(new xu(t,n))||(n=lc.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,n,r,i,o)},jc.prototype.updateFullNode=function(e,t,n){t.isLeafNode()&&(t=lc.EMPTY_NODE);var r=(r=t.withIndex(this.index_)).updatePriority(lc.EMPTY_NODE),i=this;return t.forEachChild(Zu,(function(e,t){i.matches(new xu(e,t))||(r=r.updateImmediateChild(e,lc.EMPTY_NODE))})),this.indexedFilter_.updateFullNode(e,r,n)},jc.prototype.updatePriority=function(e,t){return e},jc.prototype.filtersNodes=function(){return!0},jc.prototype.getIndexedFilter=function(){return this.indexedFilter_},jc.prototype.getIndex=function(){return this.index_},jc.getStartPost_=function(e){if(e.hasStart()){var t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}return e.getIndex().minPost()},jc.getEndPost_=function(e){if(e.hasEnd()){var t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}return e.getIndex().maxPost()},jc);function jc(e){this.indexedFilter_=new Rc(e.getIndex()),this.index_=e.getIndex(),this.startPost_=jc.getStartPost_(e),this.endPost_=jc.getEndPost_(e)}var Lc=(Mc.prototype.updateChild=function(e,t,n,r,i,o){return this.rangedFilter_.matches(new xu(t,n))||(n=lc.EMPTY_NODE),e.getImmediateChild(t).equals(n)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,n,r,i,o):this.fullLimitUpdateChild_(e,t,n,i,o)},Mc.prototype.updateFullNode=function(e,t,n){if(t.isLeafNode()||t.isEmpty())r=lc.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){var r=lc.EMPTY_NODE.withIndex(this.index_),i=void 0;i=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var o=0;i.hasNext()&&o<this.limit_;){var a=i.getNext();if(!(this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),a)<=0:this.index_.compare(a,this.rangedFilter_.getEndPost())<=0))break;r=r.updateImmediateChild(a.name,a.node),o++}}else{r=(r=t.withIndex(this.index_)).updatePriority(lc.EMPTY_NODE);var s,u=void 0,c=void 0,l=void 0;i=void 0,l=this.reverse_?(i=r.getReverseIterator(this.index_),u=this.rangedFilter_.getEndPost(),c=this.rangedFilter_.getStartPost(),s=this.index_.getCompare(),function(e,t){return s(t,e)}):(i=r.getIterator(this.index_),u=this.rangedFilter_.getStartPost(),c=this.rangedFilter_.getEndPost(),this.index_.getCompare()),o=0;for(var h=!1;i.hasNext();)a=i.getNext(),(h=!h&&l(u,a)<=0||h)&&o<this.limit_&&l(a,c)<=0?o++:r=r.updateImmediateChild(a.name,lc.EMPTY_NODE)}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,n)},Mc.prototype.updatePriority=function(e,t){return e},Mc.prototype.filtersNodes=function(){return!0},Mc.prototype.getIndexedFilter=function(){return this.rangedFilter_.getIndexedFilter()},Mc.prototype.getIndex=function(){return this.index_},Mc.prototype.fullLimitUpdateChild_=function(e,t,n,r,i){var o,a;a=this.reverse_?(o=this.index_.getCompare(),function(e,t){return o(t,e)}):this.index_.getCompare();var s=e;uo(s.numChildren()===this.limit_,"");var u=new xu(t,n),c=this.reverse_?s.getFirstChild(this.index_):s.getLastChild(this.index_),l=this.rangedFilter_.matches(u);if(s.hasChild(t)){for(var h=s.getImmediateChild(t),f=r.getChildAfterChild(this.index_,c,this.reverse_);null!=f&&(f.name===t||s.hasChild(f.name));)f=r.getChildAfterChild(this.index_,f,this.reverse_);var d=null==f?1:a(f,u);return l&&!n.isEmpty()&&0<=d?(null!=i&&i.trackChildChange(Nc(t,n,h)),s.updateImmediateChild(t,n)):(null!=i&&i.trackChildChange(Pc(t,h)),h=s.updateImmediateChild(t,lc.EMPTY_NODE),null!=f&&this.rangedFilter_.matches(f)?(null!=i&&i.trackChildChange(xc(f.name,f.node)),h.updateImmediateChild(f.name,f.node)):h)}return!n.isEmpty()&&l&&0<=a(c,u)?(null!=i&&(i.trackChildChange(Pc(c.name,c.node)),i.trackChildChange(xc(t,n))),s.updateImmediateChild(t,n).updateImmediateChild(c.name,lc.EMPTY_NODE)):e},Mc);function Mc(e){this.rangedFilter_=new Dc(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft()}var Fc=(Uc.prototype.hasStart=function(){return this.startSet_},Uc.prototype.hasStartAfter=function(){return this.startAfterSet_},Uc.prototype.hasEndBefore=function(){return this.endBeforeSet_},Uc.prototype.isViewFromLeft=function(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_},Uc.prototype.getIndexStartValue=function(){return uo(this.startSet_,"Only valid if start has been set"),this.indexStartValue_},Uc.prototype.getIndexStartName=function(){return uo(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:rs},Uc.prototype.hasEnd=function(){return this.endSet_},Uc.prototype.getIndexEndValue=function(){return uo(this.endSet_,"Only valid if end has been set"),this.indexEndValue_},Uc.prototype.getIndexEndName=function(){return uo(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:is},Uc.prototype.hasLimit=function(){return this.limitSet_},Uc.prototype.hasAnchoredLimit=function(){return this.limitSet_&&""!==this.viewFrom_},Uc.prototype.getLimit=function(){return uo(this.limitSet_,"Only valid if limit has been set"),this.limit_},Uc.prototype.getIndex=function(){return this.index_},Uc.prototype.loadsAllData=function(){return!(this.startSet_||this.endSet_||this.limitSet_)},Uc.prototype.isDefault=function(){return this.loadsAllData()&&this.index_===Zu},Uc.prototype.copy=function(){var e=new Uc;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e},Uc);function Uc(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Zu}function qc(e,t,n){return(e=e.copy()).startSet_=!0,void 0===t&&(t=null),e.indexStartValue_=t,null!=n?(e.startNameSet_=!0,e.indexStartName_=n):(e.startNameSet_=!1,e.indexStartName_=""),e}function Bc(e,t,n){return(e=e.copy()).endSet_=!0,void 0===t&&(t=null),e.indexEndValue_=t,void 0!==n?(e.endNameSet_=!0,e.indexEndName_=n):(e.endNameSet_=!1,e.indexEndName_=""),e}function Vc(e,t){return(e=e.copy()).index_=t,e}function Wc(e){var t,n={};return e.isDefault()||(t=e.index_===Zu?"$priority":e.index_===Ic?"$value":e.index_===Au?"$key":(uo(e.index_ instanceof mc,"Unrecognized index type!"),e.index_.toString()),n.orderBy=Ro(t),e.startSet_&&(n.startAt=Ro(e.indexStartValue_),e.startNameSet_&&(n.startAt+=","+Ro(e.indexStartName_))),e.endSet_&&(n.endAt=Ro(e.indexEndValue_),e.endNameSet_&&(n.endAt+=","+Ro(e.indexEndName_))),e.limitSet_&&(e.isViewFromLeft()?n.limitToFirst=e.limit_:n.limitToLast=e.limit_)),n}function zc(e){var t,n={};return e.startSet_&&(n.sp=e.indexStartValue_,e.startNameSet_&&(n.sn=e.indexStartName_)),e.endSet_&&(n.ep=e.indexEndValue_,e.endNameSet_&&(n.en=e.indexEndName_)),e.limitSet_&&(n.l=e.limit_,""===(t=e.viewFrom_)&&(t=e.isViewFromLeft()?"l":"r"),n.vf=t),e.index_!==Zu&&(n.i=e.index_.toString()),n}var Hc,Kc=(Ji(Gc,Hc=K),Gc.prototype.reportStats=function(e){throw new Error("Method not implemented.")},Gc.getListenId_=function(e,t){return void 0!==t?"tag$"+t:(uo(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())},Gc.prototype.listen=function(e,t,n,r){var i=this,o=e._path.toString();this.log_("Listen called for "+o+" "+e._queryIdentifier);var a=Gc.getListenId_(e,n),s={};this.listens_[a]=s,e=Wc(e._queryParams),this.restRequest_(o+".json",e,(function(e,t){null===(e=404===e?t=null:e)&&i.onDataUpdate_(o,t,!1,n),jo(i.listens_,a)===s&&r(e?401===e?"permission_denied":"rest_error:"+e:"ok",null)}))},Gc.prototype.unlisten=function(e,t){t=Gc.getListenId_(e,t),delete this.listens_[t]},Gc.prototype.get=function(e){var t=this,n=Wc(e._queryParams),r=e._path.toString(),i=new po;return this.restRequest_(r+".json",n,(function(e,n){null===(e=404===e?n=null:e)?(t.onDataUpdate_(r,n,!1,null),i.resolve(n)):i.reject(new Error(n))})),i.promise},Gc.prototype.refreshAuthToken=function(e){},Gc.prototype.restRequest_=function(e,t,n){var r=this;(t=void 0===t?{}:t).format="export",this.authTokenProvider_.getToken(!1).then((function(i){(i=i&&i.accessToken)&&(t.auth=i);var o=(r.repoInfo_.secure?"https://":"http://")+r.repoInfo_.host+e+"?ns="+r.repoInfo_.namespace+Fo(t);r.log_("Sending REST request for "+o);var a=new XMLHttpRequest;a.onreadystatechange=function(){if(n&&4===a.readyState){r.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);var e=null;if(200<=a.status&&a.status<300){try{e=No(a.responseText)}catch(e){ns("Failed to parse JSON response for "+o+": "+a.responseText)}n(null,e)}else 401!==a.status&&404!==a.status&&ns("Got unsuccessful REST response for "+o+" Status: "+a.status),n(a.status);n=null}},a.open("GET",o,!0),a.send()}))},Gc);function Gc(e,t,n){var r=Hc.call(this)||this;return r.repoInfo_=e,r.onDataUpdate_=t,r.authTokenProvider_=n,r.log_=es("p:rest:"),r.listens_={},r}var Qc=(Yc.prototype.getNode=function(e){return this.rootNode_.getChild(e)},Yc.prototype.updateSnapshot=function(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)},Yc);function Yc(){this.rootNode_=lc.EMPTY_NODE}function $c(){return{value:null,children:new Map}}function Xc(e,t,n){var r;hu(t)?(e.value=n,e.children.clear()):null!==e.value?e.value=e.value.updateChild(t,n):(r=iu(t),e.children.has(r)||e.children.set(r,$c()),Xc(e.children.get(r),t=au(t),n))}function Jc(e,t,n){var r;null!==e.value?n(t,e.value):(r=function(e,r){Jc(r,new tu(t.toString()+"/"+e),n)},e.children.forEach((function(e,t){r(t,e)})))}var Zc=(el.prototype.get=function(){var e=this.collection_.get(),t=Zi({},e);return this.last_&&ss(this.last_,(function(e,n){t[e]=t[e]-n})),this.last_=e,t},el);function el(e){this.collection_=e,this.last_=null}var tl,nl=(rl.prototype.reportStats_=function(){var e=this,t=this.statsListener_.get(),n={},r=!1;ss(t,(function(t,i){0<i&&Do(e.statsToReport_,t)&&(n[t]=i,r=!0)})),r&&this.server_.reportStats(n),cs(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))},rl);function rl(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new Zc(e),e=1e4+2e4*Math.random(),cs(this.reportStats_.bind(this),Math.floor(e))}function il(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function ol(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function al(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}(Qs=tl=tl||{})[Qs.OVERWRITE=0]="OVERWRITE",Qs[Qs.MERGE=1]="MERGE",Qs[Qs.ACK_USER_WRITE=2]="ACK_USER_WRITE",Qs[Qs.LISTEN_COMPLETE=3]="LISTEN_COMPLETE";var sl=(ul.prototype.operationForChild=function(e){if(hu(this.path)){if(null!=this.affectedTree.value)return uo(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var t=this.affectedTree.subtree(new tu(e));return new ul(ru(),t,this.revert)}return uo(iu(this.path)===e,"operationForChild called for unrelated child."),new ul(au(this.path),this.affectedTree,this.revert)},ul);function ul(e,t,n){this.path=e,this.affectedTree=t,this.revert=n,this.type=tl.ACK_USER_WRITE,this.source=il()}var cl=(ll.prototype.operationForChild=function(e){return hu(this.path)?new ll(this.source,ru()):new ll(this.source,au(this.path))},ll);function ll(e,t){this.source=e,this.path=t,this.type=tl.LISTEN_COMPLETE}var hl=(fl.prototype.operationForChild=function(e){return hu(this.path)?new fl(this.source,ru(),this.snap.getImmediateChild(e)):new fl(this.source,au(this.path),this.snap)},fl);function fl(e,t,n){this.source=e,this.path=t,this.snap=n,this.type=tl.OVERWRITE}var dl=(pl.prototype.operationForChild=function(e){if(hu(this.path)){var t=this.children.subtree(new tu(e));return t.isEmpty()?null:t.value?new hl(this.source,ru(),t.value):new pl(this.source,ru(),t)}return uo(iu(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new pl(this.source,au(this.path),this.children)},pl.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"},pl);function pl(e,t,n){this.source=e,this.path=t,this.children=n,this.type=tl.MERGE}var vl=(yl.prototype.isFullyInitialized=function(){return this.fullyInitialized_},yl.prototype.isFiltered=function(){return this.filtered_},yl.prototype.isCompleteForPath=function(e){return hu(e)?this.isFullyInitialized()&&!this.filtered_:(e=iu(e),this.isCompleteForChild(e))},yl.prototype.isCompleteForChild=function(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)},yl.prototype.getNode=function(){return this.node_},yl);function yl(e,t,n){this.node_=e,this.fullyInitialized_=t,this.filtered_=n}var gl,ml=function(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()};function bl(e,t,n,r){var i=[],o=[];return t.forEach((function(t){var n;"child_changed"===t.type&&e.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&o.push((n=t.childName,{type:"child_moved",snapshotNode:t.snapshotNode,childName:n}))})),_l(e,i,"child_removed",t,r,n),_l(e,i,"child_added",t,r,n),_l(e,i,"child_moved",o,r,n),_l(e,i,"child_changed",t,r,n),_l(e,i,"value",t,r,n),i}function _l(e,t,n,r,i,o){(r=r.filter((function(e){return e.type===n}))).sort((function(t,n){return function(e,t,n){if(null==t.childName||null==n.childName)throw co("Should only compare child_ events.");return t=new xu(t.childName,t.snapshotNode),n=new xu(n.childName,n.snapshotNode),e.index_.compare(t,n)}(e,t,n)})),r.forEach((function(n){var r,a,s,u=(r=e,s=o,"value"===(a=n).type||"child_removed"===a.type||(a.prevName=s.getPredecessorChildName(a.childName,a.snapshotNode,r.index_)),a);i.forEach((function(r){r.respondsTo(n.type)&&t.push(r.createEvent(u,e.query_))}))}))}function wl(e,t){return{eventCache:e,serverCache:t}}function El(e,t,n,r){return wl(new vl(t,n,r),e.serverCache)}function Sl(e,t,n,r){return wl(e.eventCache,new vl(t,n,r))}function Tl(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function Il(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}var Cl=(kl.fromObject=function(e){var t=new kl(null);return ss(e,(function(e,n){t=t.set(new tu(e),n)})),t},kl.prototype.isEmpty=function(){return null===this.value&&this.children.isEmpty()},kl.prototype.findRootMostMatchingPathAndValue=function(e,t){if(null!=this.value&&t(this.value))return{path:ru(),value:this.value};if(hu(e))return null;var n=iu(e),r=this.children.get(n);return null===r||null==(t=r.findRootMostMatchingPathAndValue(au(e),t))?null:{path:lu(new tu(n),t.path),value:t.value}},kl.prototype.findRootMostValueAndPath=function(e){return this.findRootMostMatchingPathAndValue(e,(function(){return!0}))},kl.prototype.subtree=function(e){if(hu(e))return this;var t=iu(e);return null!==(t=this.children.get(t))?t.subtree(au(e)):new kl(null)},kl.prototype.set=function(e,t){if(hu(e))return new kl(t,this.children);var n=iu(e);return t=(this.children.get(n)||new kl(null)).set(au(e),t),t=this.children.insert(n,t),new kl(this.value,t)},kl.prototype.remove=function(e){if(hu(e))return this.children.isEmpty()?new kl(null):new kl(null,this.children);var t=iu(e),n=this.children.get(t);return n?(n=n.remove(au(e)),e=void 0,e=n.isEmpty()?this.children.remove(t):this.children.insert(t,n),null===this.value&&e.isEmpty()?new kl(null):new kl(this.value,e)):this},kl.prototype.get=function(e){if(hu(e))return this.value;var t=iu(e);return(t=this.children.get(t))?t.get(au(e)):null},kl.prototype.setTree=function(e,t){if(hu(e))return t;var n=iu(e);return e=(this.children.get(n)||new kl(null)).setTree(au(e),t),t=void 0,t=e.isEmpty()?this.children.remove(n):this.children.insert(n,e),new kl(this.value,t)},kl.prototype.fold=function(e){return this.fold_(ru(),e)},kl.prototype.fold_=function(e,t){var n={};return this.children.inorderTraversal((function(r,i){n[r]=i.fold_(lu(e,r),t)})),t(e,this.value,n)},kl.prototype.findOnPath=function(e,t){return this.findOnPath_(e,ru(),t)},kl.prototype.findOnPath_=function(e,t,n){if(r=!!this.value&&n(t,this.value))return r;if(hu(e))return null;var r,i=iu(e);return(r=this.children.get(i))?r.findOnPath_(au(e),lu(t,i),n):null},kl.prototype.foreachOnPath=function(e,t){return this.foreachOnPath_(e,ru(),t)},kl.prototype.foreachOnPath_=function(e,t,n){if(hu(e))return this;this.value&&n(t,this.value);var r=iu(e),i=this.children.get(r);return i?i.foreachOnPath_(au(e),lu(t,r),n):new kl(null)},kl.prototype.foreach=function(e){this.foreach_(ru(),e)},kl.prototype.foreach_=function(e,t){this.children.inorderTraversal((function(n,r){r.foreach_(lu(e,n),t)})),this.value&&t(e,this.value)},kl.prototype.foreachChild=function(e){this.children.inorderTraversal((function(t,n){n.value&&e(t,n.value)}))},kl);function kl(e,t){void 0===t&&(t=gl=gl||new qu(Ba)),this.value=e,this.children=t}var Ol=(xl.empty=function(){return new xl(new Cl(null))},xl);function xl(e){this.writeTree_=e}function Pl(e,t,n){if(hu(t))return new Ol(new Cl(n));if(null!=(o=e.writeTree_.findRootMostValueAndPath(t))){var r=o.path,i=o.value,o=fu(r,t);return i=i.updateChild(o,n),new Ol(e.writeTree_.set(r,i))}return n=new Cl(n),n=e.writeTree_.setTree(t,n),new Ol(n)}function Nl(e,t,n){var r=e;return ss(n,(function(e,n){r=Pl(r,lu(t,e),n)})),r}function Rl(e,t){return hu(t)?Ol.empty():(t=e.writeTree_.setTree(t,new Cl(null)),new Ol(t))}function Al(e,t){return null!=Dl(e,t)}function Dl(e,t){var n=e.writeTree_.findRootMostValueAndPath(t);return null!=n?e.writeTree_.get(n.path).getChild(fu(n.path,t)):null}function jl(e){var t=[],n=e.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(Zu,(function(e,n){t.push(new xu(e,n))})):e.writeTree_.children.inorderTraversal((function(e,n){null!=n.value&&t.push(new xu(e,n.value))})),t}function Ll(e,t){if(hu(t))return e;var n=Dl(e,t);return new Ol(null!=n?new Cl(n):e.writeTree_.subtree(t))}function Ml(e){return e.writeTree_.isEmpty()}function Fl(e,t){return function e(t,n,r){if(null!=n.value)return r.updateChild(t,n.value);var i=null;return n.children.inorderTraversal((function(n,o){".priority"===n?(uo(null!==o.value,"Priority writes must always be leaf nodes"),i=o.value):r=e(lu(t,n),o,r)})),r=r.getChild(t).isEmpty()||null===i?r:r.updateChild(lu(t,".priority"),i)}(ru(),e.writeTree_,t)}function Ul(e,t){return Xl(t,e)}function ql(e,t){var n=e.allWrites.findIndex((function(e){return e.writeId===t}));uo(0<=n,"removeWrite called with nonexistent writeId.");var r=e.allWrites[n];e.allWrites.splice(n,1);for(var i,o=r.visible,a=!1,s=e.allWrites.length-1;o&&0<=s;){var u=e.allWrites[s];u.visible&&(n<=s&&function(e,t){if(e.snap)return vu(e.path,t);for(var n in e.children)if(e.children.hasOwnProperty(n)&&vu(lu(e.path,n),t))return!0;return!1}(u,r.path)?o=!1:vu(r.path,u.path)&&(a=!0)),s--}return!!o&&(a?((i=e).visibleWrites=Vl(i.allWrites,Bl,ru()),0<i.allWrites.length?i.lastWriteId=i.allWrites[i.allWrites.length-1].writeId:i.lastWriteId=-1):r.snap?e.visibleWrites=Rl(e.visibleWrites,r.path):ss(r.children,(function(t){e.visibleWrites=Rl(e.visibleWrites,lu(r.path,t))})),!0)}function Bl(e){return e.visible}function Vl(e,t,n){for(var r=Ol.empty(),i=0;i<e.length;++i){var o=e[i];if(t(o)){var a=o.path,s=void 0;if(o.snap)vu(n,a)?r=Pl(r,s=fu(n,a),o.snap):vu(a,n)&&(s=fu(a,n),r=Pl(r,ru(),o.snap.getChild(s)));else{if(!o.children)throw co("WriteRecord should have .snap or .children");vu(n,a)?r=Nl(r,s=fu(n,a),o.children):vu(a,n)&&(hu(s=fu(a,n))?r=Nl(r,ru(),o.children):(o=jo(o.children,iu(s)))&&(s=o.getChild(au(s)),r=Pl(r,ru(),s)))}}}return r}function Wl(e,t,n,r,i){if(r||i){var o=Ll(e.visibleWrites,t);return!i&&Ml(o)?n:i||null!=n||Al(o,ru())?Fl(Vl(e.allWrites,(function(e){return(e.visible||i)&&(!r||!~r.indexOf(e.writeId))&&(vu(e.path,t)||vu(t,e.path))}),t),n||lc.EMPTY_NODE):null}return null!=(o=Dl(e.visibleWrites,t))?o:Ml(e=Ll(e.visibleWrites,t))?n:null!=n||Al(e,ru())?Fl(e,n||lc.EMPTY_NODE):null}function zl(e,t,n,r){return Wl(e.writeTree,e.treePath,t,n,r)}function Hl(e,t){return function(e,t,n){var r=lc.EMPTY_NODE,i=Dl(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(Zu,(function(e,t){r=r.updateImmediateChild(e,t)})),r;if(n){var o=Ll(e.visibleWrites,t);return n.forEachChild(Zu,(function(e,t){t=Fl(Ll(o,new tu(e)),t),r=r.updateImmediateChild(e,t)})),jl(o).forEach((function(e){r=r.updateImmediateChild(e.name,e.node)})),r}return jl(Ll(e.visibleWrites,t)).forEach((function(e){r=r.updateImmediateChild(e.name,e.node)})),r}(e.writeTree,e.treePath,t)}function Kl(e,t,n,r){return i=e.writeTree,e=e.treePath,t=t,r=r,uo(n||r,"Either existingEventSnap or existingServerSnap must exist"),e=lu(e,t),Al(i.visibleWrites,e)?null:Ml(e=Ll(i.visibleWrites,e))?r.getChild(t):Fl(e,r.getChild(t));var i}function Gl(e,t){return n=e.writeTree,t=lu(e.treePath,t),Dl(n.visibleWrites,t);var n}function Ql(e,t,n,r,i,o){return function(e,t,n,r,i,o,a){var s;if(null!=(t=Dl(e=Ll(e.visibleWrites,t),ru())))s=t;else{if(null==n)return[];s=Fl(e,n)}if((s=s.withIndex(a)).isEmpty()||s.isLeafNode())return[];for(var u=[],c=a.getCompare(),l=o?s.getReverseIteratorFrom(r,a):s.getIteratorFrom(r,a),h=l.getNext();h&&u.length<i;)0!==c(h,r)&&u.push(h),h=l.getNext();return u}(e.writeTree,e.treePath,t,n,r,i,o)}function Yl(e,t,n){return r=e.writeTree,i=e.treePath,e=n,t=lu(i,n=t),null!=(i=Dl(r.visibleWrites,t))?i:e.isCompleteForChild(n)?Fl(Ll(r.visibleWrites,t),e.getNode().getImmediateChild(n)):null;var r,i}function $l(e,t){return Xl(lu(e.treePath,t),e.writeTree)}function Xl(e,t){return{treePath:e,writeTree:t}}var Jl=(Zl.prototype.trackChildChange=function(e){var t=e.type,n=e.childName;uo("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),uo(".priority"!==n,"Only non-priority child changes can be tracked.");var r=this.changeMap.get(n);if(r){var i=r.type;if("child_added"===t&&"child_removed"===i)this.changeMap.set(n,Nc(n,e.snapshotNode,r.snapshotNode));else if("child_removed"===t&&"child_added"===i)this.changeMap.delete(n);else if("child_removed"===t&&"child_changed"===i)this.changeMap.set(n,Pc(n,r.oldSnap));else if("child_changed"===t&&"child_added"===i)this.changeMap.set(n,xc(n,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==i)throw co("Illegal combination of changes: "+e+" occurred after "+r);this.changeMap.set(n,Nc(n,e.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,e)},Zl.prototype.getChanges=function(){return Array.from(this.changeMap.values())},Zl);function Zl(){this.changeMap=new Map}function eh(){}var th=new(eh.prototype.getCompleteChild=function(e){return null},eh.prototype.getChildAfterChild=function(e,t,n){return null},eh),nh=(rh.prototype.getCompleteChild=function(e){var t=this.viewCache_.eventCache;return t.isCompleteForChild(e)?t.getNode().getImmediateChild(e):(t=null!=this.optCompleteServerCache_?new vl(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache,Yl(this.writes_,e,t))},rh.prototype.getChildAfterChild=function(e,t,n){var r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Il(this.viewCache_);return 0===(e=Ql(this.writes_,r,t,1,n,e)).length?null:e[0]},rh);function rh(e,t,n){void 0===n&&(n=null),this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=n}function ih(e,t,n,r,i){var o,a,s,u,c,l,h,f,d=new Jl;if(n.type===tl.OVERWRITE)var p=n,v=p.source.fromUser?sh(e,t,p.path,p.snap,r,i,d):(uo(p.source.fromServer,"Unknown source."),o=p.source.tagged||t.serverCache.isFiltered()&&!hu(p.path),ah(e,t,p.path,p.snap,r,i,o,d));else if(n.type===tl.MERGE){var y=n;v=y.source.fromUser?(a=e,s=t,u=y.path,p=y.children,c=r,l=i,h=d,f=s,p.foreach((function(e,t){e=lu(u,e),uh(s,iu(e))&&(f=sh(a,f,e,t,c,l,h))})),p.foreach((function(e,t){e=lu(u,e),uh(s,iu(e))||(f=sh(a,f,e,t,c,l,h))})),f):(uo(y.source.fromServer,"Unknown source."),o=y.source.tagged||t.serverCache.isFiltered(),lh(e,t,y.path,y.children,r,i,o,d))}else if(n.type===tl.ACK_USER_WRITE){var g=n;v=g.revert?function(e,t,n,r,i,o){var a;if(null!=Gl(r,n))return t;var s,u,c=new nh(r,t,i),l=t.eventCache.getNode();return i=void 0,hu(n)||".priority"===iu(n)?(u=void 0,u=t.serverCache.isFullyInitialized()?zl(r,Il(t)):(s=t.serverCache.getNode(),uo(s instanceof lc,"serverChildren would be complete if leaf node"),Hl(r,s)),i=e.filter.updateFullNode(l,u,o)):(null==(u=Yl(r,s=iu(n),t.serverCache))&&t.serverCache.isCompleteForChild(s)&&(u=l.getImmediateChild(s)),(i=null!=u?e.filter.updateChild(l,s,u,au(n),c,o):t.eventCache.getNode().hasChild(s)?e.filter.updateChild(l,s,lc.EMPTY_NODE,au(n),c,o):l).isEmpty()&&t.serverCache.isFullyInitialized()&&(a=zl(r,Il(t))).isLeafNode()&&(i=e.filter.updateFullNode(i,a,o))),a=t.serverCache.isFullyInitialized()||null!=Gl(r,ru()),El(t,i,a,e.filter.filtersNodes())}(e,t,g.path,r,i,d):function(e,t,n,r,i,o,a){if(null!=Gl(i,n))return t;var s=t.serverCache.isFiltered(),u=t.serverCache;if(null!=r.value){if(hu(n)&&u.isFullyInitialized()||u.isCompleteForPath(n))return ah(e,t,n,u.getNode().getChild(n),i,o,s,a);if(hu(n)){var c=new Cl(null);return u.getNode().forEachChild(Au,(function(e,t){c=c.set(new tu(e),t)})),lh(e,t,n,c,i,o,s,a)}return t}var l=new Cl(null);return r.foreach((function(e,t){var r=lu(n,e);u.isCompleteForPath(r)&&(l=l.set(e,u.getNode().getChild(r)))})),lh(e,t,n,l,i,o,s,a)}(e,t,g.path,g.affectedTree,r,i,d)}else{if(n.type!==tl.LISTEN_COMPLETE)throw co("Unknown operation type: "+n.type);o=e,g=t,i=n.path,e=r,n=d,v=oh(o,r=Sl(g,(r=g.serverCache).getNode(),r.isFullyInitialized()||hu(i),r.isFiltered()),i,e,th,n)}return function(e,t,n){var r,i,o=t.eventCache;o.isFullyInitialized()&&(r=o.getNode().isLeafNode()||o.getNode().isEmpty(),i=Tl(e),(0<n.length||!e.eventCache.isFullyInitialized()||r&&!o.getNode().equals(i)||!o.getNode().getPriority().equals(i.getPriority()))&&n.push(Oc(Tl(t))))}(t,v,d=d.getChanges()),{viewCache:v,changes:d}}function oh(e,t,n,r,i,o){var a=t.eventCache;if(null!=Gl(r,n))return t;var s,u,c,l,h=void 0,f=void 0;return h=hu(n)?(uo(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()?(s=Hl(r,(s=Il(t))instanceof lc?s:lc.EMPTY_NODE),e.filter.updateFullNode(t.eventCache.getNode(),s,o)):(u=zl(r,Il(t)),e.filter.updateFullNode(t.eventCache.getNode(),u,o))):".priority"===(u=iu(n))?(uo(1===ou(n),"Can't have a priority with additional path components"),null!=(l=Kl(r,n,c=a.getNode(),f=t.serverCache.getNode()))?e.filter.updatePriority(c,l):a.getNode()):(c=au(n),l=void 0,null!=(l=a.isCompleteForChild(u)?(f=t.serverCache.getNode(),null!=(f=Kl(r,n,a.getNode(),f))?a.getNode().getImmediateChild(u).updateChild(c,f):a.getNode().getImmediateChild(u)):Yl(r,u,t.serverCache))?e.filter.updateChild(a.getNode(),u,l,c,i,o):a.getNode()),El(t,h,a.isFullyInitialized()||hu(n),e.filter.filtersNodes())}function ah(e,t,n,r,i,o,a,s){var u=t.serverCache,c=a?e.filter:e.filter.getIndexedFilter();if(hu(n))h=c.updateFullNode(u.getNode(),r,null);else if(c.filtersNodes()&&!u.isFiltered())var l=u.getNode().updateChild(n,r),h=c.updateFullNode(u.getNode(),l,null);else{if(a=iu(n),!u.isCompleteForPath(n)&&1<ou(n))return t;l=au(n),r=u.getNode().getImmediateChild(a).updateChild(l,r),h=".priority"===a?c.updatePriority(u.getNode(),r):c.updateChild(u.getNode(),a,r,l,th,null)}return oh(e,c=Sl(t,h,u.isFullyInitialized()||hu(n),c.filtersNodes()),n,i,new nh(i,c,o),s)}function sh(e,t,n,r,i,o,a){var s,u,c=t.eventCache,l=new nh(i,t,o);return hu(n)?(u=e.filter.updateFullNode(t.eventCache.getNode(),r,a),El(t,u,!0,e.filter.filtersNodes())):".priority"===(s=iu(n))?(u=e.filter.updatePriority(t.eventCache.getNode(),r),El(t,u,c.isFullyInitialized(),c.isFiltered())):(i=au(n),o=c.getNode().getImmediateChild(s),u=void 0,u=hu(i)?r:null!=(n=l.getCompleteChild(s))?".priority"===su(i)&&n.getChild(cu(i)).isEmpty()?n:n.updateChild(i,r):lc.EMPTY_NODE,o.equals(u)?t:El(t,e.filter.updateChild(c.getNode(),s,u,i,l,a),c.isFullyInitialized(),e.filter.filtersNodes()))}function uh(e,t){return e.eventCache.isCompleteForChild(t)}function ch(e,t,n){return n.foreach((function(e,n){t=t.updateChild(e,n)})),t}function lh(e,t,n,r,i,o,a,s){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;var u=t,c=(r=hu(n)?r:new Cl(null).setTree(n,r),t.serverCache.getNode());return r.children.inorderTraversal((function(n,r){c.hasChild(n)&&(r=ch(0,t.serverCache.getNode().getImmediateChild(n),r),u=ah(e,u,new tu(n),r,i,o,a,s))})),r.children.inorderTraversal((function(n,r){var l=!t.serverCache.isCompleteForChild(n)&&void 0===r.value;c.hasChild(n)||l||(r=ch(0,t.serverCache.getNode().getImmediateChild(n),r),u=ah(e,u,new tu(n),r,i,o,a,s))})),u}var hh,fh=(Object.defineProperty(dh.prototype,"query",{get:function(){return this.query_},enumerable:!1,configurable:!0}),dh);function dh(e,t){this.query_=e,this.eventRegistrations_=[];var n=this.query_._queryParams,r=new Rc(n.getIndex()),i=(o=n).loadsAllData()?new Rc(o.getIndex()):new(o.hasLimit()?Lc:Dc)(o);this.processor_={filter:i},e=t.serverCache,n=t.eventCache;var o=r.updateFullNode(lc.EMPTY_NODE,e.getNode(),null);t=i.updateFullNode(lc.EMPTY_NODE,n.getNode(),null),r=new vl(o,e.isFullyInitialized(),r.filtersNodes()),i=new vl(t,n.isFullyInitialized(),i.filtersNodes()),this.viewCache_=wl(i,r),this.eventGenerator_=new ml(this.query_)}function ph(e){return 0===e.eventRegistrations_.length}function vh(e,t,n){var r,i=[];if(n&&(uo(null==t,"A cancel should cancel all event registrations."),r=e.query._path,e.eventRegistrations_.forEach((function(e){(e=e.createCancelEvent(n,r))&&i.push(e)}))),t){for(var o=[],a=0;a<e.eventRegistrations_.length;++a){var s=e.eventRegistrations_[a];if(s.matches(t)){if(t.hasAnyCallback()){o=o.concat(e.eventRegistrations_.slice(a+1));break}}else o.push(s)}e.eventRegistrations_=o}else e.eventRegistrations_=[];return i}function yh(e,t,n,r){t.type===tl.MERGE&&null!==t.source.queryId&&(uo(Il(e.viewCache_),"We should always have a full cache before handling merges"),uo(Tl(e.viewCache_),"Missing event cache, even though we have a server cache"));var i=e.viewCache_;return t=ih(e.processor_,i,t,n,r),n=e.processor_,r=t.viewCache,uo(r.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),uo(r.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed"),uo(t.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=t.viewCache,gh(e,t.changes,t.viewCache.eventCache.getNode(),null)}function gh(e,t,n,r){return r=r?[r]:e.eventRegistrations_,bl(e.eventGenerator_,t,n,r)}var mh,bh=function(){this.views=new Map};function _h(e,t,n,r){var i,o,a=t.source.queryId;if(null!==a){var s=e.views.get(a);return uo(null!=s,"SyncTree gave us an op for an invalid query."),yh(s,t,n,r)}var u=[];try{for(var c=no(e.views.values()),l=c.next();!l.done;l=c.next())s=l.value,u=u.concat(yh(s,t,n,r))}catch(e){i={error:e}}finally{try{l&&!l.done&&(o=c.return)&&o.call(c)}finally{if(i)throw i.error}}return u}function wh(e,t,n,r,i){var o=t._queryIdentifier;return(e=e.views.get(o))?e:(e=!1,e=!!(o=zl(n,i?r:null))||(o=r instanceof lc?Hl(n,r):lc.EMPTY_NODE,!1),i=wl(new vl(o,e,!1),new vl(r,i,!1)),new fh(t,i))}function Eh(e,t,n,r,i,o){var a;return o=wh(e,t,r,i,o),e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,o),t=n,o.eventRegistrations_.push(t),t=n,o=(n=o).viewCache_.eventCache,a=[],o.getNode().isLeafNode()||o.getNode().forEachChild(Zu,(function(e,t){a.push(xc(e,t))})),o.isFullyInitialized()&&a.push(Oc(o.getNode())),gh(n,a,o.getNode(),t)}function Sh(e,t,n,r){var i,o,a=t._queryIdentifier,s=[],u=[],c=Oh(e);if("default"===a)try{for(var l=no(e.views.entries()),h=l.next();!h.done;h=l.next()){var f=ro(h.value,2),d=f[0],p=f[1];u=u.concat(vh(p,n,r)),ph(p)&&(e.views.delete(d),p.query._queryParams.loadsAllData()||s.push(p.query))}}catch(e){i={error:e}}finally{try{h&&!h.done&&(o=l.return)&&o.call(l)}finally{if(i)throw i.error}}else(p=e.views.get(a))&&(u=u.concat(vh(p,n,r)),ph(p)&&(e.views.delete(a),p.query._queryParams.loadsAllData()||s.push(p.query)));return c&&!Oh(e)&&s.push((uo(hh,"Reference.ts has not been loaded"),new hh(t._repo,t._path))),{removed:s,events:u}}function Th(e){var t,n,r=[];try{for(var i=no(e.views.values()),o=i.next();!o.done;o=i.next()){var a=o.value;a.query._queryParams.loadsAllData()||r.push(a)}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}function Ih(e,t){var n,r,i,o,a=null;try{for(var s=no(e.views.values()),u=s.next();!u.done;u=s.next()){var c=u.value;a=a||(i=t,o=void 0,(o=Il((c=c).viewCache_))&&(c.query._queryParams.loadsAllData()||!hu(i)&&!o.getImmediateChild(iu(i)).isEmpty())?o.getChild(i):null)}}catch(e){n={error:e}}finally{try{u&&!u.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}return a}function Ch(e,t){return t._queryParams.loadsAllData()?xh(e):(t=t._queryIdentifier,e.views.get(t))}function kh(e,t){return null!=Ch(e,t)}function Oh(e){return null!=xh(e)}function xh(e){var t,n;try{for(var r=no(e.views.values()),i=r.next();!i.done;i=r.next()){var o=i.value;if(o.query._queryParams.loadsAllData())return o}}catch(e){t={error:e}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}return null}var Ph=1,Nh=function(e){this.listenProvider_=e,this.syncPointTree_=new Cl(null),this.pendingWriteTree_={visibleWrites:Ol.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map};function Rh(e,t,n,r,i){var o,a,s,u;return o=e.pendingWriteTree_,a=t,s=n,u=i,uo((r=r)>o.lastWriteId,"Stacking an older write on top of newer ones"),void 0===u&&(u=!0),o.allWrites.push({path:a,snap:s,writeId:r,visible:u}),u&&(o.visibleWrites=Pl(o.visibleWrites,a,s)),o.lastWriteId=r,i?qh(e,new hl(il(),t,n)):[]}function Ah(e,t,n,r){var i,o,a;return i=e.pendingWriteTree_,o=t,a=n,uo((r=r)>i.lastWriteId,"Stacking an older merge on top of newer ones"),i.allWrites.push({path:o,children:a,writeId:r,visible:!0}),i.visibleWrites=Nl(i.visibleWrites,o,a),i.lastWriteId=r,n=Cl.fromObject(n),qh(e,new dl(il(),t,n))}function Dh(e,t,n){void 0===n&&(n=!1);var r=function(e,t){for(var n=0;n<e.allWrites.length;n++){var r=e.allWrites[n];if(r.writeId===t)return r}return null}(e.pendingWriteTree_,t);if(ql(e.pendingWriteTree_,t)){var i=new Cl(null);return null!=r.snap?i=i.set(ru(),!0):ss(r.children,(function(e){i=i.set(new tu(e),!0)})),qh(e,new sl(r.path,i,n))}return[]}function jh(e,t,n){return qh(e,new hl(ol(),t,n))}function Lh(e,t,n,r){var i=t._path,o=e.syncPointTree_.get(i),a=[];if(o&&("default"===t._queryIdentifier||kh(o,t))){var s=Sh(o,t,n,r);if(0===o.views.size&&(e.syncPointTree_=e.syncPointTree_.remove(i)),n=s.removed,a=s.events,o=-1!==n.findIndex((function(e){return e._queryParams.loadsAllData()})),s=e.syncPointTree_.findOnPath(i,(function(e,t){return Oh(t)})),o&&!s&&!(i=e.syncPointTree_.subtree(i)).isEmpty())for(var u=i.fold((function(e,t,n){if(t&&Oh(t))return[xh(t)];var r=[];return t&&(r=Th(t)),ss(n,(function(e,t){r=r.concat(t)})),r})),c=0;c<u.length;++c){var l=(h=u[c]).query,h=Vh(e,h);e.listenProvider_.startListening(Qh(l),Wh(e,l),h.hashFn,h.onComplete)}!s&&0<n.length&&!r&&(o?e.listenProvider_.stopListening(Qh(t),null):n.forEach((function(t){var n=e.queryToTagMap.get(zh(t));e.listenProvider_.stopListening(Qh(t),n)}))),function(e,t){for(var n=0;n<t.length;++n){var r,i=t[n];i._queryParams.loadsAllData()||(r=zh(i),i=e.queryToTagMap.get(r),e.queryToTagMap.delete(r),e.tagToQueryMap.delete(i))}}(e,n)}return a}function Mh(e,t,n){var r=t._path,i=null,o=!1;e.syncPointTree_.foreachOnPath(r,(function(e,t){e=fu(e,r),i=i||Ih(t,e),o=o||Oh(t)}));var a=e.syncPointTree_.get(r);a?(o=o||Oh(a),i=i||Ih(a,ru())):(a=new bh,e.syncPointTree_=e.syncPointTree_.set(r,a)),null!=i?l=!0:(l=!1,i=lc.EMPTY_NODE,e.syncPointTree_.subtree(r).foreachChild((function(e,t){(t=Ih(t,ru()))&&(i=i.updateImmediateChild(e,t))})));var s,u,c=kh(a,t);c||t._queryParams.loadsAllData()||(s=zh(t),uo(!e.queryToTagMap.has(s),"View does not exist, but we have a tag"),u=Ph++,e.queryToTagMap.set(s,u),e.tagToQueryMap.set(u,s));var l=Eh(a,t,n,Ul(e.pendingWriteTree_,r),i,l);return c||o||(a=Ch(a,t),l=l.concat(function(e,t,n){var r=t._path,i=Wh(e,t);if(n=Vh(e,n),n=e.listenProvider_.startListening(Qh(t),i,n.hashFn,n.onComplete),r=e.syncPointTree_.subtree(r),i)uo(!Oh(r.value),"If we're adding a query, it shouldn't be shadowed");else for(var o=r.fold((function(e,t,n){if(!hu(e)&&t&&Oh(t))return[xh(t).query];var r=[];return t&&(r=r.concat(Th(t).map((function(e){return e.query})))),ss(n,(function(e,t){r=r.concat(t)})),r})),a=0;a<o.length;++a){var s=o[a];e.listenProvider_.stopListening(Qh(s),Wh(e,s))}return n}(e,t,a))),l}function Fh(e,t,n){var r=e.pendingWriteTree_;return e=e.syncPointTree_.findOnPath(t,(function(e,n){if(e=Ih(n,fu(e,t)))return e})),Wl(r,t,e,n,!0)}function Uh(e,t){var n=t._path,r=null;e.syncPointTree_.foreachOnPath(n,(function(e,t){e=fu(e,n),r=r||Ih(t,e)}));var i=e.syncPointTree_.get(n);i?r=r||Ih(i,ru()):(i=new bh,e.syncPointTree_=e.syncPointTree_.set(n,i));var o,a=(o=null!=r)?new vl(r,!0,!1):null;return Tl((o=wh(i,t,Ul(e.pendingWriteTree_,t._path),o?a.getNode():lc.EMPTY_NODE,o)).viewCache_)}function qh(e,t){return function e(t,n,r,i){if(hu(t.path))return Bh(t,n,r,i);var o=n.get(ru());null==r&&null!=o&&(r=Ih(o,ru()));var a=[],s=iu(t.path),u=t.operationForChild(s),c=n.children.get(s);return c&&u&&(n=r?r.getImmediateChild(s):null,s=$l(i,s),a=a.concat(e(u,c,n,s))),o?a.concat(_h(o,t,i,r)):a}(t,e.syncPointTree_,null,Ul(e.pendingWriteTree_,ru()))}function Bh(e,t,n,r){var i=t.get(ru());null==n&&null!=i&&(n=Ih(i,ru()));var o=[];return t.children.inorderTraversal((function(t,i){var a=n?n.getImmediateChild(t):null,s=$l(r,t);(t=e.operationForChild(t))&&(o=o.concat(Bh(t,i,a,s)))})),o=i?o.concat(_h(i,e,r,n)):o}function Vh(e,t){var n=t.query,r=Wh(e,n);return{hashFn:function(){return(t.viewCache_.serverCache.getNode()||lc.EMPTY_NODE).hash()},onComplete:function(t){if("ok"===t)return r?function(e,t,n){var r=Hh(e,n);return r?(r=(n=Kh(r)).path,n=n.queryId,t=fu(r,t),Gh(e,r,new cl(al(n),t))):[]}(e,n._path,r):(i=e,o=n._path,qh(i,new cl(ol(),o)));var i,o=(o="Unknown Error","too_big"===(t=t)?o="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===t?o="Client doesn't have permission to access the desired data.":"unavailable"===t&&(o="The service is unavailable"),(o=new Error(t+" at "+n._path.toString()+": "+o)).code=t.toUpperCase(),o);return Lh(e,n,null,o)}}}function Wh(e,t){return t=zh(t),e.queryToTagMap.get(t)}function zh(e){return e._path.toString()+"$"+e._queryIdentifier}function Hh(e,t){return e.tagToQueryMap.get(t)}function Kh(e){var t=e.indexOf("$");return uo(-1!==t&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new tu(e.substr(0,t))}}function Gh(e,t,n){var r=e.syncPointTree_.get(t);return uo(r,"Missing sync point for query tag that we're tracking"),_h(r,n,Ul(e.pendingWriteTree_,t),null)}function Qh(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?(uo(mh,"Reference.ts has not been loaded"),new mh(e._repo,e._path)):e}var Yh=($h.prototype.getImmediateChild=function(e){return new $h(this.node_.getImmediateChild(e))},$h.prototype.node=function(){return this.node_},$h);function $h(e){this.node_=e}var Xh=(Jh.prototype.getImmediateChild=function(e){return e=lu(this.path_,e),new Jh(this.syncTree_,e)},Jh.prototype.node=function(){return Fh(this.syncTree_,this.path_)},Jh);function Jh(e,t){this.syncTree_=e,this.path_=t}var Zh=function(e){return(e=e||{}).timestamp=e.timestamp||(new Date).getTime(),e},ef=function(e,t,n){return e&&"object"==typeof e?(uo(".sv"in e,"Unexpected leaf node or priority contents"),"string"==typeof e[".sv"]?tf(e[".sv"],t,n):"object"==typeof e[".sv"]?nf(e[".sv"],t):void uo(!1,"Unexpected server value: "+JSON.stringify(e,null,2))):e},tf=function(e,t,n){if("timestamp"===e)return n.timestamp;uo(!1,"Unexpected server value: "+e)},nf=function(e,t,n){return e.hasOwnProperty("increment")||uo(!1,"Unexpected server value: "+JSON.stringify(e,null,2)),"number"!=typeof(e=e.increment)&&uo(!1,"Unexpected increment value: "+e),t=t.node(),uo(null!=t,"Expected ChildrenNode.EMPTY_NODE for nulls"),t.isLeafNode()?"number"!=typeof(t=t.getValue())?e:t+e:e},rf=function(e,t,n,r){return af(t,new Xh(n,e),r)},of=function(e,t,n){return af(e,new Yh(t),n)};function af(e,t,n){var r=e.getPriority().val(),i=ef(r,t.getImmediateChild(".priority"),n);if(e.isLeafNode()){var o=e;return(r=ef(o.getValue(),t,n))!==o.getValue()||i!==o.getPriority().val()?new $u(r,vc(i)):e}var a=e=e;return i!==e.getPriority().val()&&(a=a.updatePriority(new $u(i))),e.forEachChild(Zu,(function(e,r){var i=af(r,t.getImmediateChild(e),n);i!==r&&(a=a.updateImmediateChild(e,i))})),a}var sf=function(e,t,n){void 0===e&&(e=""),void 0===t&&(t=null),void 0===n&&(n={children:{},childCount:0}),this.name=e,this.parent=t,this.node=n};function uf(e,t){for(var n=t instanceof tu?t:new tu(t),r=e,i=iu(n);null!==i;){var o=jo(r.node.children,i)||{children:{},childCount:0};r=new sf(i,r,o),i=iu(n=au(n))}return r}function cf(e){return e.node.value}function lf(e,t){e.node.value=t,pf(e)}function hf(e){return 0<e.node.childCount}function ff(e,t){ss(e.node.children,(function(n,r){t(new sf(n,e,r))}))}function df(e){return new tu(null===e.parent?e.name:df(e.parent)+"/"+e.name)}function pf(e){var t,n,r,i;null!==e.parent&&(t=e.parent,n=e.name,i=function(e){return void 0===cf(e)&&!hf(e)}(r=e),e=Do(t.node.children,n),i&&e?(delete t.node.children[n],t.node.childCount--,pf(t)):i||e||(t.node.children[n]=r.node,t.node.childCount++,pf(t)))}function vf(e){return"string"==typeof e&&0!==e.length&&!_f.test(e)}function yf(e){return"string"==typeof e&&0!==e.length&&!wf.test(e)}function gf(e,t,n,r){if(!r||void 0!==t){var i=Ko(e,"values");if(!t||"object"!=typeof t||Array.isArray(t))throw new Error(i+" must be an object containing the children to replace.");var o=[];ss(t,(function(e,t){if(e=new tu(e),If(i,t,lu(n,e)),".priority"===su(e)&&!Sf(t))throw new Error(i+"contains an invalid value for '"+e.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");o.push(e)})),function(e,t){for(var n=0;n<t.length;n++)for(var r,i=uu(r=t[n]),o=0;o<i.length;o++)if((".priority"!==i[o]||o!==i.length-1)&&!vf(i[o]))throw new Error(e+"contains an invalid key ("+i[o]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');t.sort(du);var a=null;for(n=0;n<t.length;n++){if(r=t[n],null!==a&&vu(a,r))throw new Error(e+"contains a path "+a.toString()+" that is ancestor of another path "+r.toString());a=r}}(i,o)}}function mf(e,t,n){if(!n||void 0!==t){if(qa(t))throw new Error(Ko(e,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!Sf(t))throw new Error(Ko(e,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}}function bf(e,t,n,r){if(!(r&&void 0===n||vf(n)))throw new Error(Ko(e,t)+'was an invalid key = "'+n+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')}var _f=/[\[\].#$\/\u0000-\u001F\u007F]/,wf=/[\[\].#$\u0000-\u001F\u007F]/,Ef=10485760,Sf=function(e){return null===e||"string"==typeof e||"number"==typeof e&&!qa(e)||e&&"object"==typeof e&&Do(e,".sv")},Tf=function(e,t,n,r){r&&void 0===t||If(Ko(e,"value"),t,n)},If=function e(t,n,r){var i=r instanceof tu?new yu(r,t):r;if(void 0===n)throw new Error(t+"contains undefined "+mu(i));if("function"==typeof n)throw new Error(t+"contains a function "+mu(i)+" with contents = "+n.toString());if(qa(n))throw new Error(t+"contains "+n.toString()+" "+mu(i));if("string"==typeof n&&n.length>Ef/3&&Yo(n)>Ef)throw new Error(t+"contains a string greater than "+Ef+" utf8 bytes "+mu(i)+" ('"+n.substring(0,50)+"...')");if(n&&"object"==typeof n){var o=!1,a=!1;if(ss(n,(function(n,r){if(".value"===n)o=!0;else if(".priority"!==n&&".sv"!==n&&(a=!0,!vf(n)))throw new Error(t+" contains an invalid key ("+n+") "+mu(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');var s;s=n,0<(n=i).parts_.length&&(n.byteLength_+=1),n.parts_.push(s),n.byteLength_+=Yo(s),gu(n),e(t,r,i),r=(n=i).parts_.pop(),n.byteLength_-=Yo(r),0<n.parts_.length&&--n.byteLength_})),o&&a)throw new Error(t+' contains ".value" child '+mu(i)+" in addition to actual children.")}},Cf=function(e,t,n,r){if(!(r&&void 0===n||yf(n)))throw new Error(Ko(e,t)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},kf=function(e,t,n,r){n=n&&n.replace(/^\/*\.info(\/|$)/,"/"),Cf(e,t,n,r)},Of=function(e,t){if(".info"===iu(t))throw new Error(e+" failed = Can't modify data under /.info/")},xf=function(e,t){var n=t.path.toString();if("string"!=typeof t.repoInfo.host||0===t.repoInfo.host.length||!vf(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==n.length&&!yf(n=(n=n)&&n.replace(/^\/*\.info(\/|$)/,"/")))throw new Error(Ko(e,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},Pf=function(){this.eventLists_=[],this.recursionDepth_=0};function Nf(e,t){for(var n=null,r=0;r<t.length;r++){var i=t[r],o=i.getPath();null===n||pu(o,n.path)||(e.eventLists_.push(n),n=null),(n=null===n?{events:[],path:o}:n).events.push(i)}n&&e.eventLists_.push(n)}function Rf(e,t,n){Nf(e,n),Df(e,(function(e){return pu(e,t)}))}function Af(e,t,n){Nf(e,n),Df(e,(function(e){return vu(e,t)||vu(t,e)}))}function Df(e,t){e.recursionDepth_++;for(var n=!0,r=0;r<e.eventLists_.length;r++){var i=e.eventLists_[r];i&&(t(i.path)?(function(e){for(var t=0;t<e.events.length;t++){var n,r=e.events[t];null!==r&&(e.events[t]=null,n=r.getEventRunner(),$a&&Za("event: "+r.toString()),ps(n))}}(e.eventLists_[r]),e.eventLists_[r]=null):n=!1)}n&&(e.eventLists_=[]),e.recursionDepth_--}var jf="repo_interrupt",Lf=25,Mf=(Ff.prototype.toString=function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host},Ff);function Ff(e,t,n){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=n,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Pf,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=$c(),this.transactionQueueTree_=new sf,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}function Uf(e,t,n){if(e.stats_=xs(e.repoInfo_),e.forceRestClient_||0<=("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i))e.server_=new Kc(e.repoInfo_,(function(t,n,r,i){Vf(e,t,n,r,i)}),e.authTokenProvider_),setTimeout((function(){return Wf(e,!0)}),0);else{if(null!=n){if("object"!=typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Ro(n)}catch(t){throw new Error("Invalid authOverride provided: "+t)}}e.persistentConnection_=new Iu(e.repoInfo_,t,(function(t,n,r,i){Vf(e,t,n,r,i)}),(function(t){Wf(e,t)}),(function(t){var n;n=e,ss(t,(function(e,t){zf(n,e,t)}))}),e.authTokenProvider_,n),e.server_=e.persistentConnection_}var r;e.authTokenProvider_.addTokenChangeListener((function(t){e.server_.refreshAuthToken(t)})),e.statsReporter_=(t=function(){return new nl(e.stats_,e.server_)},r=(r=e.repoInfo_).toString(),Os[r]||(Os[r]=t()),Os[r]),e.infoData_=new Qc,e.infoSyncTree_=new Nh({startListening:function(t,n,r,i){var o=[],a=e.infoData_.getNode(t._path);return a.isEmpty()||(o=jh(e.infoSyncTree_,t._path,a),setTimeout((function(){i("ok")}),0)),o},stopListening:function(){}}),zf(e,"connected",!1),e.serverSyncTree_=new Nh({startListening:function(t,n,r,i){return e.server_.listen(t,r,n,(function(n,r){r=i(n,r),Af(e.eventQueue_,t._path,r)})),[]},stopListening:function(t,n){e.server_.unlisten(t,n)}})}function qf(e){return e=e.infoData_.getNode(new tu(".info/serverTimeOffset")).val()||0,(new Date).getTime()+e}function Bf(e){return Zh({timestamp:qf(e)})}function Vf(e,t,n,r,i){e.dataUpdateCount++;var o=new tu(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;var a,s,u,c=[],l=o;0<(c=i?r?(a=Mo(n,(function(e){return vc(e)})),function(e,t,n,r){var i=Hh(e,r);return i?(i=(r=Kh(i)).path,r=r.queryId,t=fu(i,t),n=Cl.fromObject(n),Gh(e,i,new dl(al(r),t,n))):[]}(e.serverSyncTree_,o,a,i)):(t=vc(n),a=e.serverSyncTree_,s=o,u=t,null==(i=Hh(a,t=i))?[]:(t=Kh(i),i=t.path,t=t.queryId,s=fu(i,s),Gh(a,i,new hl(al(t),s,u)))):r?(s=Mo(n,(function(e){return vc(e)})),u=e.serverSyncTree_,r=o,s=s,s=Cl.fromObject(s),qh(u,new dl(ol(),r,s))):(n=vc(n),jh(e.serverSyncTree_,o,n))).length&&(l=td(e,o)),Af(e.eventQueue_,l,c)}function Wf(e,t){zf(e,"connected",t),!1===t&&function(e){Xf(e,"onDisconnectEvents");var t=Bf(e),n=$c();Jc(e.onDisconnect_,ru(),(function(r,i){i=rf(r,i,e.serverSyncTree_,t),Xc(n,r,i)}));var r=[];Jc(n,ru(),(function(t,n){r=r.concat(jh(e.serverSyncTree_,t,n)),t=od(e,t),td(e,t)})),e.onDisconnect_=$c(),Af(e.eventQueue_,ru(),r)}(e)}function zf(e,t,n){t=new tu("/.info/"+t),n=vc(n),e.infoData_.updateSnapshot(t,n),n=jh(e.infoSyncTree_,t,n),Af(e.eventQueue_,t,n)}function Hf(e){return e.nextWriteId_++}function Kf(e,t,n,r,i){Xf(e,"set",{path:t.toString(),value:n,priority:r});var o=Bf(e),a=(n=vc(n,r),r=Fh(e.serverSyncTree_,t),o=of(n,r,o),Hf(e));o=Rh(e.serverSyncTree_,t,o,a,!0),Nf(e.eventQueue_,o),e.server_.put(t.toString(),n.val(!0),(function(n,r){var o="ok"===n;o||ns("set at "+t+" failed: "+n),o=Dh(e.serverSyncTree_,a,!o),Af(e.eventQueue_,t,o),Jf(0,i,n,r)})),n=od(e,t),td(e,n),Af(e.eventQueue_,n,[])}function Gf(e,t,n){e.server_.onDisconnectCancel(t.toString(),(function(r,i){"ok"===r&&function e(t,n){if(hu(n))return t.value=null,t.children.clear(),!0;if(null!==t.value){if(t.value.isLeafNode())return!1;var r=t.value;return t.value=null,r.forEachChild(Zu,(function(e,n){Xc(t,new tu(e),n)})),e(t,n)}return!(0<t.children.size)||(r=iu(n),n=au(n),t.children.has(r)&&e(t.children.get(r),n)&&t.children.delete(r),0===t.children.size)}(e.onDisconnect_,t),Jf(0,n,r,i)}))}function Qf(e,t,n,r){var i=vc(n);e.server_.onDisconnectPut(t.toString(),i.val(!0),(function(n,o){"ok"===n&&Xc(e.onDisconnect_,t,i),Jf(0,r,n,o)}))}function Yf(e,t,n){n=".info"===iu(t._path)?Lh(e.infoSyncTree_,t,n):Lh(e.serverSyncTree_,t,n),Rf(e.eventQueue_,t._path,n)}function $f(e){e.persistentConnection_&&e.persistentConnection_.interrupt(jf)}function Xf(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r="";e.persistentConnection_&&(r=e.persistentConnection_.id+":"),Za.apply(void 0,io([r],ro(t)))}function Jf(e,t,n,r){t&&ps((function(){var e,i;"ok"===n?t(null):(i=e=(n||"error").toUpperCase(),r&&(i+=": "+r),(i=new Error(i)).code=e,t(i))}))}function Zf(e,t,n){return Fh(e.serverSyncTree_,t,n)||lc.EMPTY_NODE}function ed(e,t){var n;(t=void 0===t?e.transactionQueueTree_:t)||id(e,t),cf(t)?(n=rd(e,t),uo(0<n.length,"Sending zero length transaction queue"),n.every((function(e){return 0===e.status}))&&function(e,t,n){for(var r=n.map((function(e){return e.currentWriteId})),i=u=Zf(e,t,r),o=(r=u.hash(),0);o<n.length;o++){var a=n[o];uo(0===a.status,"tryToSendTransactionQueue_: items in queue should all be run."),a.status=1,a.retryCount++;var s=fu(t,a.path);i=i.updateChild(s,a.currentOutputSnapshotRaw)}var u=i.val(!0),c=t;e.server_.put(c.toString(),u,(function(r){Xf(e,"transaction put response",{path:c.toString(),status:r});var i=[];if("ok"===r){for(var o=[],a=0;a<n.length;a++)!function(t){n[t].status=2,i=i.concat(Dh(e.serverSyncTree_,n[t].currentWriteId)),n[t].onComplete&&o.push((function(){return n[t].onComplete(null,!0,n[t].currentOutputSnapshotResolved)})),n[t].unwatcher()}(a);for(id(e,uf(e.transactionQueueTree_,t)),ed(e,e.transactionQueueTree_),Af(e.eventQueue_,t,i),a=0;a<o.length;a++)ps(o[a])}else{if("datastale"===r)for(a=0;a<n.length;a++)3===n[a].status?n[a].status=4:n[a].status=0;else for(ns("transaction at "+c.toString()+" failed: "+r),a=0;a<n.length;a++)n[a].status=4,n[a].abortReason=r;td(e,t)}}),r)}(e,df(t),n)):hf(t)&&ff(t,(function(t){ed(e,t)}))}function td(e,t){var n=nd(e,t);return t=df(n),function(e,t,n){if(0!==t.length){for(var r=[],i=[],o=t.filter((function(e){return 0===e.status})).map((function(e){return e.currentWriteId})),a=0;a<t.length;a++)!function(a){var s,u,c,l,h=t[a],f=fu(n,h.path),d=!1;uo(null!==f,"rerunTransactionsUnderNode_: relativePath should not be null."),4===h.status?(d=!0,s=h.abortReason,i=i.concat(Dh(e.serverSyncTree_,h.currentWriteId,!0))):0===h.status&&(i=h.retryCount>=Lf?(d=!0,s="maxretry",i.concat(Dh(e.serverSyncTree_,h.currentWriteId,!0))):(u=Zf(e,h.path,o),h.currentInputSnapshot=u,void 0!==(l=t[a].update(u.val()))?(If("transaction failed: Data returned ",l,h.path),c=vc(l),"object"==typeof l&&null!=l&&Do(l,".priority")||(c=c.updatePriority(u.getPriority())),f=h.currentWriteId,l=Bf(e),l=of(c,u,l),h.currentOutputSnapshotRaw=c,h.currentOutputSnapshotResolved=l,h.currentWriteId=Hf(e),o.splice(o.indexOf(f),1),(i=i.concat(Rh(e.serverSyncTree_,h.path,l,h.currentWriteId,h.applyLocally))).concat(Dh(e.serverSyncTree_,f,!0))):(d=!0,s="nodata",i.concat(Dh(e.serverSyncTree_,h.currentWriteId,!0))))),Af(e.eventQueue_,n,i),i=[],d&&(t[a].status=2,d=t[a].unwatcher,setTimeout(d,Math.floor(0)),t[a].onComplete&&("nodata"===s?r.push((function(){return t[a].onComplete(null,!1,t[a].currentInputSnapshot)})):r.push((function(){return t[a].onComplete(new Error(s),!1,null)}))))}(a);for(id(e,e.transactionQueueTree_),a=0;a<r.length;a++)ps(r[a]);ed(e,e.transactionQueueTree_)}}(e,rd(e,n),t),t}function nd(e,t){for(var n=e.transactionQueueTree_,r=iu(t);null!==r&&void 0===cf(n);)n=uf(n,r),r=iu(t=au(t));return n}function rd(e,t){var n=[];return function e(t,n,r){var i=cf(n);if(i)for(var o=0;o<i.length;o++)r.push(i[o]);ff(n,(function(n){e(t,n,r)}))}(e,t,n),n.sort((function(e,t){return e.order-t.order})),n}function id(e,t){var n=cf(t);if(n){for(var r=0,i=0;i<n.length;i++)2!==n[i].status&&(n[r]=n[i],r++);n.length=r,lf(t,0<n.length?n:void 0)}ff(t,(function(t){id(e,t)}))}function od(e,t){var n=df(nd(e,t));return function(e,t,n){for(var r=e.parent;null!==r;){if(t(r))return;r=r.parent}}(t=uf(e.transactionQueueTree_,t),(function(t){ad(e,t)})),ad(e,t),function e(t,n,r,i){r&&!i&&n(t),ff(t,(function(t){e(t,n,!0,i)})),r&&i&&n(t)}(t,(function(t){ad(e,t)})),n}function ad(e,t){var n=cf(t);if(n){for(var r=[],i=[],o=-1,a=0;a<n.length;a++)3===n[a].status||(1===n[a].status?(uo(o===a-1,"All SENT items should be at beginning of queue."),n[o=a].status=3,n[a].abortReason="set"):(uo(0===n[a].status,"Unexpected transaction status in abort"),n[a].unwatcher(),i=i.concat(Dh(e.serverSyncTree_,n[a].currentWriteId,!0)),n[a].onComplete&&r.push(n[a].onComplete.bind(null,new Error("set"),!1,null))));for(-1===o?lf(t,void 0):n.length=o+1,Af(e.eventQueue_,df(t),i),a=0;a<r.length;a++)ps(r[a])}}var sd=function(e,t){var n=ud(e),r=n.namespace;return"firebase.com"===n.domain&&ts(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),r&&"undefined"!==r||"localhost"===n.domain||ts("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&ns("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),e="ws"===n.scheme||"wss"===n.scheme,{repoInfo:new Es(n.host,n.secure,r,t,e,"",r!==n.subdomain),path:new tu(n.pathString)}},ud=function(e){var t,n,r,i="",o="",a="",s="",u="",c=!0,l="https",h=443;return"string"==typeof e&&(0<=(r=e.indexOf("//"))&&(l=e.substring(0,r-1),e=e.substring(r+2)),-1===(t=e.indexOf("/"))&&(t=e.length),-1===(n=e.indexOf("?"))&&(n=e.length),i=e.substring(0,Math.min(t,n)),t<n&&(s=function(e){for(var t="",n=e.split("/"),r=0;r<n.length;r++)if(0<n[r].length){var i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch(e){}t+="/"+i}return t}(e.substring(t,n))),n=function(e){var t,n,r={};"?"===e.charAt(0)&&(e=e.substring(1));try{for(var i=no(e.split("&")),o=i.next();!o.done;o=i.next()){var a,s=o.value;0!==s.length&&(2===(a=s.split("=")).length?r[decodeURIComponent(a[0])]=decodeURIComponent(a[1]):ns("Invalid query segment '"+s+"' in query '"+e+"'"))}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}(e.substring(Math.min(e.length,n))),0<=(r=i.indexOf(":"))?(c="https"===l||"wss"===l,h=parseInt(i.substring(r+1),10)):r=i.length,"localhost"===(r=i.slice(0,r)).toLowerCase()?o="localhost":r.split(".").length<=2?o=r:(r=i.indexOf("."),a=i.substring(0,r).toLowerCase(),o=i.substring(r+1),u=a),"ns"in n&&(u=n.ns)),{host:i,port:h,domain:o,subdomain:a,secure:c,scheme:l,pathString:s,namespace:u}},cd=(ld.prototype.getPath=function(){var e=this.snapshot.ref;return("value"===this.eventType?e:e.parent)._path},ld.prototype.getEventType=function(){return this.eventType},ld.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},ld.prototype.toString=function(){return this.getPath().toString()+":"+this.eventType+":"+Ro(this.snapshot.exportVal())},ld);function ld(e,t,n,r){this.eventType=e,this.eventRegistration=t,this.snapshot=n,this.prevName=r}var hd=(fd.prototype.getPath=function(){return this.path},fd.prototype.getEventType=function(){return"cancel"},fd.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},fd.prototype.toString=function(){return this.path.toString()+":cancel"},fd);function fd(e,t,n){this.eventRegistration=e,this.error=t,this.path=n}var dd=(pd.prototype.onValue=function(e,t){this.snapshotCallback.call(null,e,t)},pd.prototype.onCancel=function(e){return uo(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)},Object.defineProperty(pd.prototype,"hasCancelCallback",{get:function(){return!!this.cancelCallback},enumerable:!1,configurable:!0}),pd.prototype.matches=function(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context},pd);function pd(e,t){this.snapshotCallback=e,this.cancelCallback=t}var vd=(yd.prototype.cancel=function(){var e=new po;return Gf(this._repo,this._path,e.wrapCallback((function(){}))),e.promise},yd.prototype.remove=function(){Of("OnDisconnect.remove",this._path);var e=new po;return Qf(this._repo,this._path,null,e.wrapCallback((function(){}))),e.promise},yd.prototype.set=function(e){Of("OnDisconnect.set",this._path),Tf("OnDisconnect.set",e,this._path,!1);var t=new po;return Qf(this._repo,this._path,e,t.wrapCallback((function(){}))),t.promise},yd.prototype.setWithPriority=function(e,t){Of("OnDisconnect.setWithPriority",this._path),Tf("OnDisconnect.setWithPriority",e,this._path,!1),mf("OnDisconnect.setWithPriority",t,!1);var n,r,i,o,a=new po;return n=this._repo,r=this._path,e=e,t=t,i=a.wrapCallback((function(){})),o=vc(e,t),n.server_.onDisconnectPut(r.toString(),o.val(!0),(function(e,t){"ok"===e&&Xc(n.onDisconnect_,r,o),Jf(0,i,e,t)})),a.promise},yd.prototype.update=function(e){Of("OnDisconnect.update",this._path),gf("OnDisconnect.update",e,this._path,!1);var t=new po;return function(e,t,n,r){if(Lo(n))return Za("onDisconnect().update() called with empty data.  Don't do anything."),Jf(0,r,"ok",void 0);e.server_.onDisconnectMerge(t.toString(),n,(function(i,o){"ok"===i&&ss(n,(function(n,r){r=vc(r),Xc(e.onDisconnect_,lu(t,n),r)})),Jf(0,r,i,o)}))}(this._repo,this._path,e,t.wrapCallback((function(){}))),t.promise},yd);function yd(e,t){this._repo=e,this._path=t}var gd=(Object.defineProperty(md.prototype,"key",{get:function(){return hu(this._path)?null:su(this._path)},enumerable:!1,configurable:!0}),Object.defineProperty(md.prototype,"ref",{get:function(){return new Sd(this._repo,this._path)},enumerable:!1,configurable:!0}),Object.defineProperty(md.prototype,"_queryIdentifier",{get:function(){var e=zc(this._queryParams);return"{}"===(e=as(e))?"default":e},enumerable:!1,configurable:!0}),Object.defineProperty(md.prototype,"_queryObject",{get:function(){return zc(this._queryParams)},enumerable:!1,configurable:!0}),md.prototype.isEqual=function(e){if(!((e=ta(e))instanceof md))return!1;var t=this._repo===e._repo,n=pu(this._path,e._path);return e=this._queryIdentifier===e._queryIdentifier,t&&n&&e},md.prototype.toJSON=function(){return this.toString()},md.prototype.toString=function(){return this._repo.toString()+function(e){for(var t="",n=e.pieceNum_;n<e.pieces_.length;n++)""!==e.pieces_[n]&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}(this._path)},md);function md(e,t,n,r){this._repo=e,this._path=t,this._queryParams=n,this._orderByCalled=r}function bd(e,t){if(!0===e._orderByCalled)throw new Error(t+": You can't combine multiple orderBy calls.")}function _d(e){var t=null,n=null;if(e.hasStart()&&(t=e.getIndexStartValue()),e.hasEnd()&&(n=e.getIndexEndValue()),e.getIndex()===Au){var r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(e.hasStart()){if(e.getIndexStartName()!==rs)throw new Error(r);if("string"!=typeof t)throw new Error(i)}if(e.hasEnd()){if(e.getIndexEndName()!==is)throw new Error(r);if("string"!=typeof n)throw new Error(i)}}else if(e.getIndex()===Zu){if(null!=t&&!Sf(t)||null!=n&&!Sf(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(uo(e.getIndex()instanceof mc||e.getIndex()===Ic,"unknown index type."),null!=t&&"object"==typeof t||null!=n&&"object"==typeof n)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function wd(e){if(e.hasStart()&&e.hasEnd()&&e.hasLimit()&&!e.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}var Ed,Sd=(Ji(Td,Ed=gd),Object.defineProperty(Td.prototype,"parent",{get:function(){var e=cu(this._path);return null===e?null:new Td(this._repo,e)},enumerable:!1,configurable:!0}),Object.defineProperty(Td.prototype,"root",{get:function(){for(var e=this;null!==e.parent;)e=e.parent;return e},enumerable:!1,configurable:!0}),Td);function Td(e,t){return Ed.call(this,e,t,new Fc,!1)||this}var Id=(Object.defineProperty(Cd.prototype,"priority",{get:function(){return this._node.getPriority().val()},enumerable:!1,configurable:!0}),Object.defineProperty(Cd.prototype,"key",{get:function(){return this.ref.key},enumerable:!1,configurable:!0}),Object.defineProperty(Cd.prototype,"size",{get:function(){return this._node.numChildren()},enumerable:!1,configurable:!0}),Cd.prototype.child=function(e){var t=new tu(e);return e=xd(this.ref,e),new Cd(this._node.getChild(t),e,Zu)},Cd.prototype.exists=function(){return!this._node.isEmpty()},Cd.prototype.exportVal=function(){return this._node.val(!0)},Cd.prototype.forEach=function(e){var t=this;return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(function(n,r){return e(new Cd(r,xd(t.ref,n),Zu))}))},Cd.prototype.hasChild=function(e){return e=new tu(e),!this._node.getChild(e).isEmpty()},Cd.prototype.hasChildren=function(){return!this._node.isLeafNode()&&!this._node.isEmpty()},Cd.prototype.toJSON=function(){return this.exportVal()},Cd.prototype.val=function(){return this._node.val()},Cd);function Cd(e,t,n){this._node=e,this.ref=t,this._index=n}function kd(e,t){return(e=ta(e))._checkNotDeleted("ref"),void 0!==t?xd(e._root,t):e._root}function Od(e,t){(e=ta(e))._checkNotDeleted("refFromURL");var n=sd(t,e._repo.repoInfo_.nodeAdmin);return xf("refFromURL",n),t=n.repoInfo,e._repo.repoInfo_.isCustomHost()||t.host===e._repo.repoInfo_.host||ts("refFromURL: Host name does not match the current database: (found "+t.host+" but expected "+e._repo.repoInfo_.host+")"),kd(e,n.path.toString())}function xd(e,t){return(null===iu((e=ta(e))._path)?kf:Cf)("child","path",t,!1),new Sd(e._repo,lu(e._path,t))}function Pd(e,t){e=ta(e),Of("set",e._path),Tf("set",t,e._path,!1);var n=new po;return Kf(e._repo,e._path,t,null,n.wrapCallback((function(){}))),n.promise}function Nd(e,t){gf("update",t,e._path,!1);var n=new po;return function(e,t,n,r){Xf(e,"update",{path:t.toString(),value:n});var i,o,a=!0,s=Bf(e),u={};ss(n,(function(n,r){a=!1,u[n]=rf(lu(t,n),vc(r),e.serverSyncTree_,s)})),a?(Za("update() called with empty data.  Don't do anything."),Jf(0,r,"ok",void 0)):(i=Hf(e),o=Ah(e.serverSyncTree_,t,u,i),Nf(e.eventQueue_,o),e.server_.merge(t.toString(),n,(function(n,o){(s="ok"===n)||ns("update at "+t+" failed: "+n);var a=Dh(e.serverSyncTree_,i,!s),s=0<a.length?td(e,t):t;Af(e.eventQueue_,s,a),Jf(0,r,n,o)})),ss(n,(function(n){n=od(e,lu(t,n)),td(e,n)})),Af(e.eventQueue_,t,[]))}(e._repo,e._path,t,n.wrapCallback((function(){}))),n.promise}function Rd(e){return e=ta(e),t=e._repo,n=e,(null!=(r=Uh(t.serverSyncTree_,n))?Promise.resolve(r):t.server_.get(n).then((function(e){var r=vc(e);return e=jh(t.serverSyncTree_,n._path,r),Rf(t.eventQueue_,n._path,e),Promise.resolve(r)}),(function(e){return Xf(t,"get for query "+Ro(n)+" failed: "+e),Promise.reject(new Error(e))}))).then((function(t){return new Id(t,new Sd(e._repo,e._path),e._queryParams.getIndex())}));var t,n,r}var Ad=(Dd.prototype.respondsTo=function(e){return"value"===e},Dd.prototype.createEvent=function(e,t){var n=t._queryParams.getIndex();return new cd("value",this,new Id(e.snapshotNode,new Sd(t._repo,t._path),n))},Dd.prototype.getEventRunner=function(e){var t=this;return"cancel"===e.getEventType()?function(){return t.callbackContext.onCancel(e.error)}:function(){return t.callbackContext.onValue(e.snapshot,null)}},Dd.prototype.createCancelEvent=function(e,t){return this.callbackContext.hasCancelCallback?new hd(this,e,t):null},Dd.prototype.matches=function(e){return e instanceof Dd&&(!e.callbackContext||!this.callbackContext||e.callbackContext.matches(this.callbackContext))},Dd.prototype.hasAnyCallback=function(){return null!==this.callbackContext},Dd);function Dd(e){this.callbackContext=e}var jd=(Ld.prototype.respondsTo=function(e){return e="children_removed"===(e="children_added"===e?"child_added":e)?"child_removed":e,this.eventType===e},Ld.prototype.createCancelEvent=function(e,t){return this.callbackContext.hasCancelCallback?new hd(this,e,t):null},Ld.prototype.createEvent=function(e,t){uo(null!=e.childName,"Child events should have a childName.");var n=xd(new Sd(t._repo,t._path),e.childName);return t=t._queryParams.getIndex(),new cd(e.type,this,new Id(e.snapshotNode,n,t),e.prevName)},Ld.prototype.getEventRunner=function(e){var t=this;return"cancel"===e.getEventType()?function(){return t.callbackContext.onCancel(e.error)}:function(){return t.callbackContext.onValue(e.snapshot,e.prevName)}},Ld.prototype.matches=function(e){return e instanceof Ld&&this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext))},Ld.prototype.hasAnyCallback=function(){return!!this.callbackContext},Ld);function Ld(e,t){this.eventType=e,this.callbackContext=t}function Md(e,t,n,r,i){var o;"object"==typeof r&&(a=void 0,i=r),"function"==typeof r&&(a=r),i&&i.onlyOnce&&((i=function(t,n){o(t,n),Yf(e._repo,e,s)}).userCallback=(o=n).userCallback,i.context=n.context,n=i),n=new dd(n,a||void 0);var a,s="value"===t?new Ad(n):new jd(t,n);return a=e._repo,t=s,t=".info"===iu((n=e)._path)?Mh(a.infoSyncTree_,n,t):Mh(a.serverSyncTree_,n,t),Rf(a.eventQueue_,n._path,t),function(){return Yf(e._repo,e,s)}}function Fd(e,t,n,r){return Md(e,"value",t,n,r)}function Ud(e,t,n,r){return Md(e,"child_added",t,n,r)}function qd(e,t,n,r){return Md(e,"child_changed",t,n,r)}function Bd(e,t,n,r){return Md(e,"child_moved",t,n,r)}function Vd(e,t,n,r){return Md(e,"child_removed",t,n,r)}function Wd(e,t,n){var r=null;n=n?new dd(n):null,"value"===t?r=new Ad(n):t&&(r=new jd(t,n)),Yf(e._repo,e,r)}var zd,Hd=(Ji(Kd,zd=kn=function(){}),Kd.prototype._apply=function(e){Tf("endAt",this._value,e._path,!0);var t=Bc(e._queryParams,this._value,this._key);if(wd(t),_d(t),e._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new gd(e._repo,e._path,t,e._orderByCalled)},Kd);function Kd(e,t){var n=zd.call(this)||this;return n._value=e,n._key=t,n}var Gd,Qd=(Ji(Yd,Gd=kn),Yd.prototype._apply=function(e){var t,n,r;if(Tf("endBefore",this._value,e._path,!1),wd((t=e._queryParams,n=this._value,r=this._key,(r=t.index_===Au?Bc(t,n="string"==typeof n?Ec(n):n,r):Bc(t,n,null==r?rs:Ec(r))).endBeforeSet_=!0,r=r)),_d(r),e._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new gd(e._repo,e._path,r,e._orderByCalled)},Yd);function Yd(e,t){var n=Gd.call(this)||this;return n._value=e,n._key=t,n}var $d,Xd=(Ji(Jd,$d=kn),Jd.prototype._apply=function(e){Tf("startAt",this._value,e._path,!0);var t=qc(e._queryParams,this._value,this._key);if(wd(t),_d(t),e._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new gd(e._repo,e._path,t,e._orderByCalled)},Jd);function Jd(e,t){var n=$d.call(this)||this;return n._value=e,n._key=t,n}var Zd,ep=(Ji(tp,Zd=kn),tp.prototype._apply=function(e){var t,n,r;if(Tf("startAfter",this._value,e._path,!1),wd((t=e._queryParams,n=this._value,r=this._key,(r=t.index_===Au?qc(t,n="string"==typeof n?wc(n):n,r):qc(t,n,null==r?is:wc(r))).startAfterSet_=!0,r=r)),_d(r),e._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new gd(e._repo,e._path,r,e._orderByCalled)},tp);function tp(e,t){var n=Zd.call(this)||this;return n._value=e,n._key=t,n}var np,rp=(Ji(ip,np=kn),ip.prototype._apply=function(e){if(e._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new gd(e._repo,e._path,(t=e._queryParams,n=this._limit,(t=t.copy()).limitSet_=!0,t.limit_=n,t.viewFrom_="l",t),e._orderByCalled);var t,n},ip);function ip(e){var t=np.call(this)||this;return t._limit=e,t}var op,ap=(Ji(sp,op=kn),sp.prototype._apply=function(e){if(e._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new gd(e._repo,e._path,(t=e._queryParams,n=this._limit,(t=t.copy()).limitSet_=!0,t.limit_=n,t.viewFrom_="r",t),e._orderByCalled);var t,n},sp);function sp(e){var t=op.call(this)||this;return t._limit=e,t}var up,cp=(Ji(lp,up=kn),lp.prototype._apply=function(e){bd(e,"orderByChild");var t=new tu(this._path);if(hu(t))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");return t=new mc(t),_d(t=Vc(e._queryParams,t)),new gd(e._repo,e._path,t,!0)},lp);function lp(e){var t=up.call(this)||this;return t._path=e,t}var hp,fp=(Ji(dp,hp=kn),dp.prototype._apply=function(e){bd(e,"orderByKey");var t=Vc(e._queryParams,Au);return _d(t),new gd(e._repo,e._path,t,!0)},dp);function dp(){return null!==hp&&hp.apply(this,arguments)||this}var pp,vp=(Ji(yp,pp=kn),yp.prototype._apply=function(e){bd(e,"orderByPriority");var t=Vc(e._queryParams,Zu);return _d(t),new gd(e._repo,e._path,t,!0)},yp);function yp(){return null!==pp&&pp.apply(this,arguments)||this}var gp,mp=(Ji(bp,gp=kn),bp.prototype._apply=function(e){bd(e,"orderByValue");var t=Vc(e._queryParams,Ic);return _d(t),new gd(e._repo,e._path,t,!0)},bp);function bp(){return null!==gp&&gp.apply(this,arguments)||this}var _p,wp,Ep,Sp=(Ji(Tp,_p=kn),Tp.prototype._apply=function(e){if(Tf("equalTo",this._value,e._path,!1),e._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(e._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new Hd(this._value,this._key)._apply(new Xd(this._value,this._key)._apply(e))},Tp);function Tp(e,t){var n=_p.call(this)||this;return n._value=e,n._key=t,n}function Ip(e){for(var t,n,r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];var o=ta(e);try{for(var a=no(r),s=a.next();!s.done;s=a.next())o=s.value._apply(o)}catch(e){t={error:e}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}return o}wp=Sd,uo(!hh,"__referenceConstructor has already been defined"),hh=wp,Ep=Sd,uo(!mh,"__referenceConstructor has already been defined"),mh=Ep;var Cp="FIREBASE_DATABASE_EMULATOR_HOST",kp={},Op=!1;function xp(e,t,r,i){var o=r||e.options.databaseURL;void 0===o&&(e.options.projectId||ts("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Za("Using default host for project ",e.options.projectId),o=e.options.projectId+"-default-rtdb.firebaseio.com");var a,s=sd(o,i),u=s.repoInfo;return r=void 0,(r="undefined"!=typeof n?Object({NODE_ENV:"production",PUBLIC_URL:"/React-Forms-Project",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})[Cp]:r)?(a=!0,o="http://"+r+"?ns="+u.namespace,u=(s=sd(o,i)).repoInfo):a=!s.repoInfo.secure,t=i&&a?new gs:new vs(e.name,e.options,t),xf("Invalid Firebase Database URL",s),hu(s.path)||ts("Database URL must point to the root of a Firebase Database (not including a child path)."),t=function(e,t,n){var r=kp[t.name];return r||(r={},kp[t.name]=r),(t=r[e.toURLString()])&&ts("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),t=new Mf(e,Op,n),r[e.toURLString()]=t}(u,e,t),new Pp(t,e)}var Pp=(Object.defineProperty(Np.prototype,"_repo",{get:function(){return this._instanceStarted||(Uf(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal},enumerable:!1,configurable:!0}),Object.defineProperty(Np.prototype,"_root",{get:function(){return this._rootInternal||(this._rootInternal=new Sd(this._repo,ru())),this._rootInternal},enumerable:!1,configurable:!0}),Np.prototype._delete=function(){var e,t,n;return this._checkNotDeleted("delete"),e=this._repo,t=this.app.name,(n=kp[t])&&n[e.key]===e||ts("Database "+t+"("+e.repoInfo_+") has already been deleted."),$f(e),delete n[e.key],this._repoInternal=null,this._rootInternal=null,Promise.resolve()},Np.prototype._checkNotDeleted=function(e){null===this._rootInternal&&ts("Cannot call "+e+" on a deleted database.")},Np);function Np(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}function Rp(e,t,n){(e=ta(e))._checkNotDeleted("useEmulator"),e._instanceStarted&&ts("Cannot call useEmulator() after instance has already been initialized."),t=t,n=n,(e=e._repoInternal).repoInfo_=new Es(t+":"+n,!1,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams),e.repoInfo_.nodeAdmin&&(e.authTokenProvider_=new gs)}function Ap(e){(e=ta(e))._checkNotDeleted("goOnline"),(e=e._repo).persistentConnection_&&e.persistentConnection_.resume(jf)}function Dp(e,t){Ja(e,t)}var jp={".sv":"timestamp"},Lp=(Mp.prototype.toJSON=function(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}},Mp);function Mp(e,t){this.committed=e,this.snapshot=t}function Fp(e,t,n){if(e=ta(e),Of("Reference.transaction",e._path),".length"===e.key||".keys"===e.key)throw"Reference.transaction failed: "+e.key+" is a read-only object.";n=null===(i=null==n?void 0:n.applyLocally)||void 0===i||i;var r=new po,i=Fd(e,(function(){}));return function(e,t,n,r,i,o){Xf(e,"transaction on "+t);var a={path:t,update:n,onComplete:r,status:null,order:Qa(),applyLocally:o,retryCount:0,unwatcher:i,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null};n=Zf(e,t,void 0),a.currentInputSnapshot=n,void 0===(r=a.update(n.val()))?(a.unwatcher(),a.currentOutputSnapshotRaw=null,a.currentOutputSnapshotResolved=null,a.onComplete&&a.onComplete(null,!1,a.currentInputSnapshot)):(If("transaction failed: Data returned ",r,a.path),a.status=0,(i=cf(o=uf(e.transactionQueueTree_,t))||[]).push(a),lf(o,i),o=void 0,"object"==typeof r&&null!==r&&Do(r,".priority")?(o=jo(r,".priority"),uo(Sf(o),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):o=(Fh(e.serverSyncTree_,t)||lc.EMPTY_NODE).getPriority().val(),i=Bf(e),o=vc(r,o),i=of(o,n,i),a.currentOutputSnapshotRaw=o,a.currentOutputSnapshotResolved=i,a.currentWriteId=Hf(e),a=Rh(e.serverSyncTree_,t,i,a.currentWriteId,a.applyLocally),Af(e.eventQueue_,t,a),ed(e,e.transactionQueueTree_))}(e._repo,e._path,t,(function(t,n,i){var o;t?r.reject(t):(o=new Id(i,new Sd(e._repo,e._path),Zu),r.resolve(new Lp(n,o)))}),i,n),r.promise}var Up=(qp.prototype.cancel=function(e){Ho("OnDisconnect.cancel",0,1,arguments.length),Go("OnDisconnect.cancel","onComplete",e,!0);var t=this._delegate.cancel();return e&&t.then((function(){return e(null)}),(function(t){return e(t)})),t},qp.prototype.remove=function(e){Ho("OnDisconnect.remove",0,1,arguments.length),Go("OnDisconnect.remove","onComplete",e,!0);var t=this._delegate.remove();return e&&t.then((function(){return e(null)}),(function(t){return e(t)})),t},qp.prototype.set=function(e,t){return Ho("OnDisconnect.set",1,2,arguments.length),Go("OnDisconnect.set","onComplete",t,!0),e=this._delegate.set(e),t&&e.then((function(){return t(null)}),(function(e){return t(e)})),e},qp.prototype.setWithPriority=function(e,t,n){return Ho("OnDisconnect.setWithPriority",2,3,arguments.length),Go("OnDisconnect.setWithPriority","onComplete",n,!0),t=this._delegate.setWithPriority(e,t),n&&t.then((function(){return n(null)}),(function(e){return n(e)})),t},qp.prototype.update=function(e,t){if(Ho("OnDisconnect.update",1,2,arguments.length),Array.isArray(e)){for(var n={},r=0;r<e.length;++r)n[""+r]=e[r];e=n,ns("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Go("OnDisconnect.update","onComplete",t,!0);var i=this._delegate.update(e);return t&&i.then((function(){return t(null)}),(function(e){return t(e)})),i},qp);function qp(e){this._delegate=e}var Bp=(Vp.prototype.toJSON=function(){return Ho("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}},Vp);function Vp(e,t){this.committed=e,this.snapshot=t}var Wp=(zp.prototype.val=function(){return Ho("DataSnapshot.val",0,0,arguments.length),this._delegate.val()},zp.prototype.exportVal=function(){return Ho("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()},zp.prototype.toJSON=function(){return Ho("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()},zp.prototype.exists=function(){return Ho("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()},zp.prototype.child=function(e){return Ho("DataSnapshot.child",0,1,arguments.length),e=String(e),Cf("DataSnapshot.child","path",e,!1),new zp(this._database,this._delegate.child(e))},zp.prototype.hasChild=function(e){return Ho("DataSnapshot.hasChild",1,1,arguments.length),Cf("DataSnapshot.hasChild","path",e,!1),this._delegate.hasChild(e)},zp.prototype.getPriority=function(){return Ho("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority},zp.prototype.forEach=function(e){var t=this;return Ho("DataSnapshot.forEach",1,1,arguments.length),Go("DataSnapshot.forEach","action",e,!1),this._delegate.forEach((function(n){return e(new zp(t._database,n))}))},zp.prototype.hasChildren=function(){return Ho("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()},Object.defineProperty(zp.prototype,"key",{get:function(){return this._delegate.key},enumerable:!1,configurable:!0}),zp.prototype.numChildren=function(){return Ho("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size},zp.prototype.getRef=function(){return Ho("DataSnapshot.ref",0,0,arguments.length),new Qp(this._database,this._delegate.ref)},Object.defineProperty(zp.prototype,"ref",{get:function(){return this.getRef()},enumerable:!1,configurable:!0}),zp);function zp(e,t){this._database=e,this._delegate=t}var Hp=(Kp.prototype.on=function(e,t,n,r){var i=this;function o(e,n){t.call(a.context,new Wp(i.database,e),n)}Ho("Query.on",2,4,arguments.length),Go("Query.on","callback",t,!1);var a=Kp.getCancelAndContextArgs_("Query.on",n,r);o.userCallback=t,o.context=a.context;var s=null===(r=a.cancel)||void 0===r?void 0:r.bind(a.context);switch(e){case"value":return Fd(this._delegate,o,s),t;case"child_added":return Ud(this._delegate,o,s),t;case"child_removed":return Vd(this._delegate,o,s),t;case"child_changed":return qd(this._delegate,o,s),t;case"child_moved":return Bd(this._delegate,o,s),t;default:throw new Error(Ko("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},Kp.prototype.off=function(e,t,n){var r;Ho("Query.off",0,3,arguments.length),function(e,t,n){if(void 0!==t)switch(t){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(Ko(e,"eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}("Query.off",e),Go("Query.off","callback",t,!0),Qo("Query.off","context",n,!0),t?((r=function(){}).userCallback=t,r.context=n,Wd(this._delegate,e,r)):Wd(this._delegate,e)},Kp.prototype.get=function(){var e=this;return Rd(this._delegate).then((function(t){return new Wp(e.database,t)}))},Kp.prototype.once=function(e,t,n,r){var i=this;function o(e,n){e=new Wp(i.database,e),t&&t.call(a.context,e,n),s.resolve(e)}Ho("Query.once",1,4,arguments.length),Go("Query.once","callback",t,!0);var a=Kp.getCancelAndContextArgs_("Query.on",n,r),s=new po;function u(e){a.cancel&&a.cancel.call(a.context,e),s.reject(e)}switch(o.userCallback=t,o.context=a.context,e){case"value":Fd(this._delegate,o,u,{onlyOnce:!0});break;case"child_added":Ud(this._delegate,o,u,{onlyOnce:!0});break;case"child_removed":Vd(this._delegate,o,u,{onlyOnce:!0});break;case"child_changed":qd(this._delegate,o,u,{onlyOnce:!0});break;case"child_moved":Bd(this._delegate,o,u,{onlyOnce:!0});break;default:throw new Error(Ko("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return s.promise},Kp.prototype.limitToFirst=function(e){return Ho("Query.limitToFirst",1,1,arguments.length),new Kp(this.database,Ip(this._delegate,function(e){if("number"!=typeof e||Math.floor(e)!==e||e<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new rp(e)}(e)))},Kp.prototype.limitToLast=function(e){return Ho("Query.limitToLast",1,1,arguments.length),new Kp(this.database,Ip(this._delegate,function(e){if("number"!=typeof e||Math.floor(e)!==e||e<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new ap(e)}(e)))},Kp.prototype.orderByChild=function(e){return Ho("Query.orderByChild",1,1,arguments.length),new Kp(this.database,Ip(this._delegate,function(e){if("$key"===e)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===e)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===e)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return Cf("orderByChild","path",e,!1),new cp(e)}(e)))},Kp.prototype.orderByKey=function(){return Ho("Query.orderByKey",0,0,arguments.length),new Kp(this.database,Ip(this._delegate,new fp))},Kp.prototype.orderByPriority=function(){return Ho("Query.orderByPriority",0,0,arguments.length),new Kp(this.database,Ip(this._delegate,new vp))},Kp.prototype.orderByValue=function(){return Ho("Query.orderByValue",0,0,arguments.length),new Kp(this.database,Ip(this._delegate,new mp))},Kp.prototype.startAt=function(e,t){return void 0===e&&(e=null),Ho("Query.startAt",0,2,arguments.length),new Kp(this.database,Ip(this._delegate,(void 0===(e=e)&&(e=null),bf("startAt","key",t=t,!0),new Xd(e,t))))},Kp.prototype.startAfter=function(e,t){return void 0===e&&(e=null),Ho("Query.startAfter",0,2,arguments.length),new Kp(this.database,Ip(this._delegate,(e=e,bf("startAfter","key",t=t,!0),new ep(e,t))))},Kp.prototype.endAt=function(e,t){return void 0===e&&(e=null),Ho("Query.endAt",0,2,arguments.length),new Kp(this.database,Ip(this._delegate,(e=e,bf("endAt","key",t=t,!0),new Hd(e,t))))},Kp.prototype.endBefore=function(e,t){return void 0===e&&(e=null),Ho("Query.endBefore",0,2,arguments.length),new Kp(this.database,Ip(this._delegate,(e=e,bf("endBefore","key",t=t,!0),new Qd(e,t))))},Kp.prototype.equalTo=function(e,t){return Ho("Query.equalTo",1,2,arguments.length),new Kp(this.database,Ip(this._delegate,(e=e,bf("equalTo","key",t=t,!0),new Sp(e,t))))},Kp.prototype.toString=function(){return Ho("Query.toString",0,0,arguments.length),this._delegate.toString()},Kp.prototype.toJSON=function(){return Ho("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()},Kp.prototype.isEqual=function(e){if(Ho("Query.isEqual",1,1,arguments.length),e instanceof Kp)return this._delegate.isEqual(e._delegate);throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.")},Kp.getCancelAndContextArgs_=function(e,t,n){var r={cancel:void 0,context:void 0};if(t&&n)r.cancel=t,Go(e,"cancel",r.cancel,!0),r.context=n,Qo(e,"context",r.context,!0);else if(t)if("object"==typeof t&&null!==t)r.context=t;else{if("function"!=typeof t)throw new Error(Ko(e,"cancelOrContext")+" must either be a cancel callback or a context object.");r.cancel=t}return r},Object.defineProperty(Kp.prototype,"ref",{get:function(){return new Qp(this.database,new Sd(this._delegate._repo,this._delegate._path))},enumerable:!1,configurable:!0}),Kp);function Kp(e,t){this.database=e,this._delegate=t}var Gp,Qp=(Ji(Yp,Gp=Hp),Yp.prototype.getKey=function(){return Ho("Reference.key",0,0,arguments.length),this._delegate.key},Yp.prototype.child=function(e){return Ho("Reference.child",1,1,arguments.length),"number"==typeof e&&(e=String(e)),new Yp(this.database,xd(this._delegate,e))},Yp.prototype.getParent=function(){Ho("Reference.parent",0,0,arguments.length);var e=this._delegate.parent;return e?new Yp(this.database,e):null},Yp.prototype.getRoot=function(){return Ho("Reference.root",0,0,arguments.length),new Yp(this.database,this._delegate.root)},Yp.prototype.set=function(e,t){return Ho("Reference.set",1,2,arguments.length),Go("Reference.set","onComplete",t,!0),e=Pd(this._delegate,e),t&&e.then((function(){return t(null)}),(function(e){return t(e)})),e},Yp.prototype.update=function(e,t){if(Ho("Reference.update",1,2,arguments.length),Array.isArray(e)){for(var n={},r=0;r<e.length;++r)n[""+r]=e[r];e=n,ns("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Of("Reference.update",this._delegate._path),Go("Reference.update","onComplete",t,!0);var i=Nd(this._delegate,e);return t&&i.then((function(){return t(null)}),(function(e){return t(e)})),i},Yp.prototype.setWithPriority=function(e,t,n){return Ho("Reference.setWithPriority",2,3,arguments.length),Go("Reference.setWithPriority","onComplete",n,!0),t=function(e,t,n){if(Of("setWithPriority",e._path),Tf("setWithPriority",t,e._path,!1),mf("setWithPriority",n,!1),".length"===e.key||".keys"===e.key)throw"setWithPriority failed: "+e.key+" is a read-only object.";var r=new po;return Kf(e._repo,e._path,t,n,r.wrapCallback((function(){}))),r.promise}(this._delegate,e,t),n&&t.then((function(){return n(null)}),(function(e){return n(e)})),t},Yp.prototype.remove=function(e){Ho("Reference.remove",0,1,arguments.length),Go("Reference.remove","onComplete",e,!0);var t=(t=this._delegate,Of("remove",t._path),Pd(t,null));return e&&t.then((function(){return e(null)}),(function(t){return e(t)})),t},Yp.prototype.transaction=function(e,t,n){var r=this;return Ho("Reference.transaction",1,3,arguments.length),Go("Reference.transaction","transactionUpdate",e,!1),Go("Reference.transaction","onComplete",t,!0),function(e,t,n,r){if(void 0!==n&&"boolean"!=typeof n)throw new Error(Ko("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,n),n=Fp(this._delegate,e,{applyLocally:n}).then((function(e){return new Bp(e.committed,new Wp(r.database,e.snapshot))})),t&&n.then((function(e){return t(null,e.committed,e.snapshot)}),(function(e){return t(e,!1,null)})),n},Yp.prototype.setPriority=function(e,t){return Ho("Reference.setPriority",1,2,arguments.length),Go("Reference.setPriority","onComplete",t,!0),e=function(e,t){e=ta(e),Of("setPriority",e._path),mf("setPriority",t,!1);var n=new po;return Kf(e._repo,lu(e._path,".priority"),t,null,n.wrapCallback((function(){}))),n.promise}(this._delegate,e),t&&e.then((function(){return t(null)}),(function(e){return t(e)})),e},Yp.prototype.push=function(e,t){var n=this;Ho("Reference.push",0,2,arguments.length),Go("Reference.push","onComplete",t,!0);var r=function(e,t){e=ta(e),Of("push",e._path),Tf("push",t,e._path,!0);var n=qf(e._repo),r=kc(n),i=(n=xd(e,r),xd(e,r));return t=null!=t?Pd(i,t).then((function(){return i})):Promise.resolve(i),n.then=t.then.bind(t),n.catch=t.then.bind(t,void 0),n}(this._delegate,e);return e=r.then((function(e){return new Yp(n.database,e)})),t&&e.then((function(){return t(null)}),(function(e){return t(e)})),(r=new Yp(this.database,r)).then=e.then.bind(e),r.catch=e.catch.bind(e,void 0),r},Yp.prototype.onDisconnect=function(){return Of("Reference.onDisconnect",this._delegate._path),new Up(new vd(this._delegate._repo,this._delegate._path))},Object.defineProperty(Yp.prototype,"key",{get:function(){return this.getKey()},enumerable:!1,configurable:!0}),Object.defineProperty(Yp.prototype,"parent",{get:function(){return this.getParent()},enumerable:!1,configurable:!0}),Object.defineProperty(Yp.prototype,"root",{get:function(){return this.getRoot()},enumerable:!1,configurable:!0}),Yp);function Yp(e,t){var n=Gp.call(this,e,new gd(t._repo,t._path,new Fc,!1))||this;return n.database=e,n._delegate=t,n}var $p=(Xp.prototype.useEmulator=function(e,t){Rp(this._delegate,e,t)},Xp.prototype.ref=function(e){if(Ho("database.ref",0,1,arguments.length),e instanceof Qp){var t=Od(this._delegate,e.toString());return new Qp(this,t)}return t=kd(this._delegate,e),new Qp(this,t)},Xp.prototype.refFromURL=function(e){return Ho("database.refFromURL",1,1,arguments.length),e=Od(this._delegate,e),new Qp(this,e)},Xp.prototype.goOffline=function(){var e;Ho("database.goOffline",0,0,arguments.length),(e=ta(e=this._delegate))._checkNotDeleted("goOffline"),$f(e._repo)},Xp.prototype.goOnline=function(){return Ho("database.goOnline",0,0,arguments.length),Ap(this._delegate)},Xp.ServerValue={TIMESTAMP:jp,increment:function(e){return{".sv":{increment:e}}}},Xp);function Xp(e,t){var n=this;this._delegate=e,this.app=t,this.INTERNAL={delete:function(){return n._delegate._delete()}}}var Jp=Object.freeze({__proto__:null,forceLongPolling:function(){Bs.forceDisallow(),Ds.forceAllow()},forceWebSockets:function(){Ds.forceDisallow()},isWebSocketsAvailable:function(){return Bs.isAvailable()},setSecurityDebugCallback:function(e,t){e._delegate._repo.persistentConnection_.securityDebugCallback_=t},stats:function(e,t){var n;e=e._delegate._repo,void 0===(t=t)&&(t=!1),"undefined"!=typeof console&&(e=t?(e.statsListener_||(e.statsListener_=new Zc(e.stats_)),e.statsListener_.get()):e.stats_.get(),n=Object.keys(e).reduce((function(e,t){return Math.max(t.length,e)}),0),ss(e,(function(e,t){for(var r=e,i=e.length;i<n+2;i++)r+=" ";console.log(r+t)})))},statsIncrementCounter:function(e,t){t=t,(e=e._delegate._repo).stats_.incrementCounter(t),t=t,(e=e.statsReporter_).statsToReport_[t]=!0},dataUpdateCount:function(e){return e._delegate._repo.dataUpdateCount},interceptServerData:function(e,t){t=t,(e=e._delegate._repo).interceptServerDataCallback_=t},initStandalone:function(e){var t=e.app,n=e.url,r=e.version,i=e.customAuthImpl,o=e.namespace;return e=void 0!==(e=e.nodeAdmin)&&e,Us(r),(r=new oa("auth-internal",new sa("database-standalone"))).setComponent(new na("auth-internal",(function(){return i}),"PRIVATE")),{instance:new $p(xp(t,r,n,e),t),namespace:o}}});H=Iu,Iu.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)},Iu.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};var Zp,ev=Object.freeze({__proto__:null,DataConnection:H,RealTimeConnection:Hs,hijackHash:function(e){var t=Iu.prototype.put;return Iu.prototype.put=function(n,r,i,o){void 0!==o&&(o=e()),t.call(this,n,r,i,o)},function(){Iu.prototype.put=t}},ConnectionTarget:Es,queryIdentifier:function(e){return e._delegate._queryIdentifier},forceRestClient:function(e){Op=e}}),tv=$p.ServerValue;Us((Zp=Aa).SDK_VERSION),Zp.INTERNAL.registerComponent(new na("database",(function(e,t){var n=t.instanceIdentifier;return t=e.getProvider("app").getImmediate(),e=e.getProvider("auth-internal"),new $p(xp(t,e,n),t)}),"PUBLIC").setServiceProps({Reference:Qp,Query:Hp,Database:$p,DataSnapshot:Wp,enableLogging:Dp,INTERNAL:Jp,ServerValue:tv,TEST_ACCESS:ev}).setMultipleInstances(!0)),Zp.registerVersion("@firebase/database","0.9.12");var nv=function(e,t){return(nv=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function rv(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return{value:(e=e&&r>=e.length?void 0:e)&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}K="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof t?t:"undefined"!=typeof self?self:{};var iv={},ov=K||self;function av(){}function sv(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function uv(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var cv="closure_uid_"+(1e9*Math.random()>>>0),lv=0;function hv(e,t,n){return e.call.apply(e.bind,arguments)}function fv(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function dv(e,t,n){return(dv=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?hv:fv).apply(null,arguments)}function pv(e){var t=Array.prototype.slice.call(arguments,1);return function(){var n=t.slice();return n.push.apply(n,arguments),e.apply(this,n)}}function vv(){return Date.now()}function yv(e,t){function n(){}n.prototype=t.prototype,e.X=t.prototype,e.prototype=new n,(e.prototype.constructor=e).Kb=function(e,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[n].apply(e,i)}}function gv(){this.j=this.j,this.i=this.i}gv.prototype.j=!1,gv.prototype.ja=function(){var e;!this.j&&(this.j=!0,this.G(),0)&&(e=this,Object.prototype.hasOwnProperty.call(e,cv)&&e[cv]||(e[cv]=++lv))},gv.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var mv=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"==typeof e)return"string"!=typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},bv=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"==typeof e?e.split(""):e,o=0;o<r;o++)o in i&&t.call(n,i[o],o,e)};function _v(){return Array.prototype.concat.apply([],arguments)}function wv(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function Ev(e){return/^[\s\xa0]*$/.test(e)}var Sv,Tv=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function Iv(e,t){return-1!=e.indexOf(t)}function Cv(e,t){return e<t?-1:t<e?1:0}var kv=ov.navigator;function Ov(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function xv(e){var t,n={};for(t in e)n[t]=e[t];return n}Sv=kv&&(kv=kv.userAgent)?kv:"";var Pv="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Nv(e){for(var t,n,r=1;r<arguments.length;r++){for(t in n=arguments[r])e[t]=n[t];for(var i=0;i<Pv.length;i++)t=Pv[i],Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t])}}function Rv(e){return Rv[" "](e),e}Rv[" "]=av;var Av,Dv=Iv(Sv,"Opera"),jv=Iv(Sv,"Trident")||Iv(Sv,"MSIE"),Lv=Iv(Sv,"Edge"),Mv=Lv||jv,Fv=Iv(Sv,"Gecko")&&!(Iv(Sv.toLowerCase(),"webkit")&&!Iv(Sv,"Edge"))&&!(Iv(Sv,"Trident")||Iv(Sv,"MSIE"))&&!Iv(Sv,"Edge"),Uv=Iv(Sv.toLowerCase(),"webkit")&&!Iv(Sv,"Edge");function qv(){var e=ov.document;return e?e.documentMode:void 0}var Bv="",Vv=(Vv=Sv,Fv?/rv:([^\);]+)(\)|;)/.exec(Vv):Lv?/Edge\/([\d\.]+)/.exec(Vv):jv?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(Vv):Uv?/WebKit\/(\S+)/.exec(Vv):Dv?/(?:Version)[ \/]?(\S+)/.exec(Vv):void 0);Vv&&(Bv=Vv?Vv[1]:""),Av=jv&&null!=(Vv=qv())&&Vv>parseFloat(Bv)?String(Vv):Bv;var Wv={};function zv(e){return t=e,n=function(){for(var t=0,n=Tv(String(Av)).split("."),r=Tv(String(e)).split("."),i=Math.max(n.length,r.length),o=0;0==t&&o<i;o++)for(var a=n[o]||"",s=r[o]||"";a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],(0!=a[0].length||0!=s[0].length)&&(t=Cv(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||Cv(0==a[2].length,0==s[2].length)||Cv(a[2],s[2]),a=a[3],s=s[3],0==t););return 0<=t},r=Wv,Object.prototype.hasOwnProperty.call(r,t)?r[t]:r[t]=n(t);var t,n,r}var Hv=ov.document&&jv&&(qv()||parseInt(Av,10))||void 0,Kv=!jv||9<=Number(Hv),Gv=jv&&!zv("9"),Qv=function(){if(!ov.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{ov.addEventListener("test",av,t),ov.removeEventListener("test",av,t)}catch(e){}return e}();function Yv(e,t){this.type=e,this.a=this.target=t,this.defaultPrevented=!1}function $v(e,t){if(Yv.call(this,e?e.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.a=t,t=e.relatedTarget){if(Fv){e:{try{Rv(t.nodeName);var i=!0;break e}catch(e){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"==typeof e.pointerType?e.pointerType:Xv[e.pointerType]||"",(this.c=e).defaultPrevented&&this.b()}}Yv.prototype.b=function(){this.defaultPrevented=!0},yv($v,Yv);var Xv={2:"touch",3:"pen",4:"mouse"};$v.prototype.b=function(){$v.X.b.call(this);var e=this.c;if(e.preventDefault)e.preventDefault();else if(e.returnValue=!1,Gv)try{(e.ctrlKey||112<=e.keyCode&&e.keyCode<=123)&&(e.keyCode=-1)}catch(e){}};var Jv="closure_listenable_"+(1e6*Math.random()|0),Zv=0;function ey(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ca=i,this.key=++Zv,this.Y=this.Z=!1}function ty(e){e.Y=!0,e.listener=null,e.proxy=null,e.src=null,e.ca=null}function ny(e){this.src=e,this.a={},this.b=0}function ry(e,t){var n,r,i,o=t.type;o in e.a&&(n=e.a[o],(i=0<=(r=mv(n,t)))&&Array.prototype.splice.call(n,r,1),i&&(ty(t),0==e.a[o].length&&(delete e.a[o],e.b--)))}function iy(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.Y&&o.listener==t&&o.capture==!!n&&o.ca==r)return i}return-1}ny.prototype.add=function(e,t,n,r,i){var o=e.toString();(e=this.a[o])||(e=this.a[o]=[],this.b++);var a=iy(e,t,r,i);return-1<a?(t=e[a],n||(t.Z=!1)):((t=new ey(t,this.src,o,!!r,i)).Z=n,e.push(t)),t};var oy="closure_lm_"+(1e6*Math.random()|0),ay={};function sy(e,t,n,r,i){if(r&&r.once)return function e(t,n,r,i,o){if(Array.isArray(n)){for(var a=0;a<n.length;a++)e(t,n[a],r,i,o);return null}return r=vy(r),t&&t[Jv]?t.wa(n,r,uv(i)?!!i.capture:!!i,o):uy(t,n,r,!0,i,o)}(e,t,n,r,i);if(Array.isArray(t)){for(var o=0;o<t.length;o++)sy(e,t[o],n,r,i);return null}return n=vy(n),e&&e[Jv]?e.va(t,n,uv(r)?!!r.capture:!!r,i):uy(e,t,n,!1,r,i)}function uy(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var a=uv(i)?!!i.capture:!!i;if(a&&!Kv)return null;var s,u,c=dy(e);if(c||(e[oy]=c=new ny(e)),(n=c.add(t,n,r,a,o)).proxy)return n;if(s=fy,r=u=Kv?function(e){return s.call(u.src,u.listener,e)}:function(e){if(!(e=s.call(u.src,u.listener,e)))return e},(n.proxy=r).src=e,r.listener=n,e.addEventListener)void 0===(i=Qv?i:a)&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(ly(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function cy(e){var t,n,r;"number"!=typeof e&&e&&!e.Y&&((t=e.src)&&t[Jv]?ry(t.c,e):(n=e.type,r=e.proxy,t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(ly(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=dy(t))?(ry(n,e),0==n.b&&(n.src=null,t[oy]=null)):ty(e)))}function ly(e){return e in ay?ay[e]:ay[e]="on"+e}function hy(e,t){var n=e.listener,r=e.ca||e.src;return e.Z&&cy(e),n.call(r,t)}function fy(e,t){if(e.Y)return!0;if(Kv)return hy(e,new $v(t,this));if(!t)e:{t=["window","event"];for(var n=ov,r=0;r<t.length;r++)if(null==(n=n[t[r]])){t=null;break e}t=n}return hy(e,t=new $v(t,this))}function dy(e){return(e=e[oy])instanceof ny?e:null}var py="__closure_events_fn_"+(1e9*Math.random()>>>0);function vy(e){return"function"==typeof e?e:(e[py]||(e[py]=function(t){return e.handleEvent(t)}),e[py])}function yy(){gv.call(this),this.c=new ny(this),(this.J=this).C=null}function gy(e,t){var n,r=e.C;if(r)for(n=[];r;r=r.C)n.push(r);if(e=e.J,r=t.type||t,"string"==typeof t?t=new Yv(t,e):t instanceof Yv?t.target=t.target||e:(a=t,Nv(t=new Yv(r,e),a)),a=!0,n)for(var i=n.length-1;0<=i;i--)var o=t.a=n[i],a=my(o,r,!0,t)&&a;if(a=my(o=t.a=e,r,!0,t)&&a,a=my(o,r,!1,t)&&a,n)for(i=0;i<n.length;i++)a=my(o=t.a=n[i],r,!1,t)&&a}function my(e,t,n,r){if(!(t=e.c.a[String(t)]))return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var a,s,u=t[o];u&&!u.Y&&u.capture==n&&(a=u.listener,s=u.ca||u.src,u.Z&&ry(e.c,u),i=!1!==a.call(s,r)&&i)}return i&&!r.defaultPrevented}yv(yy,gv),yy.prototype[Jv]=!0,(Qs=yy.prototype).addEventListener=function(e,t,n,r){sy(this,e,t,n,r)},Qs.removeEventListener=function(e,t,n,r){!function e(t,n,r,i,o){if(Array.isArray(n))for(var a=0;a<n.length;a++)e(t,n[a],r,i,o);else i=uv(i)?!!i.capture:!!i,r=vy(r),t&&t[Jv]?(t=t.c,(n=String(n).toString())in t.a&&-1<(r=iy(a=t.a[n],r,i,o))&&(ty(a[r]),Array.prototype.splice.call(a,r,1),0==a.length&&(delete t.a[n],t.b--))):(t=t&&dy(t))&&(n=t.a[n.toString()],(r=(t=-1)<(t=n?iy(n,r,i,o):t)?n[t]:null)&&cy(r))}(this,e,t,n,r)},Qs.G=function(){if(yy.X.G.call(this),this.c){var e,t=this.c;for(e in t.a){for(var n=t.a[e],r=0;r<n.length;r++)ty(n[r]);delete t.a[e],t.b--}}this.C=null},Qs.va=function(e,t,n,r){return this.c.add(String(e),t,!1,n,r)},Qs.wa=function(e,t,n,r){return this.c.add(String(e),t,!0,n,r)};var by=ov.JSON.stringify;function _y(){this.b=this.a=null}var wy,Ey=(Sy.prototype.get=function(){var e;return 0<this.b?(this.b--,e=this.a,this.a=e.next,e.next=null):e=this.c(),e},new Sy((function(){return new Ty}),(function(e){e.reset()})));function Sy(e,t){this.c=e,this.f=t,this.b=0,this.a=null}function Ty(){this.next=this.b=this.a=null}function Iy(e,t){var n;wy||(n=ov.Promise.resolve(void 0),wy=function(){n.then(Oy)}),Cy||(wy(),Cy=!0),ky.add(e,t)}_y.prototype.add=function(e,t){var n=Ey.get();n.set(e,t),this.b?this.b.next=n:this.a=n,this.b=n},Ty.prototype.set=function(e,t){this.a=e,this.b=t,this.next=null};var Cy=!(Ty.prototype.reset=function(){this.next=this.b=this.a=null}),ky=new _y;function Oy(){for(var e,t;n=t=void 0,n=null,(t=ky).a&&(n=t.a,t.a=t.a.next,t.a||(t.b=null),n.next=null),e=n;){try{e.a.call(e.b)}catch(e){!function(e){ov.setTimeout((function(){throw e}),0)}(e)}var n=Ey;n.f(e),n.b<100&&(n.b++,e.next=n.a,n.a=e)}Cy=!1}function xy(e,t){yy.call(this),this.b=e||1,this.a=t||ov,this.f=dv(this.Za,this),this.g=vv()}function Py(e){e.aa=!1,e.M&&(e.a.clearTimeout(e.M),e.M=null)}function Ny(e,t,n){if("function"==typeof e)n&&(e=dv(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=dv(e.handleEvent,e)}return 2147483647<Number(t)?-1:ov.setTimeout(e,t||0)}yv(xy,yy),(Qs=xy.prototype).aa=!1,Qs.M=null,Qs.Za=function(){var e;this.aa&&(0<(e=vv()-this.g)&&e<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-e):(this.M&&(this.a.clearTimeout(this.M),this.M=null),gy(this,"tick"),this.aa&&(Py(this),this.start())))},Qs.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=vv())},Qs.G=function(){xy.X.G.call(this),Py(this),delete this.a};var Ry,Ay,Dy,jy=(nv(Ay=My,Dy=Ry=gv),Ay.prototype=null===Dy?Object.create(Dy):(Ly.prototype=Dy.prototype,new Ly),My.prototype.f=function(e){this.b=arguments,this.a?this.c=!0:function e(t){t.a=Ny((function(){t.a=null,t.c&&(t.c=!1,e(t))}),t.h);var n=t.b;t.b=null,t.g.apply(null,n)}(this)},My.prototype.G=function(){Ry.prototype.G.call(this),this.a&&(ov.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},My);function Ly(){this.constructor=Ay}function My(e,t){var n=Ry.call(this)||this;return n.g=e,n.h=t,n.b=null,n.c=!1,n.a=null,n}function Fy(e){gv.call(this),this.b=e,this.a={}}yv(Fy,gv);var Uy=[];function qy(e,t,n,r){Array.isArray(n)||(n&&(Uy[0]=n.toString()),n=Uy);for(var i=0;i<n.length;i++){var o=sy(t,n[i],r||e.handleEvent,!1,e.b||e);if(!o)break;e.a[o.key]=o}}function By(e){Ov(e.a,(function(e,t){this.a.hasOwnProperty(t)&&cy(e)}),e),e.a={}}function Vy(){this.a=!0}function Wy(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.a)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(r.length<2)){var i=r[1];if(Array.isArray(i)&&!(i.length<1)&&"noop"!=(r=i[0])&&"stop"!=r&&"close"!=r)for(var o=1;o<i.length;o++)i[o]=""}}return by(n)}catch(e){return t}}(e,n)+(r?" "+r:"")}))}Fy.prototype.G=function(){Fy.X.G.call(this),By(this)},Fy.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Vy.prototype.info=function(){};var zy={},Hy=null;function Ky(){return Hy=Hy||new yy}function Gy(e){Yv.call(this,zy.Fa,e)}function Qy(e){var t=Ky();gy(t,new Gy(t))}function Yy(e,t){Yv.call(this,zy.STAT_EVENT,e),this.stat=t}function $y(e){var t=Ky();gy(t,new Yy(t,e))}function Xy(e){Yv.call(this,zy.Ga,e)}function Jy(e,t){if("function"!=typeof e)throw Error("Fn must not be null and must be a function");return ov.setTimeout((function(){e()}),t)}function Zy(){}function eg(e){var t;return(t=e.a)?t:e.a={}}function tg(){}function ng(){Yv.call(this,"d")}function rg(){Yv.call(this,"c")}function ig(){}function og(e,t,n,r){this.g=e,this.c=t,this.f=n,this.S=r||1,this.J=new Fy(this),this.P=sg,e=Mv?125:void 0,this.R=new xy(e),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.T=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.V=this.C=this.U=this.I=!1}zy.Fa="serverreachability",yv(Gy,Yv),zy.STAT_EVENT="statevent",yv(Yy,Yv),zy.Ga="timingevent",yv(Xy,Yv),kn={NO_ERROR:0,$a:1,nb:2,mb:3,hb:4,lb:5,ob:6,Da:7,TIMEOUT:8,rb:9},H={fb:"complete",Bb:"success",Ea:"error",Da:"abort",tb:"ready",ub:"readystatechange",TIMEOUT:"timeout",pb:"incrementaldata",sb:"progress",ib:"downloadprogress",Jb:"uploadprogress"},Zy.prototype.a=null,K={OPEN:"a",eb:"b",Ea:"c",qb:"d"},yv(ng,Yv),yv(rg,Yv),yv(ig,Zy);var ag=new ig,sg=45e3,ug={},cg={};function lg(e,t,n){e.H=1,e.i=Ng(Ig(t)),e.j=n,e.I=!0,hg(e,null)}function hg(e,t){e.u=vv(),dg(e),e.l=Ig(e.i);var n,r,i,o,a,s,u=e.l,c=e.S;Array.isArray(c)||(c=[String(c)]),zg(u.b,"t",c),e.D=0,e.a=Mm(e.g,e.g.C?t:null),0<e.O&&(e.F=new jy(dv(e.Ca,e,e.a),e.O)),qy(e.J,e.a,"readystatechange",e.Xa),t=e.B?xv(e.B):{},e.j?(e.m||(e.m="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.a.ba(e.l,e.m,e.j,t)):(e.m="GET",e.a.ba(e.l,e.m,null,t)),Qy(1),n=e.c,r=e.m,i=e.l,o=e.f,a=e.S,s=e.j,n.info((function(){if(n.a)if(s)for(var e="",t=s.split("&"),u=0;u<t.length;u++){var c,l,h=t[u].split("=");1<h.length&&(c=h[0],h=h[1],e=2<=(l=c.split("_")).length&&"type"==l[1]?e+(c+"=")+h+"&":e+(c+"=redacted&"))}else e=null;else e=s;return"XMLHTTP REQ ("+o+") [attempt "+a+"]: "+r+"\n"+i+"\n"+e}))}function fg(e,t,n){for(var r,i,o,a=!0;!e.A&&e.D<n.length;){var s=(s=n,o=i=void 0,i=(r=e).D,-1==(o=s.indexOf("\n",i))?cg:(i=Number(s.substring(i,o)),isNaN(i)?ug:(o+=1)+i>s.length?cg:(s=s.substr(o,i),r.D=o+i,s)));if(s==cg){4==t&&(e.h=4,$y(14),a=!1),Wy(e.c,e.f,null,"[Incomplete Response]");break}if(s==ug){e.h=4,$y(15),Wy(e.c,e.f,n,"[Invalid Chunk]"),a=!1;break}Wy(e.c,e.f,s,null),mg(e,s)}4==t&&0==n.length&&(e.h=1,$y(16),a=!1),e.b=e.b&&a,a?0<n.length&&!e.V&&(e.V=!0,(t=e.g).a==e&&t.U&&!t.F&&(t.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),xm(t),t.F=!0,$y(11))):(Wy(e.c,e.f,n,"[Invalid Chunked Response]"),gg(e),yg(e))}function dg(e){e.T=vv()+e.P,pg(e,e.P)}function pg(e,t){if(null!=e.o)throw Error("WatchDog timer not null");e.o=Jy(dv(e.Va,e),t)}function vg(e){e.o&&(ov.clearTimeout(e.o),e.o=null)}function yg(e){0==e.g.v||e.A||Rm(e.g,e)}function gg(e){vg(e);var t=e.F;t&&"function"==typeof t.ja&&t.ja(),e.F=null,Py(e.R),By(e.J),e.a&&(t=e.a,e.a=null,t.abort(),t.ja())}function mg(e,t){try{var n,r,i,o,a,s=e.g;if(0!=s.v&&(s.a==e||Xg(s.b,e)))if(s.I=e.N,!e.C&&Xg(s.b,e)&&3==s.v){try{var u=s.ka.a.parse(t)}catch(e){u=null}if(Array.isArray(u)&&3==u.length){var c=u;if(0==c[0]){e:if(!s.j){if(s.a){if(!(s.a.u+3e3<e.u))break e;Nm(s),_m(s)}Om(s),$y(18)}}else s.oa=c[1],0<s.oa-s.P&&c[2]<37500&&s.H&&0==s.o&&!s.m&&(s.m=Jy(dv(s.Sa,s),6e3));if($g(s.b)<=1&&s.ea){try{s.ea()}catch(e){}s.ea=void 0}}else Dm(s,11)}else if(!e.C&&s.a!=e||Nm(s),!Ev(t))for(t=u=s.ka.a.parse(t),u=0;u<t.length;u++)c=t[u],s.P=c[0],c=c[1],2==s.v?"c"==c[0]?(s.J=c[1],s.ga=c[2],null!=(r=c[3])&&(s.ha=r,s.c.info("VER="+s.ha)),null!=(o=c[4])&&(s.pa=o,s.c.info("SVER="+s.pa)),null!=(r=c[5])&&"number"==typeof r&&0<r&&(n=1.5*r,s.D=n,s.c.info("backChannelRequestTimeoutMs_="+n)),n=s,(o=e.a)&&(!(r=o.a?o.a.getResponseHeader("X-Client-Wire-Protocol"):null)||!(i=n.b).a&&(Iv(r,"spdy")||Iv(r,"quic")||Iv(r,"h2"))&&(i.f=i.g,i.a=new Set,i.b&&(Jg(i,i.b),i.b=null)),!n.A||(a=o.a?o.a.getResponseHeader("X-HTTP-Session-Id"):null)&&(n.na=a,Pg(n.B,n.A,a))),s.v=3,s.f&&s.f.ta(),s.U&&(s.N=vv()-e.u,s.c.info("Handshake RTT: "+s.N+"ms")),i=e,(n=s).la=Lm(n,n.C?n.ga:null,n.fa),i.C?(Zg(n.b,i),o=i,(a=n.D)&&o.setTimeout(a),o.o&&(vg(o),dg(o)),n.a=i):km(n),0<s.g.length&&Sm(s)):"stop"!=c[0]&&"close"!=c[0]||Dm(s,7):3==s.v&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?Dm(s,7):bm(s):"noop"!=c[0]&&s.f&&s.f.sa(c),s.o=0);Qy(4)}catch(e){}}function bg(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(sv(e)||"string"==typeof e)bv(e,t,void 0);else{if(e.L&&"function"==typeof e.L)var n=e.L();else if(e.K&&"function"==typeof e.K)n=void 0;else if(sv(e)||"string"==typeof e){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;i=(r=function(e){if(e.K&&"function"==typeof e.K)return e.K();if("string"==typeof e)return e.split("");if(sv(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e)).length;for(var o=0;o<i;o++)t.call(void 0,r[o],n&&n[o],e)}}function _g(e,t){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof _g)for(n=e.L(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function wg(e){if(e.c!=e.a.length){for(var t=0,n=0;t<e.a.length;){var r=e.a[t];Eg(e.b,r)&&(e.a[n++]=r),t++}e.a.length=n}if(e.c!=e.a.length){var i={};for(n=t=0;t<e.a.length;)Eg(i,r=e.a[t])||(i[e.a[n++]=r]=1),t++;e.a.length=n}}function Eg(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(Qs=og.prototype).setTimeout=function(e){this.P=e},Qs.Xa=function(e){e=e.target;var t=this.F;t&&3==vm(e)?t.f():this.Ca(e)},Qs.Ca=function(e){try{if(e==this.a)e:{var t=vm(this.a),n=this.a.ua(),r=this.a.W();if(!(t<3||3==t&&!Mv&&!this.a.$())){this.A||4!=t||7==n||Qy(8==n||r<=0?3:2),vg(this);var i=this.a.W();this.N=i;var o=this.a.$();if(this.b=200==i,r=this.c,u=this.m,c=this.l,l=this.f,h=this.S,f=t,d=i,r.info((function(){return"XMLHTTP RESP ("+l+") [ attempt "+h+"]: "+u+"\n"+c+"\n"+f+" "+d})),this.b){if(this.U&&!this.C){t:{if(this.a){var a=this.a;if((a=a.a?a.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ev(a)){var s=a;break t}}s=null}if(!s){this.b=!1,this.h=3,$y(12),gg(this),yg(this);break e}Wy(this.c,this.f,s,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,mg(this,s)}this.I?(fg(this,t,o),Mv&&this.b&&3==t&&(qy(this.J,this.R,"tick",this.Wa),this.R.start())):(Wy(this.c,this.f,o,null),mg(this,o)),4==t&&gg(this),this.b&&!this.A&&(4==t?Rm(this.g,this):(this.b=!1,dg(this)))}else 400==i&&0<o.indexOf("Unknown SID")?(this.h=3,$y(12)):(this.h=0,$y(13)),gg(this),yg(this)}}}catch(e){}var u,c,l,h,f,d},Qs.Wa=function(){var e,t;this.a&&(e=vm(this.a),t=this.a.$(),this.D<t.length&&(vg(this),fg(this,e,t),this.b&&4!=e&&dg(this)))},Qs.cancel=function(){this.A=!0,gg(this)},Qs.Va=function(){this.o=null;var e,t,n=vv();0<=n-this.T?(e=this.c,t=this.l,e.info((function(){return"TIMEOUT: "+t})),2!=this.H&&(Qy(3),$y(17)),gg(this),this.h=2,yg(this)):pg(this,this.T-n)},(Qs=_g.prototype).K=function(){wg(this);for(var e=[],t=0;t<this.a.length;t++)e.push(this.b[this.a[t]]);return e},Qs.L=function(){return wg(this),this.a.concat()},Qs.get=function(e,t){return Eg(this.b,e)?this.b[e]:t},Qs.set=function(e,t){Eg(this.b,e)||(this.c++,this.a.push(e)),this.b[e]=t},Qs.forEach=function(e,t){for(var n=this.L(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);e.call(t,o,i,this)}};var Sg=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Tg(e,t){var n;this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,e instanceof Tg?(this.a=void 0!==t?t:e.a,Cg(this,e.f),this.j=e.j,kg(this,e.c),Og(this,e.h),this.g=e.g,t=e.b,(n=new qg).c=t.c,t.a&&(n.a=new _g(t.a),n.b=t.b),xg(this,n),this.i=e.i):e&&(n=String(e).match(Sg))?(this.a=!!t,Cg(this,n[1]||"",!0),this.j=Rg(n[2]||""),kg(this,n[3]||"",!0),Og(this,n[4]),this.g=Rg(n[5]||"",!0),xg(this,n[6]||"",!0),this.i=Rg(n[7]||"")):(this.a=!!t,this.b=new qg(null,this.a))}function Ig(e){return new Tg(e)}function Cg(e,t,n){e.f=n?Rg(t,!0):t,e.f&&(e.f=e.f.replace(/:$/,""))}function kg(e,t,n){e.c=n?Rg(t,!0):t}function Og(e,t){if(t){if(t=Number(t),isNaN(t)||t<0)throw Error("Bad port number "+t);e.h=t}else e.h=null}function xg(e,t,n){var r,i;t instanceof qg?(e.b=t,r=e.b,(i=e.a)&&!r.f&&(Bg(r),r.c=null,r.a.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Vg(this,t),zg(this,n,e))}),r)),r.f=i):(n||(t=Ag(t,Fg)),e.b=new qg(t,e.a))}function Pg(e,t,n){e.b.set(t,n)}function Ng(e){return Pg(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^vv()).toString(36)),e}function Rg(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Ag(e,t,n){return"string"==typeof e?(e=encodeURI(e).replace(t,Dg),e=n?e.replace(/%25([0-9a-fA-F]{2})/g,"%$1"):e):null}function Dg(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Tg.prototype.toString=function(){var e=[],t=this.f;t&&e.push(Ag(t,jg,!0),":");var n=this.c;return!n&&"file"!=t||(e.push("//"),(t=this.j)&&e.push(Ag(t,jg,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&e.push(":",String(n))),(n=this.g)&&(this.c&&"/"!=n.charAt(0)&&e.push("/"),e.push(Ag(n,"/"==n.charAt(0)?Mg:Lg,!0))),(n=this.b.toString())&&e.push("?",n),(n=this.i)&&e.push("#",Ag(n,Ug)),e.join("")};var jg=/[#\/\?@]/g,Lg=/[#\?:]/g,Mg=/[#\?]/g,Fg=/[#\?@]/g,Ug=/#/g;function qg(e,t){this.b=this.a=null,this.c=e||null,this.f=!!t}function Bg(e){e.a||(e.a=new _g,e.b=0,e.c&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r,i=e[n].indexOf("="),o=null;0<=i?(r=e[n].substring(0,i),o=e[n].substring(i+1)):r=e[n],t(r,o?decodeURIComponent(o.replace(/\+/g," ")):"")}}}(e.c,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Vg(e,t){Bg(e),t=Hg(e,t),Eg(e.a.b,t)&&(e.c=null,e.b-=e.a.get(t).length,Eg((e=e.a).b,t)&&(delete e.b[t],e.c--,e.a.length>2*e.c&&wg(e)))}function Wg(e,t){return Bg(e),t=Hg(e,t),Eg(e.a.b,t)}function zg(e,t,n){Vg(e,t),0<n.length&&(e.c=null,e.a.set(Hg(e,t),wv(n)),e.b+=n.length)}function Hg(e,t){return t=String(t),e.f?t.toLowerCase():t}(Qs=qg.prototype).add=function(e,t){Bg(this),this.c=null,e=Hg(this,e);var n=this.a.get(e);return n||this.a.set(e,n=[]),n.push(t),this.b+=1,this},Qs.forEach=function(e,t){Bg(this),this.a.forEach((function(n,r){bv(n,(function(n){e.call(t,n,r,this)}),this)}),this)},Qs.L=function(){Bg(this);for(var e=this.a.K(),t=this.a.L(),n=[],r=0;r<t.length;r++)for(var i=e[r],o=0;o<i.length;o++)n.push(t[r]);return n},Qs.K=function(e){Bg(this);var t=[];if("string"==typeof e)Wg(this,e)&&(t=_v(t,this.a.get(Hg(this,e))));else{e=this.a.K();for(var n=0;n<e.length;n++)t=_v(t,e[n])}return t},Qs.set=function(e,t){return Bg(this),this.c=null,Wg(this,e=Hg(this,e))&&(this.b-=this.a.get(e).length),this.a.set(e,[t]),this.b+=1,this},Qs.get=function(e,t){return e&&0<(e=this.K(e)).length?String(e[0]):t},Qs.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var e=[],t=this.a.L(),n=0;n<t.length;n++)for(var r=t[n],i=encodeURIComponent(String(r)),o=(r=this.K(r),0);o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),e.push(a)}return this.c=e.join("&")};var Kg=function(e,t){this.b=e,this.a=t};function Gg(e){this.g=e||Qg,e=ov.PerformanceNavigationTiming?0<(e=ov.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):!!(ov.ia&&ov.ia.ya&&ov.ia.ya()&&ov.ia.ya().Lb),this.f=e?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}var Qg=10;function Yg(e){return e.b||e.a&&e.a.size>=e.f}function $g(e){return e.b?1:e.a?e.a.size:0}function Xg(e,t){return e.b?e.b==t:e.a&&e.a.has(t)}function Jg(e,t){e.a?e.a.add(t):e.b=t}function Zg(e,t){e.b&&e.b==t?e.b=null:e.a&&e.a.has(t)&&e.a.delete(t)}function em(e){var t,n;if(null!=e.b)return e.c.concat(e.b.s);if(null==e.a||0===e.a.size)return wv(e.c);var r=e.c;try{for(var i=rv(e.a.values()),o=i.next();!o.done;o=i.next()){var a=o.value;r=r.concat(a.s)}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}function tm(){}function nm(){this.a=new tm}function rm(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(e){}}Gg.prototype.cancel=function(){var e,t;if(this.c=em(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=rv(this.a.values()),r=n.next();!r.done;r=n.next())r.value.cancel()}catch(t){e={error:t}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}this.a.clear()}},tm.prototype.stringify=function(e){return ov.JSON.stringify(e,void 0)},tm.prototype.parse=function(e){return ov.JSON.parse(e,void 0)};var im=ov.JSON.parse;function om(e){yy.call(this),this.headers=new _g,this.H=e||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=am,this.D=this.F=!1}yv(om,yy);var am="",sm=/^https?$/i,um=["POST","PUT"];function cm(e){return"content-type"==e.toLowerCase()}function lm(e,t){e.b=!1,e.a&&(e.g=!0,e.a.abort(),e.g=!1),e.f=t,e.h=5,hm(e),dm(e)}function hm(e){e.u||(e.u=!0,gy(e,"complete"),gy(e,"error"))}function fm(e){if(e.b&&void 0!==iv&&(!e.s[1]||4!=vm(e)||2!=e.W()))if(e.l&&4==vm(e))Ny(e.za,0,e);else if(gy(e,"readystatechange"),4==vm(e)){e.b=!1;try{var t,n,r,i,o=e.W();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var a=!0;break e;default:a=!1}if((t=a)||((n=0===o)&&(!(i=String(e.B).match(Sg)[1]||null)&&ov.self&&ov.self.location&&(i=(r=ov.self.location.protocol).substr(0,r.length-1)),n=!sm.test(i?i.toLowerCase():"")),t=n),t)gy(e,"complete"),gy(e,"success");else{e.h=6;try{var s=2<vm(e)?e.a.statusText:""}catch(o){s=""}e.f=s+" ["+e.W()+"]",hm(e)}}finally{dm(e)}}}function dm(e,t){if(e.a){pm(e);var n=e.a,r=e.s[0]?av:null;e.a=null,e.s=null,t||gy(e,"ready");try{n.onreadystatechange=r}catch(e){}}}function pm(e){e.a&&e.D&&(e.a.ontimeout=null),e.m&&(ov.clearTimeout(e.m),e.m=null)}function vm(e){return e.a?e.a.readyState:0}function ym(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}var i;r||(i="",Ov(n,(function(e,t){i+=t,i+=":",i+=e,i+="\r\n"})),n=i,"string"==typeof e?null!=n&&encodeURIComponent(String(n)):Pg(e,t,n))}function gm(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function mm(e){this.pa=0,this.g=[],this.c=new Vy,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.V=this.i=this.O=this.l=null,this.Oa=this.R=0,this.La=gm("failFast",!1,e),this.H=this.m=this.j=this.h=this.f=null,this.S=!0,this.I=this.oa=this.P=-1,this.T=this.o=this.u=0,this.Ha=gm("baseRetryDelayMs",5e3,e),this.Ra=gm("retryDelaySeedMs",1e4,e),this.Ma=gm("forwardChannelMaxRetries",2,e),this.ma=gm("forwardChannelRequestTimeoutMs",2e4,e),this.Na=e&&e.g||void 0,this.D=void 0,this.C=e&&e.supportsCrossDomainXhr||!1,this.J="",this.b=new Gg(e&&e.concurrentRequestLimit),this.ka=new nm,this.da=e&&e.fastHandshake||!1,this.Ia=e&&e.b||!1,e&&e.f&&(this.c.a=!1),e&&e.forceLongPolling&&(this.S=!1),this.U=!this.da&&this.S&&e&&e.detectBufferingProxy||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null,(this.Ka=e&&e.c||!1)&&this.c.info("Opt-in to enable Chrome Origin Trials.")}function bm(e){var t,n;wm(e),3==e.v&&(t=e.R++,Pg(n=Ig(e.B),"SID",e.J),Pg(n,"RID",t),Pg(n,"TYPE","terminate"),Im(e,n),(t=new og(e,e.c,t,void 0)).H=2,t.i=Ng(Ig(n)),n=!1,!(n=ov.navigator&&ov.navigator.sendBeacon?ov.navigator.sendBeacon(t.i.toString(),""):n)&&ov.Image&&((new Image).src=t.i,n=!0),n||(t.a=Mm(t.g,null),t.a.ba(t.i)),t.u=vv(),dg(t)),jm(e)}function _m(e){e.a&&(xm(e),e.a.cancel(),e.a=null)}function wm(e){_m(e),e.j&&(ov.clearTimeout(e.j),e.j=null),Nm(e),e.b.cancel(),e.h&&("number"==typeof e.h&&ov.clearTimeout(e.h),e.h=null)}function Em(e,t){e.g.push(new Kg(e.Oa++,t)),3==e.v&&Sm(e)}function Sm(e){Yg(e.b)||e.h||(e.h=!0,Iy(e.Ba,e),e.u=0)}function Tm(e,t){var n=t?t.f:e.R++,r=Ig(e.B);Pg(r,"SID",e.J),Pg(r,"RID",n),Pg(r,"AID",e.P),Im(e,r),e.i&&e.l&&ym(r,e.i,e.l),n=new og(e,e.c,n,e.u+1),null===e.i&&(n.B=e.l),t&&(e.g=t.s.concat(e.g)),t=Cm(e,n,1e3),n.setTimeout(Math.round(.5*e.ma)+Math.round(.5*e.ma*Math.random())),Jg(e.b,n),lg(n,r,t)}function Im(e,t){e.f&&bg({},(function(e,n){Pg(t,n,e)}))}function Cm(e,t,n){n=Math.min(e.g.length,n);var r=e.f?dv(e.f.Ja,e.f,e):null;e:for(var i=e.g,o=-1;;){var a=["count="+n];-1==o?0<n?(o=i[0].b,a.push("ofs="+o)):o=0:a.push("ofs="+o);for(var s=!0,u=0;u<n;u++){var c=i[u].b,l=i[u].a;if((c-=o)<0)o=Math.max(0,i[u].b-100),s=!1;else try{!function(e,t,n){var r=n||"";try{bg(e,(function(e,n){var i=e;uv(e)&&(i=by(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(e){throw t.push(r+"type="+encodeURIComponent("_badmap")),e}}(l,a,"req"+c+"_")}catch(e){r&&r(l)}}if(s){r=a.join("&");break e}}return e=e.g.splice(0,n),t.s=e,r}function km(e){e.a||e.j||(e.T=1,Iy(e.Aa,e),e.o=0)}function Om(e){return!(e.a||e.j||3<=e.o)&&(e.T++,e.j=Jy(dv(e.Aa,e),Am(e,e.o)),e.o++,1)}function xm(e){null!=e.s&&(ov.clearTimeout(e.s),e.s=null)}function Pm(e){e.a=new og(e,e.c,"rpc",e.T),null===e.i&&(e.a.B=e.l),e.a.O=0;var t=Ig(e.la);Pg(t,"RID","rpc"),Pg(t,"SID",e.J),Pg(t,"CI",e.H?"0":"1"),Pg(t,"AID",e.P),Im(e,t),Pg(t,"TYPE","xmlhttp"),e.i&&e.l&&ym(t,e.i,e.l),e.D&&e.a.setTimeout(e.D);var n=e.a;e=e.ga,n.H=1,n.i=Ng(Ig(t)),n.j=null,n.I=!0,hg(n,e)}function Nm(e){null!=e.m&&(ov.clearTimeout(e.m),e.m=null)}function Rm(e,t){var n,r,i,o=null;if(e.a==t){Nm(e),xm(e),e.a=null;var a=2}else{if(!Xg(e.b,t))return;o=t.s,Zg(e.b,t),a=1}if(e.I=t.N,0!=e.v)if(t.b)1==a?(o=t.j?t.j.length:0,t=vv()-t.u,n=e.u,gy(a=Ky(),new Xy(a)),Sm(e)):km(e);else if(3==(n=t.h)||0==n&&0<e.I||(1!=a||(i=t,$g((r=e).b)>=r.b.f-(r.h?1:0)||(r.h?(r.g=i.s.concat(r.g),0):1==r.v||2==r.v||r.u>=(r.La?0:r.Ma)||(r.h=Jy(dv(r.Ba,r,i),Am(r,r.u)),r.u++,0))))&&(2!=a||!Om(e)))switch(o&&0<o.length&&(t=e.b,t.c=t.c.concat(o)),n){case 1:Dm(e,5);break;case 4:Dm(e,10);break;case 3:Dm(e,6);break;default:Dm(e,2)}}function Am(e,t){var n=e.Ha+Math.floor(Math.random()*e.Ra);return e.f||(n*=2),n*t}function Dm(e,t){var n,r,i,o;e.c.info("Error code "+t),2==t?(r=null,e.f&&(r=null),o=dv(e.Ya,e),r||(r=new Tg("//www.google.com/images/cleardot.gif"),ov.location&&"http"==ov.location.protocol||Cg(r,"https"),Ng(r)),n=r.toString(),r=o,o=new Vy,ov.Image?((i=new Image).onload=pv(rm,o,i,"TestLoadImage: loaded",!0,r),i.onerror=pv(rm,o,i,"TestLoadImage: error",!1,r),i.onabort=pv(rm,o,i,"TestLoadImage: abort",!1,r),i.ontimeout=pv(rm,o,i,"TestLoadImage: timeout",!1,r),ov.setTimeout((function(){i.ontimeout&&i.ontimeout()}),1e4),i.src=n):r(!1)):$y(2),e.v=0,e.f&&e.f.ra(t),jm(e),wm(e)}function jm(e){e.v=0,e.I=-1,e.f&&(0==em(e.b).length&&0==e.g.length||(e.b.c.length=0,wv(e.g),e.g.length=0),e.f.qa())}function Lm(e,t,n){var r,i,o,a,s,u=(a=n)instanceof Tg?Ig(a):new Tg(a,void 0);return""!=u.c?(t&&kg(u,t+"."+u.c),Og(u,u.h)):(r=(s=ov.location).protocol,i=t?t+"."+s.hostname:s.hostname,o=+s.port,a=n,s=new Tg(null,void 0),r&&Cg(s,r),i&&kg(s,i),o&&Og(s,o),a&&(s.g=a),u=s),e.V&&Ov(e.V,(function(e,t){Pg(u,t,e)})),t=e.A,n=e.na,t&&n&&Pg(u,t,n),Pg(u,"VER",e.ha),Im(e,u),u}function Mm(e,t){if(t&&!e.C)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new om(e.Na)).F=e.C,t}function Fm(){}function Um(){if(jv&&!(10<=Number(Hv)))throw Error("Environmental error: no available transport.")}function qm(e,t){yy.call(this),this.a=new mm(t),this.o=e,this.b=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.a.l=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.a&&(e?e["X-WebChannel-Client-Profile"]=t.a:e={"X-WebChannel-Client-Profile":t.a}),this.a.O=e,(e=t&&t.httpHeadersOverwriteParam)&&!Ev(e)&&(this.a.i=e),this.m=t&&t.supportsCrossDomainXhr||!1,this.l=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Ev(t)&&(this.a.A=t,null!==(e=this.b)&&t in e&&t in(e=this.b)&&delete e[t]),this.f=new Wm(this)}function Bm(e){ng.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.c=e)?(e=this.c,this.data=null!==t&&e in t?t[e]:void 0):this.data=t}else this.data=e}function Vm(){rg.call(this),this.status=1}function Wm(e){this.a=e}(Qs=om.prototype).ba=function(e,t,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+e);t=t?t.toUpperCase():"GET",this.B=e,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=this.H?eg(this.H):eg(ag),this.a.onreadystatechange=dv(this.za,this);try{this.A=!0,this.a.open(t,String(e),!0),this.A=!1}catch(e){return void lm(this,e)}e=n||"";var i,o=new _g(this.headers);r&&bg(r,(function(e,t){o.set(t,e)})),r=function(e){e:{for(var t=cm,n=e.length,r="string"==typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return t<0?null:"string"==typeof e?e.charAt(t):e[t]}(o.L()),n=ov.FormData&&e instanceof ov.FormData,0<=mv(um,t)&&!r&&!n&&o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach((function(e,t){this.a.setRequestHeader(t,e)}),this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{pm(this),0<this.o&&((this.D=(i=this.a,jv&&zv(9)&&"number"==typeof i.timeout&&void 0!==i.ontimeout))?(this.a.timeout=this.o,this.a.ontimeout=dv(this.xa,this)):this.m=Ny(this.xa,this.o,this)),this.l=!0,this.a.send(e),this.l=!1}catch(e){lm(this,e)}},Qs.xa=function(){void 0!==iv&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,gy(this,"timeout"),this.abort(8))},Qs.abort=function(e){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=e||7,gy(this,"complete"),gy(this,"abort"),dm(this))},Qs.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),dm(this,!0)),om.X.G.call(this)},Qs.za=function(){this.j||(this.A||this.l||this.g?fm(this):this.Ua())},Qs.Ua=function(){fm(this)},Qs.W=function(){try{return 2<vm(this)?this.a.status:-1}catch(e){return-1}},Qs.$=function(){try{return this.a?this.a.responseText:""}catch(e){return""}},Qs.Pa=function(e){if(this.a){var t=this.a.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),im(t)}},Qs.ua=function(){return this.h},Qs.Qa=function(){return"string"==typeof this.f?this.f:String(this.f)},(Qs=mm.prototype).ha=8,Qs.v=1,Qs.Ba=function(e){if(this.h)if(this.h=null,1==this.v){if(!e){this.R=Math.floor(1e5*Math.random()),e=this.R++;var t,n=new og(this,this.c,e,void 0),r=this.l;if(this.O&&(r?Nv(r=xv(r),this.O):r=this.O),null===this.i&&(n.B=r),this.da)e:{for(var i=t=0;i<this.g.length;i++){var o=this.g[i];if(void 0===(o="__data__"in o.a&&"string"==typeof(o=o.a.__data__)?o.length:void 0))break;if(4096<(t+=o)){t=i;break e}if(4096===t||i===this.g.length-1){t=i+1;break e}}t=1e3}else t=1e3;t=Cm(this,n,t),Pg(i=Ig(this.B),"RID",e),Pg(i,"CVER",22),this.A&&Pg(i,"X-HTTP-Session-Id",this.A),Im(this,i),this.i&&r&&ym(i,this.i,r),Jg(this.b,n),this.Ia&&Pg(i,"TYPE","init"),this.da?(Pg(i,"$req",t),Pg(i,"SID","null"),n.U=!0,lg(n,i,null)):lg(n,i,t),this.v=2}}else 3==this.v&&(e?Tm(this,e):0==this.g.length||Yg(this.b)||Tm(this))},Qs.Aa=function(){var e;this.j=null,Pm(this),this.U&&!(this.F||null==this.a||this.N<=0)&&(e=2*this.N,this.c.info("BP detection timer enabled: "+e),this.s=Jy(dv(this.Ta,this),e))},Qs.Ta=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,$y(10),_m(this),Pm(this))},Qs.Sa=function(){null!=this.m&&(this.m=null,_m(this),Om(this),$y(19))},Qs.Ya=function(e){e?(this.c.info("Successfully pinged google.com"),$y(2)):(this.c.info("Failed to ping google.com"),$y(1))},(Qs=Fm.prototype).ta=function(){},Qs.sa=function(){},Qs.ra=function(){},Qs.qa=function(){},Qs.Ja=function(){},Um.prototype.a=function(e,t){return new qm(e,t)},yv(qm,yy),qm.prototype.g=function(){this.a.f=this.f,this.m&&(this.a.C=!0);var e=this.a,t=this.o,n=this.b||void 0;$y(0),e.fa=t,e.V=n||{},e.H=e.S,e.B=Lm(e,null,e.fa),Sm(e)},qm.prototype.close=function(){bm(this.a)},qm.prototype.h=function(e){var t;"string"==typeof e?((t={}).__data__=e,Em(this.a,t)):this.l?((t={}).__data__=by(e),Em(this.a,t)):Em(this.a,e)},qm.prototype.G=function(){this.a.f=null,delete this.f,bm(this.a),delete this.a,qm.X.G.call(this)},yv(Bm,ng),yv(Vm,rg),yv(Wm,Fm),Wm.prototype.ta=function(){gy(this.a,"a")},Wm.prototype.sa=function(e){gy(this.a,new Bm(e))},Wm.prototype.ra=function(e){gy(this.a,new Vm)},Wm.prototype.qa=function(){gy(this.a,"b")},Um.prototype.createWebChannel=Um.prototype.a,qm.prototype.send=qm.prototype.h,qm.prototype.open=qm.prototype.g,kn.NO_ERROR=0,kn.TIMEOUT=8,kn.HTTP_ERROR=6,H.COMPLETE="complete",(tg.EventType=K).OPEN="a",K.CLOSE="b",K.ERROR="c",K.MESSAGE="d",yy.prototype.listen=yy.prototype.va,om.prototype.listenOnce=om.prototype.wa,om.prototype.getLastError=om.prototype.Qa,om.prototype.getLastErrorCode=om.prototype.ua,om.prototype.getStatus=om.prototype.W,om.prototype.getResponseJson=om.prototype.Pa,om.prototype.getResponseText=om.prototype.$,om.prototype.send=om.prototype.ba;var zm=Ky,Hm=kn,Km=H,Gm=zy,Qm=10,Ym=11,$m=tg,Xm=om,Jm=(Zm.prototype.t=function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue},Zm.prototype.next=function(){var e=++this.previousValue;return this.i&&this.i(e),e},Zm);function Zm(e,t){var n=this;this.previousValue=e,t&&(t.sequenceNumberHandler=function(e){return n.t(e)},this.i=function(e){return t.writeSequenceNumber(e)})}Jm.o=-1;var eb,tb={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},nb=(Ji(ib,eb=Error),ib),rb=new va("@firebase/firestore");function ib(e,t){var n=this;return(n=eb.call(this,t)||this).code=e,n.message=t,n.name="FirebaseError",n.toString=function(){return n.name+": [code="+n.code+"]: "+n.message},n}function ob(){return rb.logLevel}function ab(e){for(var t,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];rb.logLevel<=ca.DEBUG&&(t=n.map(cb),rb.debug.apply(rb,io(["Firestore (8.4.3): "+e],t)))}function sb(e){for(var t,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];rb.logLevel<=ca.ERROR&&(t=n.map(cb),rb.error.apply(rb,io(["Firestore (8.4.3): "+e],t)))}function ub(e){for(var t,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];rb.logLevel<=ca.WARN&&(t=n.map(cb),rb.warn.apply(rb,io(["Firestore (8.4.3): "+e],t)))}function cb(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch(e){return t}}function lb(e){throw sb(e="FIRESTORE (8.4.3) INTERNAL ASSERTION FAILED: "+(e=void 0===e?"Unexpected state":e)),new Error(e)}function hb(e){e||lb()}var fb=(db.u=function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=function(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n},db);function db(){}function pb(e,t){return e<t?-1:t<e?1:0}function vb(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function yb(e){return e+"\0"}var gb=(_b.now=function(){return _b.fromMillis(Date.now())},_b.fromDate=function(e){return _b.fromMillis(e.getTime())},_b.fromMillis=function(e){var t=Math.floor(e/1e3);return new _b(t,Math.floor(1e6*(e-1e3*t)))},_b.prototype.toDate=function(){return new Date(this.toMillis())},_b.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},_b.prototype._compareTo=function(e){return this.seconds===e.seconds?pb(this.nanoseconds,e.nanoseconds):pb(this.seconds,e.seconds)},_b.prototype.isEqual=function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds},_b.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},_b.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},_b.prototype.valueOf=function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},_b),mb=(bb.fromTimestamp=function(e){return new bb(e)},bb.min=function(){return new bb(new gb(0,0))},bb.prototype.compareTo=function(e){return this.timestamp._compareTo(e.timestamp)},bb.prototype.isEqual=function(e){return this.timestamp.isEqual(e.timestamp)},bb.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},bb.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},bb.prototype.toTimestamp=function(){return this.timestamp},bb);function bb(e){this.timestamp=e}function _b(e,t){if(this.seconds=e,(this.nanoseconds=t)<0)throw new nb(tb.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(1e9<=t)throw new nb(tb.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new nb(tb.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(253402300800<=e)throw new nb(tb.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}function wb(e){var t,n=0;for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&n++;return n}function Eb(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Sb(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}Object.defineProperty(jb.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),jb.prototype.isEqual=function(e){return 0===jb.comparator(this,e)},jb.prototype.child=function(e){var t=this.segments.slice(this.offset,this.limit());return e instanceof jb?e.forEach((function(e){t.push(e)})):t.push(e),this.construct(t)},jb.prototype.limit=function(){return this.offset+this.length},jb.prototype.popFirst=function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)},jb.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},jb.prototype.firstSegment=function(){return this.segments[this.offset]},jb.prototype.lastSegment=function(){return this.get(this.length-1)},jb.prototype.get=function(e){return this.segments[this.offset+e]},jb.prototype.isEmpty=function(){return 0===this.length},jb.prototype.isPrefixOf=function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0},jb.prototype.isImmediateParentOf=function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0},jb.prototype.forEach=function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])},jb.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},jb.comparator=function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),o=t.get(r);if(i<o)return-1;if(o<i)return 1}return e.length<t.length?-1:e.length>t.length?1:0};var Tb,Ib,Cb=(Ji(Db,Ib=kn=jb),Db.prototype.construct=function(e,t,n){return new Db(e,t,n)},Db.prototype.canonicalString=function(){return this.toArray().join("/")},Db.prototype.toString=function(){return this.canonicalString()},Db.fromString=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=[],r=0,i=e;r<i.length;r++){var o=i[r];if(0<=o.indexOf("//"))throw new nb(tb.INVALID_ARGUMENT,"Invalid segment ("+o+"). Paths must not contain // in them.");n.push.apply(n,o.split("/").filter((function(e){return 0<e.length})))}return new Db(n)},Db.emptyPath=function(){return new Db([])},Db),kb=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Ob=(Ji(Ab,Tb=kn),Ab.prototype.construct=function(e,t,n){return new Ab(e,t,n)},Ab.isValidIdentifier=function(e){return kb.test(e)},Ab.prototype.canonicalString=function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ab.isValidIdentifier(e)?e:"`"+e+"`"})).join(".")},Ab.prototype.toString=function(){return this.canonicalString()},Ab.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},Ab.keyField=function(){return new Ab(["__name__"])},Ab.fromServerFormat=function(e){for(var t=[],n="",r=0,i=function(){if(0===n.length)throw new nb(tb.INVALID_ARGUMENT,"Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");t.push(n),n=""},o=!1;r<e.length;){var a=e[r];if("\\"===a){if(r+1===e.length)throw new nb(tb.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var s=e[r+1];if("\\"!==s&&"."!==s&&"`"!==s)throw new nb(tb.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=s,r+=2}else"`"===a?o=!o:"."!==a||o?n+=a:i(),r++}if(i(),o)throw new nb(tb.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ab(t)},Ab.emptyPath=function(){return new Ab([])},Ab),xb=(Rb.prototype.covers=function(e){for(var t=0,n=this.fields;t<n.length;t++)if(n[t].isPrefixOf(e))return!0;return!1},Rb.prototype.isEqual=function(e){return vb(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))},Rb),Pb=(Nb.fromBase64String=function(e){return new Nb(atob(e))},Nb.fromUint8Array=function(e){return new Nb(function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e))},Nb.prototype.toBase64=function(){return e=this.binaryString,btoa(e);var e},Nb.prototype.toUint8Array=function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)},Nb.prototype.approximateByteSize=function(){return 2*this.binaryString.length},Nb.prototype.compareTo=function(e){return pb(this.binaryString,e.binaryString)},Nb.prototype.isEqual=function(e){return this.binaryString===e.binaryString},Nb);function Nb(e){this.binaryString=e}function Rb(e){(this.fields=e).sort(Ob.comparator)}function Ab(){return null!==Tb&&Tb.apply(this,arguments)||this}function Db(){return null!==Ib&&Ib.apply(this,arguments)||this}function jb(e,t,n){void 0===t?t=0:t>e.length&&lb(),void 0===n?n=e.length-t:n>e.length-t&&lb(),this.segments=e,this.offset=t,this.len=n}Pb.EMPTY_BYTE_STRING=new Pb("");var Lb=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Mb(e){if(hb(!!e),"string"!=typeof e)return{seconds:Fb(e.seconds),nanos:Fb(e.nanos)};var t=0,n=Lb.exec(e);return hb(!!n),n[1]&&(n=((n=n[1])+"000000000").substr(0,9),t=Number(n)),e=new Date(e),{seconds:Math.floor(e.getTime()/1e3),nanos:t}}function Fb(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Ub(e){return"string"==typeof e?Pb.fromBase64String(e):Pb.fromUint8Array(e)}function qb(e){return"server_timestamp"===(null===(e=((null===(e=null==e?void 0:e.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===e?void 0:e.stringValue)}function Bb(e){return e=Mb(e.mapValue.fields.__local_write_time__.timestampValue),new gb(e.seconds,e.nanos)}function Vb(e){return null==e}function Wb(e){return 0===e&&1/e==-1/0}function zb(e){return"number"==typeof e&&Number.isInteger(e)&&!Wb(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var Hb=(Kb.fromPath=function(e){return new Kb(Cb.fromString(e))},Kb.fromName=function(e){return new Kb(Cb.fromString(e).popFirst(5))},Kb.prototype.hasCollectionId=function(e){return 2<=this.path.length&&this.path.get(this.path.length-2)===e},Kb.prototype.isEqual=function(e){return null!==e&&0===Cb.comparator(this.path,e.path)},Kb.prototype.toString=function(){return this.path.toString()},Kb.comparator=function(e,t){return Cb.comparator(e.path,t.path)},Kb.isDocumentKey=function(e){return e.length%2==0},Kb.fromSegments=function(e){return new Kb(new Cb(e.slice()))},Kb);function Kb(e){this.path=e}function Gb(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?qb(e)?4:10:lb()}function Qb(e,t){var n,r,i=Gb(e);if(i!==Gb(t))return!1;switch(i){case 0:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Bb(e).isEqual(Bb(t));case 3:return function(t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=Mb(e.timestampValue);return t=Mb(t.timestampValue),n.seconds===t.seconds&&n.nanos===t.nanos}(t);case 5:return e.stringValue===t.stringValue;case 6:return r=t,Ub(e.bytesValue).isEqual(Ub(r.bytesValue));case 7:return e.referenceValue===t.referenceValue;case 8:return n=t,Fb((r=e).geoPointValue.latitude)===Fb(n.geoPointValue.latitude)&&Fb(r.geoPointValue.longitude)===Fb(n.geoPointValue.longitude);case 2:return function(e,t){return"integerValue"in e&&"integerValue"in t?Fb(e.integerValue)===Fb(t.integerValue):"doubleValue"in e&&"doubleValue"in t&&((e=Fb(e.doubleValue))===(t=Fb(t.doubleValue))?Wb(e)===Wb(t):isNaN(e)&&isNaN(t))}(e,t);case 9:return vb(e.arrayValue.values||[],t.arrayValue.values||[],Qb);case 10:return function(){var n,r=e.mapValue.fields||{},i=t.mapValue.fields||{};if(wb(r)!==wb(i))return!1;for(n in r)if(r.hasOwnProperty(n)&&(void 0===i[n]||!Qb(r[n],i[n])))return!1;return!0}();default:return lb()}}function Yb(e,t){return void 0!==(e.values||[]).find((function(e){return Qb(e,t)}))}function $b(e,t){var n,r,i,o=Gb(e),a=Gb(t);if(o!==a)return pb(o,a);switch(o){case 0:return 0;case 1:return pb(e.booleanValue,t.booleanValue);case 2:return r=t,(i=Fb(e.integerValue||e.doubleValue))<(r=Fb(r.integerValue||r.doubleValue))?-1:r<i?1:i===r?0:isNaN(i)?isNaN(r)?0:-1:1;case 3:return Xb(e.timestampValue,t.timestampValue);case 4:return Xb(Bb(e),Bb(t));case 5:return pb(e.stringValue,t.stringValue);case 6:return function(e,t){return e=Ub(e),t=Ub(t),e.compareTo(t)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var o=pb(n[i],r[i]);if(0!==o)return o}return pb(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return n=e.geoPointValue,i=t.geoPointValue,0!==(r=pb(Fb(n.latitude),Fb(i.latitude)))?r:pb(Fb(n.longitude),Fb(i.longitude));case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var o=$b(n[i],r[i]);if(o)return o}return pb(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n=e.fields||{},r=Object.keys(n),i=t.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var a=0;a<r.length&&a<o.length;++a){var s=pb(r[a],o[a]);if(0!==s)return s;if(0!==(s=$b(n[r[a]],i[o[a]])))return s}return pb(r.length,o.length)}(e.mapValue,t.mapValue);default:throw lb()}}function Xb(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return pb(e,t);var n=Mb(e);return e=Mb(t),0!==(t=pb(n.seconds,e.seconds))?t:pb(n.nanos,e.nanos)}function Jb(e){return function e(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(e){return"time("+(e=Mb(e)).seconds+","+e.nanos+")"}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Ub(t.bytesValue).toBase64():"referenceValue"in t?(n=t.referenceValue,Hb.fromName(n).toString()):"geoPointValue"in t?"geo("+(n=t.geoPointValue).latitude+","+n.longitude+")":"arrayValue"in t?function(t){for(var n="[",r=!0,i=0,o=t.values||[];i<o.length;i++)r?r=!1:n+=",",n+=e(o[i]);return n+"]"}(t.arrayValue):"mapValue"in t?function(t){for(var n="{",r=!0,i=0,o=Object.keys(t.fields||{}).sort();i<o.length;i++){var a=o[i];r?r=!1:n+=",",n+=a+":"+e(t.fields[a])}return n+"}"}(t.mapValue):lb();var n}(e)}function Zb(e,t){return{referenceValue:"projects/"+e.projectId+"/databases/"+e.database+"/documents/"+t.path.canonicalString()}}function e_(e){return e&&"integerValue"in e}function t_(e){return!!e&&"arrayValue"in e}function n_(e){return e&&"nullValue"in e}function r_(e){return e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function i_(e){return e&&"mapValue"in e}var o_=(a_.empty=function(){return new a_({mapValue:{}})},a_.prototype.field=function(e){return a_.extractNestedValue(this.buildProto(),e)},a_.prototype.toProto=function(){return this.field(Ob.emptyPath())},a_.prototype.set=function(e,t){this.setOverlay(e,t)},a_.prototype.setAll=function(e){var t=this;e.forEach((function(e,n){e?t.set(n,e):t.delete(n)}))},a_.prototype.delete=function(e){this.setOverlay(e,null)},a_.prototype.isEqual=function(e){return Qb(this.buildProto(),e.buildProto())},a_.prototype.setOverlay=function(e,t){for(var n=this.overlayMap,r=0;r<e.length-1;++r){var i=e.get(r),o=n.get(i);o instanceof Map||(o=o&&10===Gb(o)?new Map(Object.entries(o.mapValue.fields||{})):new Map,n.set(i,o)),n=o}n.set(e.lastSegment(),t)},a_.prototype.applyOverlay=function(e,t){var n=this,r=!1,i=a_.extractNestedValue(this.partialValue,e),o=i_(i)?Object.assign({},i.mapValue.fields):{};return t.forEach((function(t,i){var a;t instanceof Map?null!=(a=n.applyOverlay(e.child(i),t))&&(o[i]=a,r=!0):null!==t?(o[i]=t,r=!0):o.hasOwnProperty(i)&&(delete o[i],r=!0)})),r?{mapValue:{fields:o}}:null},a_.prototype.buildProto=function(){var e=this.applyOverlay(Ob.emptyPath(),this.overlayMap);return null!=e&&(this.partialValue=e,this.overlayMap.clear()),this.partialValue},a_.extractNestedValue=function(e,t){if(t.isEmpty())return e;for(var n=e,r=0;r<t.length-1;++r){if(!n.mapValue.fields)return null;if(!i_(n=n.mapValue.fields[t.get(r)]))return null}return(n=(n.mapValue.fields||{})[t.lastSegment()])||null},a_.prototype.clone=function(){return new a_(this.buildProto())},a_);function a_(e){this.overlayMap=new Map,this.partialValue=e}var s_=(c_.newInvalidDocument=function(e){return new c_(e,0,mb.min(),o_.empty(),0)},c_.newFoundDocument=function(e,t,n){return new c_(e,1,t,n,0)},c_.newNoDocument=function(e,t){return new c_(e,2,t,o_.empty(),0)},c_.newUnknownDocument=function(e,t){return new c_(e,3,t,o_.empty(),2)},c_.prototype.convertToFoundDocument=function(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this},c_.prototype.convertToNoDocument=function(e){return this.version=e,this.documentType=2,this.data=o_.empty(),this.documentState=0,this},c_.prototype.convertToUnknownDocument=function(e){return this.version=e,this.documentType=3,this.data=o_.empty(),this.documentState=2,this},c_.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},c_.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(c_.prototype,"hasLocalMutations",{get:function(){return 1===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(c_.prototype,"hasCommittedMutations",{get:function(){return 2===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(c_.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),c_.prototype.isValidDocument=function(){return 0!==this.documentType},c_.prototype.isFoundDocument=function(){return 1===this.documentType},c_.prototype.isNoDocument=function(){return 2===this.documentType},c_.prototype.isUnknownDocument=function(){return 3===this.documentType},c_.prototype.isEqual=function(e){return e instanceof c_&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)},c_.prototype.clone=function(){return new c_(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},c_.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.toProto())+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},c_),u_=function(e,t,n,r,i,o,a){void 0===t&&(t=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=null),this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=a,this.h=null};function c_(e,t,n,r,i){this.key=e,this.documentType=t,this.version=n,this.data=r,this.documentState=i}function l_(e,t,n,r,i,o,a){return new u_(e,t=void 0===t?null:t,n=void 0===n?[]:n,r=void 0===r?[]:r,i=void 0===i?null:i,o=void 0===o?null:o,a=void 0===a?null:a)}function h_(e){var t=e;return null===t.h&&(e=t.path.canonicalString(),null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((function(e){return(e=e).field.canonicalString()+e.op.toString()+Jb(e.value)})).join(","),e+="|ob:",e+=t.orderBy.map((function(e){return(e=e).field.canonicalString()+e.dir})).join(","),Vb(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=q_(t.startAt)),t.endAt&&(e+="|ub:",e+=q_(t.endAt)),t.h=e),t.h}function f_(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n,r,i=0;i<e.orderBy.length;i++)if(n=e.orderBy[i],r=t.orderBy[i],n.dir!==r.dir||!n.field.isEqual(r.field))return!1;if(e.filters.length!==t.filters.length)return!1;for(var o,a,s=0;s<e.filters.length;s++)if(o=e.filters[s],a=t.filters[s],o.op!==a.op||!o.field.isEqual(a.field)||!Qb(o.value,a.value))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!W_(e.startAt,t.startAt)&&W_(e.endAt,t.endAt)}function d_(e){return Hb.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}var p_,v_=(Ji(y_,p_=function(){}),y_.create=function(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.l(e,t,n):new __(e,t,n):"array-contains"===t?new N_(e,n):"in"===t?new R_(e,n):"not-in"===t?new A_(e,n):"array-contains-any"===t?new D_(e,n):new y_(e,t,n)},y_.l=function(e,t,n){return new("in"===t?w_:E_)(e,n)},y_.prototype.matches=function(e){return e=e.data.field(this.field),"!="===this.op?null!==e&&this.m($b(e,this.value)):null!==e&&Gb(this.value)===Gb(e)&&this.m($b(e,this.value))},y_.prototype.m=function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return 0<e;case">=":return 0<=e;default:return lb()}},y_.prototype.g=function(){return 0<=["<","<=",">",">=","!=","not-in"].indexOf(this.op)},y_);function y_(e,t,n){var r=this;return(r=p_.call(this)||this).field=e,r.op=t,r.value=n,r}var g_,m_,b_,__=(Ji(I_,b_=v_),I_.prototype.matches=function(e){return e=Hb.comparator(e.key,this.key),this.m(e)},I_),w_=(Ji(T_,m_=v_),T_.prototype.matches=function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))},T_),E_=(Ji(S_,g_=v_),S_.prototype.matches=function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))},S_);function S_(e,t){var n=this;return(n=g_.call(this,e,"not-in",t)||this).keys=C_(0,t),n}function T_(e,t){var n=this;return(n=m_.call(this,e,"in",t)||this).keys=C_(0,t),n}function I_(e,t,n){var r=this;return(r=b_.call(this,e,t,n)||this).key=Hb.fromName(n.referenceValue),r}function C_(e,t){return((null===(t=t.arrayValue)||void 0===t?void 0:t.values)||[]).map((function(e){return Hb.fromName(e.referenceValue)}))}var k_,O_,x_,P_,N_=(Ji(U_,P_=v_),U_.prototype.matches=function(e){return t_(e=e.data.field(this.field))&&Yb(e.arrayValue,this.value)},U_),R_=(Ji(F_,x_=v_),F_.prototype.matches=function(e){return null!==(e=e.data.field(this.field))&&Yb(this.value.arrayValue,e)},F_),A_=(Ji(M_,O_=v_),M_.prototype.matches=function(e){return!Yb(this.value.arrayValue,{nullValue:"NULL_VALUE"})&&null!==(e=e.data.field(this.field))&&!Yb(this.value.arrayValue,e)},M_),D_=(Ji(L_,k_=v_),L_.prototype.matches=function(e){var t=this;return!(!t_(e=e.data.field(this.field))||!e.arrayValue.values)&&e.arrayValue.values.some((function(e){return Yb(t.value.arrayValue,e)}))},L_),j_=function(e,t){this.position=e,this.before=t};function L_(e,t){return k_.call(this,e,"array-contains-any",t)||this}function M_(e,t){return O_.call(this,e,"not-in",t)||this}function F_(e,t){return x_.call(this,e,"in",t)||this}function U_(e,t){return P_.call(this,e,"array-contains",t)||this}function q_(e){return(e.before?"b":"a")+":"+e.position.map(Jb).join(",")}var B_=function(e,t){void 0===t&&(t="asc"),this.field=e,this.dir=t};function V_(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var o=t[i],a=e.position[i];if(r=o.field.isKeyField()?Hb.comparator(Hb.fromName(a.referenceValue),n.key):$b(a,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return e.before?r<=0:r<0}function W_(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.before!==t.before||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!Qb(e.position[n],t.position[n]))return!1;return!0}var z_=function(e,t,n,r,i,o,a,s){void 0===t&&(t=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===a&&(a=null),void 0===s&&(s=null),this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=s,this.p=null,this.T=null,this.startAt,this.endAt};function H_(e,t,n,r,i,o,a,s){return new z_(e,t,n,r,i,o,a,s)}function K_(e){return new z_(e)}function G_(e){return!Vb(e.limit)&&"F"===e.limitType}function Q_(e){return!Vb(e.limit)&&"L"===e.limitType}function Y_(e){return 0<e.explicitOrderBy.length?e.explicitOrderBy[0].field:null}function $_(e){for(var t=0,n=e.filters;t<n.length;t++){var r=n[t];if(r.g())return r.field}return null}function X_(e){return null!==e.collectionGroup}function J_(e){var t=e;if(null===t.p){t.p=[];var n=$_(t);if(e=Y_(t),null!==n&&null===e)n.isKeyField()||t.p.push(new B_(n)),t.p.push(new B_(Ob.keyField(),"asc"));else{for(var r=!1,i=0,o=t.explicitOrderBy;i<o.length;i++){var a=o[i];t.p.push(a),a.field.isKeyField()&&(r=!0)}r||(n=0<t.explicitOrderBy.length?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",t.p.push(new B_(Ob.keyField(),n)))}}return t.p}function Z_(e){var t=e;if(!t.T)if("F"===t.limitType)t.T=l_(t.path,t.collectionGroup,J_(t),t.filters,t.limit,t.startAt,t.endAt);else{for(var n=[],r=0,i=J_(t);r<i.length;r++){var o=i[r],a="desc"===o.dir?"asc":"desc";n.push(new B_(o.field,a))}var s=t.endAt?new j_(t.endAt.position,!t.endAt.before):null;e=t.startAt?new j_(t.startAt.position,!t.startAt.before):null,t.T=l_(t.path,t.collectionGroup,n,t.filters,t.limit,s,e)}return t.T}function ew(e,t,n){return new z_(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function tw(e,t){return f_(Z_(e),Z_(t))&&e.limitType===t.limitType}function nw(e){return h_(Z_(e))+"|lt:"+e.limitType}function rw(e){return"Query(target="+(n=(t=Z_(e)).path.canonicalString(),null!==t.collectionGroup&&(n+=" collectionGroup="+t.collectionGroup),0<t.filters.length&&(n+=", filters: ["+t.filters.map((function(e){return(e=e).field.canonicalString()+" "+e.op+" "+Jb(e.value)})).join(", ")+"]"),Vb(t.limit)||(n+=", limit: "+t.limit),0<t.orderBy.length&&(n+=", orderBy: ["+t.orderBy.map((function(e){return(e=e).field.canonicalString()+" ("+e.dir+")"})).join(", ")+"]"),t.startAt&&(n+=", startAt: "+q_(t.startAt)),t.endAt&&(n+=", endAt: "+q_(t.endAt)),"Target("+n+"); limitType=")+e.limitType+")";var t,n}function iw(e,t){return t.isFoundDocument()&&(n=e,r=t.key.path,null!==n.collectionGroup?t.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(r):Hb.isDocumentKey(n.path)?n.path.isEqual(r):n.path.isImmediateParentOf(r))&&function(t){for(var n=0,r=e.explicitOrderBy;n<r.length;n++){var i=r[n];if(!i.field.isKeyField()&&null===t.data.field(i.field))return}return 1}(t)&&function(t){for(var n=0,r=e.filters;n<r.length;n++)if(!r[n].matches(t))return;return 1}(t)&&(r=t,(!(t=e).startAt||V_(t.startAt,J_(t),r))&&(!t.endAt||!V_(t.endAt,J_(t),r)));var n,r}function ow(e){return function(t,n){for(var r=!1,i=0,o=J_(e);i<o.length;i++){var a=o[i],s=function(e,t,n){var r=e.field.isKeyField()?Hb.comparator(t.key,n.key):function(e,n){var r=t.data.field(e);return e=n.data.field(e),null!==r&&null!==e?$b(r,e):lb()}(e.field,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return lb()}}(a,t,n);if(0!==s)return s;r=r||a.field.isKeyField()}return 0}}function aw(e,t){if(e.I){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Wb(t)?"-0":t}}function sw(e){return{integerValue:""+e}}function uw(e,t){return zb(t)?sw(t):aw(e,t)}function cw(e,t){return e instanceof Ew?e_(e=t)||e&&"doubleValue"in e?t:{integerValue:0}:null}var lw,hw,fw=(Ji(vw,hw=H=function(){this._=void 0}),vw),dw=(Ji(pw,lw=H),pw);function pw(e){var t=this;return(t=lw.call(this)||this).elements=e,t}function vw(){return null!==hw&&hw.apply(this,arguments)||this}function yw(e,t){for(var n=Iw(t),r=0,i=e.elements;r<i.length;r++)!function(e){n.some((function(t){return Qb(t,e)}))||n.push(e)}(i[r]);return{arrayValue:{values:n}}}var gw,mw=(Ji(bw,gw=H),bw);function bw(e){var t=this;return(t=gw.call(this)||this).elements=e,t}function _w(e,t){for(var n=Iw(t),r=0,i=e.elements;r<i.length;r++)!function(e){n=n.filter((function(t){return!Qb(t,e)}))}(i[r]);return{arrayValue:{values:n}}}var ww,Ew=(Ji(Sw,ww=H),Sw);function Sw(e,t){var n=this;return(n=ww.call(this)||this).R=e,n.A=t,n}function Tw(e){return Fb(e.integerValue||e.doubleValue)}function Iw(e){return t_(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}function Cw(e,t){this.version=e,this.transformResults=t}var kw=function(e,t){this.field=e,this.transform=t},Ow=(xw.none=function(){return new xw},xw.exists=function(e){return new xw(void 0,e)},xw.updateTime=function(e){return new xw(e)},Object.defineProperty(xw.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),xw.prototype.isEqual=function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)},xw);function xw(e,t){this.updateTime=e,this.exists=t}function Pw(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}function Nw(e,t,n){var r,i,o,a;e instanceof Lw?(i=t,o=n,Pw((r=e).precondition,i)&&(a=r.value.clone(),o=Vw(r.fieldTransforms,o,i),a.setAll(o),i.convertToFoundDocument(Aw(i),a).setHasLocalMutations())):e instanceof Mw?(o=t,i=n,Pw((a=e).precondition,o)&&(n=Vw(a.fieldTransforms,i,o),(i=o.data).setAll(qw(a)),i.setAll(n),o.convertToFoundDocument(Aw(o),i).setHasLocalMutations())):(t=t,Pw(e.precondition,t)&&t.convertToNoDocument(mb.min()))}function Rw(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&(n=e.fieldTransforms,r=t.fieldTransforms,!!(void 0===n&&void 0===r||n&&r&&vb(n,r,(function(e,t){return t=t,(e=e).field.isEqual(t.field)&&(e=e.transform,t=t.transform,e instanceof dw&&t instanceof dw||e instanceof mw&&t instanceof mw?vb(e.elements,t.elements,Qb):e instanceof Ew&&t instanceof Ew?Qb(e.A,t.A):e instanceof fw&&t instanceof fw)}))))&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask));var n,r}function Aw(e){return e.isFoundDocument()?e.version:mb.min()}var Dw,jw,Lw=(Ji(Uw,jw=kn=function(){}),Uw),Mw=(Ji(Fw,Dw=kn),Fw);function Fw(e,t,n,r,i){void 0===i&&(i=[]);var o=this;return(o=Dw.call(this)||this).key=e,o.data=t,o.fieldMask=n,o.precondition=r,o.fieldTransforms=i,o.type=1,o}function Uw(e,t,n,r){void 0===r&&(r=[]);var i=this;return(i=jw.call(this)||this).key=e,i.value=t,i.precondition=n,i.fieldTransforms=r,i.type=0,i}function qw(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){var r;n.isEmpty()||(r=e.data.field(n),t.set(n,r))})),t}function Bw(e,t,n){var r=new Map;hb(e.length===n.length);for(var i=0;i<n.length;i++){var o=e[i],a=o.transform,s=t.data.field(o.field);r.set(o.field,(o=a,a=s,s=n[i],o instanceof dw?yw(o,a):o instanceof mw?_w(o,a):s))}return r}function Vw(e,t,n){for(var r,i=new Map,o=0,a=e;o<a.length;o++){var s=a[o],u=s.transform,c=n.data.field(s.field);i.set(s.field,(r=c,s=t,c=void 0,(u=u)instanceof fw?(c={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}},r&&(c.fields.__previous_value__=r),{mapValue:c}):u instanceof dw?yw(u,r):u instanceof mw?_w(u,r):(r=Tw(u=cw(c=u,r))+Tw(c.A),e_(u)&&e_(c.A)?sw(r):aw(c.R,r))))}return i}function Ww(e){this.count=e}var zw,Hw,Kw,Gw=(Ji($w,Kw=kn),$w),Qw=(Ji(Yw,Hw=kn),Yw);function Yw(e,t){var n=this;return(n=Hw.call(this)||this).key=e,n.precondition=t,n.type=3,n.fieldTransforms=[],n}function $w(e,t){var n=this;return(n=Kw.call(this)||this).key=e,n.precondition=t,n.type=2,n.fieldTransforms=[],n}function Xw(e){switch(e){case tb.OK:return lb(),0;case tb.CANCELLED:case tb.UNKNOWN:case tb.DEADLINE_EXCEEDED:case tb.RESOURCE_EXHAUSTED:case tb.INTERNAL:case tb.UNAVAILABLE:case tb.UNAUTHENTICATED:return;case tb.INVALID_ARGUMENT:case tb.NOT_FOUND:case tb.ALREADY_EXISTS:case tb.PERMISSION_DENIED:case tb.FAILED_PRECONDITION:case tb.ABORTED:case tb.OUT_OF_RANGE:case tb.UNIMPLEMENTED:case tb.DATA_LOSS:return 1;default:return lb(),0}}function Jw(e){if(void 0===e)return sb("GRPC error has no .code"),tb.UNKNOWN;switch(e){case zw.OK:return tb.OK;case zw.CANCELLED:return tb.CANCELLED;case zw.UNKNOWN:return tb.UNKNOWN;case zw.DEADLINE_EXCEEDED:return tb.DEADLINE_EXCEEDED;case zw.RESOURCE_EXHAUSTED:return tb.RESOURCE_EXHAUSTED;case zw.INTERNAL:return tb.INTERNAL;case zw.UNAVAILABLE:return tb.UNAVAILABLE;case zw.UNAUTHENTICATED:return tb.UNAUTHENTICATED;case zw.INVALID_ARGUMENT:return tb.INVALID_ARGUMENT;case zw.NOT_FOUND:return tb.NOT_FOUND;case zw.ALREADY_EXISTS:return tb.ALREADY_EXISTS;case zw.PERMISSION_DENIED:return tb.PERMISSION_DENIED;case zw.FAILED_PRECONDITION:return tb.FAILED_PRECONDITION;case zw.ABORTED:return tb.ABORTED;case zw.OUT_OF_RANGE:return tb.OUT_OF_RANGE;case zw.UNIMPLEMENTED:return tb.UNIMPLEMENTED;case zw.DATA_LOSS:return tb.DATA_LOSS;default:return lb()}}(H=zw=zw||{})[H.OK=0]="OK",H[H.CANCELLED=1]="CANCELLED",H[H.UNKNOWN=2]="UNKNOWN",H[H.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",H[H.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",H[H.NOT_FOUND=5]="NOT_FOUND",H[H.ALREADY_EXISTS=6]="ALREADY_EXISTS",H[H.PERMISSION_DENIED=7]="PERMISSION_DENIED",H[H.UNAUTHENTICATED=16]="UNAUTHENTICATED",H[H.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",H[H.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",H[H.ABORTED=10]="ABORTED",H[H.OUT_OF_RANGE=11]="OUT_OF_RANGE",H[H.UNIMPLEMENTED=12]="UNIMPLEMENTED",H[H.INTERNAL=13]="INTERNAL",H[H.UNAVAILABLE=14]="UNAVAILABLE",H[H.DATA_LOSS=15]="DATA_LOSS";var Zw=(iE.prototype.insert=function(e,t){return new iE(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,tE.BLACK,null,null))},iE.prototype.remove=function(e){return new iE(this.comparator,this.root.remove(e,this.comparator).copy(null,null,tE.BLACK,null,null))},iE.prototype.get=function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:0<n&&(t=t.right)}return null},iE.prototype.indexOf=function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;n=r<0?n.left:(t+=n.left.size+1,n.right)}return-1},iE.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(iE.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),iE.prototype.minKey=function(){return this.root.minKey()},iE.prototype.maxKey=function(){return this.root.maxKey()},iE.prototype.inorderTraversal=function(e){return this.root.inorderTraversal(e)},iE.prototype.forEach=function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))},iE.prototype.toString=function(){var e=[];return this.inorderTraversal((function(t,n){return e.push(t+":"+n),!1})),"{"+e.join(", ")+"}"},iE.prototype.reverseTraversal=function(e){return this.root.reverseTraversal(e)},iE.prototype.getIterator=function(){return new eE(this.root,null,this.comparator,!1)},iE.prototype.getIteratorFrom=function(e){return new eE(this.root,e,this.comparator,!1)},iE.prototype.getReverseIterator=function(){return new eE(this.root,null,this.comparator,!0)},iE.prototype.getReverseIteratorFrom=function(e){return new eE(this.root,e,this.comparator,!0)},iE),eE=(rE.prototype.getNext=function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t},rE.prototype.hasNext=function(){return 0<this.nodeStack.length},rE.prototype.peek=function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}},rE),tE=(nE.prototype.copy=function(e,t,n,r,i){return new nE(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)},nE.prototype.isEmpty=function(){return!1},nE.prototype.inorderTraversal=function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)},nE.prototype.reverseTraversal=function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)},nE.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},nE.prototype.minKey=function(){return this.min().key},nE.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},nE.prototype.insert=function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()},nE.prototype.removeMin=function(){if(this.left.isEmpty())return nE.EMPTY;var e=this;return(e=(e=e.left.isRed()||e.left.left.isRed()?e:e.moveRedLeft()).copy(null,null,null,e.left.removeMin(),null)).fixUp()},nE.prototype.remove=function(e,t){var n,r=this;if(t(e,r.key)<0)r=(r=r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()?r:r.moveRedLeft()).copy(null,null,null,r.left.remove(e,t),null);else{if(0===t(e,(r=(r=r.left.isRed()?r.rotateRight():r).right.isEmpty()||r.right.isRed()||r.right.left.isRed()?r:r.moveRedRight()).key)){if(r.right.isEmpty())return nE.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()},nE.prototype.isRed=function(){return this.color},nE.prototype.fixUp=function(){var e=this;return(e=(e=e.right.isRed()&&!e.left.isRed()?e.rotateLeft():e).left.isRed()&&e.left.left.isRed()?e.rotateRight():e).left.isRed()&&e.right.isRed()?e.colorFlip():e},nE.prototype.moveRedLeft=function(){var e=this.colorFlip();return e.right.left.isRed()?(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip():e},nE.prototype.moveRedRight=function(){var e=this.colorFlip();return e.left.left.isRed()?(e=e.rotateRight()).colorFlip():e},nE.prototype.rotateLeft=function(){var e=this.copy(null,null,nE.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},nE.prototype.rotateRight=function(){var e=this.copy(null,null,nE.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},nE.prototype.colorFlip=function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)},nE.prototype.checkMaxDepth=function(){var e=this.check();return Math.pow(2,e)<=this.size+1},nE.prototype.check=function(){if(this.isRed()&&this.left.isRed())throw lb();if(this.right.isRed())throw lb();var e=this.left.check();if(e!==this.right.check())throw lb();return e+(this.isRed()?0:1)},nE);function nE(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:nE.RED,this.left=null!=r?r:nE.EMPTY,this.right=null!=i?i:nE.EMPTY,this.size=this.left.size+1+this.right.size}function rE(e,t,n,r){this.isReverse=r,this.nodeStack=[];for(var i=1;!e.isEmpty();)if(i=t?n(e.key,t):1,r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}function iE(e,t){this.comparator=e,this.root=t||tE.EMPTY}function oE(){this.size=0}tE.EMPTY=null,tE.RED=!0,tE.BLACK=!1,tE.EMPTY=(Object.defineProperty(oE.prototype,"key",{get:function(){throw lb()},enumerable:!1,configurable:!0}),Object.defineProperty(oE.prototype,"value",{get:function(){throw lb()},enumerable:!1,configurable:!0}),Object.defineProperty(oE.prototype,"color",{get:function(){throw lb()},enumerable:!1,configurable:!0}),Object.defineProperty(oE.prototype,"left",{get:function(){throw lb()},enumerable:!1,configurable:!0}),Object.defineProperty(oE.prototype,"right",{get:function(){throw lb()},enumerable:!1,configurable:!0}),oE.prototype.copy=function(e,t,n,r,i){return this},oE.prototype.insert=function(e,t,n){return new tE(e,t)},oE.prototype.remove=function(e,t){return this},oE.prototype.isEmpty=function(){return!0},oE.prototype.inorderTraversal=function(e){return!1},oE.prototype.reverseTraversal=function(e){return!1},oE.prototype.minKey=function(){return null},oE.prototype.maxKey=function(){return null},oE.prototype.isRed=function(){return!1},oE.prototype.checkMaxDepth=function(){return!0},oE.prototype.check=function(){return 0},new oE);var aE=(lE.prototype.has=function(e){return null!==this.data.get(e)},lE.prototype.first=function(){return this.data.minKey()},lE.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(lE.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),lE.prototype.indexOf=function(e){return this.data.indexOf(e)},lE.prototype.forEach=function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))},lE.prototype.forEachInRange=function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(0<=this.comparator(r.key,e[1]))return;t(r.key)}},lE.prototype.forEachWhile=function(e,t){for(var n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return},lE.prototype.firstAfterOrEqual=function(e){return(e=this.data.getIteratorFrom(e)).hasNext()?e.getNext().key:null},lE.prototype.getIterator=function(){return new sE(this.data.getIterator())},lE.prototype.getIteratorFrom=function(e){return new sE(this.data.getIteratorFrom(e))},lE.prototype.add=function(e){return this.copy(this.data.remove(e).insert(e,!0))},lE.prototype.delete=function(e){return this.has(e)?this.copy(this.data.remove(e)):this},lE.prototype.isEmpty=function(){return this.data.isEmpty()},lE.prototype.unionWith=function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t},lE.prototype.isEqual=function(e){if(!(e instanceof lE))return!1;if(this.size!==e.size)return!1;for(var t=this.data.getIterator(),n=e.data.getIterator();t.hasNext();){var r=t.getNext().key,i=n.getNext().key;if(0!==this.comparator(r,i))return!1}return!0},lE.prototype.toArray=function(){var e=[];return this.forEach((function(t){e.push(t)})),e},lE.prototype.toString=function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"},lE.prototype.copy=function(e){var t=new lE(this.comparator);return t.data=e,t},lE),sE=(cE.prototype.getNext=function(){return this.iter.getNext().key},cE.prototype.hasNext=function(){return this.iter.hasNext()},cE),uE=new Zw(Hb.comparator);function cE(e){this.iter=e}function lE(e){this.comparator=e,this.data=new Zw(this.comparator)}var hE=new Zw(Hb.comparator),fE=new Zw(Hb.comparator),dE=new aE(Hb.comparator);function pE(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=dE,r=0,i=e;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var vE=new aE(pb),yE=(CE.createSynthesizedRemoteEventForCurrentChange=function(e,t){var n=new Map;return n.set(e,gE.createSynthesizedTargetChangeForCurrentChange(e,t)),new CE(mb.min(),n,vE,uE,pE())},CE),gE=(IE.createSynthesizedTargetChangeForCurrentChange=function(e,t){return new IE(Pb.EMPTY_BYTE_STRING,t,pE(),pE(),pE())},IE),mE=function(e,t,n,r){this.v=e,this.removedTargetIds=t,this.key=n,this.P=r},bE=function(e,t){this.targetId=e,this.V=t},_E=function(e,t,n,r){void 0===n&&(n=Pb.EMPTY_BYTE_STRING),void 0===r&&(r=null),this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r},wE=(Object.defineProperty(TE.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(TE.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(TE.prototype,"k",{get:function(){return 0!==this.S},enumerable:!1,configurable:!0}),Object.defineProperty(TE.prototype,"O",{get:function(){return this.F},enumerable:!1,configurable:!0}),TE.prototype.$=function(e){0<e.approximateByteSize()&&(this.F=!0,this.C=e)},TE.prototype.M=function(){var e=pE(),t=pE(),n=pE();return this.D.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:lb()}})),new gE(this.C,this.N,e,t,n)},TE.prototype.L=function(){this.F=!1,this.D=OE()},TE.prototype.B=function(e,t){this.F=!0,this.D=this.D.insert(e,t)},TE.prototype.q=function(e){this.F=!0,this.D=this.D.remove(e)},TE.prototype.U=function(){this.S+=1},TE.prototype.K=function(){--this.S},TE.prototype.j=function(){this.F=!0,this.N=!0},TE),EE=(SE.prototype.X=function(e){for(var t=0,n=e.v;t<n.length;t++){var r=n[t];e.P&&e.P.isFoundDocument()?this.Z(r,e.P):this.tt(r,e.key,e.P)}for(var i=0,o=e.removedTargetIds;i<o.length;i++)r=o[i],this.tt(r,e.key,e.P)},SE.prototype.et=function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.nt(n);switch(e.state){case 0:t.st(n)&&r.$(e.resumeToken);break;case 1:r.K(),r.k||r.L(),r.$(e.resumeToken);break;case 2:r.K(),r.k||t.removeTarget(n);break;case 3:t.st(n)&&(r.j(),r.$(e.resumeToken));break;case 4:t.st(n)&&(t.it(n),r.$(e.resumeToken));break;default:lb()}}))},SE.prototype.forEachTarget=function(e,t){var n=this;0<e.targetIds.length?e.targetIds.forEach(t):this.G.forEach((function(e,r){n.st(r)&&t(r)}))},SE.prototype.rt=function(e){var t=e.targetId,n=e.V.count;(e=this.ot(t))&&(d_(e=e.target)?0===n?(e=new Hb(e.path),this.tt(t,e,s_.newNoDocument(e,mb.min()))):hb(1===n):this.ct(t)!==n&&(this.it(t),this.Y=this.Y.add(t)))},SE.prototype.ut=function(e){var t=this,n=new Map;this.G.forEach((function(r,i){var o=t.ot(i);o&&(r.current&&d_(o.target)&&(o=new Hb(o.target.path),null!==t.H.get(o)||t.at(i,o)||t.tt(i,o,s_.newNoDocument(o,e))),r.O&&(n.set(i,r.M()),r.L()))}));var r=pE();this.J.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){return!(e=t.ot(e))||2===e.purpose||(i=!1)})),i&&(r=r.add(e))}));var i=new yE(e,n,this.Y,this.H,r);return this.H=uE,this.J=kE(),this.Y=new aE(pb),i},SE.prototype.Z=function(e,t){var n;this.st(e)&&(n=this.at(e,t.key)?2:0,this.nt(e).B(t.key,n),this.H=this.H.insert(t.key,t),this.J=this.J.insert(t.key,this.ht(t.key).add(e)))},SE.prototype.tt=function(e,t,n){var r;this.st(e)&&(r=this.nt(e),this.at(e,t)?r.B(t,1):r.q(t),this.J=this.J.insert(t,this.ht(t).delete(e)),n&&(this.H=this.H.insert(t,n)))},SE.prototype.removeTarget=function(e){this.G.delete(e)},SE.prototype.ct=function(e){var t=this.nt(e).M();return this.W.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size},SE.prototype.U=function(e){this.nt(e).U()},SE.prototype.nt=function(e){var t=this.G.get(e);return t||(t=new wE,this.G.set(e,t)),t},SE.prototype.ht=function(e){var t=this.J.get(e);return t||(t=new aE(pb),this.J=this.J.insert(e,t)),t},SE.prototype.st=function(e){var t=null!==this.ot(e);return t||ab("WatchChangeAggregator","Detected inactive target",e),t},SE.prototype.ot=function(e){var t=this.G.get(e);return t&&t.k?null:this.W.lt(e)},SE.prototype.it=function(e){var t=this;this.G.set(e,new wE),this.W.getRemoteKeysForTarget(e).forEach((function(n){t.tt(e,n,null)}))},SE.prototype.at=function(e,t){return this.W.getRemoteKeysForTarget(e).has(t)},SE);function SE(e){this.W=e,this.G=new Map,this.H=uE,this.J=kE(),this.Y=new aE(pb)}function TE(){this.S=0,this.D=OE(),this.C=Pb.EMPTY_BYTE_STRING,this.N=!1,this.F=!0}function IE(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}function CE(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}function kE(){return new Zw(Hb.comparator)}function OE(){return new Zw(Hb.comparator)}var xE={asc:"ASCENDING",desc:"DESCENDING"},PE={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},NE=function(e,t){this.databaseId=e,this.I=t};function RE(e,t){return e.I?new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+t.nanoseconds).slice(-9)+"Z":{seconds:""+t.seconds,nanos:t.nanoseconds}}function AE(e,t){return e.I?t.toBase64():t.toUint8Array()}function DE(e){return hb(!!e),mb.fromTimestamp((e=Mb(e),new gb(e.seconds,e.nanos)))}function jE(e,t){return new Cb(["projects",e.projectId,"databases",e.database]).child("documents").child(t).canonicalString()}function LE(e){return hb(nS(e=Cb.fromString(e))),e}function ME(e,t){return jE(e.databaseId,t.path)}function FE(e,t){if((t=LE(t)).get(1)!==e.databaseId.projectId)throw new nb(tb.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+e.databaseId.projectId);if(t.get(3)!==e.databaseId.database)throw new nb(tb.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+e.databaseId.database);return new Hb(VE(t))}function UE(e,t){return jE(e.databaseId,t)}function qE(e){return 4===(e=LE(e)).length?Cb.emptyPath():VE(e)}function BE(e){return new Cb(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function VE(e){return hb(4<e.length&&"documents"===e.get(4)),e.popFirst(5)}function WE(e,t,n){return{name:ME(e,t),fields:n.toProto().mapValue.fields}}function zE(e,t,n){var r=FE(e,t.name);return e=DE(t.updateTime),t=new o_({mapValue:{fields:t.fields}}),t=s_.newFoundDocument(r,e,t),n&&t.setHasCommittedMutations(),n?t.setHasCommittedMutations():t}function HE(e,t){var n,r,i;if(t instanceof Lw)n={update:WE(e,t.key,t.value)};else if(t instanceof Gw)n={delete:ME(e,t.key)};else if(t instanceof Mw)n={update:WE(e,t.key,t.data),updateMask:(i=t.fieldMask,r=[],i.fields.forEach((function(e){return r.push(e.canonicalString())})),{fieldPaths:r})};else{if(!(t instanceof Qw))return lb();n={verify:ME(e,t.key)}}return 0<t.fieldTransforms.length&&(n.updateTransforms=t.fieldTransforms.map((function(e){var t=e.transform;if(t instanceof fw)return{fieldPath:e.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(t instanceof dw)return{fieldPath:e.field.canonicalString(),appendMissingElements:{values:t.elements}};if(t instanceof mw)return{fieldPath:e.field.canonicalString(),removeAllFromArray:{values:t.elements}};if(t instanceof Ew)return{fieldPath:e.field.canonicalString(),increment:t.A};throw lb()}))),t.precondition.isNone||(n.currentDocument=void 0!==(i=t.precondition).updateTime?{updateTime:(t=e,e=i.updateTime,RE(t,e.toTimestamp()))}:void 0!==i.exists?{exists:i.exists}:lb()),n}function KE(e,t){var n=t.currentDocument?void 0!==(a=t.currentDocument).updateTime?Ow.updateTime(DE(a.updateTime)):void 0!==a.exists?Ow.exists(a.exists):Ow.none():Ow.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n,r=null;return"setToServerValue"in t?(hb("REQUEST_TIME"===t.setToServerValue),r=new fw):"appendMissingElements"in t?(n=t.appendMissingElements.values||[],r=new dw(n)):"removeAllFromArray"in t?(n=t.removeAllFromArray.values||[],r=new mw(n)):"increment"in t?r=new Ew(e,t.increment):lb(),t=Ob.fromServerFormat(t.fieldPath),new kw(t,r)}(e,t)})):[];if(t.update){t.update.name;var i=FE(e,t.update.name),o=new o_({mapValue:{fields:t.update.fields}});if(t.updateMask){var a=(a=t.updateMask.fieldPaths||[],new xb(a.map((function(e){return Ob.fromServerFormat(e)}))));return new Mw(i,o,a,n,r)}return new Lw(i,o,n,r)}return t.delete?(r=FE(e,t.delete),new Gw(r,n)):t.verify?(t=FE(e,t.verify),new Qw(t,n)):lb()}function GE(e,t){return{documents:[UE(e,t.path)]}}function QE(e,t){var n={structuredQuery:{}},r=t.path;return null!==t.collectionGroup?(n.parent=UE(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=UE(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),(r=function(e){if(0!==e.length)return 1===(e=e.map((function(e){if("=="===e.op){if(r_(e.value))return{unaryFilter:{field:JE(e.field),op:"IS_NAN"}};if(n_(e.value))return{unaryFilter:{field:JE(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(r_(e.value))return{unaryFilter:{field:JE(e.field),op:"IS_NOT_NAN"}};if(n_(e.value))return{unaryFilter:{field:JE(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:JE(e.field),op:(t=e.op,PE[t]),value:e.value}};var t}))).length?e[0]:{compositeFilter:{op:"AND",filters:e}}}(t.filters))&&(n.structuredQuery.where=r),(r=function(e){if(0!==e.length)return e.map((function(e){return{field:JE((e=e).field),direction:(e=e.dir,xE[e])}}))}(t.orderBy))&&(n.structuredQuery.orderBy=r),r=t.limit,null!==(r=e.I||Vb(r)?r:{value:r})&&(n.structuredQuery.limit=r),t.startAt&&(n.structuredQuery.startAt=$E(t.startAt)),t.endAt&&(n.structuredQuery.endAt=$E(t.endAt)),n}function YE(e){var t=qE(e.parent),n=e.structuredQuery,r=null;0<(a=n.from?n.from.length:0)&&(hb(1===a),(s=n.from[0]).allDescendants?r=s.collectionId:t=t.child(s.collectionId));var i=[];n.where&&(i=function e(t){return t?void 0!==t.unaryFilter?[tS(t)]:void 0!==t.fieldFilter?[eS(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map((function(t){return e(t)})).reduce((function(e,t){return e.concat(t)})):lb():[]}(n.where));var o=[],a=(e=null,null),s=null;return H_(t,r,o=n.orderBy?n.orderBy.map((function(e){return new B_(ZE((t=e).field),function(){switch(t.direction){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}());var t})):o,i,e=n.limit?Vb(i="object"==typeof(i=n.limit)?i.value:i)?null:i:e,"F",a=n.startAt?XE(n.startAt):a,s=n.endAt?XE(n.endAt):s)}function $E(e){return{before:e.before,values:e.position}}function XE(e){var t=!!e.before;return e=e.values||[],new j_(e,t)}function JE(e){return{fieldPath:e.canonicalString()}}function ZE(e){return Ob.fromServerFormat(e.fieldPath)}function eS(e){return v_.create(ZE(e.fieldFilter.field),function(){switch(e.fieldFilter.op){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return lb()}}(),e.fieldFilter.value)}function tS(e){switch(e.unaryFilter.op){case"IS_NAN":var t=ZE(e.unaryFilter.field);return v_.create(t,"==",{doubleValue:NaN});case"IS_NULL":return t=ZE(e.unaryFilter.field),v_.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var n=ZE(e.unaryFilter.field);return v_.create(n,"!=",{doubleValue:NaN});case"IS_NOT_NULL":return n=ZE(e.unaryFilter.field),v_.create(n,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return lb()}}function nS(e){return 4<=e.length&&"projects"===e.get(0)&&"databases"===e.get(2)}function rS(e){for(var t="",n=0;n<e.length;n++)0<t.length&&(t=iS(t)),t=function(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var o=e.charAt(i);switch(o){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=o}}return n}(e.get(n),t);return iS(t)}function iS(e){return e+"\x01\x01"}function oS(e){var t=e.length;if(hb(2<=t),2===t)return hb("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),Cb.emptyPath();for(var n=t-2,r=[],i="",o=0;o<t;){var a=e.indexOf("\x01",o);switch((a<0||n<a)&&lb(),e.charAt(a+1)){case"\x01":var s=e.substring(o,a),u=void 0;0===i.length?u=s:(u=i+=s,i=""),r.push(u);break;case"\x10":i+=e.substring(o,a),i+="\0";break;case"\x11":i+=e.substring(o,a+1);break;default:lb()}o=a+2}return new Cb(r)}function aS(e,t,n){this.ownerId=e,this.allowTabSynchronization=t,this.leaseTimestampMs=n}var sS=function(e,t){this.seconds=e,this.nanoseconds=t};function uS(e,t,n){this.userId=e,this.lastAcknowledgedBatchId=t,this.lastStreamToken=n}function cS(e,t,n,r,i){this.userId=e,this.batchId=t,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i}aS.store="owner",aS.key="owner",uS.store="mutationQueues",uS.keyPath="userId",cS.store="mutations",cS.keyPath="batchId",cS.userMutationsIndex="userMutationsIndex",cS.userMutationsKeyPath=["userId","batchId"];var lS=(hS.prefixForUser=function(e){return[e]},hS.prefixForPath=function(e,t){return[e,rS(t)]},hS.key=function(e,t,n){return[e,rS(t),n]},hS);function hS(){}function fS(e,t){this.path=e,this.readTime=t}function dS(e,t){this.path=e,this.version=t}lS.store="documentMutations",lS.PLACEHOLDER=new lS;var pS=function(e,t,n,r,i,o){this.unknownDocument=e,this.noDocument=t,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};function vS(e){this.byteSize=e}function yS(e,t,n,r,i,o,a){this.targetId=e,this.canonicalId=t,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=a}pS.store="remoteDocuments",pS.readTimeIndex="readTimeIndex",pS.readTimeIndexPath="readTime",pS.collectionReadTimeIndex="collectionReadTimeIndex",pS.collectionReadTimeIndexPath=["parentPath","readTime"],vS.store="remoteDocumentGlobal",vS.key="remoteDocumentGlobalKey",yS.store="targets",yS.keyPath="targetId",yS.queryTargetsIndexName="queryTargetsIndex",yS.queryTargetsKeyPath=["canonicalId","targetId"];var gS=function(e,t,n){this.targetId=e,this.path=t,this.sequenceNumber=n};function mS(e,t,n,r){this.highestTargetId=e,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=n,this.targetCount=r}function bS(e,t){this.collectionId=e,this.parent=t}function _S(e,t,n,r){this.clientId=e,this.updateTimeMs=t,this.networkEnabled=n,this.inForeground=r}function wS(e,t,n){this.bundleId=e,this.createTime=t,this.version=n}function ES(e,t,n){this.name=e,this.readTime=t,this.bundledQuery=n}gS.store="targetDocuments",gS.keyPath=["targetId","path"],gS.documentTargetsIndex="documentTargetsIndex",gS.documentTargetsKeyPath=["path","targetId"],mS.key="targetGlobalKey",mS.store="targetGlobal",bS.store="collectionParents",bS.keyPath=["collectionId","parent"],_S.store="clientMetadata",_S.keyPath="clientId",wS.store="bundles",wS.keyPath="bundleId",ES.store="namedQueries",ES.keyPath="name";var SS,TS=io(io([],io(io([],io(io([],io(io([],[uS.store,cS.store,lS.store,pS.store,yS.store,aS.store,mS.store,gS.store]),[_S.store])),[vS.store])),[bS.store])),[wS.store,ES.store]),IS="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",CS=(MS.prototype.addOnCommittedListener=function(e){this.onCommittedListeners.push(e)},MS.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach((function(e){return e()}))},kn=MS,function(){var e=this;this.promise=new Promise((function(t,n){e.resolve=t,e.reject=n}))}),kS=(LS.prototype.catch=function(e){return this.next(void 0,e)},LS.prototype.next=function(e,t){var n=this;return this.callbackAttached&&lb(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new LS((function(r,i){n.nextCallback=function(t){n.wrapSuccess(e,t).next(r,i)},n.catchCallback=function(e){n.wrapFailure(t,e).next(r,i)}}))},LS.prototype.toPromise=function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))},LS.prototype.wrapUserFunction=function(e){try{var t=e();return t instanceof LS?t:LS.resolve(t)}catch(e){return LS.reject(e)}},LS.prototype.wrapSuccess=function(e,t){return e?this.wrapUserFunction((function(){return e(t)})):LS.resolve(t)},LS.prototype.wrapFailure=function(e,t){return e?this.wrapUserFunction((function(){return e(t)})):LS.reject(t)},LS.resolve=function(e){return new LS((function(t,n){t(e)}))},LS.reject=function(e){return new LS((function(t,n){n(e)}))},LS.waitFor=function(e){return new LS((function(t,n){var r=0,i=0,o=!1;e.forEach((function(e){++r,e.next((function(){++i,o&&i===r&&t()}),(function(e){return n(e)}))})),o=!0,i===r&&t()}))},LS.or=function(e){for(var t=LS.resolve(!1),n=0,r=e;n<r.length;n++)!function(e){t=t.next((function(t){return t?LS.resolve(t):e()}))}(r[n]);return t},LS.forEach=function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)},LS),OS=(jS.open=function(e,t,n,r){try{return new jS(t,e.transaction(r,n))}catch(e){throw new NS(t,e)}},Object.defineProperty(jS.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),jS.prototype.abort=function(e){e&&this.ft.reject(e),this.aborted||(ab("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},jS.prototype.store=function(e){return e=this.transaction.objectStore(e),new US(e)},jS),xS=(DS.delete=function(e){return ab("SimpleDb","Removing database:",e),BS(window.indexedDB.deleteDatabase(e)).toPromise()},DS.yt=function(){if("undefined"==typeof indexedDB)return!1;if(DS.gt())return!0;var e=yo(),t=0<(n=DS._t(e))&&n<10,n=0<(n=DS.Et(e))&&n<4.5;return!(0<e.indexOf("MSIE ")||0<e.indexOf("Trident/")||0<e.indexOf("Edge/")||t||n)},DS.gt=function(){var e;return"undefined"!=typeof n&&"YES"===(null===(e=Object({NODE_ENV:"production",PUBLIC_URL:"/React-Forms-Project",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}))||void 0===e?void 0:e.Tt)},DS.It=function(e,t){return e.store(t)},DS._t=function(e){return e=(e=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i))?e[1].split("_").slice(0,2).join("."):"-1",Number(e)},DS.Et=function(e){return e=(e=e.match(/Android ([\d.]+)/i))?e[1].split(".").slice(0,2).join("."):"-1",Number(e)},DS.prototype.At=function(e){return eo(this,void 0,void 0,(function(){var t,n=this;return to(this,(function(r){switch(r.label){case 0:return this.db?[3,2]:(ab("SimpleDb","Opening database:",this.name),t=this,[4,new Promise((function(t,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(e){e=e.target.result,t(e)},i.onblocked=function(){r(new NS(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(t){"VersionError"===(t=t.target.error).name?r(new nb(tb.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):r(new NS(e,t))},i.onupgradeneeded=function(e){ab("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.wt.Rt(t,i.transaction,e.oldVersion,n.version).next((function(){ab("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}))]);case 1:t.db=r.sent(),r.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(e){return n.bt(e)}),this.db)]}}))}))},DS.prototype.vt=function(e){this.bt=e,this.db&&(this.db.onversionchange=function(t){return e(t)})},DS.prototype.runTransaction=function(e,t,n,r){return eo(this,void 0,void 0,(function(){var i,o,a,s;return to(this,(function(u){switch(u.label){case 0:i="readonly"===t,o=0,s=function(){var t,s,u;return to(this,(function(c){switch(c.label){case 0:++o,c.label=1;case 1:return c.trys.push([1,4,,5]),[4,a.At(e)];case 2:return a.db=c.sent(),t=OS.open(a.db,e,i?"readonly":"readwrite",n),s=r(t).catch((function(e){return t.abort(e),kS.reject(e)})).toPromise(),u={},s.catch((function(){})),[4,t.dt];case 3:return[2,(u.value=(c.sent(),s),u)];case 4:return s=c.sent(),u="FirebaseError"!==s.name&&o<3,ab("SimpleDb","Transaction failed with error:",s.message,"Retrying:",u),a.close(),u?[3,5]:[2,{value:Promise.reject(s)}];case 5:return[2]}}))},a=this,u.label=1;case 1:return[5,s()];case 2:if("object"==typeof(s=u.sent()))return[2,s.value];u.label=3;case 3:return[3,1];case 4:return[2]}}))}))},DS.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},DS),PS=(Object.defineProperty(AS.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(AS.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(AS.prototype,"cursor",{set:function(e){this.Pt=e},enumerable:!1,configurable:!0}),AS.prototype.done=function(){this.Vt=!0},AS.prototype.Ct=function(e){this.St=e},AS.prototype.delete=function(){return BS(this.Pt.delete())},AS),NS=(Ji(RS,SS=nb),RS);function RS(e,t){var n=this;return(n=SS.call(this,tb.UNAVAILABLE,"IndexedDB transaction '"+e+"' failed: "+t)||this).name="IndexedDbTransactionError",n}function AS(e){this.Pt=e,this.Vt=!1,this.St=null}function DS(e,t,n){this.name=e,this.version=t,this.wt=n,12.2===DS._t(yo())&&sb("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}function jS(e,t){var n=this;this.action=e,this.transaction=t,this.aborted=!1,this.ft=new CS,this.transaction.oncomplete=function(){n.ft.resolve()},this.transaction.onabort=function(){t.error?n.ft.reject(new NS(e,t.error)):n.ft.resolve()},this.transaction.onerror=function(t){t=WS(t.target.error),n.ft.reject(new NS(e,t))}}function LS(e){var t=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((function(e){t.isDone=!0,t.result=e,t.nextCallback&&t.nextCallback(e)}),(function(e){t.isDone=!0,t.error=e,t.catchCallback&&t.catchCallback(e)}))}function MS(){this.onCommittedListeners=[]}function FS(e){return"IndexedDbTransactionError"===e.name}var US=(qS.prototype.put=function(e,t){return BS(e=void 0!==t?(ab("SimpleDb","PUT",this.store.name,e,t),this.store.put(t,e)):(ab("SimpleDb","PUT",this.store.name,"<auto-key>",e),this.store.put(e)))},qS.prototype.add=function(e){return ab("SimpleDb","ADD",this.store.name,e,e),BS(this.store.add(e))},qS.prototype.get=function(e){var t=this;return BS(this.store.get(e)).next((function(n){return void 0===n&&(n=null),ab("SimpleDb","GET",t.store.name,e,n),n}))},qS.prototype.delete=function(e){return ab("SimpleDb","DELETE",this.store.name,e),BS(this.store.delete(e))},qS.prototype.count=function(){return ab("SimpleDb","COUNT",this.store.name),BS(this.store.count())},qS.prototype.Nt=function(e,t){t=this.cursor(this.options(e,t));var n=[];return this.xt(t,(function(e,t){n.push(t)})).next((function(){return n}))},qS.prototype.Ft=function(e,t){return ab("SimpleDb","DELETE ALL",this.store.name),(t=this.options(e,t)).kt=!1,t=this.cursor(t),this.xt(t,(function(e,t,n){return n.delete()}))},qS.prototype.Ot=function(e,t){t?n=e:(n={},t=e);var n=this.cursor(n);return this.xt(n,t)},qS.prototype.$t=function(e){var t=this.cursor({});return new kS((function(n,r){t.onerror=function(e){e=WS(e.target.error),r(e)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))},qS.prototype.xt=function(e,t){var n=[];return new kS((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i,o=e.target.result;o?(i=new PS(o),(e=t(o.primaryKey,o.value,i))instanceof kS&&(e=e.catch((function(e){return i.done(),kS.reject(e)})),n.push(e)),i.isDone?r():null===i.Dt?o.continue():o.continue(i.Dt)):r()}})).next((function(){return kS.waitFor(n)}))},qS.prototype.options=function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}},qS.prototype.cursor=function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.kt?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)},qS);function qS(e){this.store=e}function BS(e){return new kS((function(t,n){e.onsuccess=function(e){e=e.target.result,t(e)},e.onerror=function(e){e=WS(e.target.error),n(e)}}))}var VS=!1;function WS(e){var t=xS._t(yo());if(12.2<=t&&t<13&&(t="An internal error was encountered in the Indexed Database server",0<=e.message.indexOf(t))){var n=new nb("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+t+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return VS||(VS=!0,setTimeout((function(){throw n}),0)),n}return e}var zS,HS=(Ji(KS,zS=kn),KS);function KS(e,t){var n=this;return(n=zS.call(this)||this).Mt=e,n.currentSequenceNumber=t,n}function GS(e,t){return xS.It(e.Mt,t)}var QS=(eT.prototype.applyToRemoteDocument=function(e,t){for(var n,r,i,o,a,s,u=t.mutationResults,c=0;c<this.mutations.length;c++){var l=this.mutations[c];l.key.isEqual(e.key)&&(n=l,r=e,i=u[c],l=s=a=o=void 0,n instanceof Lw?(a=r,s=i,l=(o=n).value.clone(),o=Bw(o.fieldTransforms,a,s.transformResults),l.setAll(o),a.convertToFoundDocument(s.version,l).setHasCommittedMutations()):n instanceof Mw?(o=r,a=i,Pw((s=n).precondition,o)?(l=Bw(s.fieldTransforms,o,a.transformResults),(n=o.data).setAll(qw(s)),n.setAll(l),o.convertToFoundDocument(a.version,n).setHasCommittedMutations()):o.convertToUnknownDocument(a.version)):r.convertToNoDocument(i.version).setHasCommittedMutations())}},eT.prototype.applyToLocalView=function(e){for(var t=0,n=this.baseMutations;t<n.length;t++)(r=n[t]).key.isEqual(e.key)&&Nw(r,e,this.localWriteTime);for(var r,i=0,o=this.mutations;i<o.length;i++)(r=o[i]).key.isEqual(e.key)&&Nw(r,e,this.localWriteTime)},eT.prototype.applyToLocalDocumentSet=function(e){var t=this;this.mutations.forEach((function(n){var r=e.get(n.key);n=r,t.applyToLocalView(n),r.isValidDocument()||n.convertToNoDocument(mb.min())}))},eT.prototype.keys=function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),pE())},eT.prototype.isEqual=function(e){return this.batchId===e.batchId&&vb(this.mutations,e.mutations,Rw)&&vb(this.baseMutations,e.baseMutations,Rw)},eT),YS=(ZS.from=function(e,t,n){hb(e.mutations.length===n.length);for(var r=fE,i=e.mutations,o=0;o<i.length;o++)r=r.insert(i[o].key,n[o].version);return new ZS(e,t,n,r)},ZS),$S=(JS.prototype.withSequenceNumber=function(e){return new JS(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},JS.prototype.withResumeToken=function(e,t){return new JS(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)},JS.prototype.withLastLimboFreeSnapshotVersion=function(e){return new JS(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)},JS),XS=function(e){this.Lt=e};function JS(e,t,n,r,i,o,a){void 0===i&&(i=mb.min()),void 0===o&&(o=mb.min()),void 0===a&&(a=Pb.EMPTY_BYTE_STRING),this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}function ZS(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}function eT(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}function tT(e,t){if(t.document)return zE(e.Lt,t.document,!!t.hasCommittedMutations);if(t.noDocument){var n=Hb.fromSegments(t.noDocument.path),r=aT(t.noDocument.readTime);return n=s_.newNoDocument(n,r),t.hasCommittedMutations?n.setHasCommittedMutations():n}return t.unknownDocument?(n=Hb.fromSegments(t.unknownDocument.path),r=aT(t.unknownDocument.version),s_.newUnknownDocument(n,r)):lb()}function nT(e,t,n){var r=rT(n);if(n=t.key.path.popLast().toArray(),t.isFoundDocument()){var i={name:ME(o=e.Lt,(a=t).key),fields:a.data.toProto().mapValue.fields,updateTime:RE(o,a.version.toTimestamp())},o=t.hasCommittedMutations;return new pS(null,null,i,o,r,n)}if(t.isNoDocument()){var a=t.key.path.toArray();return i=oT(t.version),o=t.hasCommittedMutations,new pS(null,new fS(a,i),null,o,r,n)}return t.isUnknownDocument()?(o=t.key.path.toArray(),t=oT(t.version),new pS(new dS(o,t),null,null,!0,r,n)):lb()}function rT(e){return[(e=e.toTimestamp()).seconds,e.nanoseconds]}function iT(e){return e=new gb(e[0],e[1]),mb.fromTimestamp(e)}function oT(e){return e=e.toTimestamp(),new sS(e.seconds,e.nanoseconds)}function aT(e){return e=new gb(e.seconds,e.nanoseconds),mb.fromTimestamp(e)}function sT(e,t){for(var n=(t.baseMutations||[]).map((function(t){return KE(e.Lt,t)})),r=0;r<t.mutations.length-1;++r){var i,o=t.mutations[r];r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform&&(i=t.mutations[r+1],o.updateTransforms=i.transform.fieldTransforms,t.mutations.splice(r+1,1),++r)}var a=t.mutations.map((function(t){return KE(e.Lt,t)})),s=gb.fromMillis(t.localWriteTimeMs);return new QS(t.batchId,s,n,a)}function uT(e){var t=aT(e.readTime),n=void 0!==e.lastLimboFreeSnapshotVersion?aT(e.lastLimboFreeSnapshotVersion):mb.min(),r=void 0!==e.query.documents?(hb(1===(r=e.query).documents.length),Z_(K_(qE(r.documents[0])))):Z_(YE(e.query));return new $S(r,e.targetId,0,e.lastListenSequenceNumber,t,n,Pb.fromBase64String(e.resumeToken))}function cT(e,t){var n=oT(t.snapshotVersion),r=oT(t.lastLimboFreeSnapshotVersion),i=(d_(t.target)?GE:QE)(e.Lt,t.target);return e=t.resumeToken.toBase64(),new yS(t.targetId,h_(t.target),n,e,t.sequenceNumber,r,i)}function lT(e){var t=YE({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?ew(t,t.limit,"L"):t}var hT=(fT.prototype.getBundleMetadata=function(e,t){return dT(e).get(t).next((function(e){if(e)return{id:(e=e).bundleId,createTime:aT(e.createTime),version:e.version}}))},fT.prototype.saveBundleMetadata=function(e,t){return dT(e).put({bundleId:(t=t).id,createTime:oT(DE(t.createTime)),version:t.version})},fT.prototype.getNamedQuery=function(e,t){return pT(e).get(t).next((function(e){if(e)return{name:(e=e).name,query:lT(e.bundledQuery),readTime:aT(e.readTime)}}))},fT.prototype.saveNamedQuery=function(e,t){return pT(e).put({name:(t=t).name,readTime:oT(DE(t.readTime)),bundledQuery:t.bundledQuery})},fT);function fT(){}function dT(e){return GS(e,wS.store)}function pT(e){return GS(e,ES.store)}var vT=(_T.prototype.addToCollectionParentIndex=function(e,t){return this.Bt.add(t),kS.resolve()},_T.prototype.getCollectionParents=function(e,t){return kS.resolve(this.Bt.getEntries(t))},_T),yT=(bT.prototype.add=function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new aE(Cb.comparator);return e=!r.has(n),this.index[t]=r.add(n),e},bT.prototype.has=function(e){var t=e.lastSegment();return e=e.popLast(),(t=this.index[t])&&t.has(e)},bT.prototype.getEntries=function(e){return(this.index[e]||new aE(Cb.comparator)).toArray()},bT),gT=(mT.prototype.addToCollectionParentIndex=function(e,t){var n=this;if(this.qt.has(t))return kS.resolve();var r=t.lastSegment(),i=t.popLast();return e.addOnCommittedListener((function(){n.qt.add(t)})),i={collectionId:r,parent:rS(i)},wT(e).put(i)},mT.prototype.getCollectionParents=function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[yb(t),""],!1,!0);return wT(e).Nt(r).next((function(e){for(var r=0,i=e;r<i.length;r++){var o=i[r];if(o.collectionId!==t)break;n.push(oS(o.parent))}return n}))},mT);function mT(){this.qt=new yT}function bT(){this.index={}}function _T(){this.Bt=new yT}function wT(e){return GS(e,bS.store)}var ET={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},ST=(TT.withCacheSize=function(e){return new TT(e,TT.DEFAULT_COLLECTION_PERCENTILE,TT.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},TT);function TT(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}function IT(e,t,n){var r=e.store(cS.store),i=e.store(lS.store),o=[],a=(e=IDBKeyRange.only(n.batchId),0);e=r.Ot({range:e},(function(e,t,n){return a++,n.delete()})),o.push(e.next((function(){hb(1===a)})));for(var s=[],u=0,c=n.mutations;u<c.length;u++){var l=c[u],h=lS.key(t,l.key.path,n.batchId);o.push(i.delete(h)),s.push(l.key)}return kS.waitFor(o).next((function(){return s}))}function CT(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw lb();t=e.noDocument}return JSON.stringify(t).length}ST.DEFAULT_COLLECTION_PERCENTILE=10,ST.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ST.DEFAULT=new ST(41943040,ST.DEFAULT_COLLECTION_PERCENTILE,ST.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ST.DISABLED=new ST(-1,0,0);var kT=(OT.Kt=function(e,t,n,r){return hb(""!==e.uid),new OT(e.isAuthenticated()?e.uid:"",t,n,r)},OT.prototype.checkEmpty=function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return PT(e).Ot({index:cS.userMutationsIndex,range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))},OT.prototype.addMutationBatch=function(e,t,n,r){var i=this,o=NT(e),a=PT(e);return a.add({}).next((function(s){hb("number"==typeof s);for(var u,c,l,h,f,d=new QS(s,t,n,r),p=(u=i.R,c=i.userId,h=(l=d).baseMutations.map((function(e){return HE(u.Lt,e)})),f=l.mutations.map((function(e){return HE(u.Lt,e)})),new cS(c,l.batchId,l.localWriteTime.toMillis(),h,f)),v=[],y=new aE((function(e,t){return pb(e.canonicalString(),t.canonicalString())})),g=0,m=r;g<m.length;g++){var b=m[g],_=lS.key(i.userId,b.key.path,s);y=y.add(b.key.path.popLast()),v.push(a.put(p)),v.push(o.put(_,lS.PLACEHOLDER))}return y.forEach((function(t){v.push(i.Ut.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.Qt[s]=d.keys()})),kS.waitFor(v).next((function(){return d}))}))},OT.prototype.lookupMutationBatch=function(e,t){var n=this;return PT(e).get(t).next((function(e){return e?(hb(e.userId===n.userId),sT(n.R,e)):null}))},OT.prototype.jt=function(e,t){var n=this;return this.Qt[t]?kS.resolve(this.Qt[t]):this.lookupMutationBatch(e,t).next((function(e){return e?(e=e.keys(),n.Qt[t]=e):null}))},OT.prototype.getNextMutationBatchAfterBatchId=function(e,t){var n=this,r=t+1,i=(t=IDBKeyRange.lowerBound([this.userId,r]),null);return PT(e).Ot({index:cS.userMutationsIndex,range:t},(function(e,t,o){t.userId===n.userId&&(hb(t.batchId>=r),i=sT(n.R,t)),o.done()})).next((function(){return i}))},OT.prototype.getHighestUnacknowledgedBatchId=function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return PT(e).Ot({index:cS.userMutationsIndex,range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))},OT.prototype.getAllMutationBatches=function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return PT(e).Nt(cS.userMutationsIndex,n).next((function(e){return e.map((function(e){return sT(t.R,e)}))}))},OT.prototype.getAllMutationBatchesAffectingDocumentKey=function(e,t){var n=this,r=lS.prefixForPath(this.userId,t.path),i=(r=IDBKeyRange.lowerBound(r),[]);return NT(e).Ot({range:r},(function(r,o,a){var s=r[0],u=r[1];if(r=r[2],u=oS(u),s===n.userId&&t.path.isEqual(u))return PT(e).get(r).next((function(e){if(!e)throw lb();hb(e.userId===n.userId),i.push(sT(n.R,e))}));a.done()})).next((function(){return i}))},OT.prototype.getAllMutationBatchesAffectingDocumentKeys=function(e,t){var n=this,r=new aE(pb),i=[];return t.forEach((function(t){var o=lS.prefixForPath(n.userId,t.path);o=IDBKeyRange.lowerBound(o),o=NT(e).Ot({range:o},(function(e,i,o){var a=e[0],s=e[1];e=e[2],s=oS(s),a===n.userId&&t.path.isEqual(s)?r=r.add(e):o.done()})),i.push(o)})),kS.waitFor(i).next((function(){return n.Wt(e,r)}))},OT.prototype.getAllMutationBatchesAffectingQuery=function(e,t){var n=this,r=t.path,i=r.length+1,o=(t=lS.prefixForPath(this.userId,r),t=IDBKeyRange.lowerBound(t),new aE(pb));return NT(e).Ot({range:t},(function(e,t,a){var s=e[0],u=e[1];e=e[2],u=oS(u),s===n.userId&&r.isPrefixOf(u)?u.length===i&&(o=o.add(e)):a.done()})).next((function(){return n.Wt(e,o)}))},OT.prototype.Wt=function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(PT(e).get(t).next((function(e){if(null===e)throw lb();hb(e.userId===n.userId),r.push(sT(n.R,e))})))})),kS.waitFor(i).next((function(){return r}))},OT.prototype.removeMutationBatch=function(e,t){var n=this;return IT(e.Mt,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n.Gt(t.batchId)})),kS.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))},OT.prototype.Gt=function(e){delete this.Qt[e]},OT.prototype.performConsistencyCheck=function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return kS.resolve();n=IDBKeyRange.lowerBound(lS.prefixForUser(t.userId));var r=[];return NT(e).Ot({range:n},(function(e,n,i){e[0]===t.userId?(e=oS(e[1]),r.push(e)):i.done()})).next((function(){hb(0===r.length)}))}))},OT.prototype.containsKey=function(e,t){return xT(e,this.userId,t)},OT.prototype.zt=function(e){var t=this;return RT(e).get(this.userId).next((function(e){return e||new uS(t.userId,-1,"")}))},OT);function OT(e,t,n,r){this.userId=e,this.R=t,this.Ut=n,this.referenceDelegate=r,this.Qt={}}function xT(e,t,n){var r=(n=lS.prefixForPath(t,n.path))[1],i=(n=IDBKeyRange.lowerBound(n),!1);return NT(e).Ot({range:n,kt:!0},(function(e,n,o){var a=e[0],s=e[1];e[2],a===t&&s===r&&(i=!0),o.done()})).next((function(){return i}))}function PT(e){return GS(e,cS.store)}function NT(e){return GS(e,lS.store)}function RT(e){return GS(e,uS.store)}var AT=(LT.prototype.next=function(){return this.Ht+=2,this.Ht},LT.Jt=function(){return new LT(0)},LT.Yt=function(){return new LT(-1)},LT),DT=(jT.prototype.allocateTargetId=function(e){var t=this;return this.Xt(e).next((function(n){var r=new AT(n.highestTargetId);return n.highestTargetId=r.next(),t.Zt(e,n).next((function(){return n.highestTargetId}))}))},jT.prototype.getLastRemoteSnapshotVersion=function(e){return this.Xt(e).next((function(e){return mb.fromTimestamp(new gb(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))},jT.prototype.getHighestSequenceNumber=function(e){return this.Xt(e).next((function(e){return e.highestListenSequenceNumber}))},jT.prototype.setTargetsMetadata=function(e,t,n){var r=this;return this.Xt(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.Zt(e,i)}))},jT.prototype.addTargetData=function(e,t){var n=this;return this.te(e,t).next((function(){return n.Xt(e).next((function(r){return r.targetCount+=1,n.ee(t,r),n.Zt(e,r)}))}))},jT.prototype.updateTargetData=function(e,t){return this.te(e,t)},jT.prototype.removeTargetData=function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return MT(e).delete(t.targetId)})).next((function(){return n.Xt(e)})).next((function(t){return hb(0<t.targetCount),--t.targetCount,n.Zt(e,t)}))},jT.prototype.removeTargets=function(e,t,n){var r=this,i=0,o=[];return MT(e).Ot((function(a,s){(s=uT(s)).sequenceNumber<=t&&null===n.get(s.targetId)&&(i++,o.push(r.removeTargetData(e,s)))})).next((function(){return kS.waitFor(o)})).next((function(){return i}))},jT.prototype.forEachTarget=function(e,t){return MT(e).Ot((function(e,n){n=uT(n),t(n)}))},jT.prototype.Xt=function(e){return FT(e).get(mS.key).next((function(e){return hb(null!==e),e}))},jT.prototype.Zt=function(e,t){return FT(e).put(mS.key,t)},jT.prototype.te=function(e,t){return MT(e).put(cT(this.R,t))},jT.prototype.ee=function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n},jT.prototype.getTargetCount=function(e){return this.Xt(e).next((function(e){return e.targetCount}))},jT.prototype.getTargetData=function(e,t){var n=h_(t),r=(n=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),null);return MT(e).Ot({range:n,index:yS.queryTargetsIndexName},(function(e,n,i){n=uT(n),f_(t,n.target)&&(r=n,i.done())})).next((function(){return r}))},jT.prototype.addMatchingKeys=function(e,t,n){var r=this,i=[],o=UT(e);return t.forEach((function(t){var a=rS(t.path);i.push(o.put(new gS(n,a))),i.push(r.referenceDelegate.addReference(e,n,t))})),kS.waitFor(i)},jT.prototype.removeMatchingKeys=function(e,t,n){var r=this,i=UT(e);return kS.forEach(t,(function(t){var o=rS(t.path);return kS.waitFor([i.delete([n,o]),r.referenceDelegate.removeReference(e,n,t)])}))},jT.prototype.removeMatchingKeysForTargetId=function(e,t){return e=UT(e),t=IDBKeyRange.bound([t],[t+1],!1,!0),e.delete(t)},jT.prototype.getMatchingKeysForTargetId=function(e,t){t=IDBKeyRange.bound([t],[t+1],!1,!0),e=UT(e);var n=pE();return e.Ot({range:t,kt:!0},(function(e,t,r){e=oS(e[1]),e=new Hb(e),n=n.add(e)})).next((function(){return n}))},jT.prototype.containsKey=function(e,t){t=rS(t.path),t=IDBKeyRange.bound([t],[yb(t)],!1,!0);var n=0;return UT(e).Ot({index:gS.documentTargetsIndex,kt:!0,range:t},(function(e,t,r){var i=e[0];e[1],0!==i&&(n++,r.done())})).next((function(){return 0<n}))},jT.prototype.lt=function(e,t){return MT(e).get(t).next((function(e){return e?uT(e):null}))},jT);function jT(e,t){this.referenceDelegate=e,this.R=t}function LT(e){this.Ht=e}function MT(e){return GS(e,yS.store)}function FT(e){return GS(e,mS.store)}function UT(e){return GS(e,gS.store)}function qT(e){return eo(this,void 0,void 0,(function(){return to(this,(function(t){if(e.code!==tb.FAILED_PRECONDITION||e.message!==IS)throw e;return ab("LocalStore","Unexpectedly lost primary lease"),[2]}))}))}function BT(e,t){var n=e[0],r=e[1];return e=t[0],t=t[1],0===(e=pb(n,e))?pb(r,t):e}var VT=(YT.prototype.ie=function(){return++this.se},YT.prototype.re=function(e){var t=[e,this.ie()];this.buffer.size<this.ne?this.buffer=this.buffer.add(t):BT(t,e=this.buffer.last())<0&&(this.buffer=this.buffer.delete(e).add(t))},Object.defineProperty(YT.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),YT),WT=(QT.prototype.start=function(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.ue(e)},QT.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(QT.prototype,"started",{get:function(){return null!==this.ce},enumerable:!1,configurable:!0}),QT.prototype.ue=function(e){var t=this,n=this.oe?3e5:6e4;ab("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,(function(){return eo(t,void 0,void 0,(function(){var t;return to(this,(function(n){switch(n.label){case 0:this.ce=null,this.oe=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,e.collectGarbage(this.garbageCollector)];case 2:return n.sent(),[3,7];case 3:return FS(t=n.sent())?(ab("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",t),[3,6]):[3,4];case 4:return[4,qT(t)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.ue(e)];case 8:return n.sent(),[2]}}))}))}))},QT),zT=(GT.prototype.calculateTargetCount=function(e,t){return this.ae.he(e).next((function(e){return Math.floor(t/100*e)}))},GT.prototype.nthSequenceNumber=function(e,t){var n=this;if(0===t)return kS.resolve(Jm.o);var r=new VT(t);return this.ae.forEachTarget(e,(function(e){return r.re(e.sequenceNumber)})).next((function(){return n.ae.le(e,(function(e){return r.re(e)}))})).next((function(){return r.maxValue}))},GT.prototype.removeTargets=function(e,t,n){return this.ae.removeTargets(e,t,n)},GT.prototype.removeOrphanedDocuments=function(e,t){return this.ae.removeOrphanedDocuments(e,t)},GT.prototype.collect=function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(ab("LruGarbageCollector","Garbage collection skipped; disabled"),kS.resolve(ET)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(ab("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.cacheSizeCollectionThreshold),ET):n.fe(e,t)}))},GT.prototype.getCacheSize=function(e){return this.ae.getCacheSize(e)},GT.prototype.fe=function(e,t){var n,r,i,o,a,s,u,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return r=t>c.params.maximumSequenceNumbersToCollect?(ab("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.maximumSequenceNumbersToCollect+" from "+t),c.params.maximumSequenceNumbersToCollect):t,o=Date.now(),c.nthSequenceNumber(e,r)})).next((function(r){return n=r,a=Date.now(),c.removeTargets(e,n,t)})).next((function(t){return i=t,s=Date.now(),c.removeOrphanedDocuments(e,n)})).next((function(e){return u=Date.now(),ob()<=ca.DEBUG&&ab("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(o-l)+"ms\n\tDetermined least recently used "+r+" in "+(a-o)+"ms\n\tRemoved "+i+" targets in "+(s-a)+"ms\n\tRemoved "+e+" documents in "+(u-s)+"ms\nTotal Duration: "+(u-l)+"ms"),kS.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))},GT),HT=(KT.prototype.he=function(e){var t=this.de(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))},KT.prototype.de=function(e){var t=0;return this.le(e,(function(e){t++})).next((function(){return t}))},KT.prototype.forEachTarget=function(e,t){return this.db.getTargetCache().forEachTarget(e,t)},KT.prototype.le=function(e,t){return this.we(e,(function(e,n){return t(n)}))},KT.prototype.addReference=function(e,t,n){return $T(e,n)},KT.prototype.removeReference=function(e,t,n){return $T(e,n)},KT.prototype.removeTargets=function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)},KT.prototype.markPotentiallyOrphaned=$T,KT.prototype._e=function(e,t){return r=t,i=!1,RT(n=e).$t((function(e){return xT(n,e,r).next((function(e){return e&&(i=!0),kS.resolve(!e)}))})).next((function(){return i}));var n,r,i},KT.prototype.removeOrphanedDocuments=function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],o=0;return this.we(e,(function(a,s){s<=t&&(s=n._e(e,a).next((function(t){if(!t)return o++,r.getEntry(e,a).next((function(){return r.removeEntry(a),UT(e).delete([0,rS(a.path)])}))})),i.push(s))})).next((function(){return kS.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return o}))},KT.prototype.removeTarget=function(e,t){return t=t.withSequenceNumber(e.currentSequenceNumber),this.db.getTargetCache().updateTargetData(e,t)},KT.prototype.updateLimboDocument=$T,KT.prototype.we=function(e,t){e=UT(e);var n,r=Jm.o;return e.Ot({index:gS.documentTargetsIndex},(function(e,i){var o=e[0];e[1],e=i.path,i=i.sequenceNumber,0===o?(r!==Jm.o&&t(new Hb(oS(n)),r),r=i,n=e):r=Jm.o})).next((function(){r!==Jm.o&&t(new Hb(oS(n)),r)}))},KT.prototype.getCacheSize=function(e){return this.db.getRemoteDocumentCache().getSize(e)},KT);function KT(e,t){this.db=e,this.garbageCollector=new zT(this,t)}function GT(e,t){this.ae=e,this.params=t}function QT(e,t){this.garbageCollector=e,this.asyncQueue=t,this.oe=!1,this.ce=null}function YT(e){this.ne=e,this.buffer=new aE(BT),this.se=0}function $T(e,t){return UT(e).put((e=e.currentSequenceNumber,new gS(0,rS(t.path),e)))}var XT,JT=(iI.prototype.get=function(e){var t=this.mapKeyFn(e);if(void 0!==(t=this.inner[t]))for(var n=0,r=t;n<r.length;n++){var i=(o=r[n])[0],o=o[1];if(this.equalsFn(i,e))return o}},iI.prototype.has=function(e){return void 0!==this.get(e)},iI.prototype.set=function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t])}else this.inner[n]=[[e,t]]},iI.prototype.delete=function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),!0;return!1},iI.prototype.forEach=function(e){Eb(this.inner,(function(t,n){for(var r=0,i=n;r<i.length;r++){var o=(a=i[r])[0],a=a[1];e(o,a)}}))},iI.prototype.isEmpty=function(){return Sb(this.inner)},iI),ZT=(rI.prototype.getReadTime=function(e){return(e=this.changes.get(e))?e.readTime:mb.min()},rI.prototype.addEntry=function(e,t){this.assertNotApplied(),this.changes.set(e.key,{document:e,readTime:t})},rI.prototype.removeEntry=function(e,t){void 0===t&&(t=null),this.assertNotApplied(),this.changes.set(e,{document:s_.newInvalidDocument(e),readTime:t})},rI.prototype.getEntry=function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?kS.resolve(n.document):this.getFromCache(e,t)},rI.prototype.getEntries=function(e,t){return this.getAllFromCache(e,t)},rI.prototype.apply=function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)},rI.prototype.assertNotApplied=function(){},H=rI,nI.prototype.addEntry=function(e,t,n){return aI(e).put(sI(t),n)},nI.prototype.removeEntry=function(e,t){return e=aI(e),t=sI(t),e.delete(t)},nI.prototype.updateMetadata=function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.me(e,r)}))},nI.prototype.getEntry=function(e,t){var n=this;return aI(e).get(sI(t)).next((function(e){return n.ye(t,e)}))},nI.prototype.ge=function(e,t){var n=this;return aI(e).get(sI(t)).next((function(e){return{document:n.ye(t,e),size:CT(e)}}))},nI.prototype.getEntries=function(e,t){var n=this,r=uE;return this.pe(e,t,(function(e,t){t=n.ye(e,t),r=r.insert(e,t)})).next((function(){return r}))},nI.prototype.Ee=function(e,t){var n=this,r=uE,i=new Zw(Hb.comparator);return this.pe(e,t,(function(e,t){var o=n.ye(e,t);r=r.insert(e,o),i=i.insert(e,CT(t))})).next((function(){return{documents:r,Te:i}}))},nI.prototype.pe=function(e,t,n){if(t.isEmpty())return kS.resolve();var r=IDBKeyRange.bound(t.first().path.toArray(),t.last().path.toArray()),i=t.getIterator(),o=i.getNext();return aI(e).Ot({range:r},(function(e,t,r){for(var a=Hb.fromSegments(e);o&&Hb.comparator(o,a)<0;)n(o,null),o=i.getNext();o&&o.isEqual(a)&&(n(o,t),o=i.hasNext()?i.getNext():null),o?r.Ct(o.path.toArray()):r.done()})).next((function(){for(;o;)n(o,null),o=i.hasNext()?i.getNext():null}))},nI.prototype.getDocumentsMatchingQuery=function(e,t,n){var r,i=this,o=uE,a=t.path.length+1,s={};return n.isEqual(mb.min())?(r=t.path.toArray(),s.range=IDBKeyRange.lowerBound(r)):(r=t.path.toArray(),n=rT(n),s.range=IDBKeyRange.lowerBound([r,n],!0),s.index=pS.collectionReadTimeIndex),aI(e).Ot(s,(function(e,n,r){e.length===a&&(n=tT(i.R,n),t.path.isPrefixOf(n.key.path)?iw(t,n)&&(o=o.insert(n.key,n)):r.done())})).next((function(){return o}))},nI.prototype.newChangeBuffer=function(e){return new eI(this,!!e&&e.trackRemovals)},nI.prototype.getSize=function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))},nI.prototype.getMetadata=function(e){return oI(e).get(vS.key).next((function(e){return hb(!!e),e}))},nI.prototype.me=function(e,t){return oI(e).put(vS.key,t)},nI.prototype.ye=function(e,t){return!t||(t=tT(this.R,t)).isNoDocument()&&t.version.isEqual(mb.min())?s_.newInvalidDocument(e):t},nI),eI=(Ji(tI,XT=H),tI.prototype.applyChanges=function(e){var t=this,n=[],r=0,i=new aE((function(e,t){return pb(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(o,a){var s,u=t.Ae.get(o);a.document.isValidDocument()?(s=nT(t.Ie.R,a.document,t.getReadTime(o)),i=i.add(o.path.popLast()),a=CT(s),r+=a-u,n.push(t.Ie.addEntry(e,o,s))):(r-=u,t.trackRemovals?(u=nT(t.Ie.R,s_.newNoDocument(o,mb.min()),t.getReadTime(o)),n.push(t.Ie.addEntry(e,o,u))):n.push(t.Ie.removeEntry(e,o)))})),i.forEach((function(r){n.push(t.Ie.Ut.addToCollectionParentIndex(e,r))})),n.push(this.Ie.updateMetadata(e,r)),kS.waitFor(n)},tI.prototype.getFromCache=function(e,t){var n=this;return this.Ie.ge(e,t).next((function(e){return n.Ae.set(t,e.size),e.document}))},tI.prototype.getAllFromCache=function(e,t){var n=this;return this.Ie.Ee(e,t).next((function(e){var t=e.documents;return e.Te.forEach((function(e,t){n.Ae.set(e,t)})),t}))},tI);function tI(e,t){var n=this;return(n=XT.call(this)||this).Ie=e,n.trackRemovals=t,n.Ae=new JT((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),n}function nI(e,t){this.R=e,this.Ut=t}function rI(){this.changes=new JT((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}function iI(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={}}function oI(e){return GS(e,vS.store)}function aI(e){return GS(e,pS.store)}function sI(e){return e.path.toArray()}var uI=(cI.prototype.Rt=function(e,t,n,r){var i=this;hb(n<r&&0<=n&&r<=11);var o=new OS("createOrUpgrade",t);n<1&&1<=r&&(e.createObjectStore(aS.store),(a=e).createObjectStore(uS.store,{keyPath:uS.keyPath}),a.createObjectStore(cS.store,{keyPath:cS.keyPath,autoIncrement:!0}).createIndex(cS.userMutationsIndex,cS.userMutationsKeyPath,{unique:!0}),a.createObjectStore(lS.store),lI(e),e.createObjectStore(pS.store));var a,s=kS.resolve();return n<3&&3<=r&&(0!==n&&((a=e).deleteObjectStore(gS.store),a.deleteObjectStore(yS.store),a.deleteObjectStore(mS.store),lI(e)),s=s.next((function(){return e=o.store(mS.store),t=new mS(0,0,mb.min().toTimestamp(),0),e.put(mS.key,t);var e,t}))),n<4&&4<=r&&(s=(s=0!==n?s.next((function(){return t=e,(n=o).store(cS.store).Nt().next((function(e){t.deleteObjectStore(cS.store),t.createObjectStore(cS.store,{keyPath:cS.keyPath,autoIncrement:!0}).createIndex(cS.userMutationsIndex,cS.userMutationsKeyPath,{unique:!0});var r=n.store(cS.store);return e=e.map((function(e){return r.put(e)})),kS.waitFor(e)}));var t,n})):s).next((function(){e.createObjectStore(_S.store,{keyPath:_S.keyPath})}))),n<5&&5<=r&&(s=s.next((function(){return i.Re(o)}))),n<6&&6<=r&&(s=s.next((function(){return e.createObjectStore(vS.store),i.be(o)}))),n<7&&7<=r&&(s=s.next((function(){return i.ve(o)}))),n<8&&8<=r&&(s=s.next((function(){return i.Pe(e,o)}))),n<9&&9<=r&&(s=s.next((function(){var n;(n=e).objectStoreNames.contains("remoteDocumentChanges")&&n.deleteObjectStore("remoteDocumentChanges"),(n=t.objectStore(pS.store)).createIndex(pS.readTimeIndex,pS.readTimeIndexPath,{unique:!1}),n.createIndex(pS.collectionReadTimeIndex,pS.collectionReadTimeIndexPath,{unique:!1})}))),n<10&&10<=r&&(s=s.next((function(){return i.Ve(o)}))),n<11&&11<=r?s.next((function(){e.createObjectStore(wS.store,{keyPath:wS.keyPath}),e.createObjectStore(ES.store,{keyPath:ES.keyPath})})):s},cI.prototype.be=function(e){var t=0;return e.store(pS.store).Ot((function(e,n){t+=CT(n)})).next((function(){var n=new vS(t);return e.store(vS.store).put(vS.key,n)}))},cI.prototype.Re=function(e){var t=this,n=e.store(uS.store),r=e.store(cS.store);return n.Nt().next((function(n){return kS.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.Nt(cS.userMutationsIndex,i).next((function(r){return kS.forEach(r,(function(r){return hb(r.userId===n.userId),r=sT(t.R,r),IT(e,n.userId,r).next((function(){}))}))}))}))}))},cI.prototype.ve=function(e){var t=e.store(gS.store),n=e.store(pS.store);return e.store(mS.store).get(mS.key).next((function(e){var r=[];return n.Ot((function(n,i){var o=new Cb(n);n=[0,rS(o)],r.push(t.get(n).next((function(n){return n?kS.resolve():t.put(new gS(0,rS(o),e.highestListenSequenceNumber))})))})).next((function(){return kS.waitFor(r)}))}))},cI.prototype.Pe=function(e,t){function n(e){if(i.add(e)){var t=e.lastSegment();return e=e.popLast(),r.put({collectionId:t,parent:rS(e)})}}e.createObjectStore(bS.store,{keyPath:bS.keyPath});var r=t.store(bS.store),i=new yT;return t.store(pS.store).Ot({kt:!0},(function(e,t){return n((e=new Cb(e)).popLast())})).next((function(){return t.store(lS.store).Ot({kt:!0},(function(e,t){e[0];var r=e[1];return n((e[2],r=oS(r)).popLast())}))}))},cI.prototype.Ve=function(e){var t=this,n=e.store(yS.store);return n.Ot((function(e,r){return r=uT(r),r=cT(t.R,r),n.put(r)}))},cI);function cI(e){this.R=e}function lI(e){e.createObjectStore(gS.store,{keyPath:gS.keyPath}).createIndex(gS.documentTargetsIndex,gS.documentTargetsKeyPath,{unique:!0}),e.createObjectStore(yS.store,{keyPath:yS.keyPath}).createIndex(yS.queryTargetsIndexName,yS.queryTargetsKeyPath,{unique:!0}),e.createObjectStore(mS.store)}var hI="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",fI=(dI.prototype.start=function(){var e=this;return this.je().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new nb(tb.FAILED_PRECONDITION,hI);return e.We(),e.Ge(),e.ze(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.qe.getHighestSequenceNumber(t)}))})).then((function(t){e.Ne=new Jm(t,e.De)})).then((function(){e.xe=!0})).catch((function(t){return e.Be&&e.Be.close(),Promise.reject(t)}))},dI.prototype.He=function(e){var t=this;return this.Me=function(n){return eo(t,void 0,void 0,(function(){return to(this,(function(t){return this.started?[2,e(n)]:[2]}))}))},e(this.isPrimary)},dI.prototype.setDatabaseDeletedListener=function(e){var t=this;this.Be.vt((function(n){return eo(t,void 0,void 0,(function(){return to(this,(function(t){switch(t.label){case 0:return null===n.newVersion?[4,e()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))}))},dI.prototype.setNetworkEnabled=function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Se.enqueueAndForget((function(){return eo(t,void 0,void 0,(function(){return to(this,(function(e){switch(e.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))})))},dI.prototype.je=function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return vI(t).put(new _S(e.clientId,Date.now(),e.networkEnabled,e.inForeground)).next((function(){if(e.isPrimary)return e.Je(t).next((function(t){t||(e.isPrimary=!1,e.Se.enqueueRetryable((function(){return e.Me(!1)})))}))})).next((function(){return e.Ye(t)})).next((function(n){return e.isPrimary&&!n?e.Xe(t).next((function(){return!1})):!!n&&e.Ze(t).next((function(){return!0}))}))})).catch((function(t){if(FS(t))return ab("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return ab("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.Se.enqueueRetryable((function(){return e.Me(t)})),e.isPrimary=t}))},dI.prototype.Je=function(e){var t=this;return pI(e).get(aS.key).next((function(e){return kS.resolve(t.tn(e))}))},dI.prototype.en=function(e){return vI(e).delete(this.clientId)},dI.prototype.nn=function(){return eo(this,void 0,void 0,(function(){var e,t,n,r,i=this;return to(this,(function(o){switch(o.label){case 0:return!this.isPrimary||this.sn(this.$e,18e5)?[3,2]:(this.$e=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=GS(e,_S.store);return t.Nt().next((function(e){var n=i.rn(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return kS.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}))]);case 1:if(e=o.sent(),this.Ke)for(t=0,n=e;t<n.length;t++)r=n[t],this.Ke.removeItem(this.on(r.clientId));o.label=2;case 2:return[2]}}))}))},dI.prototype.ze=function(){var e=this;this.Oe=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.je().then((function(){return e.nn()})).then((function(){return e.ze()}))}))},dI.prototype.tn=function(e){return!!e&&e.ownerId===this.clientId},dI.prototype.Ye=function(e){var t=this;return this.Ce?kS.resolve(!0):pI(e).get(aS.key).next((function(n){if(null!==n&&t.sn(n.leaseTimestampMs,5e3)&&!t.cn(n.ownerId)){if(t.tn(n)&&t.networkEnabled)return!0;if(!t.tn(n)){if(!n.allowTabSynchronization)throw new nb(tb.FAILED_PRECONDITION,hI);return!1}}return!(!t.networkEnabled||!t.inForeground)||vI(e).Nt().next((function(e){return void 0===t.rn(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground;if(e=t.networkEnabled===e.networkEnabled,n||r&&e)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&ab("IndexedDbPersistence","Client "+(e?"is":"is not")+" eligible for a primary lease."),e}))},dI.prototype.shutdown=function(){return eo(this,void 0,void 0,(function(){var e=this;return to(this,(function(t){switch(t.label){case 0:return this.xe=!1,this.un(),this.Oe&&(this.Oe.cancel(),this.Oe=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[aS.store,_S.store],(function(t){var n=new HS(t,Jm.o);return e.Xe(n).next((function(){return e.en(n)}))}))];case 1:return t.sent(),this.Be.close(),this.ln(),[2]}}))}))},dI.prototype.rn=function(e,t){var n=this;return e.filter((function(e){return n.sn(e.updateTimeMs,t)&&!n.cn(e.clientId)}))},dI.prototype.fn=function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return vI(t).Nt().next((function(t){return e.rn(t,18e5).map((function(e){return e.clientId}))}))}))},Object.defineProperty(dI.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),dI.prototype.getMutationQueue=function(e){return kT.Kt(e,this.R,this.Ut,this.referenceDelegate)},dI.prototype.getTargetCache=function(){return this.qe},dI.prototype.getRemoteDocumentCache=function(){return this.Ue},dI.prototype.getIndexManager=function(){return this.Ut},dI.prototype.getBundleCache=function(){return this.Qe},dI.prototype.runTransaction=function(e,t,n){var r=this;ab("IndexedDbPersistence","Starting transaction:",e);var i,o="readonly"===t?"readonly":"readwrite";return this.Be.runTransaction(e,o,TS,(function(o){return i=new HS(o,r.Ne?r.Ne.next():Jm.o),"readwrite-primary"===t?r.Je(i).next((function(e){return!!e||r.Ye(i)})).next((function(t){if(!t)throw sb("Failed to obtain primary lease for action '"+e+"'."),r.isPrimary=!1,r.Se.enqueueRetryable((function(){return r.Me(!1)})),new nb(tb.FAILED_PRECONDITION,IS);return n(i)})).next((function(e){return r.Ze(i).next((function(){return e}))})):r.dn(i).next((function(){return n(i)}))})).then((function(e){return i.raiseOnCommittedEvent(),e}))},dI.prototype.dn=function(e){var t=this;return pI(e).get(aS.key).next((function(e){if(null!==e&&t.sn(e.leaseTimestampMs,5e3)&&!t.cn(e.ownerId)&&!t.tn(e)&&!(t.Ce||t.allowTabSynchronization&&e.allowTabSynchronization))throw new nb(tb.FAILED_PRECONDITION,hI)}))},dI.prototype.Ze=function(e){var t=new aS(this.clientId,this.allowTabSynchronization,Date.now());return pI(e).put(aS.key,t)},dI.yt=function(){return xS.yt()},dI.prototype.Xe=function(e){var t=this,n=pI(e);return n.get(aS.key).next((function(e){return t.tn(e)?(ab("IndexedDbPersistence","Releasing primary lease."),n.delete(aS.key)):kS.resolve()}))},dI.prototype.sn=function(e,t){var n=Date.now();return!(e<n-t||n<e&&(sb("Detected an update time that is in the future: "+e+" > "+n),1))},dI.prototype.We=function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ke=function(){e.Se.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.je()}))},this.document.addEventListener("visibilitychange",this.ke),this.inForeground="visible"===this.document.visibilityState)},dI.prototype.an=function(){this.ke&&(this.document.removeEventListener("visibilitychange",this.ke),this.ke=null)},dI.prototype.Ge=function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Fe=function(){t.un(),t.Se.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("unload",this.Fe))},dI.prototype.hn=function(){this.Fe&&(this.window.removeEventListener("unload",this.Fe),this.Fe=null)},dI.prototype.cn=function(e){try{var t=null!==(null===(t=this.Ke)||void 0===t?void 0:t.getItem(this.on(e)));return ab("IndexedDbPersistence","Client '"+e+"' "+(t?"is":"is not")+" zombied in LocalStorage"),t}catch(e){return sb("IndexedDbPersistence","Failed to get zombied client id.",e),!1}},dI.prototype.un=function(){if(this.Ke)try{this.Ke.setItem(this.on(this.clientId),String(Date.now()))}catch(e){sb("Failed to set zombie client id.",e)}},dI.prototype.ln=function(){if(this.Ke)try{this.Ke.removeItem(this.on(this.clientId))}catch(e){}},dI.prototype.on=function(e){return"firestore_zombie_"+this.persistenceKey+"_"+e},dI);function dI(e,t,n,r,i,o,a,s,u,c){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=n,this.Se=i,this.window=o,this.document=a,this.De=u,this.Ce=c,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Fe=null,this.inForeground=!1,this.ke=null,this.Oe=null,this.$e=Number.NEGATIVE_INFINITY,this.Me=function(e){return Promise.resolve()},!dI.yt())throw new nb(tb.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new HT(this,r),this.Le=t+"main",this.R=new XS(s),this.Be=new xS(this.Le,11,new uI(this.R)),this.qe=new DT(this.referenceDelegate,this.R),this.Ut=new gT,this.Ue=(t=this.R,s=this.Ut,new ZT(t,s)),this.Qe=new hT,this.window&&this.window.localStorage?this.Ke=this.window.localStorage:(this.Ke=null,!1===c&&sb("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}function pI(e){return GS(e,aS.store)}function vI(e){return GS(e,_S.store)}function yI(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}function gI(e,t){this.progress=e,this.wn=t}var mI=(II.prototype.mn=function(e,t){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKey(e,t).next((function(r){return n.yn(e,t,r)}))},II.prototype.yn=function(e,t,n){return this.Ue.getEntry(e,t).next((function(e){for(var t=0,r=n;t<r.length;t++)r[t].applyToLocalView(e);return e}))},II.prototype.gn=function(e,t){e.forEach((function(e,n){for(var r=0,i=t;r<i.length;r++)i[r].applyToLocalView(n)}))},II.prototype.pn=function(e,t){var n=this;return this.Ue.getEntries(e,t).next((function(t){return n.En(e,t).next((function(){return t}))}))},II.prototype.En=function(e,t){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){return n.gn(t,e)}))},II.prototype.getDocumentsMatchingQuery=function(e,t,n){return r=t,Hb.isDocumentKey(r.path)&&null===r.collectionGroup&&0===r.filters.length?this.Tn(e,t.path):X_(t)?this.In(e,t,n):this.An(e,t,n);var r},II.prototype.Tn=function(e,t){return this.mn(e,new Hb(t)).next((function(e){var t=hE;return e.isFoundDocument()?t.insert(e.key,e):t}))},II.prototype.In=function(e,t,n){var r=this,i=t.collectionGroup,o=hE;return this.Ut.getCollectionParents(e,i).next((function(a){return kS.forEach(a,(function(a){var s=(s=t,a=a.child(i),new z_(a,null,s.explicitOrderBy.slice(),s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt));return r.An(e,s,n).next((function(e){e.forEach((function(e,t){o=o.insert(e,t)}))}))})).next((function(){return o}))}))},II.prototype.An=function(e,t,n){var r,i,o=this;return this.Ue.getDocumentsMatchingQuery(e,t,n).next((function(n){return r=n,o._n.getAllMutationBatchesAffectingQuery(e,t)})).next((function(t){return i=t,o.Rn(e,i,r).next((function(e){r=e;for(var t=0,n=i;t<n.length;t++)for(var o=n[t],a=0,s=o.mutations;a<s.length;a++){var u=s[a],c=u.key,l=r.get(c);null==l&&(l=s_.newInvalidDocument(c),r=r.insert(c,l)),Nw(u,l,o.localWriteTime),l.isFoundDocument()||(r=r.remove(c))}}))})).next((function(){return r.forEach((function(e,n){iw(t,n)||(r=r.remove(e))})),r}))},II.prototype.Rn=function(e,t,n){for(var r=pE(),i=0,o=t;i<o.length;i++)for(var a=0,s=o[i].mutations;a<s.length;a++){var u=s[a];u instanceof Mw&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.Ue.getEntries(e,r).next((function(e){return e.forEach((function(e,t){t.isFoundDocument()&&(c=c.insert(e,t))})),c}))},II),bI=(TI.Pn=function(e,t){for(var n=pE(),r=pE(),i=0,o=t.docChanges;i<o.length;i++){var a=o[i];switch(a.type){case 0:n=n.add(a.doc.key);break;case 1:r=r.add(a.doc.key)}}return new TI(e,t.fromCache,n,r)},TI),_I=(SI.prototype.Vn=function(e){this.Sn=e},SI.prototype.getDocumentsMatchingQuery=function(e,t,n,r){var i=this;return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())||n.isEqual(mb.min())?this.Dn(e,t):this.Sn.pn(e,r).next((function(o){var a=i.Cn(t,o);return(G_(t)||Q_(t))&&i.Nn(t.limitType,a,r,n)?i.Dn(e,t):(ob()<=ca.DEBUG&&ab("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),rw(t)),i.Sn.getDocumentsMatchingQuery(e,t,n).next((function(e){return a.forEach((function(t){e=e.insert(t.key,t)})),e})))}))},SI.prototype.Cn=function(e,t){var n=new aE(ow(e));return t.forEach((function(t,r){iw(e,r)&&(n=n.add(r))})),n},SI.prototype.Nn=function(e,t,n,r){return n.size!==t.size||!!(t="F"===e?t.last():t.first())&&(t.hasPendingWrites||0<t.version.compareTo(r))},SI.prototype.Dn=function(e,t){return ob()<=ca.DEBUG&&ab("QueryEngine","Using full collection scan to execute query:",rw(t)),this.Sn.getDocumentsMatchingQuery(e,t,mb.min())},SI),wI=(EI.prototype.collectGarbage=function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.Fn)}))},EI);function EI(e,t,n,r){this.persistence=e,this.xn=t,this.R=r,this.Fn=new Zw(pb),this.kn=new JT(h_,f_),this.On=mb.min(),this._n=e.getMutationQueue(n),this.$n=e.getRemoteDocumentCache(),this.qe=e.getTargetCache(),this.Mn=new mI(this.$n,this._n,this.persistence.getIndexManager()),this.Qe=e.getBundleCache(),this.xn.Vn(this.Mn)}function SI(){}function TI(e,t,n,r){this.targetId=e,this.fromCache=t,this.bn=n,this.vn=r}function II(e,t,n){this.Ue=e,this._n=t,this.Ut=n}function CI(e,t,n,r){return new wI(e,t,n,r)}function kI(e,t){return eo(this,void 0,void 0,(function(){var n,r,i,o;return to(this,(function(a){switch(a.label){case 0:return r=(n=e)._n,i=n.Mn,[4,n.persistence.runTransaction("Handle user change","readonly",(function(e){var o;return n._n.getAllMutationBatches(e).next((function(a){return o=a,r=n.persistence.getMutationQueue(t),i=new mI(n.$n,r,n.persistence.getIndexManager()),r.getAllMutationBatches(e)})).next((function(t){for(var n=[],r=[],a=pE(),s=0,u=o;s<u.length;s++){var c=u[s];n.push(c.batchId);for(var l=0,h=c.mutations;l<h.length;l++){var f=h[l];a=a.add(f.key)}}for(var d=0,p=t;d<p.length;d++){var v=p[d];r.push(v.batchId);for(var y=0,g=v.mutations;y<g.length;y++){var m=g[y];a=a.add(m.key)}}return i.pn(e,a).next((function(e){return{Ln:e,removedBatchIds:n,addedBatchIds:r}}))}))}))];case 1:return o=a.sent(),[2,(n._n=r,n.Mn=i,n.xn.Vn(n.Mn),o)]}}))}))}function OI(e,t){var n=e;return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r,i,o,a,s,u,c,l=t.batch.keys(),h=n.$n.newChangeBuffer({trackRemovals:!0});return r=n,i=e,a=h,u=(s=(o=t).batch).keys(),c=kS.resolve(),u.forEach((function(e){c=c.next((function(){return a.getEntry(i,e)})).next((function(t){var n=o.docVersions.get(e);hb(null!==n),t.version.compareTo(n)<0&&(s.applyToRemoteDocument(t,o),t.isValidDocument()&&a.addEntry(t,o.commitVersion))}))})),c.next((function(){return r._n.removeMutationBatch(i,s)})).next((function(){return h.apply(e)})).next((function(){return n._n.performConsistencyCheck(e)})).next((function(){return n.Mn.pn(e,l)}))}))}function xI(e){var t=e;return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.qe.getLastRemoteSnapshotVersion(e)}))}function PI(e,t){var n=e,r=t.snapshotVersion,i=n.Fn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var o=n.$n.newChangeBuffer({trackRemovals:!0});i=n.Fn;var a=[];t.targetChanges.forEach((function(t,o){var s,u,c,l=i.get(o);l&&(a.push(n.qe.removeMatchingKeys(e,t.removedDocuments,o).next((function(){return n.qe.addMatchingKeys(e,t.addedDocuments,o)}))),0<(c=t.resumeToken).approximateByteSize()&&(s=l.withResumeToken(c,r).withSequenceNumber(e.currentSequenceNumber),i=i.insert(o,s),u=l,c=t,hb(0<(l=s).resumeToken.approximateByteSize()),(0===u.resumeToken.approximateByteSize()||3e8<=l.snapshotVersion.toMicroseconds()-u.snapshotVersion.toMicroseconds()||0<c.addedDocuments.size+c.modifiedDocuments.size+c.removedDocuments.size)&&a.push(n.qe.updateTargetData(e,s))))}));var s,u=uE;return t.documentUpdates.forEach((function(r,i){t.resolvedLimboDocuments.has(r)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),a.push(NI(e,o,t.documentUpdates,r,void 0).next((function(e){u=e}))),r.isEqual(mb.min())||(s=n.qe.getLastRemoteSnapshotVersion(e).next((function(t){return n.qe.setTargetsMetadata(e,e.currentSequenceNumber,r)})),a.push(s)),kS.waitFor(a).next((function(){return o.apply(e)})).next((function(){return n.Mn.En(e,u)})).next((function(){return u}))})).then((function(e){return n.Fn=i,e}))}function NI(e,t,n,r,i){var o=pE();return n.forEach((function(e){return o=o.add(e)})),t.getEntries(e,o).next((function(e){var o=uE;return n.forEach((function(n,a){var s=e.get(n),u=(null==i?void 0:i.get(n))||r;a.isNoDocument()&&a.version.isEqual(mb.min())?(t.removeEntry(n,u),o=o.insert(n,a)):!s.isValidDocument()||0<a.version.compareTo(s.version)||0===a.version.compareTo(s.version)&&s.hasPendingWrites?(t.addEntry(a,u),o=o.insert(n,a)):ab("LocalStore","Ignoring outdated watch update for ",n,". Current version:",s.version," Watch version:",a.version)})),o}))}function RI(e,t){var n=e;return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.qe.getTargetData(e,t).next((function(i){return i?(r=i,kS.resolve(r)):n.qe.allocateTargetId(e).next((function(i){return r=new $S(t,i,0,e.currentSequenceNumber),n.qe.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.Fn.get(e.targetId);return(null===r||0<e.snapshotVersion.compareTo(r.snapshotVersion))&&(n.Fn=n.Fn.insert(e.targetId,e),n.kn.set(t,e.targetId)),e}))}function AI(e,t,n){return eo(this,void 0,void 0,(function(){var r,i,o;return to(this,(function(a){switch(a.label){case 0:i=(r=e).Fn.get(t),o=n?"readwrite":"readwrite-primary",a.label=1;case 1:return a.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",o,(function(e){return r.persistence.referenceDelegate.removeTarget(e,i)}))];case 2:a.sent(),a.label=3;case 3:return[3,5];case 4:if(!FS(o=a.sent()))throw o;return ab("LocalStore","Failed to update sequence numbers for target "+t+": "+o),[3,5];case 5:return r.Fn=r.Fn.remove(t),r.kn.delete(i.target),[2]}}))}))}function DI(e,t,n){var r=e,i=mb.min(),o=pE();return r.persistence.runTransaction("Execute query","readonly",(function(e){return a=r,s=e,u=Z_(t),(void 0!==(a=(c=a).kn.get(u))?kS.resolve(c.Fn.get(a)):c.qe.getTargetData(s,u)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.qe.getMatchingKeysForTargetId(e,t.targetId).next((function(e){o=e}))})).next((function(){return r.xn.getDocumentsMatchingQuery(e,t,n?i:mb.min(),n?o:pE())})).next((function(e){return{documents:e,Bn:o}}));var a,s,u,c}))}function jI(e,t){var n=e,r=n.qe;return(e=n.Fn.get(t))?Promise.resolve(e.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.lt(e,t).next((function(e){return e?e.target:null}))}))}function LI(e){var t=e;return t.persistence.runTransaction("Get new document changes","readonly",(function(e){return n=t.$n,r=e,e=t.On,i=n,o=uE,a=rT(e),e=aI(r),r=IDBKeyRange.lowerBound(a,!0),e.Ot({index:pS.readTimeIndex,range:r},(function(e,t){var n=tT(i.R,t);o=o.insert(n.key,n),a=t.readTime})).next((function(){return{wn:o,readTime:iT(a)}}));var n,r,i,o,a})).then((function(e){var n=e.wn;return e=e.readTime,t.On=e,n}))}function MI(e){return eo(this,void 0,void 0,(function(){var t;return to(this,(function(n){return[2,(t=e).persistence.runTransaction("Synchronize last document change read time","readonly",(function(e){return e=aI(e),t=mb.min(),e.Ot({index:pS.readTimeIndex,reverse:!0},(function(e,n,r){n.readTime&&(t=iT(n.readTime)),r.done()})).next((function(){return t}));var t})).then((function(e){t.On=e}))]}))}))}var FI,UI,qI=(sC.prototype.getBundleMetadata=function(e,t){return kS.resolve(this.Kn.get(t))},sC.prototype.saveBundleMetadata=function(e,t){return this.Kn.set(t.id,{id:t.id,version:t.version,createTime:DE(t.createTime)}),kS.resolve()},sC.prototype.getNamedQuery=function(e,t){return kS.resolve(this.jn.get(t))},sC.prototype.saveNamedQuery=function(e,t){return this.jn.set(t.name,{name:(t=t).name,query:lT(t.bundledQuery),readTime:DE(t.readTime)}),kS.resolve()},sC),BI=(aC.prototype.isEmpty=function(){return this.Wn.isEmpty()},aC.prototype.addReference=function(e,t){t=new VI(e,t),this.Wn=this.Wn.add(t),this.zn=this.zn.add(t)},aC.prototype.Jn=function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))},aC.prototype.removeReference=function(e,t){this.Yn(new VI(e,t))},aC.prototype.Xn=function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))},aC.prototype.Zn=function(e){var t=this,n=new Hb(new Cb([])),r=new VI(n,e),i=(e=new VI(n,e+1),[]);return this.zn.forEachInRange([r,e],(function(e){t.Yn(e),i.push(e.key)})),i},aC.prototype.ts=function(){var e=this;this.Wn.forEach((function(t){return e.Yn(t)}))},aC.prototype.Yn=function(e){this.Wn=this.Wn.delete(e),this.zn=this.zn.delete(e)},aC.prototype.es=function(e){var t=new Hb(new Cb([])),n=new VI(t,e),r=(e=new VI(t,e+1),pE());return this.zn.forEachInRange([n,e],(function(e){r=r.add(e.key)})),r},aC.prototype.containsKey=function(e){var t=new VI(e,0);return null!==(t=this.Wn.firstAfterOrEqual(t))&&e.isEqual(t.key)},aC),VI=(oC.Gn=function(e,t){return Hb.comparator(e.key,t.key)||pb(e.ns,t.ns)},oC.Hn=function(e,t){return pb(e.ns,t.ns)||Hb.comparator(e.key,t.key)},oC),WI=(iC.prototype.checkEmpty=function(e){return kS.resolve(0===this._n.length)},iC.prototype.addMutationBatch=function(e,t,n,r){var i=this.ss;this.ss++,0<this._n.length&&this._n[this._n.length-1],n=new QS(i,t,n,r),this._n.push(n);for(var o=0,a=r;o<a.length;o++){var s=a[o];this.rs=this.rs.add(new VI(s.key,i)),this.Ut.addToCollectionParentIndex(e,s.key.path.popLast())}return kS.resolve(n)},iC.prototype.lookupMutationBatch=function(e,t){return kS.resolve(this.os(t))},iC.prototype.getNextMutationBatchAfterBatchId=function(e,t){return t+=1,t=(t=this.cs(t))<0?0:t,kS.resolve(this._n.length>t?this._n[t]:null)},iC.prototype.getHighestUnacknowledgedBatchId=function(){return kS.resolve(0===this._n.length?-1:this.ss-1)},iC.prototype.getAllMutationBatches=function(e){return kS.resolve(this._n.slice())},iC.prototype.getAllMutationBatchesAffectingDocumentKey=function(e,t){var n=this,r=new VI(t,0),i=(t=new VI(t,Number.POSITIVE_INFINITY),[]);return this.rs.forEachInRange([r,t],(function(e){e=n.os(e.ns),i.push(e)})),kS.resolve(i)},iC.prototype.getAllMutationBatchesAffectingDocumentKeys=function(e,t){var n=this,r=new aE(pb);return t.forEach((function(e){var t=new VI(e,0);e=new VI(e,Number.POSITIVE_INFINITY),n.rs.forEachInRange([t,e],(function(e){r=r.add(e.ns)}))})),kS.resolve(this.us(r))},iC.prototype.getAllMutationBatchesAffectingQuery=function(e,t){var n=t.path,r=n.length+1;t=n,Hb.isDocumentKey(t)||(t=t.child("")),t=new VI(new Hb(t),0);var i=new aE(pb);return this.rs.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(i=i.add(e.ns)),!0)}),t),kS.resolve(this.us(i))},iC.prototype.us=function(e){var t=this,n=[];return e.forEach((function(e){null!==(e=t.os(e))&&n.push(e)})),n},iC.prototype.removeMutationBatch=function(e,t){var n=this;hb(0===this.hs(t.batchId,"removed")),this._n.shift();var r=this.rs;return kS.forEach(t.mutations,(function(i){var o=new VI(i.key,t.batchId);return r=r.delete(o),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.rs=r}))},iC.prototype.Gt=function(e){},iC.prototype.containsKey=function(e,t){var n=new VI(t,0);return n=this.rs.firstAfterOrEqual(n),kS.resolve(t.isEqual(n&&n.key))},iC.prototype.performConsistencyCheck=function(e){return this._n.length,kS.resolve()},iC.prototype.hs=function(e,t){return this.cs(e)},iC.prototype.cs=function(e){return 0===this._n.length?0:e-this._n[0].batchId},iC.prototype.os=function(e){return(e=this.cs(e))<0||e>=this._n.length?null:this._n[e]},iC),zI=(rC.prototype.addEntry=function(e,t,n){var r=t.key,i=(o=this.docs.get(r))?o.size:0,o=this.ls(t);return this.docs=this.docs.insert(r,{document:t.clone(),size:o,readTime:n}),this.size+=o-i,this.Ut.addToCollectionParentIndex(e,r.path.popLast())},rC.prototype.removeEntry=function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)},rC.prototype.getEntry=function(e,t){var n=this.docs.get(t);return kS.resolve(n?n.document.clone():s_.newInvalidDocument(t))},rC.prototype.getEntries=function(e,t){var n=this,r=uE;return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.clone():s_.newInvalidDocument(e))})),kS.resolve(r)},rC.prototype.getDocumentsMatchingQuery=function(e,t,n){for(var r=uE,i=new Hb(t.path.child("")),o=this.docs.getIteratorFrom(i);o.hasNext();){var a=(s=o.getNext()).key,s=(u=s.value).document,u=u.readTime;if(!t.path.isPrefixOf(a.path))break;u.compareTo(n)<=0||iw(t,s)&&(r=r.insert(s.key,s.clone()))}return kS.resolve(r)},rC.prototype.fs=function(e,t){return kS.forEach(this.docs,(function(e){return t(e)}))},rC.prototype.newChangeBuffer=function(e){return new HI(this)},rC.prototype.getSize=function(e){return kS.resolve(this.size)},rC),HI=(Ji(nC,UI=H),nC.prototype.applyChanges=function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.document.isValidDocument()?n.push(t.Ie.addEntry(e,i.document,t.getReadTime(r))):t.Ie.removeEntry(r)})),kS.waitFor(n)},nC.prototype.getFromCache=function(e,t){return this.Ie.getEntry(e,t)},nC.prototype.getAllFromCache=function(e,t){return this.Ie.getEntries(e,t)},nC),KI=(tC.prototype.forEachTarget=function(e,t){return this.ds.forEach((function(e,n){return t(n)})),kS.resolve()},tC.prototype.getLastRemoteSnapshotVersion=function(e){return kS.resolve(this.lastRemoteSnapshotVersion)},tC.prototype.getHighestSequenceNumber=function(e){return kS.resolve(this.ws)},tC.prototype.allocateTargetId=function(e){return this.highestTargetId=this.ys.next(),kS.resolve(this.highestTargetId)},tC.prototype.setTargetsMetadata=function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.ws&&(this.ws=t),kS.resolve()},tC.prototype.te=function(e){this.ds.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.ys=new AT(t),this.highestTargetId=t),e.sequenceNumber>this.ws&&(this.ws=e.sequenceNumber)},tC.prototype.addTargetData=function(e,t){return this.te(t),this.targetCount+=1,kS.resolve()},tC.prototype.updateTargetData=function(e,t){return this.te(t),kS.resolve()},tC.prototype.removeTargetData=function(e,t){return this.ds.delete(t.target),this._s.Zn(t.targetId),--this.targetCount,kS.resolve()},tC.prototype.removeTargets=function(e,t,n){var r=this,i=0,o=[];return this.ds.forEach((function(a,s){s.sequenceNumber<=t&&null===n.get(s.targetId)&&(r.ds.delete(a),o.push(r.removeMatchingKeysForTargetId(e,s.targetId)),i++)})),kS.waitFor(o).next((function(){return i}))},tC.prototype.getTargetCount=function(e){return kS.resolve(this.targetCount)},tC.prototype.getTargetData=function(e,t){return t=this.ds.get(t)||null,kS.resolve(t)},tC.prototype.addMatchingKeys=function(e,t,n){return this._s.Jn(t,n),kS.resolve()},tC.prototype.removeMatchingKeys=function(e,t,n){this._s.Xn(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),kS.waitFor(i)},tC.prototype.removeMatchingKeysForTargetId=function(e,t){return this._s.Zn(t),kS.resolve()},tC.prototype.getMatchingKeysForTargetId=function(e,t){return t=this._s.es(t),kS.resolve(t)},tC.prototype.containsKey=function(e,t){return kS.resolve(this._s.containsKey(t))},tC),GI=(eC.prototype.start=function(){return Promise.resolve()},eC.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(eC.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),eC.prototype.setDatabaseDeletedListener=function(){},eC.prototype.setNetworkEnabled=function(){},eC.prototype.getIndexManager=function(){return this.Ut},eC.prototype.getMutationQueue=function(e){var t=this.gs[e.toKey()];return t||(t=new WI(this.Ut,this.referenceDelegate),this.gs[e.toKey()]=t),t},eC.prototype.getTargetCache=function(){return this.qe},eC.prototype.getRemoteDocumentCache=function(){return this.Ue},eC.prototype.getBundleCache=function(){return this.Qe},eC.prototype.runTransaction=function(e,t,n){var r=this;ab("MemoryPersistence","Starting transaction:",e);var i=new QI(this.Ne.next());return this.referenceDelegate.Es(),n(i).next((function(e){return r.referenceDelegate.Ts(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))},eC.prototype.Is=function(e,t){return kS.or(Object.values(this.gs).map((function(n){return function(){return n.containsKey(e,t)}})))},eC),QI=(Ji(ZI,FI=kn),ZI),YI=(JI.bs=function(e){return new JI(e)},Object.defineProperty(JI.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw lb()},enumerable:!1,configurable:!0}),JI.prototype.addReference=function(e,t,n){return this.As.addReference(n,t),this.vs.delete(n.toString()),kS.resolve()},JI.prototype.removeReference=function(e,t,n){return this.As.removeReference(n,t),this.vs.add(n.toString()),kS.resolve()},JI.prototype.markPotentiallyOrphaned=function(e,t){return this.vs.add(t.toString()),kS.resolve()},JI.prototype.removeTarget=function(e,t){var n=this;this.As.Zn(t.targetId).forEach((function(e){return n.vs.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.vs.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))},JI.prototype.Es=function(){this.Rs=new Set},JI.prototype.Ts=function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return kS.forEach(this.vs,(function(r){var i=Hb.fromPath(r);return t.Ps(e,i).next((function(e){e||n.removeEntry(i)}))})).next((function(){return t.Rs=null,n.apply(e)}))},JI.prototype.updateLimboDocument=function(e,t){var n=this;return this.Ps(e,t).next((function(e){e?n.vs.delete(t.toString()):n.vs.add(t.toString())}))},JI.prototype.ps=function(e){return 0},JI.prototype.Ps=function(e,t){var n=this;return kS.or([function(){return kS.resolve(n.As.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Is(e,t)}])},JI),$I=(XI.prototype.isAuthenticated=function(){return null!=this.uid},XI.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},XI.prototype.isEqual=function(e){return e.uid===this.uid},XI);function XI(e){this.uid=e}function JI(e){this.persistence=e,this.As=new BI,this.Rs=null}function ZI(e){var t=this;return(t=FI.call(this)||this).currentSequenceNumber=e,t}function eC(e,t){var n=this;this.gs={},this.Ne=new Jm(0),this.xe=!1,this.xe=!0,this.referenceDelegate=e(this),this.qe=new KI(this),this.Ut=new vT,this.Ue=(e=this.Ut,new zI(e,(function(e){return n.referenceDelegate.ps(e)}))),this.R=new XS(t),this.Qe=new qI(this.R)}function tC(e){this.persistence=e,this.ds=new JT(h_,f_),this.lastRemoteSnapshotVersion=mb.min(),this.highestTargetId=0,this.ws=0,this._s=new BI,this.targetCount=0,this.ys=AT.Jt()}function nC(e){var t=this;return(t=UI.call(this)||this).Ie=e,t}function rC(e,t){this.Ut=e,this.ls=t,this.docs=new Zw(Hb.comparator),this.size=0}function iC(e,t){this.Ut=e,this.referenceDelegate=t,this._n=[],this.ss=1,this.rs=new aE(VI.Gn)}function oC(e,t){this.key=e,this.ns=t}function aC(){this.Wn=new aE(VI.Gn),this.zn=new aE(VI.Hn)}function sC(e){this.R=e,this.Kn=new Map,this.jn=new Map}function uC(e,t){return"firestore_clients_"+e+"_"+t}function cC(e,t,n){return n="firestore_mutations_"+e+"_"+n,t.isAuthenticated()&&(n+="_"+t.uid),n}function lC(e,t){return"firestore_targets_"+e+"_"+t}$I.UNAUTHENTICATED=new $I(null),$I.GOOGLE_CREDENTIALS=new $I("google-credentials-uid"),$I.FIRST_PARTY=new $I("first-party-uid");var hC,fC=(jC.Vs=function(e,t,n){var r,i=JSON.parse(n),o="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new nb(i.error.code,i.error.message)),o?new jC(e,t,i.state,r):(sb("SharedClientState","Failed to parse mutation state for ID '"+t+"': "+n),null)},jC.prototype.Ss=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},jC),dC=(DC.Vs=function(e,t){var n,r=JSON.parse(t),i="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return i&&r.error&&(i="string"==typeof r.error.message&&"string"==typeof r.error.code)&&(n=new nb(r.error.code,r.error.message)),i?new DC(e,r.state,n):(sb("SharedClientState","Failed to parse target state for ID '"+e+"': "+t),null)},DC.prototype.Ss=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},DC),pC=(AC.Vs=function(e,t){for(var n=JSON.parse(t),r="object"==typeof n&&n.activeTargetIds instanceof Array,i=vE,o=0;r&&o<n.activeTargetIds.length;++o)r=zb(n.activeTargetIds[o]),i=i.add(n.activeTargetIds[o]);return r?new AC(e,i):(sb("SharedClientState","Failed to parse client data for instance '"+e+"': "+t),null)},AC),vC=(RC.Vs=function(e){var t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new RC(t.clientId,t.onlineState):(sb("SharedClientState","Failed to parse online state: "+e),null)},RC),yC=(NC.prototype.Ds=function(e){this.activeTargetIds=this.activeTargetIds.add(e)},NC.prototype.Cs=function(e){this.activeTargetIds=this.activeTargetIds.delete(e)},NC.prototype.Ss=function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)},NC),gC=(PC.yt=function(e){return!(!e||!e.localStorage)},PC.prototype.start=function(){return eo(this,void 0,void 0,(function(){var e,t,n,r,i,o,a,s,u,c,l=this;return to(this,(function(h){switch(h.label){case 0:return[4,this.syncEngine.fn()];case 1:for(o=h.sent(),e=0,t=o;e<t.length;e++)(n=t[e])!==this.Ns&&(r=this.getItem(uC(this.persistenceKey,n)))&&(i=pC.Vs(n,r))&&(this.ks=this.ks.insert(i.clientId,i));for(this.Ks(),(o=this.storage.getItem(this.Us))&&(a=this.js(o))&&this.Ws(a),s=0,u=this.Os;s<u.length;s++)c=u[s],this.Fs(c);return this.Os=[],this.window.addEventListener("unload",(function(){return l.shutdown()})),this.started=!0,[2]}}))}))},PC.prototype.writeSequenceNumber=function(e){this.setItem(this.Ms,JSON.stringify(e))},PC.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.ks)},PC.prototype.isActiveQueryTarget=function(e){var t=!1;return this.ks.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t},PC.prototype.addPendingMutation=function(e){this.zs(e,"pending")},PC.prototype.updateMutationState=function(e,t,n){this.zs(e,t,n),this.Hs(e)},PC.prototype.addLocalQueryTarget=function(e){var t,n="not-current";return this.isActiveQueryTarget(e)&&(!(t=this.storage.getItem(lC(this.persistenceKey,e)))||(t=dC.Vs(e,t))&&(n=t.state)),this.Js.Ds(e),this.Ks(),n},PC.prototype.removeLocalQueryTarget=function(e){this.Js.Cs(e),this.Ks()},PC.prototype.isLocalQueryTarget=function(e){return this.Js.activeTargetIds.has(e)},PC.prototype.clearQueryState=function(e){this.removeItem(lC(this.persistenceKey,e))},PC.prototype.updateQueryState=function(e,t,n){this.Ys(e,t,n)},PC.prototype.handleUserChange=function(e,t,n){var r=this;t.forEach((function(e){r.Hs(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))},PC.prototype.setOnlineState=function(e){this.Xs(e)},PC.prototype.notifyBundleLoaded=function(){this.Zs()},PC.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.$s),this.started=!1)},PC.prototype.getItem=function(e){var t=this.storage.getItem(e);return ab("SharedClientState","READ",e,t),t},PC.prototype.setItem=function(e,t){ab("SharedClientState","SET",e,t),this.storage.setItem(e,t)},PC.prototype.removeItem=function(e){ab("SharedClientState","REMOVE",e),this.storage.removeItem(e)},PC.prototype.Fs=function(e){var t=this,n=e;n.storageArea===this.storage&&(ab("SharedClientState","EVENT",n.key,n.newValue),n.key!==this.$s?this.Se.enqueueRetryable((function(){return eo(t,void 0,void 0,(function(){var e,t,r,i;return to(this,(function(o){if(this.started){if(null!==n.key)if(this.Ls.test(n.key)){if(null==n.newValue)return e=this.ti(n.key),[2,this.ei(e,null)];if(e=this.ni(n.key,n.newValue))return[2,this.ei(e.clientId,e)]}else if(this.Bs.test(n.key)){if(null!==n.newValue&&(t=this.si(n.key,n.newValue)))return[2,this.ii(t)]}else if(this.qs.test(n.key)){if(null!==n.newValue&&(r=this.ri(n.key,n.newValue)))return[2,this.oi(r)]}else if(n.key===this.Us){if(null!==n.newValue&&(i=this.js(n.newValue)))return[2,this.Ws(i)]}else if(n.key===this.Ms)(i=function(e){var t=Jm.o;if(null!=e)try{var n=JSON.parse(e);hb("number"==typeof n),t=n}catch(e){sb("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue))!==Jm.o&&this.sequenceNumberHandler(i);else if(n.key===this.Qs)return[2,this.syncEngine.ci()]}else this.Os.push(n);return[2]}))}))})):sb("Received WebStorage notification for local change. Another client might have garbage-collected our state"))},Object.defineProperty(PC.prototype,"Js",{get:function(){return this.ks.get(this.Ns)},enumerable:!1,configurable:!0}),PC.prototype.Ks=function(){this.setItem(this.$s,this.Js.Ss())},PC.prototype.zs=function(e,t,n){n=new fC(this.currentUser,e,t,n),e=cC(this.persistenceKey,this.currentUser,e),this.setItem(e,n.Ss())},PC.prototype.Hs=function(e){e=cC(this.persistenceKey,this.currentUser,e),this.removeItem(e)},PC.prototype.Xs=function(e){e={clientId:this.Ns,onlineState:e},this.storage.setItem(this.Us,JSON.stringify(e))},PC.prototype.Ys=function(e,t,n){var r=lC(this.persistenceKey,e);n=new dC(e,t,n),this.setItem(r,n.Ss())},PC.prototype.Zs=function(){this.setItem(this.Qs,"value-not-used")},PC.prototype.ti=function(e){return(e=this.Ls.exec(e))?e[1]:null},PC.prototype.ni=function(e,t){return e=this.ti(e),pC.Vs(e,t)},PC.prototype.si=function(e,t){var n=this.Bs.exec(e);return e=Number(n[1]),n=void 0!==n[2]?n[2]:null,fC.Vs(new $I(n),e,t)},PC.prototype.ri=function(e,t){return e=this.qs.exec(e),e=Number(e[1]),dC.Vs(e,t)},PC.prototype.js=function(e){return vC.Vs(e)},PC.prototype.ii=function(e){return eo(this,void 0,void 0,(function(){return to(this,(function(t){return e.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(e.batchId,e.state,e.error)]:(ab("SharedClientState","Ignoring mutation for non-active user "+e.user.uid),[2])}))}))},PC.prototype.oi=function(e){return this.syncEngine.ai(e.targetId,e.state,e.error)},PC.prototype.ei=function(e,t){var n=this,r=t?this.ks.insert(e,t):this.ks.remove(e),i=this.Gs(this.ks),o=this.Gs(r),a=[],s=[];return o.forEach((function(e){i.has(e)||a.push(e)})),i.forEach((function(e){o.has(e)||s.push(e)})),this.syncEngine.hi(a,s).then((function(){n.ks=r}))},PC.prototype.Ws=function(e){this.ks.get(e.clientId)&&this.onlineStateHandler(e.onlineState)},PC.prototype.Gs=function(e){var t=vE;return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t},PC),mC=(xC.prototype.addPendingMutation=function(e){},xC.prototype.updateMutationState=function(e,t,n){},xC.prototype.addLocalQueryTarget=function(e){return this.li.Ds(e),this.fi[e]||"not-current"},xC.prototype.updateQueryState=function(e,t,n){this.fi[e]=t},xC.prototype.removeLocalQueryTarget=function(e){this.li.Cs(e)},xC.prototype.isLocalQueryTarget=function(e){return this.li.activeTargetIds.has(e)},xC.prototype.clearQueryState=function(e){delete this.fi[e]},xC.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},xC.prototype.isActiveQueryTarget=function(e){return this.li.activeTargetIds.has(e)},xC.prototype.start=function(){return this.li=new yC,Promise.resolve()},xC.prototype.handleUserChange=function(e,t,n){},xC.prototype.setOnlineState=function(e){},xC.prototype.shutdown=function(){},xC.prototype.writeSequenceNumber=function(e){},xC.prototype.notifyBundleLoaded=function(){},xC),bC=(OC.prototype.di=function(e){},OC.prototype.shutdown=function(){},OC),_C=(kC.prototype.di=function(e){this.gi.push(e)},kC.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},kC.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},kC.prototype._i=function(){ab("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var e=0,t=this.gi;e<t.length;e++)(0,t[e])(0)},kC.prototype.yi=function(){ab("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var e=0,t=this.gi;e<t.length;e++)(0,t[e])(1)},kC.yt=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},kC),wC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},EC=(CC.prototype.Ii=function(e){this.Ai=e},CC.prototype.Ri=function(e){this.bi=e},CC.prototype.onMessage=function(e){this.vi=e},CC.prototype.close=function(){this.Ti()},CC.prototype.send=function(e){this.Ei(e)},CC.prototype.Pi=function(){this.Ai()},CC.prototype.Vi=function(e){this.bi(e)},CC.prototype.Si=function(e){this.vi(e)},CC),SC=(IC.prototype.Ni=function(e,t,n,r){var i=this.xi(e,t);return ab("RestConnection","Sending: ",i,n),t={},this.Fi(t,r),this.ki(e,i,t,n).then((function(e){return ab("RestConnection","Received: ",e),e}),(function(t){throw ub("RestConnection",e+" failed with error: ",t,"url: ",i,"request:",n),t}))},IC.prototype.Oi=function(e,t,n,r){return this.Ni(e,t,n,r)},IC.prototype.Fi=function(e,t){if(e["X-Goog-Api-Client"]="gl-js/ fire/8.4.3",e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t)for(var n in t.authHeaders)t.authHeaders.hasOwnProperty(n)&&(e[n]=t.authHeaders[n])},IC.prototype.xi=function(e,t){return e=wC[e],this.Di+"/v1/"+t+":"+e},Ji(TC,hC=IC),TC.prototype.ki=function(e,t,n,r){return new Promise((function(i,o){var a=new Xm;a.listenOnce(Km.COMPLETE,(function(){try{switch(a.getLastErrorCode()){case Hm.NO_ERROR:var t=a.getResponseJson();ab("Connection","XHR received:",JSON.stringify(t)),i(t);break;case Hm.TIMEOUT:ab("Connection",'RPC "'+e+'" timed out'),o(new nb(tb.DEADLINE_EXCEEDED,"Request time out"));break;case Hm.HTTP_ERROR:var n=a.getStatus();ab("Connection",'RPC "'+e+'" failed with status:',n,"response text:",a.getResponseText()),0<n?(t=a.getResponseJson().error)&&t.status&&t.message?(n=t.status.toLowerCase().replace(/_/g,"-"),n=0<=Object.values(tb).indexOf(n)?n:tb.UNKNOWN,o(new nb(n,t.message))):o(new nb(tb.UNKNOWN,"Server responded with status "+a.getStatus())):o(new nb(tb.UNAVAILABLE,"Connection failed."));break;default:lb()}}finally{ab("Connection",'RPC "'+e+'" completed.')}}));var s=JSON.stringify(r);a.send(t,"POST",s,n,15)}))},TC.prototype.$i=function(e,t){var n=[this.Di,"/","google.firestore.v1.Firestore","/",e,"/channel"],r=new Um,i=zm();e={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},this.Fi(e.initMessageHeaders,t),go()||bo()||0<=yo().indexOf("Electron/")||0<=(t=yo()).indexOf("MSIE ")||0<=t.indexOf("Trident/")||0<=yo().indexOf("MSAppHost/")||mo()||(e.httpHeadersOverwriteParam="$httpHeaders"),ab("Connection","Creating WebChannel: "+(n=n.join("")),e);var o=r.createWebChannel(n,e),a=!1,s=!1,u=new EC({Ei:function(e){s?ab("Connection","Not sending because WebChannel is closed:",e):(a||(ab("Connection","Opening WebChannel transport."),o.open(),a=!0),ab("Connection","WebChannel sending:",e),o.send(e))},Ti:function(){return o.close()}});return(e=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))})(o,$m.EventType.OPEN,(function(){s||ab("Connection","WebChannel transport opened.")})),e(o,$m.EventType.CLOSE,(function(){s||(s=!0,ab("Connection","WebChannel transport closed"),u.Vi())})),e(o,$m.EventType.ERROR,(function(e){s||(s=!0,ub("Connection","WebChannel transport errored:",e),u.Vi(new nb(tb.UNAVAILABLE,"The operation could not be completed")))})),e(o,$m.EventType.MESSAGE,(function(e){var t,n,r,i;s||(hb(!!(t=e.data[0])),(n=t.error||(null===(i=t[0])||void 0===i?void 0:i.error))?(ab("Connection","WebChannel received error:",n),r=n.status,e=function(){var e=zw[r];if(void 0!==e)return Jw(e)}(),i=n.message,void 0===e&&(e=tb.INTERNAL,i="Unknown error status: "+r+" with message "+n.message),s=!0,u.Vi(new nb(e,i)),o.close()):(ab("Connection","WebChannel received:",t),u.Si(t)))})),e(i,Gm.STAT_EVENT,(function(e){e.stat===Qm?ab("Connection","Detected buffering proxy"):e.stat===Ym&&ab("Connection","Detected no buffering proxy")})),setTimeout((function(){u.Pi()}),0),u},TC);function TC(e){var t=this;return(t=hC.call(this,e)||this).forceLongPolling=e.forceLongPolling,t.autoDetectLongPolling=e.autoDetectLongPolling,t}function IC(e){this.databaseInfo=e,this.databaseId=e.databaseId;var t=e.ssl?"https":"http";this.Di=t+"://"+e.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}function CC(e){this.Ei=e.Ei,this.Ti=e.Ti}function kC(){var e=this;this.wi=function(){return e._i()},this.mi=function(){return e.yi()},this.gi=[],this.pi()}function OC(){}function xC(){this.li=new yC,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}function PC(e,t,n,r,i){this.window=e,this.Se=t,this.persistenceKey=n,this.Ns=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.Fs.bind(this),this.ks=new Zw(pb),this.started=!1,this.Os=[],n=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),this.storage=this.window.localStorage,this.currentUser=i,this.$s=uC(this.persistenceKey,this.Ns),this.Ms="firestore_sequence_number_"+this.persistenceKey,this.ks=this.ks.insert(this.Ns,new yC),this.Ls=new RegExp("^firestore_clients_"+n+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+n+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+n+"_(\\d+)$"),this.Us="firestore_online_state_"+this.persistenceKey,this.Qs="firestore_bundle_loaded_"+this.persistenceKey,this.window.addEventListener("storage",this.xs)}function NC(){this.activeTargetIds=vE}function RC(e,t){this.clientId=e,this.onlineState=t}function AC(e,t){this.clientId=e,this.activeTargetIds=t}function DC(e,t,n){this.targetId=e,this.state=t,this.error=n}function jC(e,t,n,r){this.user=e,this.batchId=t,this.state=n,this.error=r}function LC(){return"undefined"!=typeof window?window:null}function MC(){return"undefined"!=typeof document?document:null}function FC(e){return new NE(e,!0)}function UC(e,t,n,r,i){var o=this;this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.kr=[],this.Or=new Map,this.$r=new Set,this.Mr=[],this.Lr=i,this.Lr.di((function(e){n.enqueueAndForget((function(){return eo(o,void 0,void 0,(function(){return to(this,(function(e){switch(e.label){case 0:return uk(this)?(ab("RemoteStore","Restarting streams for network reachability change."),[4,function(e){return eo(this,void 0,void 0,(function(){var t;return to(this,(function(n){switch(n.label){case 0:return(t=e).$r.add(4),[4,tk(t)];case 1:return n.sent(),t.Br.set("Unknown"),t.$r.delete(4),[4,ek(t)];case 2:return n.sent(),[2]}}))}))}(this)]):[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))}))})),this.Br=new GC(n,r)}var qC,BC,VC,WC=(ZC.prototype.reset=function(){this.qi=0},ZC.prototype.Ki=function(){this.qi=this.Bi},ZC.prototype.ji=function(e){var t=this;this.cancel();var n=Math.floor(this.qi+this.Wi()),r=Math.max(0,Date.now()-this.Qi),i=Math.max(0,n-r);0<i&&ab("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.qi+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,i,(function(){return t.Qi=Date.now(),e()})),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},ZC.prototype.Gi=function(){null!==this.Ui&&(this.Ui.skipDelay(),this.Ui=null)},ZC.prototype.cancel=function(){null!==this.Ui&&(this.Ui.cancel(),this.Ui=null)},ZC.prototype.Wi=function(){return(Math.random()-.5)*this.qi},ZC),zC=(JC.prototype.tr=function(){return 1===this.state||2===this.state||4===this.state},JC.prototype.er=function(){return 2===this.state},JC.prototype.start=function(){3!==this.state?this.auth():this.nr()},JC.prototype.stop=function(){return eo(this,void 0,void 0,(function(){return to(this,(function(e){switch(e.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))},JC.prototype.sr=function(){this.state=0,this.Zi.reset()},JC.prototype.ir=function(){var e=this;this.er()&&null===this.Xi&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,(function(){return e.rr()})))},JC.prototype.cr=function(e){this.ur(),this.stream.send(e)},JC.prototype.rr=function(){return eo(this,void 0,void 0,(function(){return to(this,(function(e){return this.er()?[2,this.close(0)]:[2]}))}))},JC.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},JC.prototype.close=function(e,t){return eo(this,void 0,void 0,(function(){return to(this,(function(n){switch(n.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,3!==e?this.Zi.reset():t&&t.code===tb.RESOURCE_EXHAUSTED?(sb(t.toString()),sb("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Ki()):t&&t.code===tb.UNAUTHENTICATED&&this.Ji.invalidateToken(),null!==this.stream&&(this.ar(),this.stream.close(),this.stream=null),this.state=e,[4,this.listener.Ri(t)];case 1:return n.sent(),[2]}}))}))},JC.prototype.ar=function(){},JC.prototype.auth=function(){var e=this;this.state=1;var t=this.hr(this.Yi),n=this.Yi;this.Ji.getToken().then((function(t){e.Yi===n&&e.lr(t)}),(function(n){t((function(){var t=new nb(tb.UNKNOWN,"Fetching auth token failed: "+n.message);return e.dr(t)}))}))},JC.prototype.lr=function(e){var t=this,n=this.hr(this.Yi);this.stream=this.wr(e),this.stream.Ii((function(){n((function(){return t.state=2,t.listener.Ii()}))})),this.stream.Ri((function(e){n((function(){return t.dr(e)}))})),this.stream.onMessage((function(e){n((function(){return t.onMessage(e)}))}))},JC.prototype.nr=function(){var e=this;this.state=4,this.Zi.ji((function(){return eo(e,void 0,void 0,(function(){return to(this,(function(e){return this.state=0,this.start(),[2]}))}))}))},JC.prototype.dr=function(e){return ab("PersistentStream","close with error: "+e),this.stream=null,this.close(3,e)},JC.prototype.hr=function(e){var t=this;return function(n){t.Se.enqueueAndForget((function(){return t.Yi===e?n():(ab("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}},Ji(XC,VC=H=JC),XC.prototype.wr=function(e){return this.Hi.$i("Listen",e)},XC.prototype.onMessage=function(e){this.Zi.reset();var t=function(e,t){if("targetChange"in t){t.targetChange;var n="NO_CHANGE"===(o=t.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===o?1:"REMOVE"===o?2:"CURRENT"===o?3:"RESET"===o?4:lb(),r=t.targetChange.targetIds||[],i=(a=t.targetChange.resumeToken,e.I?(hb(void 0===a||"string"==typeof a),Pb.fromBase64String(a||"")):(hb(void 0===a||a instanceof Uint8Array),Pb.fromUint8Array(a||new Uint8Array))),o=(s=t.targetChange.cause)&&(u=void 0===(c=s).code?tb.UNKNOWN:Jw(c.code),new nb(u,c.message||"")),a=new _E(n,r,i,o||null)}else if("documentChange"in t){t.documentChange,(n=t.documentChange).document,n.document.name,n.document.updateTime,r=FE(e,n.document.name),i=DE(n.document.updateTime);var s=new o_({mapValue:{fields:n.document.fields}}),u=(o=s_.newFoundDocument(r,i,s),n.targetIds||[]),c=n.removedTargetIds||[];a=new mE(u,c,o.key,o)}else if("documentDelete"in t)t.documentDelete,(n=t.documentDelete).document,r=FE(e,n.document),i=n.readTime?DE(n.readTime):mb.min(),s=s_.newNoDocument(r,i),o=n.removedTargetIds||[],a=new mE([],o,s.key,s);else if("documentRemove"in t)t.documentRemove,(n=t.documentRemove).document,r=FE(e,n.document),i=n.removedTargetIds||[],a=new mE([],i,r,null);else{if(!("filter"in t))return lb();t.filter,(t=t.filter).targetId,r=new Ww(n=t.count||0),i=t.targetId,a=new bE(i,r)}return a}(this.R,e);return e=function(e){return"targetChange"in e?(e=e.targetChange).targetIds&&e.targetIds.length||!e.readTime?mb.min():DE(e.readTime):mb.min()}(e),this.listener._r(t,e)},XC.prototype.mr=function(e){var t,n,r,i,o={};o.database=BE(this.R),o.addTarget=(t=this.R,(r=d_(r=(n=e).target)?{documents:GE(t,r)}:{query:QE(t,r)}).targetId=n.targetId,0<n.resumeToken.approximateByteSize()?r.resumeToken=AE(t,n.resumeToken):0<n.snapshotVersion.compareTo(mb.min())&&(r.readTime=RE(t,n.snapshotVersion.toTimestamp())),r),this.R,i=e,(e=null==(e=function(){switch(i.purpose){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return lb()}}())?null:{"goog-listen-tags":e})&&(o.labels=e),this.cr(o)},XC.prototype.yr=function(e){var t={};t.database=BE(this.R),t.removeTarget=e,this.cr(t)},XC),HC=(Ji($C,BC=H),Object.defineProperty($C.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),$C.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,BC.prototype.start.call(this)},$C.prototype.ar=function(){this.gr&&this.Er([])},$C.prototype.wr=function(e){return this.Hi.$i("Write",e)},$C.prototype.onMessage=function(e){if(hb(!!e.streamToken),this.lastStreamToken=e.streamToken,this.gr){this.Zi.reset();var t=(n=e.writeResults,r=e.commitTime,n&&0<n.length?(hb(void 0!==r),n.map((function(e){return n=r,(e=(t=e).updateTime?DE(t.updateTime):DE(n)).isEqual(mb.min())&&(e=DE(n)),new Cw(e,t.transformResults||[]);var t,n}))):[]),n=DE(e.commitTime);return this.listener.Tr(n,t)}var r;return hb(!e.writeResults||0===e.writeResults.length),this.gr=!0,this.listener.Ir()},$C.prototype.Ar=function(){var e={};e.database=BE(this.R),this.cr(e)},$C.prototype.Er=function(e){var t=this;e={streamToken:this.lastStreamToken,writes:e.map((function(e){return HE(t.R,e)}))},this.cr(e)},$C),KC=(Ji(YC,qC=function(){}),YC.prototype.br=function(){if(this.Rr)throw new nb(tb.FAILED_PRECONDITION,"The client has already been terminated.")},YC.prototype.Ni=function(e,t,n){var r=this;return this.br(),this.credentials.getToken().then((function(i){return r.Hi.Ni(e,t,n,i)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===tb.UNAUTHENTICATED&&r.credentials.invalidateToken(),e):new nb(tb.UNKNOWN,e.toString())}))},YC.prototype.Oi=function(e,t,n){var r=this;return this.br(),this.credentials.getToken().then((function(i){return r.Hi.Oi(e,t,n,i)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===tb.UNAUTHENTICATED&&r.credentials.invalidateToken(),e):new nb(tb.UNKNOWN,e.toString())}))},YC.prototype.terminate=function(){this.Rr=!0},YC),GC=(QC.prototype.Sr=function(){var e=this;0===this.vr&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.Pr=null,e.Cr("Backend didn't respond within 10 seconds."),e.Dr("Offline"),Promise.resolve()})))},QC.prototype.Nr=function(e){"Online"===this.state?this.Dr("Unknown"):(this.vr++,1<=this.vr&&(this.Fr(),this.Cr("Connection failed 1 times. Most recent error: "+e.toString()),this.Dr("Offline")))},QC.prototype.set=function(e){this.Fr(),this.vr=0,"Online"===e&&(this.Vr=!1),this.Dr(e)},QC.prototype.Dr=function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))},QC.prototype.Cr=function(e){e="Could not reach Cloud Firestore backend. "+e+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.",this.Vr?(sb(e),this.Vr=!1):ab("OnlineStateTracker",e)},QC.prototype.Fr=function(){null!==this.Pr&&(this.Pr.cancel(),this.Pr=null)},QC);function QC(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}function YC(e,t,n){var r=this;return(r=qC.call(this)||this).credentials=e,r.Hi=t,r.R=n,r.Rr=!1,r}function $C(e,t,n,r,i){var o=this;return(o=BC.call(this,e,"write_stream_connection_backoff","write_stream_idle",t,n,i)||this).R=r,o.gr=!1,o}function XC(e,t,n,r,i){var o=this;return(o=VC.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",t,n,i)||this).R=r,o}function JC(e,t,n,r,i,o){this.Se=e,this.zi=n,this.Hi=r,this.Ji=i,this.listener=o,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new WC(e,t)}function ZC(e,t,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.Se=e,this.timerId=t,this.Mi=n,this.Li=r,this.Bi=i,this.qi=0,this.Ui=null,this.Qi=Date.now(),this.reset()}function ek(e){return eo(this,void 0,void 0,(function(){var t,n;return to(this,(function(r){switch(r.label){case 0:if(!uk(e))return[3,4];t=0,n=e.Mr,r.label=1;case 1:return t<n.length?[4,(0,n[t])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2]}}))}))}function tk(e){return eo(this,void 0,void 0,(function(){var t,n;return to(this,(function(r){switch(r.label){case 0:t=0,n=e.Mr,r.label=1;case 1:return t<n.length?[4,(0,n[t])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2]}}))}))}function nk(e,t){e.Or.has(t.targetId)||(e.Or.set(t.targetId,t),sk(e)?ak(e):gk(e).er()&&ik(e,t))}function rk(e,t){var n=e;e=gk(n),n.Or.delete(t),e.er()&&ok(n,t),0===n.Or.size&&(e.er()?e.ir():uk(n)&&n.Br.set("Unknown"))}function ik(e,t){e.qr.U(t.targetId),gk(e).mr(t)}function ok(e,t){e.qr.U(t),gk(e).yr(t)}function ak(e){e.qr=new EE({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},lt:function(t){return e.Or.get(t)||null}}),gk(e).start(),e.Br.Sr()}function sk(e){return uk(e)&&!gk(e).tr()&&0<e.Or.size}function uk(e){return 0===e.$r.size}function ck(e){e.qr=void 0}function lk(e,t,n){return eo(this,void 0,void 0,(function(){var r,i;return to(this,(function(o){switch(o.label){case 0:if(e.Br.set("Online"),!(t instanceof _E&&2===t.state&&t.cause))return[3,6];o.label=1;case 1:return o.trys.push([1,3,,5]),[4,function(e,t){return eo(this,void 0,void 0,(function(){var n,r,i,o;return to(this,(function(a){switch(a.label){case 0:n=t.cause,r=0,i=t.targetIds,a.label=1;case 1:return r<i.length?(o=i[r],e.Or.has(o)?[4,e.remoteSyncer.rejectListen(o,n)]:[3,3]):[3,5];case 2:a.sent(),e.Or.delete(o),e.qr.removeTarget(o),a.label=3;case 3:a.label=4;case 4:return r++,[3,1];case 5:return[2]}}))}))}(e,t)];case 2:return o.sent(),[3,5];case 3:return r=o.sent(),ab("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),r),[4,hk(e,r)];case 4:return o.sent(),[3,5];case 5:return[3,13];case 6:if(t instanceof mE?e.qr.X(t):t instanceof bE?e.qr.rt(t):e.qr.et(t),n.isEqual(mb.min()))return[3,13];o.label=7;case 7:return o.trys.push([7,11,,13]),[4,xI(e.localStore)];case 8:return i=o.sent(),0<=n.compareTo(i)?[4,(s=n,(u=(a=e).qr.ut(s)).targetChanges.forEach((function(e,t){var n;0<e.resumeToken.approximateByteSize()&&(n=a.Or.get(t))&&a.Or.set(t,n.withResumeToken(e.resumeToken,s))})),u.targetMismatches.forEach((function(e){var t=a.Or.get(e);t&&(a.Or.set(e,t.withResumeToken(Pb.EMPTY_BYTE_STRING,t.snapshotVersion)),ok(a,e),t=new $S(t.target,e,1,t.sequenceNumber),ik(a,t))})),a.remoteSyncer.applyRemoteEvent(u))]:[3,10];case 9:o.sent(),o.label=10;case 10:return[3,13];case 11:return ab("RemoteStore","Failed to raise snapshot:",i=o.sent()),[4,hk(e,i)];case 12:return o.sent(),[3,13];case 13:return[2]}var a,s,u}))}))}function hk(e,t,n){return eo(this,void 0,void 0,(function(){var r=this;return to(this,(function(i){switch(i.label){case 0:if(!FS(t))throw t;return e.$r.add(1),[4,tk(e)];case 1:return i.sent(),e.Br.set("Offline"),n=n||function(){return xI(e.localStore)},e.asyncQueue.enqueueRetryable((function(){return eo(r,void 0,void 0,(function(){return to(this,(function(t){switch(t.label){case 0:return ab("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return t.sent(),e.$r.delete(1),[4,ek(e)];case 2:return t.sent(),[2]}}))}))})),[2]}}))}))}function fk(e,t){return t().catch((function(n){return hk(e,n,t)}))}function dk(e){return eo(this,void 0,void 0,(function(){var t,n,r,i;return to(this,(function(o){switch(o.label){case 0:n=mk(t=e),r=0<t.kr.length?t.kr[t.kr.length-1].batchId:-1,o.label=1;case 1:if(!(uk(t)&&t.kr.length<10))return[3,7];o.label=2;case 2:return o.trys.push([2,4,,6]),[4,(a=t.localStore,s=r,(u=a).persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===s&&(s=-1),u._n.getNextMutationBatchAfterBatchId(e,s)})))];case 3:return null===(i=o.sent())?(0===t.kr.length&&n.ir(),[3,7]):(r=i.batchId,function(e,t){e.kr.push(t),(e=mk(e)).er()&&e.pr&&e.Er(t.mutations)}(t,i),[3,6]);case 4:return i=o.sent(),[4,hk(t,i)];case 5:return o.sent(),[3,6];case 6:return[3,1];case 7:return pk(t)&&vk(t),[2]}var a,s,u}))}))}function pk(e){return uk(e)&&!mk(e).tr()&&0<e.kr.length}function vk(e){mk(e).start()}function yk(e,t){return eo(this,void 0,void 0,(function(){var n;return to(this,(function(r){switch(r.label){case 0:return n=e,t?(n.$r.delete(2),[4,ek(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return t?[3,4]:(n.$r.add(2),[4,tk(n)]);case 3:r.sent(),n.Br.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}}))}))}function gk(e){var t,n,r,i=this;return e.Ur||(e.Ur=(t=e.datastore,n=e.asyncQueue,r={Ii:function(e){return eo(this,void 0,void 0,(function(){return to(this,(function(t){return e.Or.forEach((function(t,n){ik(e,t)})),[2]}))}))}.bind(null,e),Ri:function(e,t){return eo(this,void 0,void 0,(function(){return to(this,(function(n){return ck(e),sk(e)?(e.Br.Nr(t),ak(e)):e.Br.set("Unknown"),[2]}))}))}.bind(null,e),_r:lk.bind(null,e)},t.br(),new zC(n,t.Hi,t.credentials,t.R,r)),e.Mr.push((function(t){return eo(i,void 0,void 0,(function(){return to(this,(function(n){switch(n.label){case 0:return t?(e.Ur.sr(),sk(e)?ak(e):e.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,e.Ur.stop()];case 2:n.sent(),ck(e),n.label=3;case 3:return[2]}}))}))}))),e.Ur}function mk(e){var t,n,r,i=this;return e.Qr||(e.Qr=(t=e.datastore,n=e.asyncQueue,r={Ii:function(e){return eo(this,void 0,void 0,(function(){return to(this,(function(t){return mk(e).Ar(),[2]}))}))}.bind(null,e),Ri:function(e,t){return eo(this,void 0,void 0,(function(){return to(this,(function(n){switch(n.label){case 0:return t&&mk(e).pr?[4,function(e,t){return eo(this,void 0,void 0,(function(){var n,r;return to(this,(function(i){switch(i.label){case 0:return Xw(r=t.code)&&r!==tb.ABORTED?(n=e.kr.shift(),mk(e).sr(),[4,fk(e,(function(){return e.remoteSyncer.rejectFailedWrite(n.batchId,t)}))]):[3,3];case 1:return i.sent(),[4,dk(e)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}(e,t)]:[3,2];case 1:n.sent(),n.label=2;case 2:return pk(e)&&vk(e),[2]}}))}))}.bind(null,e),Ir:function(e){return eo(this,void 0,void 0,(function(){var t,n,r,i;return to(this,(function(o){for(t=mk(e),n=0,r=e.kr;n<r.length;n++)i=r[n],t.Er(i.mutations);return[2]}))}))}.bind(null,e),Tr:function(e,t,n){return eo(this,void 0,void 0,(function(){var r,i;return to(this,(function(o){switch(o.label){case 0:return r=e.kr.shift(),i=YS.from(r,t,n),[4,fk(e,(function(){return e.remoteSyncer.applySuccessfulWrite(i)}))];case 1:return o.sent(),[4,dk(e)];case 2:return o.sent(),[2]}}))}))}.bind(null,e)},t.br(),new HC(n,t.Hi,t.credentials,t.R,r)),e.Mr.push((function(t){return eo(i,void 0,void 0,(function(){return to(this,(function(n){switch(n.label){case 0:return t?(e.Qr.sr(),[4,dk(e)]):[3,2];case 1:return n.sent(),[3,4];case 2:return[4,e.Qr.stop()];case 3:n.sent(),0<e.kr.length&&(ab("RemoteStore","Stopping write stream with "+e.kr.length+" pending writes"),e.kr=[]),n.label=4;case 4:return[2]}}))}))}))),e.Qr}var bk=(_k.createAndSchedule=function(e,t,n,r,i){return(i=new _k(e,t,Date.now()+n,r,i)).start(n),i},_k.prototype.start=function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)},_k.prototype.skipDelay=function(){return this.handleDelayElapsed()},_k.prototype.cancel=function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new nb(tb.CANCELLED,"Operation cancelled"+(e?": "+e:""))))},_k.prototype.handleDelayElapsed=function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))},_k.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},_k);function _k(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new CS,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}function wk(e,t){if(sb("AsyncQueue",t+": "+e),FS(e))return new nb(tb.UNAVAILABLE,t+": "+e);throw e}function Ek(){this.queries=new JT(nw,tw),this.onlineState="Unknown",this.Gr=new Set}var Sk=(xk.emptySet=function(e){return new xk(e.comparator)},xk.prototype.has=function(e){return null!=this.keyedMap.get(e)},xk.prototype.get=function(e){return this.keyedMap.get(e)},xk.prototype.first=function(){return this.sortedSet.minKey()},xk.prototype.last=function(){return this.sortedSet.maxKey()},xk.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},xk.prototype.indexOf=function(e){return(e=this.keyedMap.get(e))?this.sortedSet.indexOf(e):-1},Object.defineProperty(xk.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),xk.prototype.forEach=function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))},xk.prototype.add=function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))},xk.prototype.delete=function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this},xk.prototype.isEqual=function(e){if(!(e instanceof xk))return!1;if(this.size!==e.size)return!1;for(var t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();t.hasNext();){var r=t.getNext().key,i=n.getNext().key;if(!r.isEqual(i))return!1}return!0},xk.prototype.toString=function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"},xk.prototype.copy=function(e,t){var n=new xk;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n},xk),Tk=(Ok.prototype.track=function(e){var t=e.doc.key,n=this.Kr.get(t);!n||0!==e.type&&3===n.type?this.Kr=this.Kr.insert(t,e):3===e.type&&1!==n.type?this.Kr=this.Kr.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Kr=this.Kr.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Kr=this.Kr.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Kr=this.Kr.remove(t):1===e.type&&2===n.type?this.Kr=this.Kr.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Kr=this.Kr.insert(t,{type:2,doc:e.doc}):lb()},Ok.prototype.jr=function(){var e=[];return this.Kr.inorderTraversal((function(t,n){e.push(n)})),e},Ok),Ik=(kk.fromInitialDocuments=function(e,t,n,r){var i=[];return t.forEach((function(e){i.push({type:0,doc:e})})),new kk(e,t,Sk.emptySet(t),i,n,r,!0,!1)},Object.defineProperty(kk.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),kk.prototype.isEqual=function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&tw(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0},kk),Ck=function(){this.Wr=void 0,this.listeners=[]};function kk(e,t,n,r,i,o,a,s){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=s}function Ok(){this.Kr=new Zw(Hb.comparator)}function xk(e){this.comparator=e?function(t,n){return e(t,n)||Hb.comparator(t.key,n.key)}:function(e,t){return Hb.comparator(e.key,t.key)},this.keyedMap=hE,this.sortedSet=new Zw(this.comparator)}function Pk(e,t){return eo(this,void 0,void 0,(function(){var n,r,i,o,a;return to(this,(function(s){switch(s.label){case 0:if(n=e,r=t.query,i=!1,(o=n.queries.get(r))||(i=!0,o=new Ck),!i)return[3,4];s.label=1;case 1:return s.trys.push([1,3,,4]),a=o,[4,n.onListen(r)];case 2:return a.Wr=s.sent(),[3,4];case 3:return a=wk(a=s.sent(),"Initialization of query '"+rw(t.query)+"' failed"),[2,void t.onError(a)];case 4:return n.queries.set(r,o),o.listeners.push(t),t.zr(n.onlineState),o.Wr&&t.Hr(o.Wr)&&Rk(n),[2]}}))}))}function Nk(e,t){return eo(this,void 0,void 0,(function(){var n,r,i,o,a;return to(this,(function(s){return n=e,r=t.query,i=!1,(o=n.queries.get(r))&&0<=(a=o.listeners.indexOf(t))&&(o.listeners.splice(a,1),i=0===o.listeners.length),i?[2,(n.queries.delete(r),n.onUnlisten(r))]:[2]}))}))}function Rk(e){e.Gr.forEach((function(e){e.next()}))}var Ak=(qk.prototype.Hr=function(e){if(!this.options.includeMetadataChanges){for(var t=[],n=0,r=e.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&t.push(i)}e=new Ik(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var o=!1;return this.Yr?this.Zr(e)&&(this.Jr.next(e),o=!0):this.eo(e,this.onlineState)&&(this.no(e),o=!0),this.Xr=e,o},qk.prototype.onError=function(e){this.Jr.error(e)},qk.prototype.zr=function(e){this.onlineState=e;var t=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,e)&&(this.no(this.Xr),t=!0),t},qk.prototype.eo=function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return!(this.options.so&&n||e.docs.isEmpty()&&"Offline"!==t)},qk.prototype.Zr=function(e){if(0<e.docChanges.length)return!0;var t=this.Xr&&this.Xr.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges},qk.prototype.no=function(e){e=Ik.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.Yr=!0,this.Jr.next(e)},qk),Dk=(Uk.prototype.io=function(){return"metadata"in this.payload},Uk),jk=(Fk.prototype.qn=function(e){return FE(this.R,e)},Fk.prototype.Un=function(e){return e.metadata.exists?zE(this.R,e.document,!1):s_.newNoDocument(this.qn(e.metadata.name),this.Qn(e.metadata.readTime))},Fk.prototype.Qn=DE,Fk),Lk=(Mk.prototype.oo=function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;return e.payload.namedQuery?this.queries.push(e.payload.namedQuery):e.payload.documentMetadata?(this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t):e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t),t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null},Mk.prototype.co=function(e){for(var t=new Map,n=new jk(this.R),r=0,i=e;r<i.length;r++){var o=i[r];if(o.metadata.queries)for(var a=n.qn(o.metadata.name),s=0,u=o.metadata.queries;s<u.length;s++){var c=u[s],l=(t.get(c)||pE()).add(a);t.set(c,l)}}return t},Mk.prototype.complete=function(){return eo(this,void 0,void 0,(function(){var e,t,n,r;return to(this,(function(i){switch(i.label){case 0:return[4,function(e,t,n,r){return eo(this,void 0,void 0,(function(){var i,o,a,s,u,c,l,h,f,d;return to(this,(function(p){switch(p.label){case 0:for(i=e,o=pE(),a=uE,s=fE,u=0,c=n;u<c.length;u++)l=c[u],h=t.qn(l.metadata.name),l.document&&(o=o.add(h)),a=a.insert(h,t.Un(l)),s=s.insert(h,t.Qn(l.metadata.readTime));return f=i.$n.newChangeBuffer({trackRemovals:!0}),[4,RI(i,Z_(K_(Cb.fromString("__bundle__/docs/"+r))))];case 1:return d=p.sent(),[2,i.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return NI(e,f,a,mb.min(),s).next((function(t){return f.apply(e),t})).next((function(t){return i.qe.removeMatchingKeysForTargetId(e,d.targetId).next((function(){return i.qe.addMatchingKeys(e,o,d.targetId)})).next((function(){return i.Mn.En(e,t)})).next((function(){return t}))}))}))]}}))}))}(this.localStore,new jk(this.R),this.documents,this.ro.id)];case 1:e=i.sent(),t=this.co(this.documents),n=0,r=this.queries,i.label=2;case 2:return n<r.length?(r=r[n],[4,function(e,t,n){return void 0===n&&(n=pE()),eo(this,void 0,void 0,(function(){var r,i;return to(this,(function(o){switch(o.label){case 0:return[4,RI(e,Z_(lT(t.bundledQuery)))];case 1:return r=o.sent(),[2,(i=e).persistence.runTransaction("Save named query","readwrite",(function(e){var o=DE(t.readTime);return 0<=r.snapshotVersion.compareTo(o)?i.Qe.saveNamedQuery(e,t):(o=r.withResumeToken(Pb.EMPTY_BYTE_STRING,o),i.Fn=i.Fn.insert(o.targetId,o),i.qe.updateTargetData(e,o).next((function(){return i.qe.removeMatchingKeysForTargetId(e,r.targetId)})).next((function(){return i.qe.addMatchingKeys(e,n,r.targetId)})).next((function(){return i.Qe.saveNamedQuery(e,t)})))}))]}}))}))}(this.localStore,r,t.get(r.name))]):[3,5];case 3:i.sent(),i.label=4;case 4:return n++,[3,2];case 5:return[2,(this.progress.taskState="Success",new gI(Object.assign({},this.progress),e))]}}))}))},Mk);function Mk(e,t,n){this.ro=e,this.localStore=t,this.R=n,this.queries=[],this.documents=[],this.progress=Bk(e)}function Fk(e){this.R=e}function Uk(e,t){this.payload=e,this.byteLength=t}function qk(e,t,n){this.query=e,this.Jr=t,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=n||{}}function Bk(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var Vk=function(e){this.key=e},Wk=function(e){this.key=e},zk=(Object.defineProperty(Yk.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),Yk.prototype._o=function(e,t){var n=this,r=t?t.mo:new Tk,i=(t||this).fo,o=(t||this).mutatedKeys,a=i,s=!1,u=G_(this.query)&&i.size===this.query.limit?i.last():null,c=Q_(this.query)&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),h=iw(n.query,t)?t:null,f=!!l&&n.mutatedKeys.has(l.key),d=!!h&&(h.hasLocalMutations||n.mutatedKeys.has(h.key)&&h.hasCommittedMutations);t=!1,l&&h?l.data.isEqual(h.data)?f!==d&&(r.track({type:3,doc:h}),t=!0):n.yo(l,h)||(r.track({type:2,doc:h}),t=!0,(u&&0<n.lo(h,u)||c&&n.lo(h,c)<0)&&(s=!0)):!l&&h?(r.track({type:0,doc:h}),t=!0):l&&!h&&(r.track({type:1,doc:l}),t=!0,(u||c)&&(s=!0)),t&&(o=h?(a=a.add(h),d?o.add(e):o.delete(e)):(a=a.delete(e),o.delete(e)))})),G_(this.query)||Q_(this.query))for(;a.size>this.query.limit;){var l=G_(this.query)?a.last():a.first();a=a.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{fo:a,mo:r,Nn:s,mutatedKeys:o}},Yk.prototype.yo=function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations},Yk.prototype.applyChanges=function(e,t,n){var r=this,i=this.fo;this.fo=e.fo,this.mutatedKeys=e.mutatedKeys;var o=e.mo.jr();o.sort((function(e,t){return i=e.type,o=t.type,n(i)-n(o)||r.lo(e.doc,t.doc);function n(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return lb()}}var i,o})),this.po(n);var a=t?this.Eo():[];return t=(n=0===this.ho.size&&this.current?1:0)!==this.ao,this.ao=n,0!==o.length||t?{snapshot:new Ik(this.query,e.fo,i,o,e.mutatedKeys,0==n,t,!1),To:a}:{To:a}},Yk.prototype.zr=function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({fo:this.fo,mo:new Tk,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},Yk.prototype.Io=function(e){return!this.uo.has(e)&&!!this.fo.has(e)&&!this.fo.get(e).hasLocalMutations},Yk.prototype.po=function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.uo=t.uo.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.uo=t.uo.delete(e)})),this.current=e.current)},Yk.prototype.Eo=function(){var e=this;if(!this.current)return[];var t=this.ho;this.ho=pE(),this.fo.forEach((function(t){e.Io(t.key)&&(e.ho=e.ho.add(t.key))}));var n=[];return t.forEach((function(t){e.ho.has(t)||n.push(new Wk(t))})),this.ho.forEach((function(e){t.has(e)||n.push(new Vk(e))})),n},Yk.prototype.Ao=function(e){return this.uo=e.Bn,this.ho=pE(),e=this._o(e.documents),this.applyChanges(e,!0)},Yk.prototype.Ro=function(){return Ik.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,0===this.ao)},Yk),Hk=function(e,t,n){this.query=e,this.targetId=t,this.view=n},Kk=function(e){this.key=e,this.bo=!1},Gk=(Object.defineProperty(Qk.prototype,"isPrimaryClient",{get:function(){return!0===this.Oo},enumerable:!1,configurable:!0}),Qk);function Qk(e,t,n,r,i,o){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.vo={},this.Po=new JT(nw,tw),this.Vo=new Map,this.So=new Set,this.Do=new Zw(Hb.comparator),this.Co=new Map,this.No=new BI,this.xo={},this.Fo=new Map,this.ko=AT.Yt(),this.onlineState="Unknown",this.Oo=void 0}function Yk(e,t){this.query=e,this.uo=t,this.ao=null,this.current=!1,this.ho=pE(),this.mutatedKeys=pE(),this.lo=ow(e),this.fo=new Sk(this.lo)}function $k(e,t,n,r){return eo(this,void 0,void 0,(function(){var i,o,a;return to(this,(function(s){switch(s.label){case 0:return e.$o=function(t,n,r){return function(e,t,n,r){return eo(this,void 0,void 0,(function(){var i,o;return to(this,(function(a){switch(a.label){case 0:return(i=t.view._o(n)).Nn?[4,DI(e.localStore,t.query,!1).then((function(e){return e=e.documents,t.view._o(e,i)}))]:[3,2];case 1:i=a.sent(),a.label=2;case 2:return o=r&&r.targetChanges.get(t.targetId),o=t.view.applyChanges(i,e.isPrimaryClient,o),[2,(aO(e,t.targetId,o.To),o.snapshot)]}}))}))}(e,t,n,r)},[4,DI(e.localStore,t,!0)];case 1:return o=s.sent(),a=new zk(t,o.Bn),i=a._o(o.documents),o=gE.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState),o=a.applyChanges(i,e.isPrimaryClient,o),aO(e,n,o.To),a=new Hk(t,n,a),[2,(e.Po.set(t,a),e.Vo.has(n)?e.Vo.get(n).push(t):e.Vo.set(n,[t]),o.snapshot)]}}))}))}function Xk(e,t,n){return eo(this,void 0,void 0,(function(){var r,i;return to(this,(function(o){switch(o.label){case 0:i=vO(e),o.label=1;case 1:return o.trys.push([1,5,,6]),[4,(c=i.localStore,l=t,f=c,d=gb.now(),p=l.reduce((function(e,t){return e.add(t.key)}),pE()),f.persistence.runTransaction("Locally write mutations","readwrite",(function(e){return f.Mn.pn(e,p).next((function(t){h=t;for(var n=[],r=0,i=l;r<i.length;r++){var o=i[r],a=function(e,t){for(var n=null,r=0,i=e.fieldTransforms;r<i.length;r++){var o=i[r],a=t.data.field(o.field);null!=(a=cw(o.transform,a||null))&&(n=null==n?o_.empty():n).set(o.field,a)}return n||null}(o,h.get(o.key));null!=a&&n.push(new Mw(o.key,a,function e(t){var n=[];return Eb(t.fields||{},(function(t,r){var i=new Ob([t]);if(i_(r))if(0===(r=e(r.mapValue).fields).length)n.push(i);else for(var o=0,a=r;o<a.length;o++){var s=a[o];n.push(i.child(s))}else n.push(i)})),new xb(n)}(a.toProto().mapValue),Ow.exists(!0)))}return f._n.addMutationBatch(e,d,n,l)}))})).then((function(e){return e.applyToLocalDocumentSet(h),{batchId:e.batchId,changes:h}})))];case 2:return r=o.sent(),i.sharedClientState.addPendingMutation(r.batchId),a=i,s=r.batchId,u=n,c=(c=(c=a.xo[a.currentUser.toKey()])||new Zw(pb)).insert(s,u),a.xo[a.currentUser.toKey()]=c,[4,uO(i,r.changes)];case 3:return o.sent(),[4,dk(i.remoteStore)];case 4:return o.sent(),[3,6];case 5:return i=wk(i=o.sent(),"Failed to persist write"),n.reject(i),[3,6];case 6:return[2]}var a,s,u,c,l,h,f,d,p}))}))}function Jk(e,t){return eo(this,void 0,void 0,(function(){var n,r;return to(this,(function(i){switch(i.label){case 0:n=e,i.label=1;case 1:return i.trys.push([1,4,,6]),[4,PI(n.localStore,t)];case 2:return r=i.sent(),t.targetChanges.forEach((function(e,t){(t=n.Co.get(t))&&(hb(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),0<e.addedDocuments.size?t.bo=!0:0<e.modifiedDocuments.size?hb(t.bo):0<e.removedDocuments.size&&(hb(t.bo),t.bo=!1))})),[4,uO(n,r,t)];case 3:return i.sent(),[3,6];case 4:return[4,qT(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}}))}))}function Zk(e,t,n){var r;((e=e).isPrimaryClient&&0===n||!e.isPrimaryClient&&1===n)&&(r=[],e.Po.forEach((function(e,n){(n=n.view.zr(t)).snapshot&&r.push(n.snapshot)})),function(e,t){e.onlineState=t;var n=!1;e.queries.forEach((function(e,r){for(var i=0,o=r.listeners;i<o.length;i++)o[i].zr(t)&&(n=!0)})),n&&Rk(e)}(e.eventManager,t),r.length&&e.vo._r(r),e.onlineState=t,e.isPrimaryClient&&e.sharedClientState.setOnlineState(t))}function eO(e,t,n){return eo(this,void 0,void 0,(function(){var r,i;return to(this,(function(o){switch(o.label){case 0:r=e,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,(a=r.localStore,s=t,(u=a).persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var t;return u._n.lookupMutationBatch(e,s).next((function(n){return hb(null!==n),t=n.keys(),u._n.removeMutationBatch(e,n)})).next((function(){return u._n.performConsistencyCheck(e)})).next((function(){return u.Mn.pn(e,t)}))})))];case 2:return i=o.sent(),rO(r,t,n),nO(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),[4,uO(r,i)];case 3:return o.sent(),[3,6];case 4:return[4,qT(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}var a,s,u}))}))}function tO(e,t){return eo(this,void 0,void 0,(function(){var n,r,i;return to(this,(function(o){switch(o.label){case 0:uk((n=e).remoteStore)||ab("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),o.label=1;case 1:return o.trys.push([1,3,,4]),[4,(a=n.localStore).persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return a._n.getHighestUnacknowledgedBatchId(e)}))];case 2:return-1===(r=o.sent())?[2,void t.resolve()]:((i=n.Fo.get(r)||[]).push(t),n.Fo.set(r,i),[3,4]);case 3:return i=wk(i=o.sent(),"Initialization of waitForPendingWrites() operation failed"),t.reject(i),[3,4];case 4:return[2]}var a}))}))}function nO(e,t){(e.Fo.get(t)||[]).forEach((function(e){e.resolve()})),e.Fo.delete(t)}function rO(e,t,n){var r=e,i=r.xo[r.currentUser.toKey()];i&&((e=i.get(t))&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.xo[r.currentUser.toKey()]=i)}function iO(e,t,n){void 0===n&&(n=null),e.sharedClientState.removeLocalQueryTarget(t);for(var r=0,i=e.Vo.get(t);r<i.length;r++){var o=i[r];e.Po.delete(o),n&&e.vo.Mo(o,n)}e.Vo.delete(t),e.isPrimaryClient&&e.No.Zn(t).forEach((function(t){e.No.containsKey(t)||oO(e,t)}))}function oO(e,t){e.So.delete(t.path.canonicalString());var n=e.Do.get(t);null!==n&&(rk(e.remoteStore,n),e.Do=e.Do.remove(t),e.Co.delete(n),sO(e))}function aO(e,t,n){for(var r,i,o,a=0,s=n;a<s.length;a++){var u=s[a];u instanceof Vk?(e.No.addReference(u.key,t),r=e,o=void 0,i=(o=(i=u).key).path.canonicalString(),r.Do.get(o)||r.So.has(i)||(ab("SyncEngine","New document in limbo: "+o),r.So.add(i),sO(r))):u instanceof Wk?(ab("SyncEngine","Document no longer in limbo: "+u.key),e.No.removeReference(u.key,t),e.No.containsKey(u.key)||oO(e,u.key)):lb()}}function sO(e){for(;0<e.So.size&&e.Do.size<e.maxConcurrentLimboResolutions;){var t=e.So.values().next().value;e.So.delete(t);var n=new Hb(Cb.fromString(t));t=e.ko.next(),e.Co.set(t,new Kk(n)),e.Do=e.Do.insert(n,t),nk(e.remoteStore,new $S(Z_(K_(n.path)),t,2,Jm.o))}}function uO(e,t,n){return eo(this,void 0,void 0,(function(){var r,i,o,a;return to(this,(function(s){switch(s.label){case 0:return i=[],o=[],a=[],(r=e).Po.isEmpty()?[3,3]:(r.Po.forEach((function(e,s){a.push(r.$o(s,t,n).then((function(e){e&&(r.isPrimaryClient&&r.sharedClientState.updateQueryState(s.targetId,e.fromCache?"not-current":"current"),i.push(e),e=bI.Pn(s.targetId,e),o.push(e))})))})),[4,Promise.all(a)]);case 1:return s.sent(),r.vo._r(i),[4,function(e,t){return eo(this,void 0,void 0,(function(){var n,r,i,o,a,s,u;return to(this,(function(c){switch(c.label){case 0:n=e,c.label=1;case 1:return c.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return kS.forEach(t,(function(t){return kS.forEach(t.bn,(function(r){return n.persistence.referenceDelegate.addReference(e,t.targetId,r)})).next((function(){return kS.forEach(t.vn,(function(r){return n.persistence.referenceDelegate.removeReference(e,t.targetId,r)}))}))}))}))];case 2:return c.sent(),[3,4];case 3:if(!FS(r=c.sent()))throw r;return ab("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,o=t;i<o.length;i++)u=o[i],a=u.targetId,u.fromCache||(s=n.Fn.get(a),u=s.snapshotVersion,u=s.withLastLimboFreeSnapshotVersion(u),n.Fn=n.Fn.insert(a,u));return[2]}}))}))}(r.localStore,o)];case 2:s.sent(),s.label=3;case 3:return[2]}}))}))}function cO(e,t){return eo(this,void 0,void 0,(function(){var n,r;return to(this,(function(i){switch(i.label){case 0:return(n=e).currentUser.isEqual(t)?[3,3]:(ab("SyncEngine","User change. New user:",t.toKey()),[4,kI(n.localStore,t)]);case 1:return r=i.sent(),n.currentUser=t,(o=n).Fo.forEach((function(e){e.forEach((function(e){e.reject(new nb(tb.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),o.Fo.clear(),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),[4,uO(n,r.Ln)];case 2:i.sent(),i.label=3;case 3:return[2]}var o}))}))}function lO(e,t,n,r){return eo(this,void 0,void 0,(function(){var i,o;return to(this,(function(a){switch(a.label){case 0:return[4,(s=(i=e).localStore,u=t,l=(c=s)._n,c.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return l.jt(e,u).next((function(t){return t?c.Mn.pn(e,t):kS.resolve(null)}))})))];case 1:return null===(o=a.sent())?[3,6]:"pending"!==n?[3,3]:[4,dk(i.remoteStore)];case 2:return a.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(rO(i,t,r||null),nO(i,t),i.localStore._n.Gt(t)):lb(),a.label=4;case 4:return[4,uO(i,o)];case 5:return a.sent(),[3,7];case 6:ab("SyncEngine","Cannot apply mutation batch with id: "+t),a.label=7;case 7:return[2]}var s,u,c,l}))}))}function hO(e,t){return eo(this,void 0,void 0,(function(){var n,r,i,o,a,s,u,c;return to(this,(function(l){switch(l.label){case 0:return pO(n=e),vO(n),!0!==t||!0===n.Oo?[3,3]:(r=n.sharedClientState.getAllActiveQueryTargets(),[4,fO(n,r.toArray())]);case 1:return i=l.sent(),n.Oo=!0,[4,yk(n.remoteStore,!0)];case 2:for(l.sent(),o=0,a=i;o<a.length;o++)s=a[o],nk(n.remoteStore,s);return[3,7];case 3:return!1!==t||!1===n.Oo?[3,7]:(u=[],c=Promise.resolve(),n.Vo.forEach((function(e,t){n.sharedClientState.isLocalQueryTarget(t)?u.push(t):c=c.then((function(){return iO(n,t),AI(n.localStore,t,!0)})),rk(n.remoteStore,t)})),[4,c]);case 4:return l.sent(),[4,fO(n,u)];case 5:return l.sent(),(h=n).Co.forEach((function(e,t){rk(h.remoteStore,t)})),h.No.ts(),h.Co=new Map,h.Do=new Zw(Hb.comparator),n.Oo=!1,[4,yk(n.remoteStore,!1)];case 6:l.sent(),l.label=7;case 7:return[2]}var h}))}))}function fO(e,t){return eo(this,void 0,void 0,(function(){var n,r,i,o,a,s,u,c,l,h,f,d;return to(this,(function(p){switch(p.label){case 0:n=e,r=[],i=[],o=0,a=t,p.label=1;case 1:return o<a.length?(s=a[o],u=void 0,(c=n.Vo.get(s))&&0!==c.length?[4,RI(n.localStore,Z_(c[0]))]:[3,7]):[3,13];case 2:u=p.sent(),l=0,h=c,p.label=3;case 3:return l<h.length?(f=h[l],f=n.Po.get(f),[4,function(e,t){return eo(this,void 0,void 0,(function(){var n,r;return to(this,(function(i){switch(i.label){case 0:return[4,DI((n=e).localStore,t.query,!0)];case 1:return r=i.sent(),r=t.view.Ao(r),[2,(n.isPrimaryClient&&aO(n,t.targetId,r.To),r)]}}))}))}(n,f)]):[3,6];case 4:(f=p.sent()).snapshot&&i.push(f.snapshot),p.label=5;case 5:return l++,[3,3];case 6:return[3,11];case 7:return[4,jI(n.localStore,s)];case 8:return d=p.sent(),[4,RI(n.localStore,d)];case 9:return u=p.sent(),[4,$k(n,dO(d),s,!1)];case 10:p.sent(),p.label=11;case 11:r.push(u),p.label=12;case 12:return o++,[3,1];case 13:return[2,(n.vo._r(i),r)]}}))}))}function dO(e){return H_(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function pO(e){return e.remoteStore.remoteSyncer.applyRemoteEvent=Jk.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=function(e,t){var n=e;if((e=n.Co.get(t))&&e.bo)return pE().add(e.key);var r=pE();if(!(t=n.Vo.get(t)))return r;for(var i=0,o=t;i<o.length;i++){var a=o[i];a=n.Po.get(a),r=r.unionWith(a.view.wo)}return r}.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=function(e,t,n){return eo(this,void 0,void 0,(function(){var r,i,o,a;return to(this,(function(s){switch(s.label){case 0:return(r=e).sharedClientState.updateQueryState(t,"rejected",n),a=r.Co.get(t),(i=a&&a.key)?(o=(o=new Zw(Hb.comparator)).insert(i,s_.newNoDocument(i,mb.min())),a=pE().add(i),a=new yE(mb.min(),new Map,new aE(pb),o,a),[4,Jk(r,a)]):[3,2];case 1:return s.sent(),r.Do=r.Do.remove(i),r.Co.delete(t),sO(r),[3,4];case 2:return[4,AI(r.localStore,t,!1).then((function(){return iO(r,t,n)})).catch(qT)];case 3:s.sent(),s.label=4;case 4:return[2]}}))}))}.bind(null,e),e.vo._r=function(e,t){for(var n=e,r=!1,i=0,o=t;i<o.length;i++){var a=o[i],s=a.query;if(s=n.queries.get(s)){for(var u=0,c=s.listeners;u<c.length;u++)c[u].Hr(a)&&(r=!0);s.Wr=a}}r&&Rk(n)}.bind(null,e.eventManager),e.vo.Mo=function(e,t,n){var r=e;if(e=r.queries.get(t))for(var i=0,o=e.listeners;i<o.length;i++)o[i].onError(n);r.queries.delete(t)}.bind(null,e.eventManager),e}function vO(e){return e.remoteStore.remoteSyncer.applySuccessfulWrite=function(e,t){return eo(this,void 0,void 0,(function(){var n,r,i;return to(this,(function(o){switch(o.label){case 0:n=e,r=t.batch.batchId,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,OI(n.localStore,t)];case 2:return i=o.sent(),rO(n,r,null),nO(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),[4,uO(n,i)];case 3:return o.sent(),[3,6];case 4:return[4,qT(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}}))}))}.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=eO.bind(null,e),e}function yO(e,t,n){var r=e;(function(e,t,n){return eo(this,void 0,void 0,(function(){var r,i,o,a,s;return to(this,(function(u){switch(u.label){case 0:return u.trys.push([0,14,,15]),[4,t.getMetadata()];case 1:return r=u.sent(),[4,(h=e.localStore,d=h,p=DE((f=r).createTime),d.persistence.runTransaction("hasNewerBundle","readonly",(function(e){return d.Qe.getBundleMetadata(e,f.id)})).then((function(e){return!!e&&0<=e.createTime.compareTo(p)})))];case 2:return u.sent()?[4,t.close()]:[3,4];case 3:return[2,(u.sent(),void n._completeWith({taskState:"Success",documentsLoaded:r.totalDocuments,bytesLoaded:r.totalBytes,totalDocuments:r.totalDocuments,totalBytes:r.totalBytes}))];case 4:return n._updateProgress(Bk(r)),i=new Lk(r,e.localStore,t.R),[4,t.Lo()];case 5:o=u.sent(),u.label=6;case 6:return o?[4,i.oo(o)]:[3,10];case 7:return(a=u.sent())&&n._updateProgress(a),[4,t.Lo()];case 8:o=u.sent(),u.label=9;case 9:return[3,6];case 10:return[4,i.complete()];case 11:return s=u.sent(),[4,uO(e,s.wn,void 0)];case 12:return u.sent(),[4,(h=e.localStore,c=r,(l=h).persistence.runTransaction("Save bundle","readwrite",(function(e){return l.Qe.saveBundleMetadata(e,c)})))];case 13:return u.sent(),n._completeWith(s.progress),[3,15];case 14:return ub("SyncEngine","Loading bundle failed with "+(s=u.sent())),n._failWith(s),[3,15];case 15:return[2]}var c,l,h,f,d,p}))}))})(r,t,n).then((function(){r.sharedClientState.notifyBundleLoaded()}))}var gO,mO,bO=(CO.prototype.initialize=function(e){return eo(this,void 0,void 0,(function(){return to(this,(function(t){switch(t.label){case 0:return this.R=FC(e.databaseInfo.databaseId),this.sharedClientState=this.Bo(e),this.persistence=this.qo(e),[4,this.persistence.start()];case 1:return t.sent(),this.gcScheduler=this.Uo(e),this.localStore=this.Qo(e),[2]}}))}))},CO.prototype.Uo=function(e){return null},CO.prototype.Qo=function(e){return CI(this.persistence,new _I,e.initialUser,this.R)},CO.prototype.qo=function(e){return new GI(YI.bs,this.R)},CO.prototype.Bo=function(e){return new mC},CO.prototype.terminate=function(){return eo(this,void 0,void 0,(function(){return to(this,(function(e){switch(e.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return e.sent(),[4,this.persistence.shutdown()];case 2:return e.sent(),[2]}}))}))},CO),_O=(Ji(IO,mO=bO),IO.prototype.initialize=function(e){return eo(this,void 0,void 0,(function(){return to(this,(function(t){switch(t.label){case 0:return[4,mO.prototype.initialize.call(this,e)];case 1:return t.sent(),[4,MI(this.localStore)];case 2:return t.sent(),[4,this.Ko.initialize(this,e)];case 3:return t.sent(),[4,vO(this.Ko.syncEngine)];case 4:return t.sent(),[4,dk(this.Ko.remoteStore)];case 5:return t.sent(),[2]}}))}))},IO.prototype.Qo=function(e){return CI(this.persistence,new _I,e.initialUser,this.R)},IO.prototype.Uo=function(e){var t=this.persistence.referenceDelegate.garbageCollector;return new WT(t,e.asyncQueue)},IO.prototype.qo=function(e){var t=yI(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?ST.withCacheSize(this.cacheSizeBytes):ST.DEFAULT;return new fI(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,LC(),MC(),this.R,this.sharedClientState,!!this.forceOwnership)},IO.prototype.Bo=function(e){return new mC},IO),wO=(Ji(TO,gO=_O),TO.prototype.initialize=function(e){return eo(this,void 0,void 0,(function(){var t,n=this;return to(this,(function(r){switch(r.label){case 0:return[4,gO.prototype.initialize.call(this,e)];case 1:return r.sent(),t=this.Ko.syncEngine,this.sharedClientState instanceof gC?(this.sharedClientState.syncEngine={ui:lO.bind(null,t),ai:function(e,t,n,r){return eo(this,void 0,void 0,(function(){var i,o,a;return to(this,(function(s){switch(s.label){case 0:return(i=e).Oo?(ab("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Vo.has(t))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,LI(i.localStore)];case 3:return o=s.sent(),a=yE.createSynthesizedRemoteEventForCurrentChange(t,"current"===n),[4,uO(i,o,a)];case 4:return s.sent(),[3,8];case 5:return[4,AI(i.localStore,t,!0)];case 6:return s.sent(),iO(i,t,r),[3,8];case 7:lb(),s.label=8;case 8:return[2]}}))}))}.bind(null,t),hi:function(e,t,n){return eo(this,void 0,void 0,(function(){var r,i,o,a,s,u,c,l;return to(this,(function(h){switch(h.label){case 0:if(!(r=pO(e)).Oo)return[3,10];i=0,o=t,h.label=1;case 1:return i<o.length?(o=o[i],r.Vo.has(o)?(ab("SyncEngine","Adding an already active target "+o),[3,5]):[4,jI(r.localStore,o)]):[3,6];case 2:return a=h.sent(),[4,RI(r.localStore,a)];case 3:return s=h.sent(),[4,$k(r,dO(a),s.targetId,!1)];case 4:h.sent(),nk(r.remoteStore,s),h.label=5;case 5:return i++,[3,1];case 6:u=function(e){return to(this,(function(t){switch(t.label){case 0:return r.Vo.has(e)?[4,AI(r.localStore,e,!1).then((function(){rk(r.remoteStore,e),iO(r,e)})).catch(qT)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))},c=0,l=n,h.label=7;case 7:return c<l.length?(l=l[c],[5,u(l)]):[3,10];case 8:h.sent(),h.label=9;case 9:return c++,[3,7];case 10:return[2]}}))}))}.bind(null,t),fn:function(e){return e.localStore.persistence.fn()}.bind(null,t),ci:function(e){return eo(this,void 0,void 0,(function(){var t;return to(this,(function(n){return[2,LI((t=e).localStore).then((function(e){return uO(t,e)}))]}))}))}.bind(null,t)},[4,this.sharedClientState.start()]):[3,3];case 2:r.sent(),r.label=3;case 3:return[4,this.persistence.He((function(e){return eo(n,void 0,void 0,(function(){return to(this,(function(t){switch(t.label){case 0:return[4,hO(this.Ko.syncEngine,e)];case 1:return t.sent(),this.gcScheduler&&(e&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):e||this.gcScheduler.stop()),[2]}}))}))}))];case 4:return r.sent(),[2]}}))}))},TO.prototype.Bo=function(e){var t=LC();if(!gC.yt(t))throw new nb(tb.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=yI(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new gC(t,e.asyncQueue,n,e.clientId,e.initialUser)},TO),EO=(SO.prototype.initialize=function(e,t){return eo(this,void 0,void 0,(function(){var n=this;return to(this,(function(r){switch(r.label){case 0:return this.localStore?[3,2]:(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return Zk(n.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=cO.bind(null,this.syncEngine),[4,yk(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:r.sent(),r.label=2;case 2:return[2]}}))}))},SO.prototype.createEventManager=function(e){return new Ek},SO.prototype.createDatastore=function(e){var t=FC(e.databaseInfo.databaseId),n=(n=e.databaseInfo,new SC(n));return e=e.credentials,new KC(e,n,t)},SO.prototype.createRemoteStore=function(e){var t=this;return new UC(this.localStore,this.datastore,e.asyncQueue,(function(e){return Zk(t.syncEngine,e,0)}),e=new(_C.yt()?_C:bC))},SO.prototype.createSyncEngine=function(e,t){return function(e,t,n,r,i,o,a){return o=new Gk(e,t,n,r,i,o),a&&(o.Oo=!0),o}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)},SO.prototype.terminate=function(){return function(e){return eo(this,void 0,void 0,(function(){var t;return to(this,(function(n){switch(n.label){case 0:return t=e,ab("RemoteStore","RemoteStore shutting down."),t.$r.add(5),[4,tk(t)];case 1:return n.sent(),t.Lr.shutdown(),t.Br.set("Unknown"),[2]}}))}))}(this.remoteStore)},SO);function SO(){}function TO(e,t){var n=this;return(n=gO.call(this,e,t,!1)||this).Ko=e,n.cacheSizeBytes=t,n.synchronizeTabs=!0,n}function IO(e,t,n){var r=this;return(r=mO.call(this)||this).Ko=e,r.cacheSizeBytes=t,r.forceOwnership=n,r.synchronizeTabs=!1,r}function CO(){this.synchronizeTabs=!1}function kO(e,t){void 0===t&&(t=10240);var n=0;return{read:function(){return eo(this,void 0,void 0,(function(){var r;return to(this,(function(i){return n<e.byteLength?(r={value:e.slice(n,n+t),done:!1},[2,(n+=t,r)]):[2,{done:!0}]}))}))},cancel:function(){return eo(this,void 0,void 0,(function(){return to(this,(function(e){return[2]}))}))},releaseLock:function(){},closed:Promise.reject("unimplemented")}}var OO=(MO.prototype.next=function(e){this.observer.next&&this.jo(this.observer.next,e)},MO.prototype.error=function(e){this.observer.error?this.jo(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)},MO.prototype.Wo=function(){this.muted=!0},MO.prototype.jo=function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)},MO),xO=(LO.prototype.close=function(){return this.Go.cancel()},LO.prototype.getMetadata=function(){return eo(this,void 0,void 0,(function(){return to(this,(function(e){return[2,this.metadata.promise]}))}))},LO.prototype.Lo=function(){return eo(this,void 0,void 0,(function(){return to(this,(function(e){switch(e.label){case 0:return[4,this.getMetadata()];case 1:return[2,(e.sent(),this.Ho())]}}))}))},LO.prototype.Ho=function(){return eo(this,void 0,void 0,(function(){var e,t,n;return to(this,(function(r){switch(r.label){case 0:return[4,this.Jo()];case 1:return null===(e=r.sent())?[2,null]:(n=this.zo.decode(e),t=Number(n),isNaN(t)&&this.Yo("length string ("+n+") is not valid number"),[4,this.Xo(t)]);case 2:return n=r.sent(),[2,new Dk(JSON.parse(n),e.length+t)]}}))}))},LO.prototype.Zo=function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))},LO.prototype.Jo=function(){return eo(this,void 0,void 0,(function(){var e,t;return to(this,(function(n){switch(n.label){case 0:return this.Zo()<0?[4,this.tc()]:[3,3];case 1:if(n.sent())return[3,3];n.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((e=this.Zo())<0&&this.Yo("Reached the end of bundle when a length string is expected."),t=this.buffer.slice(0,e),[2,(this.buffer=this.buffer.slice(e),t)])}}))}))},LO.prototype.Xo=function(e){return eo(this,void 0,void 0,(function(){var t;return to(this,(function(n){switch(n.label){case 0:return this.buffer.length<e?[4,this.tc()]:[3,3];case 1:n.sent()&&this.Yo("Reached the end of bundle when more is expected."),n.label=2;case 2:return[3,0];case 3:return t=this.zo.decode(this.buffer.slice(0,e)),[2,(this.buffer=this.buffer.slice(e),t)]}}))}))},LO.prototype.Yo=function(e){throw this.Go.cancel(),new Error("Invalid bundle format: "+e)},LO.prototype.tc=function(){return eo(this,void 0,void 0,(function(){var e,t;return to(this,(function(n){switch(n.label){case 0:return[4,this.Go.read()];case 1:return(e=n.sent()).done||((t=new Uint8Array(this.buffer.length+e.value.length)).set(this.buffer),t.set(e.value,this.buffer.length),this.buffer=t),[2,e.done]}}))}))},LO),PO=(jO.prototype.lookup=function(e){return eo(this,void 0,void 0,(function(){var t,n=this;return to(this,(function(r){switch(r.label){case 0:if(this.ensureCommitNotCalled(),0<this.mutations.length)throw new nb(tb.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(e,t){return eo(this,void 0,void 0,(function(){var n,r,i,o,a;return to(this,(function(s){switch(s.label){case 0:return r=BE((n=e).R)+"/documents",i={documents:t.map((function(e){return ME(n.R,e)}))},[4,n.Oi("BatchGetDocuments",r,i)];case 1:return i=s.sent(),o=new Map,i.forEach((function(e){var t;t=n.R,e="found"in(e=e)?function(e,t){hb(!!t.found),t.found.name,t.found.updateTime;var n=FE(e,t.found.name);return e=DE(t.found.updateTime),t=new o_({mapValue:{fields:t.found.fields}}),s_.newFoundDocument(n,e,t)}(t,e):"missing"in e?function(e,t){return hb(!!t.missing),hb(!!t.readTime),e=FE(e,t.missing),t=DE(t.readTime),s_.newNoDocument(e,t)}(t,e):lb(),o.set(e.key.toString(),e)})),a=[],[2,(t.forEach((function(e){hb(!!(e=o.get(e.toString()))),a.push(e)})),a)]}}))}))}(this.datastore,e)];case 1:return[2,((t=r.sent()).forEach((function(e){return n.recordVersion(e)})),t)]}}))}))},jO.prototype.set=function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())},jO.prototype.update=function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())},jO.prototype.delete=function(e){this.write(new Gw(e,this.precondition(e))),this.writtenDocs.add(e.toString())},jO.prototype.commit=function(){return eo(this,void 0,void 0,(function(){var e,t=this;return to(this,(function(n){switch(n.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return e=this.readVersions,this.mutations.forEach((function(t){e.delete(t.key.toString())})),e.forEach((function(e,n){n=Hb.fromPath(n),t.mutations.push(new Qw(n,t.precondition(n)))})),[4,function(e,t){return eo(this,void 0,void 0,(function(){var n,r,i;return to(this,(function(o){switch(o.label){case 0:return r=BE((n=e).R)+"/documents",i={writes:t.map((function(e){return HE(n.R,e)}))},[4,n.Ni("Commit",r,i)];case 1:return o.sent(),[2]}}))}))}(this.datastore,this.mutations)];case 1:return n.sent(),this.committed=!0,[2]}}))}))},jO.prototype.recordVersion=function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw lb();t=mb.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new nb(tb.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)},jO.prototype.precondition=function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?Ow.updateTime(t):Ow.none()},jO.prototype.preconditionForUpdate=function(e){var t=this.readVersions.get(e.toString());if(this.writtenDocs.has(e.toString())||!t)return Ow.exists(!0);if(t.isEqual(mb.min()))throw new nb(tb.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Ow.updateTime(t)},jO.prototype.write=function(e){this.ensureCommitNotCalled(),this.mutations.push(e)},jO.prototype.ensureCommitNotCalled=function(){},jO),NO=(DO.prototype.run=function(){this.nc()},DO.prototype.nc=function(){var e=this;this.Zi.ji((function(){return eo(e,void 0,void 0,(function(){var e,t,n=this;return to(this,(function(r){return e=new PO(this.datastore),(t=this.sc(e))&&t.then((function(t){n.asyncQueue.enqueueAndForget((function(){return e.commit().then((function(){n.deferred.resolve(t)})).catch((function(e){n.ic(e)}))}))})).catch((function(e){n.ic(e)})),[2]}))}))}))},DO.prototype.sc=function(e){try{var t=this.updateFunction(e);return!Vb(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}},DO.prototype.ic=function(e){var t=this;0<this.ec&&this.rc(e)?(--this.ec,this.asyncQueue.enqueueAndForget((function(){return t.nc(),Promise.resolve()}))):this.deferred.reject(e)},DO.prototype.rc=function(e){return"FirebaseError"===e.name&&("aborted"===(e=e.code)||"failed-precondition"===e||!Xw(e))},DO),RO=(AO.prototype.getConfiguration=function(){return eo(this,void 0,void 0,(function(){return to(this,(function(e){switch(e.label){case 0:return[4,this.receivedInitialUser.promise];case 1:return[2,(e.sent(),{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100})]}}))}))},AO.prototype.setCredentialChangeListener=function(e){var t=this;this.credentialListener=e,this.receivedInitialUser.promise.then((function(){return t.credentialListener(t.user)}))},AO.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new nb(tb.FAILED_PRECONDITION,"The client has already been terminated.")},AO.prototype.terminate=function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new CS;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((function(){return eo(e,void 0,void 0,(function(){var e;return to(this,(function(n){switch(n.label){case 0:return n.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:n.sent(),n.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:n.sent(),n.label=4;case 4:return this.credentials.removeChangeListener(),t.resolve(),[3,6];case 5:return e=wk(e=n.sent(),"Failed to shutdown persistence"),t.reject(e),[3,6];case 6:return[2]}}))}))})),t.promise},AO);function AO(e,t,n){var r=this;this.credentials=e,this.asyncQueue=t,this.databaseInfo=n,this.user=$I.UNAUTHENTICATED,this.clientId=fb.u(),this.credentialListener=function(){},this.receivedInitialUser=new CS,this.credentials.setChangeListener((function(e){ab("FirestoreClient","Received user=",e.uid),r.user=e,r.credentialListener(e),r.receivedInitialUser.resolve()}))}function DO(e,t,n,r){this.asyncQueue=e,this.datastore=t,this.updateFunction=n,this.deferred=r,this.ec=5,this.Zi=new WC(this.asyncQueue,"transaction_retry")}function jO(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}function LO(e,t){var n=this;this.Go=e,this.R=t,this.metadata=new CS,this.buffer=new Uint8Array,this.zo=new TextDecoder("utf-8"),this.Ho().then((function(e){e&&e.io()?n.metadata.resolve(e.payload.metadata):n.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==e?void 0:e.payload)))}),(function(e){return n.metadata.reject(e)}))}function MO(e){this.observer=e,this.muted=!1}function FO(e,t){return eo(this,void 0,void 0,(function(){var n,r,i=this;return to(this,(function(o){switch(o.label){case 0:return e.asyncQueue.verifyOperationInProgress(),ab("FirestoreClient","Initializing OfflineComponentProvider"),[4,e.getConfiguration()];case 1:return n=o.sent(),[4,t.initialize(n)];case 2:return o.sent(),r=n.initialUser,e.setCredentialChangeListener((function(n){r.isEqual(n)||(r=n,e.asyncQueue.enqueueRetryable((function(){return eo(i,void 0,void 0,(function(){return to(this,(function(e){switch(e.label){case 0:return[4,kI(t.localStore,n)];case 1:return e.sent(),[2]}}))}))})))})),t.persistence.setDatabaseDeletedListener((function(){return e.terminate()})),e.offlineComponents=t,[2]}}))}))}function UO(e,t){return eo(this,void 0,void 0,(function(){var n,r;return to(this,(function(i){switch(i.label){case 0:return e.asyncQueue.verifyOperationInProgress(),[4,qO(e)];case 1:return n=i.sent(),ab("FirestoreClient","Initializing OnlineComponentProvider"),[4,e.getConfiguration()];case 2:return r=i.sent(),[4,t.initialize(n,r)];case 3:return i.sent(),e.setCredentialChangeListener((function(n){return e.asyncQueue.enqueueRetryable((function(){return function(e,t){return eo(this,void 0,void 0,(function(){var n,r;return to(this,(function(i){switch(i.label){case 0:return(n=e).asyncQueue.verifyOperationInProgress(),ab("RemoteStore","RemoteStore received new credentials"),r=uk(n),n.$r.add(3),[4,tk(n)];case 1:return i.sent(),r&&n.Br.set("Unknown"),[4,n.remoteSyncer.handleCredentialChange(t)];case 2:return i.sent(),n.$r.delete(3),[4,ek(n)];case 3:return i.sent(),[2]}}))}))}(t.remoteStore,n)}))})),e.onlineComponents=t,[2]}}))}))}function qO(e){return eo(this,void 0,void 0,(function(){return to(this,(function(t){switch(t.label){case 0:return e.offlineComponents?[3,2]:(ab("FirestoreClient","Using default OfflineComponentProvider"),[4,FO(e,new bO)]);case 1:t.sent(),t.label=2;case 2:return[2,e.offlineComponents]}}))}))}function BO(e){return eo(this,void 0,void 0,(function(){return to(this,(function(t){switch(t.label){case 0:return e.onlineComponents?[3,2]:(ab("FirestoreClient","Using default OnlineComponentProvider"),[4,UO(e,new EO)]);case 1:t.sent(),t.label=2;case 2:return[2,e.onlineComponents]}}))}))}function VO(e){return qO(e).then((function(e){return e.persistence}))}function WO(e){return qO(e).then((function(e){return e.localStore}))}function zO(e){return BO(e).then((function(e){return e.remoteStore}))}function HO(e){return BO(e).then((function(e){return e.syncEngine}))}function KO(e){return eo(this,void 0,void 0,(function(){var t,n;return to(this,(function(r){switch(r.label){case 0:return[4,BO(e)];case 1:return t=r.sent(),[2,((n=t.eventManager).onListen=function(e,t){return eo(this,void 0,void 0,(function(){var n,r,i,o,a;return to(this,(function(s){switch(s.label){case 0:return n=pO(e),(a=n.Po.get(t))?(r=a.targetId,n.sharedClientState.addLocalQueryTarget(r),i=a.view.Ro(),[3,4]):[3,1];case 1:return[4,RI(n.localStore,Z_(t))];case 2:return o=s.sent(),a=n.sharedClientState.addLocalQueryTarget(o.targetId),r=o.targetId,[4,$k(n,t,r,"current"===a)];case 3:i=s.sent(),n.isPrimaryClient&&nk(n.remoteStore,o),s.label=4;case 4:return[2,i]}}))}))}.bind(null,t.syncEngine),n.onUnlisten=function(e,t){return eo(this,void 0,void 0,(function(){var n,r,i;return to(this,(function(o){switch(o.label){case 0:return r=(n=e).Po.get(t),1<(i=n.Vo.get(r.targetId)).length?[2,(n.Vo.set(r.targetId,i.filter((function(e){return!tw(e,t)}))),void n.Po.delete(t))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)?[3,2]:[4,AI(n.localStore,r.targetId,!1).then((function(){n.sharedClientState.clearQueryState(r.targetId),rk(n.remoteStore,r.targetId),iO(n,r.targetId)})).catch(qT)]):[3,3];case 1:o.sent(),o.label=2;case 2:return[3,5];case 3:return iO(n,r.targetId),[4,AI(n.localStore,r.targetId,!0)];case 4:o.sent(),o.label=5;case 5:return[2]}}))}))}.bind(null,t.syncEngine),n)]}}))}))}function GO(e,t,n){var r=this;void 0===n&&(n={});var i=new CS;return e.asyncQueue.enqueueAndForget((function(){return eo(r,void 0,void 0,(function(){var r;return to(this,(function(o){switch(o.label){case 0:return r=function(e,t,n,r,i){var o=new OO({next:function(o){t.enqueueAndForget((function(){return Nk(e,a)}));var s=o.docs.has(n);!s&&o.fromCache?i.reject(new nb(tb.UNAVAILABLE,"Failed to get document because the client is offline.")):s&&o.fromCache&&r&&"server"===r.source?i.reject(new nb(tb.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:function(e){return i.reject(e)}}),a=new Ak(K_(n.path),o,{includeMetadataChanges:!0,so:!0});return Pk(e,a)},[4,KO(e)];case 1:return[2,r.apply(void 0,[o.sent(),e.asyncQueue,t,n,i])]}}))}))})),i.promise}function QO(e,t,n){var r=this;void 0===n&&(n={});var i=new CS;return e.asyncQueue.enqueueAndForget((function(){return eo(r,void 0,void 0,(function(){var r;return to(this,(function(o){switch(o.label){case 0:return r=function(e,t,n,r,i){var o=new OO({next:function(n){t.enqueueAndForget((function(){return Nk(e,a)})),n.fromCache&&"server"===r.source?i.reject(new nb(tb.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),a=new Ak(n,o,{includeMetadataChanges:!0,so:!0});return Pk(e,a)},[4,KO(e)];case 1:return[2,r.apply(void 0,[o.sent(),e.asyncQueue,t,n,i])]}}))}))})),i.promise}function YO(e,t){this.user=t,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+e}var $O=function(e,t,n,r,i,o,a){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a},XO=(Object.defineProperty(sx.prototype,"isDefaultDatabase",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),sx.prototype.isEqual=function(e){return e instanceof sx&&e.projectId===this.projectId&&e.database===this.database},sx),JO=new Map,ZO=(ax.prototype.getToken=function(){return Promise.resolve(null)},ax.prototype.invalidateToken=function(){},ax.prototype.setChangeListener=function(e){(this.changeListener=e)($I.UNAUTHENTICATED)},ax.prototype.removeChangeListener=function(){this.changeListener=null},ax),ex=(ox.prototype.getToken=function(){var e=this,t=this.cc,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.cc!==t?(ab("FirebaseCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(hb("string"==typeof n.accessToken),new YO(n.accessToken,e.currentUser)):null})):Promise.resolve(null)},ox.prototype.invalidateToken=function(){this.forceRefresh=!0},ox.prototype.setChangeListener=function(e){this.changeListener=e,this.receivedInitialUser&&e(this.currentUser)},ox.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.oc),this.oc=null,this.changeListener=null},ox.prototype.uc=function(){var e=this.auth&&this.auth.getUid();return hb(null===e||"string"==typeof e),new $I(e)},ox),tx=(Object.defineProperty(ix.prototype,"authHeaders",{get:function(){var e={"X-Goog-AuthUser":this.hc},t=this.ac.auth.getAuthHeaderValueForFirstParty([]);return t&&(e.Authorization=t),this.lc&&(e["X-Goog-Iam-Authorization-Token"]=this.lc),e},enumerable:!1,configurable:!0}),ix),nx=(rx.prototype.getToken=function(){return Promise.resolve(new tx(this.ac,this.hc,this.lc))},rx.prototype.setChangeListener=function(e){e($I.FIRST_PARTY)},rx.prototype.removeChangeListener=function(){},rx.prototype.invalidateToken=function(){},rx);function rx(e,t,n){this.ac=e,this.hc=t,this.lc=n}function ix(e,t,n){this.ac=e,this.hc=t,this.lc=n,this.type="FirstParty",this.user=$I.FIRST_PARTY}function ox(e){var t=this;this.oc=null,this.currentUser=$I.UNAUTHENTICATED,this.receivedInitialUser=!1,this.cc=0,this.changeListener=null,this.forceRefresh=!1,this.oc=function(){t.cc++,t.currentUser=t.uc(),t.receivedInitialUser=!0,t.changeListener&&t.changeListener(t.currentUser)},this.cc=0,this.auth=e.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.oc):(this.oc(null),e.get().then((function(e){t.auth=e,t.oc&&t.auth.addAuthTokenListener(t.oc)}),(function(){})))}function ax(){this.changeListener=null}function sx(e,t){this.projectId=e,this.database=t||"(default)"}function ux(e,t,n){if(!n)throw new nb(tb.INVALID_ARGUMENT,"Function "+e+"() cannot be called with an empty "+t+".")}function cx(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new nb(tb.INVALID_ARGUMENT,"Invalid options passed to function "+e+'(): You cannot specify both "merge" and "mergeFields".');return t}function lx(e,t,n,r){if(!0===t&&!0===r)throw new nb(tb.INVALID_ARGUMENT,e+" and "+n+" cannot be used together.")}function hx(e){if(!Hb.isDocumentKey(e))throw new nb(tb.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e+" has "+e.length+".")}function fx(e){if(Hb.isDocumentKey(e))throw new nb(tb.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+e+" has "+e.length+".")}function dx(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return 20<e.length&&(e=e.substring(0,20)+"..."),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"!=typeof e)return"function"==typeof e?"a function":lb();if(e instanceof Array)return"an array";var t=function(){if(e.constructor){var t=/function\s+([^\s(]+)\s*\(/.exec(e.constructor.toString());if(t&&1<t.length)return t[1]}return null}();return t?"a custom "+t+" object":"an object"}function px(e,t){if((e="_delegate"in e?e._delegate:e)instanceof t)return e;if(t.name===e.constructor.name)throw new nb(tb.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");throw e=dx(e),new nb(tb.INVALID_ARGUMENT,"Expected type '"+t.name+"', but it was: "+e)}function vx(e,t){if(t<=0)throw new nb(tb.INVALID_ARGUMENT,"Function "+e+"() requires a positive number, but it was: "+t+".")}var yx,gx=(Cx.prototype.isEqual=function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties},Cx),mx=(Object.defineProperty(Ix.prototype,"app",{get:function(){if(!this._app)throw new nb(tb.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(Ix.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(Ix.prototype,"_terminated",{get:function(){return void 0!==this._terminateTask},enumerable:!1,configurable:!0}),Ix.prototype._setSettings=function(e){if(this._settingsFrozen)throw new nb(tb.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new gx(e),void 0!==e.credentials&&(this._credentials=function(e){if(!e)return new ZO;switch(e.type){case"gapi":var t=e.client;return hb(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new nx(t,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new nb(tb.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(e.credentials))},Ix.prototype._getSettings=function(){return this._settings},Ix.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},Ix.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},Ix.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},Ix.prototype._terminate=function(){return(e=JO.get(this))&&(ab("ComponentProvider","Removing Datastore"),JO.delete(this),e.terminate()),Promise.resolve();var e},Ix),bx=(Object.defineProperty(Tx.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(Tx.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(Tx.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(Tx.prototype,"parent",{get:function(){return new wx(this.firestore,this.converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),Tx.prototype.withConverter=function(e){return new Tx(this.firestore,e,this._key)},Tx),_x=(Sx.prototype.withConverter=function(e){return new Sx(this.firestore,e,this._query)},Sx),wx=(Ji(Ex,yx=_x),Object.defineProperty(Ex.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(Ex.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(Ex.prototype,"parent",{get:function(){var e=this._path.popLast();return e.isEmpty()?null:new bx(this.firestore,null,new Hb(e))},enumerable:!1,configurable:!0}),Ex.prototype.withConverter=function(e){return new Ex(this.firestore,e,this._path)},Ex);function Ex(e,t,n){var r=this;return(r=yx.call(this,e,t,K_(n))||this)._path=n,r.type="collection",r}function Sx(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}function Tx(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}function Ix(e,t){this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new gx({}),this._settingsFrozen=!1,e instanceof XO?(this._databaseId=e,this._credentials=new ZO):(this._app=e,this._databaseId=function(e){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new nb(tb.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new XO(e.options.projectId)}(e),this._credentials=new ex(t))}function Cx(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new nb(tb.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new nb(tb.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,lx("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}function kx(e,t){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(e=ta(e),ux("collection","path",t),e instanceof mx)return fx(n=Cb.fromString.apply(Cb,io([t],r))),new wx(e,null,n);if(!(e instanceof bx||e instanceof wx))throw new nb(tb.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return fx(n=Cb.fromString.apply(Cb,io([e.path],r)).child(Cb.fromString(t))),new wx(e.firestore,null,n)}function Ox(e,t){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(e=ta(e),ux("doc","path",t=1===arguments.length?fb.u():t),e instanceof mx)return hx(n=Cb.fromString.apply(Cb,io([t],r))),new bx(e,null,new Hb(n));if(!(e instanceof bx||e instanceof wx))throw new nb(tb.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return hx(n=e._path.child(Cb.fromString.apply(Cb,io([t],r)))),new bx(e.firestore,e instanceof wx?e.converter:null,new Hb(n))}function xx(e,t){return e=ta(e),t=ta(t),(e instanceof bx||e instanceof wx)&&(t instanceof bx||t instanceof wx)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function Px(e,t){return e=ta(e),t=ta(t),e instanceof _x&&t instanceof _x&&e.firestore===t.firestore&&tw(e._query,t._query)&&e.converter===t.converter}var Nx=(Object.defineProperty(Rx.prototype,"isShuttingDown",{get:function(){return this.wc},enumerable:!1,configurable:!0}),Rx.prototype.enqueueAndForget=function(e){this.enqueue(e)},Rx.prototype.enqueueAndForgetEvenWhileRestricted=function(e){this.Tc(),this.Ic(e)},Rx.prototype.enterRestrictedMode=function(){var e;this.wc||(this.wc=!0,(e=MC())&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.Ec))},Rx.prototype.enqueue=function(e){return this.Tc(),this.wc?new Promise((function(e){})):this.Ic(e)},Rx.prototype.enqueueRetryable=function(e){var t=this;this.enqueueAndForget((function(){return t.dc.push(e),t.Ac()}))},Rx.prototype.Ac=function(){return eo(this,void 0,void 0,(function(){var e,t=this;return to(this,(function(n){switch(n.label){case 0:if(0===this.dc.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.dc[0]()];case 2:return n.sent(),this.dc.shift(),this.Zi.reset(),[3,4];case 3:if(!FS(e=n.sent()))throw e;return ab("AsyncQueue","Operation failed with retryable error: "+e),[3,4];case 4:0<this.dc.length&&this.Zi.ji((function(){return t.Ac()})),n.label=5;case 5:return[2]}}))}))},Rx.prototype.Ic=function(e){var t=this,n=this.fc.then((function(){return t.yc=!0,e().catch((function(e){throw t.mc=e,t.yc=!1,sb("INTERNAL UNHANDLED ERROR: ",(r=(n=e).message||"",r=n.stack?n.stack.includes(n.message)?n.stack:n.message+"\n"+n.stack:r)),e;var n,r})).then((function(e){return t.yc=!1,e}))}));return this.fc=n},Rx.prototype.enqueueAfterDelay=function(e,t,n){var r=this;return this.Tc(),-1<this.gc.indexOf(e)&&(t=0),n=bk.createAndSchedule(this,e,t,n,(function(e){return r.Rc(e)})),this._c.push(n),n},Rx.prototype.Tc=function(){this.mc&&lb()},Rx.prototype.verifyOperationInProgress=function(){},Rx.prototype.bc=function(){return eo(this,void 0,void 0,(function(){var e;return to(this,(function(t){switch(t.label){case 0:return[4,e=this.fc];case 1:t.sent(),t.label=2;case 2:if(e!==this.fc)return[3,0];t.label=3;case 3:return[2]}}))}))},Rx.prototype.vc=function(e){for(var t=0,n=this._c;t<n.length;t++)if(n[t].timerId===e)return!0;return!1},Rx.prototype.Pc=function(e){var t=this;return this.bc().then((function(){t._c.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));for(var n=0,r=t._c;n<r.length;n++){var i=r[n];if(i.skipDelay(),"all"!==e&&i.timerId===e)break}return t.bc()}))},Rx.prototype.Vc=function(e){this.gc.push(e)},Rx.prototype.Rc=function(e){e=this._c.indexOf(e),this._c.splice(e,1)},Rx);function Rx(){var e=this;this.fc=Promise.resolve(),this.dc=[],this.wc=!1,this._c=[],this.mc=null,this.yc=!1,this.gc=[],this.Zi=new WC(this,"async_queue_retry"),this.Ec=function(){var t=MC();t&&ab("AsyncQueue","Visibility state changed to "+t.visibilityState),e.Zi.Gi()};var t=MC();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Ec)}function Ax(e){return function(){if("object"==typeof e&&null!==e)for(var t=e,n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return 1}}()}var Dx,jx=(Fx.prototype.onProgress=function(e,t,n){this._progressObserver={next:e,error:t,complete:n}},Fx.prototype.catch=function(e){return this._taskCompletionResolver.promise.catch(e)},Fx.prototype.then=function(e,t){return this._taskCompletionResolver.promise.then(e,t)},Fx.prototype._completeWith=function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)},Fx.prototype._failWith=function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)},Fx.prototype._updateProgress=function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)},Fx),Lx=(Ji(Mx,Dx=mx),Mx.prototype._terminate=function(){return this._firestoreClient||qx(this),this._firestoreClient.terminate()},Mx);function Mx(e,t){var n=this;return(n=Dx.call(this,e,t)||this).type="firestore",n._queue=new Nx,n._persistenceKey="name"in e?e.name:"[DEFAULT]",n}function Fx(){this._progressObserver={},this._taskCompletionResolver=new CS,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}function Ux(e){return e._firestoreClient||qx(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function qx(e){var t,n,r,i=e._freezeSettings();t=e._databaseId,n=(null===(r=e._app)||void 0===r?void 0:r.options.appId)||"",r=e._persistenceKey,i=new $O(t,n,r,i.host,i.ssl,i.experimentalForceLongPolling,i.experimentalAutoDetectLongPolling),e._firestoreClient=new RO(e._credentials,e._queue,i)}function Bx(e,t,n){var r=this,i=new CS;return e.asyncQueue.enqueue((function(){return eo(r,void 0,void 0,(function(){var r;return to(this,(function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),[4,FO(e,n)];case 1:return o.sent(),[4,UO(e,t)];case 2:return o.sent(),i.resolve(),[3,4];case 3:if(!("FirebaseError"===(a=r=o.sent()).name?a.code===tb.FAILED_PRECONDITION||a.code===tb.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&a instanceof DOMException)||22===a.code||20===a.code||11===a.code))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}var a}))}))})).then((function(){return i.promise}))}function Vx(e){if(e._initialized||e._terminated)throw new nb(tb.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var Wx=(eP.prototype.isEqual=function(e){return this._internalPath.isEqual(e._internalPath)},eP),zx=(Zx.fromBase64String=function(e){try{return new Zx(Pb.fromBase64String(e))}catch(e){throw new nb(tb.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}},Zx.fromUint8Array=function(e){return new Zx(Pb.fromUint8Array(e))},Zx.prototype.toBase64=function(){return this._byteString.toBase64()},Zx.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},Zx.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},Zx.prototype.isEqual=function(e){return this._byteString.isEqual(e._byteString)},Zx),Hx=function(e){this._methodName=e},Kx=(Object.defineProperty(Jx.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(Jx.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),Jx.prototype.isEqual=function(e){return this._lat===e._lat&&this._long===e._long},Jx.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},Jx.prototype._compareTo=function(e){return pb(this._lat,e._lat)||pb(this._long,e._long)},Jx),Gx=/^__.*__$/,Qx=(Xx.prototype.toMutation=function(e,t){return null!==this.fieldMask?new Mw(e,this.data,this.fieldMask,t,this.fieldTransforms):new Lw(e,this.data,t,this.fieldTransforms)},Xx),Yx=($x.prototype.toMutation=function(e,t){return new Mw(e,this.data,this.fieldMask,t,this.fieldTransforms)},$x);function $x(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}function Xx(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}function Jx(e,t){if(!isFinite(e)||e<-90||90<e)throw new nb(tb.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||180<t)throw new nb(tb.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}function Zx(e){this._byteString=e}function eP(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=0;n<e.length;++n)if(0===e[n].length)throw new nb(tb.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ob(e)}function tP(e){switch(e){case 0:case 2:case 1:return 1;case 3:case 4:return;default:throw lb()}}var nP=(Object.defineProperty(oP.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(oP.prototype,"Dc",{get:function(){return this.settings.Dc},enumerable:!1,configurable:!0}),oP.prototype.Cc=function(e){return new oP(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},oP.prototype.Nc=function(e){var t=null===(t=this.path)||void 0===t?void 0:t.child(e);return(t=this.Cc({path:t,xc:!1})).Fc(e),t},oP.prototype.kc=function(e){var t;return e=null===(t=this.path)||void 0===t?void 0:t.child(e),(e=this.Cc({path:e,xc:!1})).Sc(),e},oP.prototype.Oc=function(e){return this.Cc({path:void 0,xc:!0})},oP.prototype.$c=function(e){return DP(e,this.settings.methodName,this.settings.Mc||!1,this.path,this.settings.Lc)},oP.prototype.contains=function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))},oP.prototype.Sc=function(){if(this.path)for(var e=0;e<this.path.length;e++)this.Fc(this.path.get(e))},oP.prototype.Fc=function(e){if(0===e.length)throw this.$c("Document fields must not be empty");if(tP(this.Dc)&&Gx.test(e))throw this.$c('Document fields cannot begin and end with "__"')},oP),rP=(iP.prototype.Bc=function(e,t,n,r){return void 0===r&&(r=!1),new nP({Dc:e,methodName:t,Lc:n,path:Ob.emptyPath(),xc:!1,Mc:r},this.databaseId,this.R,this.ignoreUndefinedProperties)},iP);function iP(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.R=n||FC(e)}function oP(e,t,n,r,i,o){this.settings=e,this.databaseId=t,this.R=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Sc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}function aP(e){var t=e._freezeSettings(),n=FC(e._databaseId);return new rP(e._databaseId,!!t.ignoreUndefinedProperties,n)}function sP(e,t,n,r,i,o){void 0===o&&(o={});var a,s,u=e.Bc(o.merge||o.mergeFields?2:0,t,n,i);if(PP("Data must be an object, but it was:",u,r),r=OP(r,u),o.merge)a=new xb(u.fieldMask),s=u.fieldTransforms;else if(o.mergeFields){for(var c=[],l=0,h=o.mergeFields;l<h.length;l++){var f=NP(t,h[l],n);if(!u.contains(f))throw new nb(tb.INVALID_ARGUMENT,"Field '"+f+"' is specified in your field mask but missing from your input data.");jP(c,f)||c.push(f)}a=new xb(c),s=u.fieldTransforms.filter((function(e){return a.covers(e.field)}))}else a=null,s=u.fieldTransforms;return new Qx(new o_(r),a,s)}var uP,cP=(Ji(lP,uP=Hx),lP.prototype._toFieldTransform=function(e){if(2!==e.Dc)throw 1===e.Dc?e.$c(this._methodName+"() can only appear at the top level of your update data"):e.$c(this._methodName+"() cannot be used with set() unless you pass {merge:true}");return e.fieldMask.push(e.path),null},lP.prototype.isEqual=function(e){return e instanceof lP},lP);function lP(){return null!==uP&&uP.apply(this,arguments)||this}function hP(e,t,n){return new nP({Dc:3,Lc:t.settings.Lc,methodName:e._methodName,xc:n},t.databaseId,t.R,t.ignoreUndefinedProperties)}var fP,dP,pP,vP,yP=(Ji(SP,vP=Hx),SP.prototype._toFieldTransform=function(e){return new kw(e.path,new fw)},SP.prototype.isEqual=function(e){return e instanceof SP},SP),gP=(Ji(EP,pP=Hx),EP.prototype._toFieldTransform=function(e){var t=hP(this,e,!0),n=this.qc.map((function(e){return kP(e,t)}));return n=new dw(n),new kw(e.path,n)},EP.prototype.isEqual=function(e){return this===e},EP),mP=(Ji(wP,dP=Hx),wP.prototype._toFieldTransform=function(e){var t=hP(this,e,!0),n=this.qc.map((function(e){return kP(e,t)}));return n=new mw(n),new kw(e.path,n)},wP.prototype.isEqual=function(e){return this===e},wP),bP=(Ji(_P,fP=Hx),_P.prototype._toFieldTransform=function(e){var t=new Ew(e.R,uw(e.R,this.Uc));return new kw(e.path,t)},_P.prototype.isEqual=function(e){return this===e},_P);function _P(e,t){var n=this;return(n=fP.call(this,e)||this).Uc=t,n}function wP(e,t){var n=this;return(n=dP.call(this,e)||this).qc=t,n}function EP(e,t){var n=this;return(n=pP.call(this,e)||this).qc=t,n}function SP(){return null!==vP&&vP.apply(this,arguments)||this}function TP(e,t,n,r){var i=e.Bc(1,t,n);PP("Data must be an object, but it was:",i,r);var o=[],a=o_.empty();return Eb(r,(function(e,r){var s=AP(t,e,n);r=ta(r),e=i.kc(s),r instanceof cP?o.push(s):null!=(e=kP(r,e))&&(o.push(s),a.set(s,e))})),r=new xb(o),new Yx(a,r,i.fieldTransforms)}function IP(e,t,n,r,i,o){var a=e.Bc(1,t,n),s=[NP(t,r,n)],u=[i];if(o.length%2!=0)throw new nb(tb.INVALID_ARGUMENT,"Function "+t+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var c=0;c<o.length;c+=2)s.push(NP(t,o[c])),u.push(o[c+1]);for(var l,h,f,d=[],p=o_.empty(),v=s.length-1;0<=v;--v)jP(d,s[v])||(l=s[v],h=ta(h=u[v]),f=a.kc(l),h instanceof cP?d.push(l):null!=(f=kP(h,f))&&(d.push(l),p.set(l,f)));return i=new xb(d),new Yx(p,i,a.fieldTransforms)}function CP(e,t,n,r){return void 0===r&&(r=!1),kP(n,e.Bc(r?4:3,t))}function kP(e,t){if(xP(e=ta(e)))return PP("Unsupported field value:",t,e),OP(e,t);if(e instanceof Hx)return function(e,t){if(!tP(t.Dc))throw t.$c(e._methodName+"() can only be used with update() and set()");if(!t.path)throw t.$c(e._methodName+"() is not currently supported inside arrays");(e=e._toFieldTransform(t))&&t.fieldTransforms.push(e)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.xc&&4!==t.Dc)throw t.$c("Nested arrays are not supported");return function(t){for(var n=[],r=0,i=0,o=e;i<o.length;i++){var a=kP(o[i],t.Oc(r));null==a&&(a={nullValue:"NULL_VALUE"}),n.push(a),r++}return{arrayValue:{values:n}}}(t)}return function(e,t){if(null===(e=ta(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return uw(t.R,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=gb.fromDate(e);return{timestampValue:RE(t.R,n)}}if(e instanceof gb)return n=new gb(e.seconds,1e3*Math.floor(e.nanoseconds/1e3)),{timestampValue:RE(t.R,n)};if(e instanceof Kx)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof zx)return{bytesValue:AE(t.R,e._byteString)};if(e instanceof bx){n=t.databaseId;var r=e.firestore._databaseId;if(!r.isEqual(n))throw t.$c("Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:jE(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.$c("Unsupported field value: "+dx(e))}(e,t)}function OP(e,t){var n={};return Sb(e)?t.path&&0<t.path.length&&t.fieldMask.push(t.path):Eb(e,(function(e,r){null!=(r=kP(r,t.Nc(e)))&&(n[e]=r)})),{mapValue:{fields:n}}}function xP(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof gb||e instanceof Kx||e instanceof zx||e instanceof bx||e instanceof Hx)}function PP(e,t,n){if(!xP(n)||"object"!=typeof(r=n)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r))throw"an object"===(n=dx(n))?t.$c(e+" a custom object"):t.$c(e+" "+n);var r}function NP(e,t,n){if((t=ta(t))instanceof Wx)return t._internalPath;if("string"==typeof t)return AP(e,t);throw DP("Field path arguments must be of type string or FieldPath.",e,!1,void 0,n)}var RP=new RegExp("[~\\*/\\[\\]]");function AP(t,n,r){if(0<=n.search(RP))throw DP("Invalid field path ("+n+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,r);try{return(new(Wx.bind.apply(Wx,io([void 0],n.split(".")))))._internalPath}catch(e){throw DP("Invalid field path ("+n+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,r)}}function DP(e,t,n,r,i){var o=r&&!r.isEmpty(),a=void 0!==i;return t="Function "+t+"() called with invalid data",n&&(t+=" (via `toFirestore()`)"),n="",(o||a)&&(n+=" (found",o&&(n+=" in field "+r),a&&(n+=" in document "+i),n+=")"),new nb(tb.INVALID_ARGUMENT,(t+=". ")+e+n)}function jP(e,t){return e.some((function(e){return e.isEqual(t)}))}var LP,MP=(Object.defineProperty(qP.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(qP.prototype,"ref",{get:function(){return new bx(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),qP.prototype.exists=function(){return null!==this._document},qP.prototype.data=function(){if(this._document){if(this._converter){var e=new FP(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.toProto())}},qP.prototype.get=function(e){if(this._document&&null!==(e=this._document.data.field(BP("DocumentSnapshot.get",e))))return this._userDataWriter.convertValue(e)},qP),FP=(Ji(UP,LP=MP),UP.prototype.data=function(){return LP.prototype.data.call(this)},UP);function UP(){return null!==LP&&LP.apply(this,arguments)||this}function qP(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}function BP(e,t){return"string"==typeof t?AP(e,t):(t instanceof Wx?t:t._delegate)._internalPath}var VP,WP,zP=(XP.prototype.isEqual=function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache},XP),HP=(Ji($P,WP=MP),$P.prototype.exists=function(){return WP.prototype.exists.call(this)},$P.prototype.data=function(e){if(void 0===e&&(e={}),this._document){if(this._converter){var t=new KP(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.toProto(),e.serverTimestamps)}},$P.prototype.get=function(e,t){if(void 0===t&&(t={}),this._document&&null!==(e=this._document.data.field(BP("DocumentSnapshot.get",e))))return this._userDataWriter.convertValue(e,t.serverTimestamps)},$P),KP=(Ji(YP,VP=HP),YP.prototype.data=function(e){return void 0===e&&(e={}),VP.prototype.data.call(this,e)},YP),GP=(Object.defineProperty(QP.prototype,"docs",{get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e},enumerable:!1,configurable:!0}),Object.defineProperty(QP.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(QP.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),QP.prototype.forEach=function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new KP(n._firestore,n._userDataWriter,r.key,r,new zP(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))},QP.prototype.docChanges=function(e){if((e=!!(e=void 0===e?{}:e).includeMetadataChanges)&&this._snapshot.excludesMetadataChanges)throw new nb(tb.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){var r=new KP(e._firestore,e._userDataWriter,t.doc.key,t.doc,new zP(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);return t.doc,{type:"added",doc:r,oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new KP(e._firestore,e._userDataWriter,t.doc.key,t.doc,new zP(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,o=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(o=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:function(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return lb()}}(t.type),doc:n,oldIndex:i,newIndex:o}}))}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges},QP);function QP(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new zP(r.hasPendingWrites,r.fromCache),this.query=n}function YP(){return null!==VP&&VP.apply(this,arguments)||this}function $P(e,t,n,r,i,o){var a=this;return(a=WP.call(this,e,t,n,r,o)||this)._firestore=e,a._firestoreImpl=e,a.metadata=i,a}function XP(e,t){this.hasPendingWrites=e,this.fromCache=t}function JP(e,t){return e instanceof HP&&t instanceof HP?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof GP&&t instanceof GP&&e._firestore===t._firestore&&Px(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}function ZP(e){if(Q_(e)&&0===e.explicitOrderBy.length)throw new nb(tb.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}function eN(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0,i=t;r<i.length;r++)e=i[r]._apply(e);return e}var tN,nN,rN,iN,oN,aN=(Ji(vN,oN=kn=function(){}),vN.prototype._apply=function(e){var t=aP(e.firestore);return t=function(e,t,n,r,i,o){if(r.isKeyField()){if("array-contains"===i||"array-contains-any"===i)throw new nb(tb.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+i+"' queries on FieldPath.documentId().");if("in"===i||"not-in"===i){mN(o,i);for(var a=[],s=0,u=o;s<u.length;s++){var c=u[s];a.push(gN(n,e,c))}l={arrayValue:{values:a}}}else l=gN(n,e,o)}else"in"!==i&&"not-in"!==i&&"array-contains-any"!==i||mN(o,i),l=CP(t,"where",o,"in"===i||"not-in"===i);var l=v_.create(r,i,l);return function(e,t){if(t.g()){var n=$_(e);if(null!==n&&!n.isEqual(t.field))throw new nb(tb.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+t.field.toString()+"'");null!==(n=Y_(e))&&bN(0,t.field,n)}if(null!==(e=function(e,t){for(var n=0,r=e.filters;n<r.length;n++){var i=r[n];if(0<=t.indexOf(i.op))return i.op}return null}(e,function(){switch(t.op){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}())))throw e===t.op?new nb(tb.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '"+t.op.toString()+"' filter."):new nb(tb.INVALID_ARGUMENT,"Invalid query. You cannot use '"+t.op.toString()+"' filters with '"+e.toString()+"' filters.")}(e,l),l}(e._query,t,e.firestore._databaseId,this.Qc,this.Kc,this.jc),new _x(e.firestore,e.converter,(t=(e=e._query).filters.concat([t]),new z_(e.path,e.collectionGroup,e.explicitOrderBy.slice(),t,e.limit,e.limitType,e.startAt,e.endAt)))},vN),sN=(Ji(pN,iN=kn),pN.prototype._apply=function(e){var t=function(e,t,n){if(null!==e.startAt)throw new nb(tb.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new nb(tb.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new B_(t,n);return t=r,null!==Y_(n=e)||null!==(e=$_(n))&&bN(0,e,t.field),r}(e._query,this.Qc,this.Wc);return new _x(e.firestore,e.converter,(t=(e=e._query).explicitOrderBy.concat([t]),new z_(e.path,e.collectionGroup,t,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)))},pN),uN=(Ji(dN,rN=kn),dN.prototype._apply=function(e){return new _x(e.firestore,e.converter,ew(e._query,this.Gc,this.zc))},dN),cN=(Ji(fN,nN=kn),fN.prototype._apply=function(e){var t=yN(e,this.type,this.Hc,this.Jc);return new _x(e.firestore,e.converter,(e=e._query,t=t,new z_(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)))},fN),lN=(Ji(hN,tN=kn),hN.prototype._apply=function(e){var t=yN(e,this.type,this.Hc,this.Jc);return new _x(e.firestore,e.converter,(e=e._query,t=t,new z_(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)))},hN);function hN(e,t,n){var r=this;return(r=tN.call(this)||this).type=e,r.Hc=t,r.Jc=n,r}function fN(e,t,n){var r=this;return(r=nN.call(this)||this).type=e,r.Hc=t,r.Jc=n,r}function dN(e,t,n){var r=this;return(r=rN.call(this)||this).type=e,r.Gc=t,r.zc=n,r}function pN(e,t){var n=this;return(n=iN.call(this)||this).Qc=e,n.Wc=t,n.type="orderBy",n}function vN(e,t,n){var r=this;return(r=oN.call(this)||this).Qc=e,r.Kc=t,r.jc=n,r.type="where",r}function yN(e,t,n,r){if(n[0]=ta(n[0]),n[0]instanceof MP)return function(e,n,r,i){if(!r)throw new nb(tb.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+t+"().");for(var o=[],a=0,s=J_(e);a<s.length;a++){var u=s[a];if(u.field.isKeyField())o.push(Zb(n,r.key));else{var c=r.data.field(u.field);if(qb(c))throw new nb(tb.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c)throw u=u.field.canonicalString(),new nb(tb.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+u+"' (used as the orderBy) does not exist.");o.push(c)}}return new j_(o,i)}(e._query,e.firestore._databaseId,n[0]._document,r);var i=aP(e.firestore);return function(e,t,n,r,i,o){var a=e.explicitOrderBy;if(i.length>a.length)throw new nb(tb.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var s=[],u=0;u<i.length;u++){var c=i[u];if(a[u].field.isKeyField()){if("string"!=typeof c)throw new nb(tb.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!X_(e)&&-1!==c.indexOf("/"))throw new nb(tb.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var l=e.path.child(Cb.fromString(c));if(!Hb.isDocumentKey(l))throw new nb(tb.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+l+"' is not because it contains an odd number of segments.");l=new Hb(l),s.push(Zb(t,l))}else c=CP(n,r,c),s.push(c)}return new j_(s,o)}(e._query,e.firestore._databaseId,i,t,n,r)}function gN(e,t,n){if("string"==typeof(n=ta(n))){if(""===n)throw new nb(tb.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!X_(t)&&-1!==n.indexOf("/"))throw new nb(tb.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");if(t=t.path.child(Cb.fromString(n)),!Hb.isDocumentKey(t))throw new nb(tb.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+t+"' is not because it has an odd number of segments ("+t.length+").");return Zb(e,new Hb(t))}if(n instanceof bx)return Zb(e,n._key);throw new nb(tb.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+dx(n)+".")}function mN(e,t){if(!Array.isArray(e)||0===e.length)throw new nb(tb.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+t.toString()+"' filters.");if(10<e.length)throw new nb(tb.INVALID_ARGUMENT,"Invalid Query. '"+t.toString()+"' filters support a maximum of 10 elements in the value array.")}function bN(e,t,n){if(!n.isEqual(t))throw new nb(tb.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+t.toString()+"' and so you must also use '"+t.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}function _N(){}function wN(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}_N.prototype.convertValue=function(e,t){switch(void 0===t&&(t="none"),Gb(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Fb(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ub(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw lb()}},_N.prototype.convertObject=function(e,t){var n=this,r={};return Eb(e.fields||{},(function(e,i){r[e]=n.convertValue(i,t)})),r},_N.prototype.convertGeoPoint=function(e){return new Kx(Fb(e.latitude),Fb(e.longitude))},_N.prototype.convertArray=function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))},_N.prototype.convertServerTimestamp=function(e,t){switch(t){case"previous":var n=function e(t){return qb(t=t.mapValue.fields.__previous_value__)?e(t):t}(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Bb(e));default:return null}},_N.prototype.convertTimestamp=function(e){return e=Mb(e),new gb(e.seconds,e.nanos)},_N.prototype.convertDocumentKey=function(e,t){var n=Cb.fromString(e);return hb(nS(n)),e=new XO(n.get(1),n.get(3)),n=new Hb(n.popFirst(5)),e.isEqual(t)||sb("Document "+n+" contains a document reference within a different database ("+e.projectId+"/"+e.database+") which is not supported. It will be treated as a reference in the current database ("+t.projectId+"/"+t.database+") instead."),n};var EN,SN=(Ji(CN,EN=H=_N),CN.prototype.convertBytes=function(e){return new zx(e)},CN.prototype.convertReference=function(e){return e=this.convertDocumentKey(e,this.firestore._databaseId),new bx(this.firestore,null,e)},CN),TN=(IN.prototype.set=function(e,t,n){return this._verifyNotCommitted(),t=wN((e=kN(e,this._firestore)).converter,t,n),n=sP(this._dataReader,"WriteBatch.set",e._key,t,null!==e.converter,n),this._mutations.push(n.toMutation(e._key,Ow.none())),this},IN.prototype.update=function(e,t,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];return this._verifyNotCommitted(),e=kN(e,this._firestore),t="string"==typeof(t=ta(t))||t instanceof Wx?IP(this._dataReader,"WriteBatch.update",e._key,t,n,r):TP(this._dataReader,"WriteBatch.update",e._key,t),this._mutations.push(t.toMutation(e._key,Ow.exists(!0))),this},IN.prototype.delete=function(e){return this._verifyNotCommitted(),e=kN(e,this._firestore),this._mutations=this._mutations.concat(new Gw(e._key,Ow.none())),this},IN.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,0<this._mutations.length?this._commitHandler(this._mutations):Promise.resolve()},IN.prototype._verifyNotCommitted=function(){if(this._committed)throw new nb(tb.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},IN);function IN(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=aP(e)}function CN(e){var t=this;return(t=EN.call(this)||this).firestore=e,t}function kN(e,t){if((e=ta(e)).firestore!==t)throw new nb(tb.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var ON,xN=(Ji(PN,ON=H),PN.prototype.convertBytes=function(e){return new zx(e)},PN.prototype.convertReference=function(e){return e=this.convertDocumentKey(e,this.firestore._databaseId),new bx(this.firestore,null,e)},PN);function PN(e){var t=this;return(t=ON.call(this)||this).firestore=e,t}function NN(e,t,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];e=px(e,bx);var o=px(e.firestore,Lx),a=aP(o);return AN(o,[("string"==typeof(t=ta(t))||t instanceof Wx?IP(a,"updateDoc",e._key,t,n,r):TP(a,"updateDoc",e._key,t)).toMutation(e._key,Ow.exists(!0))])}function RN(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];e=ta(e);var r={includeMetadataChanges:!1},i=0;"object"!=typeof t[i]||Ax(t[i])||(r=t[i],i++);var o,a,s,u,c,l,h={includeMetadataChanges:r.includeMetadataChanges};return Ax(t[i])&&(o=t[i],t[i]=null===(r=o.next)||void 0===r?void 0:r.bind(o),t[i+1]=null===(r=o.error)||void 0===r?void 0:r.bind(o),t[i+2]=null===(r=o.complete)||void 0===r?void 0:r.bind(o)),e instanceof bx?(s=px(e.firestore,Lx),u=K_(e._key.path),l={next:function(n){t[i]&&t[i](DN(s,e,n))},error:t[i+1],complete:t[i+2]}):(a=px(e,_x),s=px(a.firestore,Lx),u=a._query,c=new xN(s),l={next:function(e){t[i]&&t[i](new GP(s,c,a,e))},error:t[i+1],complete:t[i+2]},ZP(e._query)),function(e,t,n){var r=this,i=new OO(l),o=new Ak(t,i,n);return e.asyncQueue.enqueueAndForget((function(){return eo(r,void 0,void 0,(function(){var t;return to(this,(function(n){switch(n.label){case 0:return t=Pk,[4,KO(e)];case 1:return[2,t.apply(void 0,[n.sent(),o])]}}))}))})),function(){i.Wo(),e.asyncQueue.enqueueAndForget((function(){return eo(r,void 0,void 0,(function(){var t;return to(this,(function(n){switch(n.label){case 0:return t=Nk,[4,KO(e)];case 1:return[2,t.apply(void 0,[n.sent(),o])]}}))}))}))}}(Ux(s),u,h)}function AN(e,t){return function(e,t){var n=this,r=new CS;return e.asyncQueue.enqueueAndForget((function(){return eo(n,void 0,void 0,(function(){var n;return to(this,(function(i){switch(i.label){case 0:return n=Xk,[4,HO(e)];case 1:return[2,n.apply(void 0,[i.sent(),t,r])]}}))}))})),r.promise}(Ux(e),t)}function DN(e,t,n){var r=n.docs.get(t._key),i=new xN(e);return new HP(e,i,t._key,r,new zP(n.hasPendingWrites,n.fromCache),t.converter)}var jN,LN=(FN.prototype.get=function(e){var t=this,n=kN(e,this._firestore),r=new SN(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return lb();if((e=e[0]).isFoundDocument())return new MP(t._firestore,r,e.key,e,n.converter);if(e.isNoDocument())return new MP(t._firestore,r,n._key,null,n.converter);throw lb()}))},FN.prototype.set=function(e,t,n){return t=wN((e=kN(e,this._firestore)).converter,t,n),n=sP(this._dataReader,"Transaction.set",e._key,t,null!==e.converter,n),this._transaction.set(e._key,n),this},FN.prototype.update=function(e,t,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];return e=kN(e,this._firestore),t="string"==typeof(t=ta(t))||t instanceof Wx?IP(this._dataReader,"Transaction.update",e._key,t,n,r):TP(this._dataReader,"Transaction.update",e._key,t),this._transaction.update(e._key,t),this},FN.prototype.delete=function(e){return e=kN(e,this._firestore),this._transaction.delete(e._key),this},Ji(MN,jN=FN),MN.prototype.get=function(e){var t=this,n=kN(e,this._firestore),r=new xN(this._firestore);return jN.prototype.get.call(this,e).then((function(e){return new HP(t._firestore,r,n._key,e._document,new zP(!1,!1),n.converter)}))},MN);function MN(e,t){var n=this;return(n=jN.call(this,e,t)||this)._firestore=e,n}function FN(e,t){this._firestore=e,this._transaction=t,this._dataReader=aP(e)}function UN(){if("undefined"==typeof Uint8Array)throw new nb(tb.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function qN(){if("undefined"==typeof atob)throw new nb(tb.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var BN,VN=(YN.fromBase64String=function(e){return qN(),new YN(zx.fromBase64String(e))},YN.fromUint8Array=function(e){return UN(),new YN(zx.fromUint8Array(e))},YN.prototype.toBase64=function(){return qN(),this._delegate.toBase64()},YN.prototype.toUint8Array=function(){return UN(),this._delegate.toUint8Array()},YN.prototype.isEqual=function(e){return this._delegate.isEqual(e._delegate)},YN.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},YN),WN=(QN.prototype.enableIndexedDbPersistence=function(e,t){return function(e,t){Vx(e=px(e,Lx));var n=Ux(e),r=e._freezeSettings();return Bx(n,e=new EO,new _O(e,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})},QN.prototype.enableMultiTabIndexedDbPersistence=function(e){return function(e){Vx(e=px(e,Lx));var t=Ux(e),n=e._freezeSettings();return Bx(t,e=new EO,new wO(e,n.cacheSizeBytes))}(e._delegate)},QN.prototype.clearIndexedDbPersistence=function(e){return function(e){var t=this;if(e._initialized&&!e._terminated)throw new nb(tb.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new CS;return e._queue.enqueueAndForgetEvenWhileRestricted((function(){return eo(t,void 0,void 0,(function(){var t;return to(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(e){return eo(this,void 0,void 0,(function(){var t;return to(this,(function(n){switch(n.label){case 0:return xS.yt()?(t=e+"main",[4,xS.delete(t)]):[2,Promise.resolve()];case 1:return n.sent(),[2]}}))}))}(yI(e._databaseId,e._persistenceKey))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return t=r.sent(),n.reject(t),[3,3];case 3:return[2]}}))}))})),n.promise}(e._delegate)},QN),zN=(Object.defineProperty(GN.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),GN.prototype.settings=function(e){e.merge&&delete(e=Object.assign(Object.assign({},this._delegate._getSettings()),e)).merge,this._delegate._setSettings(e)},GN.prototype.useEmulator=function(e,t){var n,r;r=e,e=t,"firestore.googleapis.com"!==(t=(n=px(n=this._delegate,mx))._getSettings()).host&&t.host!==r&&ub("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},t),{host:r+":"+e,ssl:!1}))},GN.prototype.enableNetwork=function(){return function(e){var t=this;return e.asyncQueue.enqueue((function(){return eo(t,void 0,void 0,(function(){var t,n;return to(this,(function(r){switch(r.label){case 0:return[4,VO(e)];case 1:return t=r.sent(),[4,zO(e)];case 2:return n=r.sent(),[2,(t.setNetworkEnabled(!0),(i=n).$r.delete(0),ek(i))]}var i}))}))}))}(Ux(px(this._delegate,Lx)))},GN.prototype.disableNetwork=function(){return function(e){var t=this;return e.asyncQueue.enqueue((function(){return eo(t,void 0,void 0,(function(){var t,n;return to(this,(function(r){switch(r.label){case 0:return[4,VO(e)];case 1:return t=r.sent(),[4,zO(e)];case 2:return n=r.sent(),[2,(t.setNetworkEnabled(!1),function(e){return eo(this,void 0,void 0,(function(){var t;return to(this,(function(n){switch(n.label){case 0:return(t=e).$r.add(0),[4,tk(t)];case 1:return n.sent(),t.Br.set("Offline"),[2]}}))}))}(n))]}}))}))}))}(Ux(px(this._delegate,Lx)))},GN.prototype.enablePersistence=function(e){var t=!1,n=!1;return e&&lx("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this.Yc.enableMultiTabIndexedDbPersistence(this):this.Yc.enableIndexedDbPersistence(this,n)},GN.prototype.clearPersistence=function(){return this.Yc.clearIndexedDbPersistence(this)},GN.prototype.terminate=function(){return this.Xc&&(this.Xc._removeServiceInstance("firestore"),this.Xc._removeServiceInstance("firestore-exp")),this._delegate._delete()},GN.prototype.waitForPendingWrites=function(){return function(e){var t=this,n=new CS;return e.asyncQueue.enqueueAndForget((function(){return eo(t,void 0,void 0,(function(){var t;return to(this,(function(r){switch(r.label){case 0:return t=tO,[4,HO(e)];case 1:return[2,t.apply(void 0,[r.sent(),n])]}}))}))})),n.promise}(Ux(px(this._delegate,Lx)))},GN.prototype.onSnapshotsInSync=function(e){return e=e,function(e,t){var n=this,r=new OO(t);return e.asyncQueue.enqueueAndForget((function(){return eo(n,void 0,void 0,(function(){var t;return to(this,(function(n){switch(n.label){case 0:return t=function(e,t){e.Gr.add(t),t.next()},[4,KO(e)];case 1:return[2,t.apply(void 0,[n.sent(),r])]}}))}))})),function(){r.Wo(),e.asyncQueue.enqueueAndForget((function(){return eo(n,void 0,void 0,(function(){var t;return to(this,(function(n){switch(n.label){case 0:return t=function(e,t){e.Gr.delete(t)},[4,KO(e)];case 1:return[2,t.apply(void 0,[n.sent(),r])]}}))}))}))}}(Ux(px(this._delegate,Lx)),Ax(e)?e:{next:e})},Object.defineProperty(GN.prototype,"app",{get:function(){if(!this.Xc)throw new nb(tb.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.Xc},enumerable:!1,configurable:!0}),GN.prototype.collection=function(e){try{return new pR(this,kx(this._delegate,e))}catch(e){throw iR(e,"collection()","Firestore.collection()")}},GN.prototype.doc=function(e){try{return new nR(this,Ox(this._delegate,e))}catch(e){throw iR(e,"doc()","Firestore.doc()")}},GN.prototype.collectionGroup=function(e){try{return new hR(this,function(e,t){if(e=px(e,mx),ux("collectionGroup","collection id",t),0<=t.indexOf("/"))throw new nb(tb.INVALID_ARGUMENT,"Invalid collection ID '"+t+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new _x(e,null,(t=t,new z_(Cb.emptyPath(),t)))}(this._delegate,e))}catch(e){throw iR(e,"collectionGroup()","Firestore.collectionGroup()")}},GN.prototype.runTransaction=function(e){var t,n=this;return function(e,t){var n=this,r=new CS;return e.asyncQueue.enqueueAndForget((function(){return eo(n,void 0,void 0,(function(){var n;return to(this,(function(i){switch(i.label){case 0:return[4,BO(e).then((function(e){return e.datastore}))];case 1:return n=i.sent(),new NO(e.asyncQueue,n,t,r).run(),[2]}}))}))})),r.promise}(Ux(t=this._delegate),(function(r){return r=new LN(t,r),e(new $N(n,r))}))},GN.prototype.batch=function(){var e=this;return Ux(this._delegate),new XN(new TN(this._delegate,(function(t){return AN(e._delegate,t)})))},GN.prototype.loadBundle=function(e){throw new nb(tb.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},GN.prototype.namedQuery=function(e){throw new nb(tb.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},GN),HN=(Ji(KN,BN=H),KN.prototype.convertBytes=function(e){return new VN(new zx(e))},KN.prototype.convertReference=function(e){return e=this.convertDocumentKey(e,this.firestore._databaseId),nR.Zc(e,this.firestore,null)},KN);function KN(e){var t=this;return(t=BN.call(this)||this).firestore=e,t}function GN(e,t,n){var r=this;this._delegate=t,this.Yc=n,this.INTERNAL={delete:function(){return r.terminate()}},e instanceof XO||(this.Xc=e)}function QN(){}function YN(e){this._delegate=e}var $N=(tR.prototype.get=function(e){var t=this,n=wR(e);return this._delegate.get(n).then((function(e){return new cR(t._firestore,new HP(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))}))},tR.prototype.set=function(e,t,n){return e=wR(e),n?(cx("Transaction.set",n),this._delegate.set(e,t,n)):this._delegate.set(e,t),this},tR.prototype.update=function(e,t,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var o=wR(e);return 2===arguments.length?this._delegate.update(o,t):(e=this._delegate).update.apply(e,io([o,t,n],r)),this},tR.prototype.delete=function(e){return e=wR(e),this._delegate.delete(e),this},tR),XN=(eR.prototype.set=function(e,t,n){return e=wR(e),n?(cx("WriteBatch.set",n),this._delegate.set(e,t,n)):this._delegate.set(e,t),this},eR.prototype.update=function(e,t,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var o=wR(e);return 2===arguments.length?this._delegate.update(o,t):(e=this._delegate).update.apply(e,io([o,t,n],r)),this},eR.prototype.delete=function(e){return e=wR(e),this._delegate.delete(e),this},eR.prototype.commit=function(){return this._delegate.commit()},eR),JN=(ZN.prototype.fromFirestore=function(e,t){return e=new KP(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null),this._delegate.fromFirestore(new lR(this._firestore,e),null!=t?t:{})},ZN.prototype.toFirestore=function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)},ZN.tu=function(e,t){var n=ZN.eu,r=n.get(e);return r||(r=new WeakMap,n.set(e,r)),(n=r.get(t))||(n=new ZN(e,new HN(e),t),r.set(t,n)),n},ZN);function ZN(e,t,n){this._firestore=e,this._userDataWriter=t,this._delegate=n}function eR(e){this._delegate=e}function tR(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new HN(e)}JN.eu=new WeakMap;var nR=(rR.nu=function(e,t,n){if(e.length%2!=0)throw new nb(tb.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e.canonicalString()+" has "+e.length);return new rR(t,new bx(t._delegate,n,new Hb(e)))},rR.Zc=function(e,t,n){return new rR(t,new bx(t._delegate,n,e))},Object.defineProperty(rR.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(rR.prototype,"parent",{get:function(){return new pR(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(rR.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),rR.prototype.collection=function(e){try{return new pR(this.firestore,kx(this._delegate,e))}catch(e){throw iR(e,"collection()","DocumentReference.collection()")}},rR.prototype.isEqual=function(e){return(e=ta(e))instanceof bx&&xx(this._delegate,e)},rR.prototype.set=function(e,t){t=cx("DocumentReference.set",t);try{return function(e,t,n){e=px(e,bx);var r=px(e.firestore,Lx);return t=wN(e.converter,t,n),AN(r,[sP(aP(r),"setDoc",e._key,t,null!==e.converter,n).toMutation(e._key,Ow.none())])}(this._delegate,e,t)}catch(e){throw iR(e,"setDoc()","DocumentReference.set()")}},rR.prototype.update=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?NN(this._delegate,e):NN.apply(void 0,io([this._delegate,e,t],n))}catch(e){throw iR(e,"updateDoc()","DocumentReference.update()")}},rR.prototype.delete=function(){return AN(px((e=this._delegate).firestore,Lx),[new Gw(e._key,Ow.none())]);var e},rR.prototype.onSnapshot=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=oR(t),i=aR(t,(function(t){return new cR(e.firestore,new HP(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}));return RN(this._delegate,r,i)},rR.prototype.get=function(e){var t=this;return("cache"===(null==e?void 0:e.source)?function(e){e=px(e,bx);var t=px(e.firestore,Lx),n=Ux(t),r=new xN(t);return function(e,t){var n=this,r=new CS;return e.asyncQueue.enqueueAndForget((function(){return eo(n,void 0,void 0,(function(){var n;return to(this,(function(i){switch(i.label){case 0:return n=function(e,t,n){return eo(this,void 0,void 0,(function(){var r,i;return to(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,(a=t,(s=e).persistence.runTransaction("read document","readonly",(function(e){return s.Mn.mn(e,a)})))];case 1:return(i=o.sent()).isFoundDocument()?n.resolve(i):i.isNoDocument()?n.resolve(null):n.reject(new nb(tb.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=o.sent(),i=wk(r,"Failed to get document '"+t+" from cache"),n.reject(i),[3,3];case 3:return[2]}var a,s}))}))},[4,WO(e)];case 1:return[2,n.apply(void 0,[i.sent(),t,r])]}}))}))})),r.promise}(n,e._key).then((function(n){return new HP(t,r,e._key,n,new zP(null!==n&&n.hasLocalMutations,!0),e.converter)}))}:"server"===(null==e?void 0:e.source)?function(e){e=px(e,bx);var t=px(e.firestore,Lx);return GO(Ux(t),e._key,{source:"server"}).then((function(n){return DN(t,e,n)}))}:function(e){e=px(e,bx);var t=px(e.firestore,Lx);return GO(Ux(t),e._key).then((function(n){return DN(t,e,n)}))})(this._delegate).then((function(e){return new cR(t.firestore,new HP(t.firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,t._delegate.converter))}))},rR.prototype.withConverter=function(e){return new rR(this.firestore,e?this._delegate.withConverter(JN.tu(this.firestore,e)):this._delegate.withConverter(null))},rR);function rR(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new HN(e)}function iR(e,t,n){return e.message=e.message.replace(t,n),e}function oR(e){for(var t=0,n=e;t<n.length;t++){var r=n[t];if("object"==typeof r&&!Ax(r))return r}return{}}function aR(e,t){var n;return{next:function(e){n.next&&n.next(t(e))},error:null===(e=(n=Ax(e[0])?e[0]:Ax(e[1])?e[1]:"function"==typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===e?void 0:e.bind(n),complete:null===(e=n.complete)||void 0===e?void 0:e.bind(n)}}var sR,uR,cR=(Object.defineProperty(_R.prototype,"ref",{get:function(){return new nR(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(_R.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(_R.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(_R.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),_R.prototype.data=function(e){return this._delegate.data(e)},_R.prototype.get=function(e,t){return this._delegate.get(e,t)},_R.prototype.isEqual=function(e){return JP(this._delegate,e._delegate)},_R),lR=(Ji(bR,uR=cR),bR.prototype.data=function(e){return this._delegate.data(e)},bR),hR=(mR.prototype.where=function(e,t,n){try{return new mR(this.firestore,eN(this._delegate,(r=n,i=t,o=BP("where",e),new aN(o,i,r))))}catch(e){throw iR(e,/(orderBy|where)\(\)/,"Query.$1()")}var r,i,o},mR.prototype.orderBy=function(e,t){try{return new mR(this.firestore,eN(this._delegate,(n=void 0===t?"asc":t,r=BP("orderBy",e),new sN(r,n))))}catch(e){throw iR(e,/(orderBy|where)\(\)/,"Query.$1()")}var n,r},mR.prototype.limit=function(e){try{return new mR(this.firestore,eN(this._delegate,(vx("limit",t=e),new uN("limit",t,"F"))))}catch(e){throw iR(e,"limit()","Query.limit()")}var t},mR.prototype.limitToLast=function(e){try{return new mR(this.firestore,eN(this._delegate,(vx("limitToLast",t=e),new uN("limitToLast",t,"L"))))}catch(e){throw iR(e,"limitToLast()","Query.limitToLast()")}var t},mR.prototype.startAt=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];try{return new mR(this.firestore,eN(this._delegate,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new cN("startAt",e,!0)}.apply(void 0,e)))}catch(e){throw iR(e,"startAt()","Query.startAt()")}},mR.prototype.startAfter=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];try{return new mR(this.firestore,eN(this._delegate,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new cN("startAfter",e,!1)}.apply(void 0,e)))}catch(e){throw iR(e,"startAfter()","Query.startAfter()")}},mR.prototype.endBefore=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];try{return new mR(this.firestore,eN(this._delegate,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new lN("endBefore",e,!0)}.apply(void 0,e)))}catch(e){throw iR(e,"endBefore()","Query.endBefore()")}},mR.prototype.endAt=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];try{return new mR(this.firestore,eN(this._delegate,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new lN("endAt",e,!1)}.apply(void 0,e)))}catch(e){throw iR(e,"endAt()","Query.endAt()")}},mR.prototype.isEqual=function(e){return Px(this._delegate,e._delegate)},mR.prototype.get=function(e){var t=this;return("cache"===(null==e?void 0:e.source)?function(e){e=px(e,_x);var t=px(e.firestore,Lx),n=Ux(t),r=new xN(t);return function(e,t){var n=this,r=new CS;return e.asyncQueue.enqueueAndForget((function(){return eo(n,void 0,void 0,(function(){var n;return to(this,(function(i){switch(i.label){case 0:return n=function(e,t,n){return eo(this,void 0,void 0,(function(){var r,i,o;return to(this,(function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,DI(e,t,!0)];case 1:return o=a.sent(),r=new zk(t,o.Bn),i=r._o(o.documents),i=r.applyChanges(i,!1),n.resolve(i.snapshot),[3,3];case 2:return i=a.sent(),o=wk(i,"Failed to execute query '"+t+" against cache"),n.reject(o),[3,3];case 3:return[2]}}))}))},[4,WO(e)];case 1:return[2,n.apply(void 0,[i.sent(),t,r])]}}))}))})),r.promise}(n,e._query).then((function(n){return new GP(t,r,e,n)}))}:"server"===(null==e?void 0:e.source)?function(e){e=px(e,_x);var t=px(e.firestore,Lx),n=Ux(t),r=new xN(t);return QO(n,e._query,{source:"server"}).then((function(n){return new GP(t,r,e,n)}))}:function(e){e=px(e,_x);var t=px(e.firestore,Lx),n=Ux(t),r=new xN(t);return ZP(e._query),QO(n,e._query).then((function(n){return new GP(t,r,e,n)}))})(this._delegate).then((function(e){return new dR(t.firestore,new GP(t.firestore._delegate,t._userDataWriter,t._delegate,e._snapshot))}))},mR.prototype.onSnapshot=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=oR(t),i=aR(t,(function(t){return new dR(e.firestore,new GP(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return RN(this._delegate,r,i)},mR.prototype.withConverter=function(e){return new mR(this.firestore,e?this._delegate.withConverter(JN.tu(this.firestore,e)):this._delegate.withConverter(null))},mR),fR=(Object.defineProperty(gR.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(gR.prototype,"doc",{get:function(){return new lR(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(gR.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(gR.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),gR),dR=(Object.defineProperty(yR.prototype,"query",{get:function(){return new hR(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(yR.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(yR.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(yR.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(yR.prototype,"docs",{get:function(){var e=this;return this._delegate.docs.map((function(t){return new lR(e._firestore,t)}))},enumerable:!1,configurable:!0}),yR.prototype.docChanges=function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new fR(t._firestore,e)}))},yR.prototype.forEach=function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new lR(n._firestore,r))}))},yR.prototype.isEqual=function(e){return JP(this._delegate,e._delegate)},yR),pR=(Ji(vR,sR=hR),Object.defineProperty(vR.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(vR.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(vR.prototype,"parent",{get:function(){var e=this._delegate.parent;return e?new nR(this.firestore,e):null},enumerable:!1,configurable:!0}),vR.prototype.doc=function(e){try{return new nR(this.firestore,void 0===e?Ox(this._delegate):Ox(this._delegate,e))}catch(e){throw iR(e,"doc()","CollectionReference.doc()")}},vR.prototype.add=function(e){var t,n,r,i=this;return n=e,e=px((t=this._delegate).firestore,Lx),r=Ox(t),n=wN(t.converter,n),AN(e,[sP(aP(t.firestore),"addDoc",r._key,n,null!==t.converter,{}).toMutation(r._key,Ow.exists(!1))]).then((function(){return r})).then((function(e){return new nR(i.firestore,e)}))},vR.prototype.isEqual=function(e){return xx(this._delegate,e._delegate)},vR.prototype.withConverter=function(e){return new vR(this.firestore,e?this._delegate.withConverter(JN.tu(this.firestore,e)):this._delegate.withConverter(null))},vR);function vR(e,t){var n=this;return(n=sR.call(this,e,t)||this).firestore=e,n._delegate=t,n}function yR(e,t){this._firestore=e,this._delegate=t}function gR(e,t){this._firestore=e,this._delegate=t}function mR(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new HN(e)}function bR(){return null!==uR&&uR.apply(this,arguments)||this}function _R(e,t){this._firestore=e,this._delegate=t}function wR(e){return px(e,bx)}function ER(e){this._delegate=e}function SR(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._delegate=new(Wx.bind.apply(Wx,io([void 0],e)))}function TR(e){return t=this._delegate,n=e,r=Ux(t=px(t,Lx)),e=new jx,function(e,t,r){var i,o=this,a=(i=n,t=FC(t),i=function(e){if(e instanceof Uint8Array)return kO(e,void 0);if(e instanceof ArrayBuffer)return kO(new Uint8Array(e),void 0);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof i?(new TextEncoder).encode(i):i),new xO(i,t));e.asyncQueue.enqueueAndForget((function(){return eo(o,void 0,void 0,(function(){var t;return to(this,(function(n){switch(n.label){case 0:return t=yO,[4,HO(e)];case 1:return t.apply(void 0,[n.sent(),a,r]),[2]}}))}))}))}(r,t._databaseId,e),e;var t,n,r}function IR(e){var t=this,n=this._delegate;return e=e,function(e,t){var n=this;return e.asyncQueue.enqueue((function(){return eo(n,void 0,void 0,(function(){var n;return to(this,(function(r){switch(r.label){case 0:return n=function(e,t){var n=e;return n.persistence.runTransaction("Get named query","readonly",(function(e){return n.Qe.getNamedQuery(e,t)}))},[4,WO(e)];case 1:return[2,n.apply(void 0,[r.sent(),t])]}}))}))}))}(Ux(n=px(n,Lx)),e).then((function(e){return e?new _x(n,null,e.query):null})).then((function(e){return e?new hR(t,e):null}))}SR.documentId=function(){return new SR(Ob.keyField().canonicalString())},SR.prototype.isEqual=function(e){return(e=ta(e))instanceof Wx&&this._delegate._internalPath.isEqual(e._internalPath)},kn=SR,ER.serverTimestamp=function(){var e=new yP("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new ER(e)},ER.delete=function(){var e=new cP("deleteField");return e._methodName="FieldValue.delete",new ER(e)},ER.arrayUnion=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new gP("arrayUnion",e)}.apply(void 0,e);return n._methodName="FieldValue.arrayUnion",new ER(n)},ER.arrayRemove=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new mP("arrayRemove",e)}.apply(void 0,e);return n._methodName="FieldValue.arrayRemove",new ER(n)},ER.increment=function(e){return(e=new bP("increment",e))._methodName="FieldValue.increment",new ER(e)},ER.prototype.isEqual=function(e){return this._delegate.isEqual(e._delegate)};var CR,kR,OR={Firestore:zN,GeoPoint:Kx,Timestamp:gb,Blob:VN,Transaction:$N,WriteBatch:XN,DocumentReference:nR,DocumentSnapshot:cR,Query:hR,QueryDocumentSnapshot:lR,QuerySnapshot:dR,CollectionReference:pR,FieldPath:kn,FieldValue:H=ER,setLogLevel:function(e){rb.setLogLevel(e)},CACHE_SIZE_UNLIMITED:-1};(CR=Aa).INTERNAL.registerComponent(new na("firestore",(function(e){var t=e.getProvider("app").getImmediate();return t=t,e=e.getProvider("auth-internal"),new zN(t,new Lx(t,e),new WN)}),"PUBLIC").setServiceProps(Object.assign({},OR))),CR.registerVersion("@firebase/firestore","2.2.5"),(kR=zN).prototype.loadBundle=TR,kR.prototype.namedQuery=IR;var xR,PR={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},NR=(Ji(RR,xR=Error),RR);function RR(e,t,n){return t=xR.call(this,t)||this,Object.setPrototypeOf(t,RR.prototype),t.code=e,t.details=n,t}function AR(e,t,n){var r=function(e){if(200<=e&&e<300)return"ok";switch(e){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}(e),i=r,o=void 0;try{var a=t&&t.error;if(a){var s=a.status;if("string"==typeof s){if(!PR[s])return new NR("internal","internal");r=PR[s],i=s}"string"==typeof(s=a.message)&&(i=s),void 0!==(o=a.details)&&(o=n.decode(o))}}catch(e){}return"ok"===r?null:new NR(r,i,o)}var DR=(jR.prototype.getAuthToken=function(){return eo(this,void 0,void 0,(function(){var e;return to(this,(function(t){switch(t.label){case 0:if(!this.auth)return[2,void 0];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,this.auth.getToken()];case 2:return(e=t.sent())?[2,e.accessToken]:[2,void 0];case 3:return t.sent(),[2,void 0];case 4:return[2]}}))}))},jR.prototype.getInstanceIdToken=function(){return eo(this,void 0,void 0,(function(){return to(this,(function(e){if(!this.messaging||!("Notification"in self)||"granted"!==Notification.permission)return[2,void 0];try{return[2,this.messaging.getToken()]}catch(e){return[2,void 0]}return[2]}))}))},jR.prototype.getContext=function(){return eo(this,void 0,void 0,(function(){var e,t;return to(this,(function(n){switch(n.label){case 0:return[4,this.getAuthToken()];case 1:return e=n.sent(),[4,this.getInstanceIdToken()];case 2:return t=n.sent(),[2,{authToken:e,instanceIdToken:t}]}}))}))},jR);function jR(e,t){var n=this;this.auth=null,this.messaging=null,this.auth=e.getImmediate({optional:!0}),this.messaging=t.getImmediate({optional:!0}),this.auth||e.get().then((function(e){return n.auth=e}),(function(){})),this.messaging||t.get().then((function(e){return n.messaging=e}),(function(){}))}function LR(e,t){var n,r={};for(n in e)e.hasOwnProperty(n)&&(r[n]=t(e[n]));return r}var MR=(FR.prototype.encode=function(e){var t=this;if(null==e)return null;if("number"==typeof(e=e instanceof Number?e.valueOf():e)&&isFinite(e))return e;if(!0===e||!1===e)return e;if("[object String]"===Object.prototype.toString.call(e))return e;if(Array.isArray(e))return e.map((function(e){return t.encode(e)}));if("function"==typeof e||"object"==typeof e)return LR(e,(function(e){return t.encode(e)}));throw new Error("Data cannot be encoded in JSON: "+e)},FR.prototype.decode=function(e){var t=this;if(null==e)return e;if(e["@type"])switch(e["@type"]){case"type.googleapis.com/google.protobuf.Int64Value":case"type.googleapis.com/google.protobuf.UInt64Value":var n=Number(e.value);if(isNaN(n))throw new Error("Data cannot be decoded from JSON: "+e);return n;default:throw new Error("Data cannot be decoded from JSON: "+e)}return Array.isArray(e)?e.map((function(e){return t.decode(e)})):"function"==typeof e||"object"==typeof e?LR(e,(function(e){return t.decode(e)})):e},FR);function FR(){}var UR,qR,BR,VR=(Object.defineProperty(WR.prototype,"app",{get:function(){return this.app_},enumerable:!1,configurable:!0}),WR.prototype._url=function(e){var t=this.app_.options.projectId;return null===this.emulatorOrigin?null!==this.customDomain?this.customDomain+"/"+e:"https://"+this.region+"-"+t+".cloudfunctions.net/"+e:this.emulatorOrigin+"/"+t+"/"+this.region+"/"+e},WR.prototype.useEmulator=function(e,t){this.emulatorOrigin="http://"+e+":"+t},WR.prototype.useFunctionsEmulator=function(e){this.emulatorOrigin=e},WR.prototype.httpsCallable=function(e,t){var n=this;return function(r){return n.call(e,r,t||{})}},WR.prototype.postJSON=function(e,t,n){return eo(this,void 0,void 0,(function(){var r,i;return to(this,(function(o){switch(o.label){case 0:n["Content-Type"]="application/json",o.label=1;case 1:return o.trys.push([1,3,,4]),[4,this.fetchImpl(e,{method:"POST",body:JSON.stringify(t),headers:n})];case 2:return r=o.sent(),[3,4];case 3:return o.sent(),[2,{status:0,json:null}];case 4:i=null,o.label=5;case 5:return o.trys.push([5,7,,8]),[4,r.json()];case 6:return i=o.sent(),[3,8];case 7:return o.sent(),[3,8];case 8:return[2,{status:r.status,json:i}]}}))}))},WR.prototype.call=function(e,t,n){return eo(this,void 0,void 0,(function(){var r,i,o,a,s;return to(this,(function(u){switch(u.label){case 0:return r=this._url(e),t=this.serializer.encode(t),i={data:t},o={},[4,this.contextProvider.getContext()];case 1:return(a=u.sent()).authToken&&(o.Authorization="Bearer "+a.authToken),a.instanceIdToken&&(o["Firebase-Instance-ID-Token"]=a.instanceIdToken),s=n.timeout||7e4,c=s,h=new Promise((function(e,t){l=setTimeout((function(){t(new NR("deadline-exceeded","deadline-exceeded"))}),c)})),s=(a={timer:l,promise:h}).timer,a=a.promise,[4,Promise.race([zR(s,this.postJSON(r,i,o)),a,zR(s,this.cancelAllRequests)])];case 2:if(!(a=u.sent()))throw new NR("cancelled","Firebase Functions instance was deleted.");if(s=AR(a.status,a.json,this.serializer))throw s;if(!a.json)throw new NR("internal","Response is not valid JSON object.");if(void 0===(s=void 0===(s=a.json.data)?a.json.result:s))throw new NR("internal","Response is missing data field.");return[2,{data:this.serializer.decode(s)}]}var c,l,h}))}))},WR);function WR(e,t,n,r,i){var o=this;void 0===r&&(r="us-central1"),this.app_=e,this.fetchImpl=i,this.serializer=new MR,this.emulatorOrigin=null,this.INTERNAL={delete:function(){return Promise.resolve(o.deleteService())}},this.contextProvider=new DR(t,n),this.cancelAllRequests=new Promise((function(e){o.deleteService=function(){return e()}}));try{var a=new URL(r);this.customDomain=a.origin,this.region="us-central1"}catch(e){this.customDomain=null,this.region=r}}function zR(e,t){return eo(this,void 0,void 0,(function(){var n;return to(this,(function(r){switch(r.label){case 0:return[4,t];case 1:return n=r.sent(),clearTimeout(e),[2,n]}}))}))}function HR(e){return new Promise((function(t,n){e.onsuccess=function(){t(e.result)},e.onerror=function(){n(e.error)}}))}function KR(e,t,n){var r,i=new Promise((function(i,o){HR(r=e[t].apply(e,n)).then(i,o)}));return i.request=r,i}function GR(e,t,n){n.forEach((function(n){Object.defineProperty(e.prototype,n,{get:function(){return this[t][n]},set:function(e){this[t][n]=e}})}))}function QR(e,t,n,r){r.forEach((function(r){r in n.prototype&&(e.prototype[r]=function(){return KR(this[t],r,arguments)})}))}function YR(e,t,n,r){r.forEach((function(r){r in n.prototype&&(e.prototype[r]=function(){return this[t][r].apply(this[t],arguments)})}))}function $R(e,t,n,r){r.forEach((function(r){r in n.prototype&&(e.prototype[r]=function(){return e=this[t],(n=KR(e,r,arguments)).then((function(e){if(e)return new JR(e,n.request)}));var e,n})}))}function XR(e){this._index=e}function JR(e,t){this._cursor=e,this._request=t}function ZR(e){this._store=e}function eA(e){this._tx=e,this.complete=new Promise((function(t,n){e.oncomplete=function(){t()},e.onerror=function(){n(e.error)},e.onabort=function(){n(e.error)}}))}function tA(e,t,n){this._db=e,this.oldVersion=t,this.transaction=new eA(n)}function nA(e){this._db=e}function rA(e,t,n){var r=(t=KR(indexedDB,"open",[e,t])).request;return r&&(r.onupgradeneeded=function(e){n&&n(new tA(r.result,e.oldVersion,r.transaction))}),t.then((function(e){return new nA(e)}))}function iA(e){return KR(indexedDB,"deleteDatabase",[e])}UR=Aa,qR=fetch.bind(self),BR={Functions:VR},UR.INTERNAL.registerComponent(new na("functions",(function(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate();return t=e.getProvider("auth-internal"),e=e.getProvider("messaging"),new VR(r,t,e,n,qR)}),"PUBLIC").setServiceProps(BR).setMultipleInstances(!0)),Aa.registerVersion("@firebase/functions","0.6.7"),GR(XR,"_index",["name","keyPath","multiEntry","unique"]),QR(XR,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),$R(XR,"_index",IDBIndex,["openCursor","openKeyCursor"]),GR(JR,"_cursor",["direction","key","primaryKey","value"]),QR(JR,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach((function(e){e in IDBCursor.prototype&&(JR.prototype[e]=function(){var t=this,n=arguments;return Promise.resolve().then((function(){return t._cursor[e].apply(t._cursor,n),HR(t._request).then((function(e){if(e)return new JR(e,t._request)}))}))})})),ZR.prototype.createIndex=function(){return new XR(this._store.createIndex.apply(this._store,arguments))},ZR.prototype.index=function(){return new XR(this._store.index.apply(this._store,arguments))},GR(ZR,"_store",["name","keyPath","indexNames","autoIncrement"]),QR(ZR,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),$R(ZR,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),YR(ZR,"_store",IDBObjectStore,["deleteIndex"]),eA.prototype.objectStore=function(){return new ZR(this._tx.objectStore.apply(this._tx,arguments))},GR(eA,"_tx",["objectStoreNames","mode"]),YR(eA,"_tx",IDBTransaction,["abort"]),tA.prototype.createObjectStore=function(){return new ZR(this._db.createObjectStore.apply(this._db,arguments))},GR(tA,"_db",["name","version","objectStoreNames"]),YR(tA,"_db",IDBDatabase,["deleteObjectStore","close"]),nA.prototype.transaction=function(){return new eA(this._db.transaction.apply(this._db,arguments))},GR(nA,"_db",["name","version","objectStoreNames"]),YR(nA,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach((function(e){[ZR,XR].forEach((function(t){e in t.prototype&&(t.prototype[e.replace("open","iterate")]=function(){var t=(r=arguments,Array.prototype.slice.call(r)),n=t[t.length-1],r=this._store||this._index,i=r[e].apply(r,t.slice(0,-1));i.onsuccess=function(){n(i.result)}})}))})),[XR,ZR].forEach((function(e){e.prototype.getAll||(e.prototype.getAll=function(e,t){var n=this,r=[];return new Promise((function(i){n.iterateCursor(e,(function(e){e?(r.push(e.value),void 0===t||r.length!=t?e.continue():i(r)):i(r)}))}))})}));var oA=1e4,aA="w:0.4.25",sA="FIS_v2",uA="https://firebaseinstallations.googleapis.com/v1",cA=36e5,lA=((kn={})["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',kn["not-registered"]="Firebase Installation is not registered.",kn["installation-not-found"]="Firebase Installation not found.",kn["request-failed"]='{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',kn["app-offline"]="Could not process request. Application offline.",kn["delete-pending-registration"]="Can't delete installation while there is a pending registration request.",new Oo("installations","Installations",H=kn));function hA(e){return e instanceof Co&&e.code.includes("request-failed")}function fA(e){return e=e.projectId,uA+"/projects/"+e+"/installations"}function dA(e){return{token:e.token,requestStatus:2,expiresIn:(e=e.expiresIn,Number(e.replace("s","000"))),creationTime:Date.now()}}function pA(e,t){return eo(this,void 0,void 0,(function(){var n;return to(this,(function(r){switch(r.label){case 0:return[4,t.json()];case 1:return n=(n=r.sent()).error,[2,lA.create("request-failed",{requestName:e,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})]}}))}))}function vA(e){return e=e.apiKey,new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}function yA(e,t){return t=t.refreshToken,(e=vA(e)).append("Authorization",sA+" "+t),e}function gA(e){return eo(this,void 0,void 0,(function(){var t;return to(this,(function(n){switch(n.label){case 0:return[4,e()];case 1:return 500<=(t=n.sent()).status&&t.status<600?[2,e()]:[2,t]}}))}))}function mA(e){return new Promise((function(t){setTimeout(t,e)}))}var bA=/^[cdef][\w-]{21}$/,_A="";function wA(){try{var e=new Uint8Array(17);return(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16,e=function(e){return btoa(String.fromCharCode.apply(String,io([],ro(e)))).replace(/\+/g,"-").replace(/\//g,"_")}(e).substr(0,22),bA.test(e)?e:_A}catch(e){return _A}}function EA(e){return e.appName+"!"+e.appId}var SA=new Map;function TA(e,t){IA(e=EA(e),t),function(e,t){var n=kA();n&&n.postMessage({key:e,fid:t}),OA()}(e,t)}function IA(e,t){var n,r,i=SA.get(e);if(i)try{for(var o=no(i),a=o.next();!a.done;a=o.next())(0,a.value)(t)}catch(e){n={error:e}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}}var CA=null;function kA(){return!CA&&"BroadcastChannel"in self&&((CA=new BroadcastChannel("[Firebase] FID Change")).onmessage=function(e){IA(e.data.key,e.data.fid)}),CA}function OA(){0===SA.size&&CA&&(CA.close(),CA=null)}var xA,PA="firebase-installations-database",NA=1,RA="firebase-installations-store",AA=null;function DA(){return AA=AA||rA(PA,NA,(function(e){0===e.oldVersion&&e.createObjectStore(RA)}))}function jA(e,t){return eo(this,void 0,void 0,(function(){var n,r,i,o;return to(this,(function(a){switch(a.label){case 0:return n=EA(e),[4,DA()];case 1:return i=a.sent(),r=i.transaction(RA,"readwrite"),[4,(i=r.objectStore(RA)).get(n)];case 2:return o=a.sent(),[4,i.put(t,n)];case 3:return a.sent(),[4,r.complete];case 4:return a.sent(),o&&o.fid===t.fid||TA(e,t.fid),[2,t]}}))}))}function LA(e){return eo(this,void 0,void 0,(function(){var t,n;return to(this,(function(r){switch(r.label){case 0:return t=EA(e),[4,DA()];case 1:return[4,(n=(n=r.sent()).transaction(RA,"readwrite")).objectStore(RA).delete(t)];case 2:return r.sent(),[4,n.complete];case 3:return r.sent(),[2]}}))}))}function MA(e,t){return eo(this,void 0,void 0,(function(){var n,r,i,o,a;return to(this,(function(s){switch(s.label){case 0:return n=EA(e),[4,DA()];case 1:return i=s.sent(),r=i.transaction(RA,"readwrite"),[4,(i=r.objectStore(RA)).get(n)];case 2:return o=s.sent(),void 0!==(a=t(o))?[3,4]:[4,i.delete(n)];case 3:return s.sent(),[3,6];case 4:return[4,i.put(a,n)];case 5:s.sent(),s.label=6;case 6:return[4,r.complete];case 7:return s.sent(),!a||o&&o.fid===a.fid||TA(e,a.fid),[2,a]}}))}))}function FA(e){return eo(this,void 0,void 0,(function(){var t,n,r;return to(this,(function(i){switch(i.label){case 0:return[4,MA(e,(function(n){return n=qA(n||{fid:wA(),registrationStatus:0}),n=function(e,t){return 0!==t.registrationStatus?1===t.registrationStatus?{installationEntry:t,registrationPromise:function(e){return eo(this,void 0,void 0,(function(){var t,n,r;return to(this,(function(i){switch(i.label){case 0:return[4,UA(e)];case 1:t=i.sent(),i.label=2;case 2:return 1!==t.registrationStatus?[3,5]:[4,mA(100)];case 3:return i.sent(),[4,UA(e)];case 4:return t=i.sent(),[3,2];case 5:return 0!==t.registrationStatus?[3,7]:[4,FA(e)];case 6:return r=i.sent(),n=r.installationEntry,(r=r.registrationPromise)?[2,r]:[2,n];case 7:return[2,t]}}))}))}(e)}:{installationEntry:t}:navigator.onLine?(e=function(e,t){return eo(this,void 0,void 0,(function(){var n,r;return to(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,7]),[4,function(e,t){var n=t.fid;return eo(this,void 0,void 0,(function(){var t,r,i,o,a;return to(this,(function(s){switch(s.label){case 0:return t=fA(e),r=vA(e),a={fid:n,authVersion:sA,appId:e.appId,sdkVersion:aA},i={method:"POST",headers:r,body:JSON.stringify(a)},[4,gA((function(){return fetch(t,i)}))];case 1:return(o=s.sent()).ok?[4,o.json()]:[3,3];case 2:return[2,{fid:(a=s.sent()).fid||n,registrationStatus:2,refreshToken:a.refreshToken,authToken:dA(a.authToken)}];case 3:return[4,pA("Create Installation",o)];case 4:throw s.sent()}}))}))}(e,t)];case 1:return n=i.sent(),[2,jA(e,n)];case 2:return hA(r=i.sent())&&409===r.customData.serverCode?[4,LA(e)]:[3,4];case 3:return i.sent(),[3,6];case 4:return[4,jA(e,{fid:t.fid,registrationStatus:0})];case 5:i.sent(),i.label=6;case 6:throw r;case 7:return[2]}}))}))}(e,t={fid:t.fid,registrationStatus:1,registrationTime:Date.now()}),{installationEntry:t,registrationPromise:e}):{installationEntry:t,registrationPromise:Promise.reject(lA.create("app-offline"))}}(e,n),t=n.registrationPromise,n.installationEntry}))];case 1:return(n=i.sent()).fid!==_A?[3,3]:(r={},[4,t]);case 2:return[2,(r.installationEntry=i.sent(),r)];case 3:return[2,{installationEntry:n,registrationPromise:t}]}}))}))}function UA(e){return MA(e,(function(e){if(!e)throw lA.create("installation-not-found");return qA(e)}))}function qA(e){return 1===(t=e).registrationStatus&&t.registrationTime+oA<Date.now()?{fid:e.fid,registrationStatus:0}:e;var t}function BA(e,t){var n=e.appConfig,r=e.platformLoggerProvider;return eo(this,void 0,void 0,(function(){var e,i,o,a,s;return to(this,(function(u){switch(u.label){case 0:return e=function(e,t){return t=t.fid,fA(e)+"/"+t+"/authTokens:generate"}(n,t),i=yA(n,t),(s=r.getImmediate({optional:!0}))&&i.append("x-firebase-client",s.getPlatformInfoString()),s={installation:{sdkVersion:aA}},o={method:"POST",headers:i,body:JSON.stringify(s)},[4,gA((function(){return fetch(e,o)}))];case 1:return(a=u.sent()).ok?[4,a.json()]:[3,3];case 2:return[2,dA(s=u.sent())];case 3:return[4,pA("Generate Auth Token",a)];case 4:throw u.sent()}}))}))}function VA(e,t){return void 0===t&&(t=!1),eo(this,void 0,void 0,(function(){var n,r,i;return to(this,(function(o){switch(o.label){case 0:return[4,MA(e.appConfig,(function(r){if(!zA(r))throw lA.create("not-registered");var i,o=r.authToken;if(t||2!==(i=o).requestStatus||function(e){var t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+cA}(i)){if(1===o.requestStatus)return n=function(e,t){return eo(this,void 0,void 0,(function(){var n;return to(this,(function(r){switch(r.label){case 0:return[4,WA(e.appConfig)];case 1:n=r.sent(),r.label=2;case 2:return 1!==n.authToken.requestStatus?[3,5]:[4,mA(100)];case 3:return r.sent(),[4,WA(e.appConfig)];case 4:return n=r.sent(),[3,2];case 5:return 0===(n=n.authToken).requestStatus?[2,VA(e,t)]:[2,n]}}))}))}(e,t),r;if(!navigator.onLine)throw lA.create("app-offline");return i=r,o={requestStatus:1,requestTime:Date.now()},o=Zi(Zi({},i),{authToken:o}),n=function(e,t){return eo(this,void 0,void 0,(function(){var n,r,i;return to(this,(function(o){switch(o.label){case 0:return o.trys.push([0,3,,8]),[4,BA(e,t)];case 1:return n=o.sent(),i=Zi(Zi({},t),{authToken:n}),[4,jA(e.appConfig,i)];case 2:return o.sent(),[2,n];case 3:return!hA(r=o.sent())||401!==r.customData.serverCode&&404!==r.customData.serverCode?[3,5]:[4,LA(e.appConfig)];case 4:return o.sent(),[3,7];case 5:return i=Zi(Zi({},t),{authToken:{requestStatus:0}}),[4,jA(e.appConfig,i)];case 6:o.sent(),o.label=7;case 7:throw r;case 8:return[2]}}))}))}(e,o),o}return r}))];case 1:return r=o.sent(),n?[4,n]:[3,3];case 2:return i=o.sent(),[3,4];case 3:i=r.authToken,o.label=4;case 4:return[2,i]}}))}))}function WA(e){return MA(e,(function(e){if(!zA(e))throw lA.create("not-registered");var t=e.authToken;return 1===(t=t).requestStatus&&t.requestTime+oA<Date.now()?Zi(Zi({},e),{authToken:{requestStatus:0}}):e}))}function zA(e){return void 0!==e&&2===e.registrationStatus}function HA(e,t){return void 0===t&&(t=!1),eo(this,void 0,void 0,(function(){return to(this,(function(n){switch(n.label){case 0:return[4,function(e){return eo(this,void 0,void 0,(function(){var t;return to(this,(function(n){switch(n.label){case 0:return[4,FA(e)];case 1:return(t=n.sent().registrationPromise)?[4,t]:[3,3];case 2:n.sent(),n.label=3;case 3:return[2]}}))}))}(e.appConfig)];case 1:return n.sent(),[4,VA(e,t)];case 2:return[2,n.sent().token]}}))}))}function KA(e,t){return eo(this,void 0,void 0,(function(){var n,r,i;return to(this,(function(o){switch(o.label){case 0:return n=function(e,t){return t=t.fid,fA(e)+"/"+t}(e,t),i=yA(e,t),r={method:"DELETE",headers:i},[4,gA((function(){return fetch(n,r)}))];case 1:return(i=o.sent()).ok?[3,3]:[4,pA("Delete Installation",i)];case 2:throw o.sent();case 3:return[2]}}))}))}function GA(e,t){var n=e.appConfig;return function(e,t){kA();var n=EA(e);(e=SA.get(n))||(e=new Set,SA.set(n,e)),e.add(t)}(n,t),function(){var e,r,i;r=t,i=EA(e=n),(e=SA.get(i))&&(e.delete(r),0===e.size&&SA.delete(i),OA())}}function QA(e){return lA.create("missing-app-config-values",{valueName:e})}(xA=Aa).INTERNAL.registerComponent(new na("installations",(function(e){var t=e.getProvider("app").getImmediate(),n={appConfig:function(e){var t,n;if(!e||!e.options)throw QA("App Configuration");if(!e.name)throw QA("App Name");try{for(var r=no(["projectId","apiKey","appId"]),i=r.next();!i.done;i=r.next()){var o=i.value;if(!e.options[o])throw QA(o)}}catch(e){t={error:e}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}(t),platformLoggerProvider:e.getProvider("platform-logger")};return{app:t,getId:function(){return function(e){return eo(this,void 0,void 0,(function(){var t,n;return to(this,(function(r){switch(r.label){case 0:return[4,FA(e.appConfig)];case 1:return t=r.sent(),n=t.installationEntry,(t.registrationPromise||VA(e)).catch(console.error),[2,n.fid]}}))}))}(n)},getToken:function(e){return HA(n,e)},delete:function(){return function(e){return eo(this,void 0,void 0,(function(){var t,n;return to(this,(function(r){switch(r.label){case 0:return[4,MA(t=e.appConfig,(function(e){if(!e||0!==e.registrationStatus)return e}))];case 1:if(!(n=r.sent()))return[3,6];if(1!==n.registrationStatus)return[3,2];throw lA.create("delete-pending-registration");case 2:if(2!==n.registrationStatus)return[3,6];if(navigator.onLine)return[3,3];throw lA.create("app-offline");case 3:return[4,KA(t,n)];case 4:return r.sent(),[4,LA(t)];case 5:r.sent(),r.label=6;case 6:return[2]}}))}))}(n)},onIdChange:function(e){return GA(n,e)}}}),"PUBLIC")),xA.registerVersion("@firebase/installations","0.4.25"),(kn={})["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',kn["only-available-in-window"]="This method is available in a Window context.",kn["only-available-in-sw"]="This method is available in a service worker context.",kn["permission-default"]="The notification permission was not granted and dismissed instead.",kn["permission-blocked"]="The notification permission was not granted and blocked instead.",kn["unsupported-browser"]="This browser doesn't support the API's required to use the firebase SDK.",kn["failed-service-worker-registration"]="We are unable to register the default service worker. {$browserErrorMessage}",kn["token-subscribe-failed"]="A problem occurred while subscribing the user to FCM: {$errorInfo}",kn["token-subscribe-no-token"]="FCM returned no token when subscribing the user to push.",kn["token-unsubscribe-failed"]="A problem occurred while unsubscribing the user from FCM: {$errorInfo}",kn["token-update-failed"]="A problem occurred while updating the user from FCM: {$errorInfo}",kn["token-update-no-token"]="FCM returned no token when updating the user to push.",kn["use-sw-after-get-token"]="The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.",kn["invalid-sw-registration"]="The input to useServiceWorker() must be a ServiceWorkerRegistration.",kn["invalid-bg-handler"]="The input to setBackgroundMessageHandler() must be a function.",kn["invalid-vapid-key"]="The public VAPID key must be a string.",kn["use-vapid-key-after-get-token"]="The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used.";var YA,$A=new Oo("messaging","Messaging",H=kn),XA="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",JA="https://fcmregistrations.googleapis.com/v1",ZA="FCM_MSG",eD="google.c.a.c_id";function tD(e){return e=new Uint8Array(e),btoa(String.fromCharCode.apply(String,io([],ro(e)))).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}(kn=YA=YA||{}).PUSH_RECEIVED="push-received",kn.NOTIFICATION_CLICKED="notification-clicked";var nD="fcm_token_details_db",rD=5,iD="fcm_token_object_Store";function oD(e){return eo(this,void 0,void 0,(function(){var t,n=this;return to(this,(function(r){switch(r.label){case 0:return"databases"in indexedDB?[4,indexedDB.databases()]:[3,2];case 1:if(!r.sent().map((function(e){return e.name})).includes(nD))return[2,null];r.label=2;case 2:return t=null,[4,rA(nD,rD,(function(r){return eo(n,void 0,void 0,(function(){var n,i,o;return to(this,(function(a){switch(a.label){case 0:return r.oldVersion<2?[2]:r.objectStoreNames.contains(iD)?[4,(o=r.transaction.objectStore(iD)).index("fcmSenderId").get(e)]:[2];case 1:return n=a.sent(),[4,o.clear()];case 2:if(a.sent(),!n)return[2];if(2===r.oldVersion){if(!(i=n).auth||!i.p256dh||!i.endpoint)return[2];t={token:i.fcmToken,createTime:null!==(o=i.createTime)&&void 0!==o?o:Date.now(),subscriptionOptions:{auth:i.auth,p256dh:i.p256dh,endpoint:i.endpoint,swScope:i.swScope,vapidKey:"string"==typeof i.vapidKey?i.vapidKey:tD(i.vapidKey)}}}else(3===r.oldVersion||4===r.oldVersion)&&(t={token:(i=n).fcmToken,createTime:i.createTime,subscriptionOptions:{auth:tD(i.auth),p256dh:tD(i.p256dh),endpoint:i.endpoint,swScope:i.swScope,vapidKey:tD(i.vapidKey)}});return[2]}}))}))}))];case 3:return r.sent().close(),[4,iA(nD)];case 4:return r.sent(),[4,iA("fcm_vapid_details_db")];case 5:return r.sent(),[4,iA("undefined")];case 6:return r.sent(),[2,function(e){if(!e||!e.subscriptionOptions)return!1;var t=e.subscriptionOptions;return"number"==typeof e.createTime&&0<e.createTime&&"string"==typeof e.token&&0<e.token.length&&"string"==typeof t.auth&&0<t.auth.length&&"string"==typeof t.p256dh&&0<t.p256dh.length&&"string"==typeof t.endpoint&&0<t.endpoint.length&&"string"==typeof t.swScope&&0<t.swScope.length&&"string"==typeof t.vapidKey&&0<t.vapidKey.length}(t)?t:null]}}))}))}var aD="firebase-messaging-database",sD=1,uD="firebase-messaging-store",cD=null;function lD(){return cD=cD||rA(aD,sD,(function(e){0===e.oldVersion&&e.createObjectStore(uD)}))}function hD(e){return eo(this,void 0,void 0,(function(){var t,n;return to(this,(function(r){switch(r.label){case 0:return t=dD(e),[4,lD()];case 1:return[4,r.sent().transaction(uD).objectStore(uD).get(t)];case 2:return(t=r.sent())?[2,t]:[3,3];case 3:return[4,oD(e.appConfig.senderId)];case 4:return(n=r.sent())?[4,fD(e,n)]:[3,6];case 5:return r.sent(),[2,n];case 6:return[2]}}))}))}function fD(e,t){return eo(this,void 0,void 0,(function(){var n,r;return to(this,(function(i){switch(i.label){case 0:return n=dD(e),[4,lD()];case 1:return[4,(r=(r=i.sent()).transaction(uD,"readwrite")).objectStore(uD).put(t,n)];case 2:return i.sent(),[4,r.complete];case 3:return i.sent(),[2,t]}}))}))}function dD(e){return e.appConfig.appId}function pD(e,t){return eo(this,void 0,void 0,(function(){var n,r;return to(this,(function(i){switch(i.label){case 0:return[4,yD(e)];case 1:n={method:"DELETE",headers:n=i.sent()},i.label=2;case 2:return i.trys.push([2,5,,6]),[4,fetch(vD(e.appConfig)+"/"+t,n)];case 3:return[4,i.sent().json()];case 4:if((n=i.sent()).error)throw r=n.error.message,$A.create("token-unsubscribe-failed",{errorInfo:r});return[3,6];case 5:throw r=i.sent(),$A.create("token-unsubscribe-failed",{errorInfo:r});case 6:return[2]}}))}))}function vD(e){return e=e.projectId,JA+"/projects/"+e+"/registrations"}function yD(e){var t=e.appConfig,n=e.installations;return eo(this,void 0,void 0,(function(){var e;return to(this,(function(r){switch(r.label){case 0:return[4,n.getToken()];case 1:return e=r.sent(),[2,new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":"FIS "+e})]}}))}))}function gD(e){var t=e.p256dh,n=e.auth;return t={web:{endpoint:e.endpoint,auth:n,p256dh:t}},(e=e.vapidKey)!==XA&&(t.web.applicationPubKey=e),t}function mD(e,t,n){return eo(this,void 0,void 0,(function(){var r,i,o;return to(this,(function(a){switch(a.label){case 0:if("granted"!==Notification.permission)throw $A.create("permission-blocked");return[4,function(e,t){return eo(this,void 0,void 0,(function(){var n;return to(this,(function(r){switch(r.label){case 0:return[4,e.pushManager.getSubscription()];case 1:return(n=r.sent())?[2,n]:[2,e.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:function(e){e=(e+"=".repeat((4-e.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/");for(var t=atob(e),n=new Uint8Array(t.length),r=0;r<t.length;++r)n[r]=t.charCodeAt(r);return n}(t)})]}}))}))}(t,n)];case 1:return o=a.sent(),[4,hD(e)];case 2:return r=a.sent(),i={vapidKey:n,swScope:t.scope,endpoint:o.endpoint,auth:tD(o.getKey("auth")),p256dh:tD(o.getKey("p256dh"))},r?[3,3]:[2,_D(e,i)];case 3:if(s=r.subscriptionOptions,c=(u=i).vapidKey===s.vapidKey,l=u.endpoint===s.endpoint,h=u.auth===s.auth,s=u.p256dh===s.p256dh,c&&l&&h&&s)return[3,8];a.label=4;case 4:return a.trys.push([4,6,,7]),[4,pD(e,r.token)];case 5:return a.sent(),[3,7];case 6:return o=a.sent(),console.warn(o),[3,7];case 7:return[2,_D(e,i)];case 8:return Date.now()>=r.createTime+6048e5?[2,function(e,t,n){return eo(this,void 0,void 0,(function(){var r,i,o;return to(this,(function(a){switch(a.label){case 0:return a.trys.push([0,3,,5]),[4,function(e,t){return eo(this,void 0,void 0,(function(){var n,r,i,o;return to(this,(function(a){switch(a.label){case 0:return[4,yD(e)];case 1:n=a.sent(),r=gD(t.subscriptionOptions),r={method:"PATCH",headers:n,body:JSON.stringify(r)},a.label=2;case 2:return a.trys.push([2,5,,6]),[4,fetch(vD(e.appConfig)+"/"+t.token,r)];case 3:return[4,a.sent().json()];case 4:return i=a.sent(),[3,6];case 5:throw o=a.sent(),$A.create("token-update-failed",{errorInfo:o});case 6:if(i.error)throw o=i.error.message,$A.create("token-update-failed",{errorInfo:o});if(!i.token)throw $A.create("token-update-no-token");return[2,i.token]}}))}))}(t,e)];case 1:return r=a.sent(),i=Zi(Zi({},e),{token:r,createTime:Date.now()}),[4,fD(t,i)];case 2:return a.sent(),[2,r];case 3:return o=a.sent(),[4,bD(t,n)];case 4:throw a.sent(),o;case 5:return[2]}}))}))}({token:r.token,createTime:Date.now(),subscriptionOptions:i},e,t)]:[2,r.token];case 9:return[2]}var s,u,c,l,h}))}))}function bD(e,t){return eo(this,void 0,void 0,(function(){var n;return to(this,(function(r){switch(r.label){case 0:return[4,hD(e)];case 1:return(n=r.sent())?[4,pD(e,n.token)]:[3,4];case 2:return r.sent(),[4,function(e){return eo(this,void 0,void 0,(function(){var t,n;return to(this,(function(r){switch(r.label){case 0:return t=dD(e),[4,lD()];case 1:return[4,(n=(n=r.sent()).transaction(uD,"readwrite")).objectStore(uD).delete(t)];case 2:return r.sent(),[4,n.complete];case 3:return r.sent(),[2]}}))}))}(e)];case 3:r.sent(),r.label=4;case 4:return[4,t.pushManager.getSubscription()];case 5:return(n=r.sent())?[2,n.unsubscribe()]:[2,!0]}}))}))}function _D(e,t){return eo(this,void 0,void 0,(function(){var n;return to(this,(function(r){switch(r.label){case 0:return[4,function(e,t){return eo(this,void 0,void 0,(function(){var n,r,i,o;return to(this,(function(a){switch(a.label){case 0:return[4,yD(e)];case 1:n=a.sent(),r=gD(t),r={method:"POST",headers:n,body:JSON.stringify(r)},a.label=2;case 2:return a.trys.push([2,5,,6]),[4,fetch(vD(e.appConfig),r)];case 3:return[4,a.sent().json()];case 4:return i=a.sent(),[3,6];case 5:throw o=a.sent(),$A.create("token-subscribe-failed",{errorInfo:o});case 6:if(i.error)throw o=i.error.message,$A.create("token-subscribe-failed",{errorInfo:o});if(!i.token)throw $A.create("token-subscribe-no-token");return[2,i.token]}}))}))}(e,t)];case 1:return n={token:n=r.sent(),createTime:Date.now(),subscriptionOptions:t},[4,fD(e,n)];case 2:return r.sent(),[2,n.token]}}))}))}function wD(e){var t={from:e.from,collapseKey:e.collapse_key};return function(e,t){if(t.notification){e.notification={};var n=t.notification.title;n&&(e.notification.title=n),(n=t.notification.body)&&(e.notification.body=n),(t=t.notification.image)&&(e.notification.image=t)}}(t,e),function(e,t){t.data&&(e.data=t.data)}(t,e),function(e,t){if(t.fcmOptions){e.fcmOptions={};var n=t.fcmOptions.link;n&&(e.fcmOptions.link=n),(t=t.fcmOptions.analytics_label)&&(e.fcmOptions.analyticsLabel=t)}}(t,e),t}function ED(e){return"object"==typeof e&&e&&eD in e}function SD(e){return new Promise((function(t){setTimeout(t,e)}))}var TD=(Object.defineProperty(ID.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),ID.prototype.setBackgroundMessageHandler=function(e){if(this.isOnBackgroundMessageUsed=!1,!e||"function"!=typeof e)throw $A.create("invalid-bg-handler");this.bgMessageHandler=e},ID.prototype.onBackgroundMessage=function(e){var t=this;return this.isOnBackgroundMessageUsed=!0,this.bgMessageHandler=e,function(){t.bgMessageHandler=null}},ID.prototype.getToken=function(){var e;return eo(this,void 0,void 0,(function(){var t;return to(this,(function(n){switch(n.label){case 0:return this.vapidKey?[3,2]:[4,hD(this.firebaseDependencies)];case 1:t=n.sent(),this.vapidKey=null!==(e=null===(e=null==t?void 0:t.subscriptionOptions)||void 0===e?void 0:e.vapidKey)&&void 0!==e?e:XA,n.label=2;case 2:return[2,mD(this.firebaseDependencies,self.registration,this.vapidKey)]}}))}))},ID.prototype.deleteToken=function(){return bD(this.firebaseDependencies,self.registration)},ID.prototype.requestPermission=function(){throw $A.create("only-available-in-window")},ID.prototype.usePublicVapidKey=function(e){if(null!==this.vapidKey)throw $A.create("use-vapid-key-after-get-token");if("string"!=typeof e||0===e.length)throw $A.create("invalid-vapid-key");this.vapidKey=e},ID.prototype.useServiceWorker=function(){throw $A.create("only-available-in-window")},ID.prototype.onMessage=function(){throw $A.create("only-available-in-window")},ID.prototype.onTokenRefresh=function(){throw $A.create("only-available-in-window")},ID.prototype.onPush=function(e){return eo(this,void 0,void 0,(function(){var t,n,r;return to(this,(function(i){switch(i.label){case 0:return(r=function(e){var t=e.data;if(!t)return null;try{return t.json()}catch(e){return null}}(e))?[4,CD()]:(console.debug("FirebaseMessaging: failed to get parsed MessagePayload from the PushEvent. Skip handling the push."),[2]);case 1:return(t=i.sent()).some((function(e){return"visible"===e.visibilityState&&!e.url.startsWith("chrome-extension://")}))?[2,function(e,t){var n,r;t.isFirebaseMessaging=!0,t.messageType=YA.PUSH_RECEIVED;try{for(var i=no(e),o=i.next();!o.done;o=i.next())o.value.postMessage(t)}catch(e){n={error:e}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}}(t,r)]:(n=!1,r.notification?[4,function(e){var t=e.actions,n=Notification.maxActions;return t&&n&&t.length>n&&console.warn("This browser only supports "+n+" actions. The remaining actions will not be displayed."),self.registration.showNotification(null!==(n=e.title)&&void 0!==n?n:"",e)}(((s=Zi({},(o=r).notification)).data=((a={})[ZA]=o,a),s))]:[3,3]);case 2:i.sent(),n=!0,i.label=3;case 3:return!0===n&&!1===this.isOnBackgroundMessageUsed?[2]:(this.bgMessageHandler&&(r=wD(r),"function"==typeof this.bgMessageHandler?this.bgMessageHandler(r):this.bgMessageHandler.next(r)),[4,SD(1e3)]);case 4:return i.sent(),[2]}var o,a,s}))}))},ID.prototype.onSubChange=function(e){var t;return eo(this,void 0,void 0,(function(){var n;return to(this,(function(r){switch(r.label){case 0:return e.newSubscription?[3,2]:[4,bD(this.firebaseDependencies,self.registration)];case 1:return r.sent(),[2];case 2:return[4,hD(this.firebaseDependencies)];case 3:return n=r.sent(),[4,bD(this.firebaseDependencies,self.registration)];case 4:return r.sent(),[4,mD(this.firebaseDependencies,self.registration,null!==(t=null===(t=null==n?void 0:n.subscriptionOptions)||void 0===t?void 0:t.vapidKey)&&void 0!==t?t:XA)];case 5:return r.sent(),[2]}}))}))},ID.prototype.onNotificationClick=function(e){var t;return eo(this,void 0,void 0,(function(){var n,r,i,o,a;return to(this,(function(s){switch(s.label){case 0:return(n=null===(t=null===(t=e.notification)||void 0===t?void 0:t.data)||void 0===t?void 0:t[ZA])?e.action?[2]:(e.stopImmediatePropagation(),e.notification.close(),(r=function(e){var t,n=null!==(t=null===(t=e.fcmOptions)||void 0===t?void 0:t.link)&&void 0!==t?t:null===(n=e.notification)||void 0===n?void 0:n.click_action;return n||(ED(e.data)?self.location.origin:null)}(n))?(i=new URL(r,self.location.href),o=new URL(self.location.origin),i.host!==o.host?[2]:[4,function(e){return eo(this,void 0,void 0,(function(){var t,n,r,i,o,a,s;return to(this,(function(u){switch(u.label){case 0:return[4,CD()];case 1:t=u.sent();try{for(n=no(t),r=n.next();!r.done;r=n.next())if(i=r.value,o=new URL(i.url,self.location.href),e.host===o.host)return[2,i]}catch(u){a={error:u}}finally{try{r&&!r.done&&(s=n.return)&&s.call(n)}finally{if(a)throw a.error}}return[2,null]}}))}))}(i)]):[2]):[2];case 1:return(a=s.sent())?[3,4]:[4,self.clients.openWindow(r)];case 2:return a=s.sent(),[4,SD(3e3)];case 3:return s.sent(),[3,6];case 4:return[4,a.focus()];case 5:a=s.sent(),s.label=6;case 6:return a?(n.messageType=YA.NOTIFICATION_CLICKED,n.isFirebaseMessaging=!0,[2,a.postMessage(n)]):[2]}}))}))},ID);function ID(e){var t=this;this.firebaseDependencies=e,this.isOnBackgroundMessageUsed=null,this.vapidKey=null,this.bgMessageHandler=null,self.addEventListener("push",(function(e){e.waitUntil(t.onPush(e))})),self.addEventListener("pushsubscriptionchange",(function(e){e.waitUntil(t.onSubChange(e))})),self.addEventListener("notificationclick",(function(e){e.waitUntil(t.onNotificationClick(e))}))}function CD(){return self.clients.matchAll({type:"window",includeUncontrolled:!0})}var kD=(Object.defineProperty(OD.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),OD.prototype.messageEventListener=function(e){return eo(this,void 0,void 0,(function(){var t,n;return to(this,(function(r){switch(r.label){case 0:return(t=e.data).isFirebaseMessaging?(this.onMessageCallback&&t.messageType===YA.PUSH_RECEIVED&&("function"==typeof this.onMessageCallback?this.onMessageCallback((delete(i=Object.assign({},t)).messageType,delete i.isFirebaseMessaging,i)):this.onMessageCallback.next(Object.assign({},t))),ED(n=t.data)&&"1"===n["google.c.a.e"]?[4,this.logEvent(t.messageType,n)]:[3,2]):[2];case 1:r.sent(),r.label=2;case 2:return[2]}var i}))}))},OD.prototype.getVapidKey=function(){return this.vapidKey},OD.prototype.getSwReg=function(){return this.swRegistration},OD.prototype.getToken=function(e){return eo(this,void 0,void 0,(function(){return to(this,(function(t){switch(t.label){case 0:return"default"!==Notification.permission?[3,2]:[4,Notification.requestPermission()];case 1:t.sent(),t.label=2;case 2:if("granted"!==Notification.permission)throw $A.create("permission-blocked");return[4,this.updateVapidKey(null==e?void 0:e.vapidKey)];case 3:return t.sent(),[4,this.updateSwReg(null==e?void 0:e.serviceWorkerRegistration)];case 4:return t.sent(),[2,mD(this.firebaseDependencies,this.swRegistration,this.vapidKey)]}}))}))},OD.prototype.updateVapidKey=function(e){return eo(this,void 0,void 0,(function(){return to(this,(function(t){return e?this.vapidKey=e:this.vapidKey||(this.vapidKey=XA),[2]}))}))},OD.prototype.updateSwReg=function(e){return eo(this,void 0,void 0,(function(){return to(this,(function(t){switch(t.label){case 0:return e||this.swRegistration?[3,2]:[4,this.registerDefaultSw()];case 1:t.sent(),t.label=2;case 2:if(!e&&this.swRegistration)return[2];if(!(e instanceof ServiceWorkerRegistration))throw $A.create("invalid-sw-registration");return this.swRegistration=e,[2]}}))}))},OD.prototype.registerDefaultSw=function(){return eo(this,void 0,void 0,(function(){var e;return to(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),e=this,[4,navigator.serviceWorker.register("/firebase-messaging-sw.js",{scope:"/firebase-cloud-messaging-push-scope"})];case 1:return e.swRegistration=t.sent(),this.swRegistration.update().catch((function(){})),[3,3];case 2:throw e=t.sent(),$A.create("failed-service-worker-registration",{browserErrorMessage:e.message});case 3:return[2]}}))}))},OD.prototype.deleteToken=function(){return eo(this,void 0,void 0,(function(){return to(this,(function(e){switch(e.label){case 0:return this.swRegistration?[3,2]:[4,this.registerDefaultSw()];case 1:e.sent(),e.label=2;case 2:return[2,bD(this.firebaseDependencies,this.swRegistration)]}}))}))},OD.prototype.requestPermission=function(){return eo(this,void 0,void 0,(function(){var e;return to(this,(function(t){switch(t.label){case 0:return"granted"===Notification.permission?[2]:[4,Notification.requestPermission()];case 1:if("granted"===(e=t.sent()))return[2];throw"denied"===e?$A.create("permission-blocked"):$A.create("permission-default")}}))}))},OD.prototype.usePublicVapidKey=function(e){if(null!==this.vapidKey)throw $A.create("use-vapid-key-after-get-token");if("string"!=typeof e||0===e.length)throw $A.create("invalid-vapid-key");this.vapidKey=e},OD.prototype.useServiceWorker=function(e){if(!(e instanceof ServiceWorkerRegistration))throw $A.create("invalid-sw-registration");if(this.swRegistration)throw $A.create("use-sw-after-get-token");this.swRegistration=e},OD.prototype.onMessage=function(e){var t=this;return this.onMessageCallback=e,function(){t.onMessageCallback=null}},OD.prototype.setBackgroundMessageHandler=function(){throw $A.create("only-available-in-sw")},OD.prototype.onBackgroundMessage=function(){throw $A.create("only-available-in-sw")},OD.prototype.onTokenRefresh=function(){return function(){}},OD.prototype.logEvent=function(e,t){return eo(this,void 0,void 0,(function(){var n;return to(this,(function(r){switch(r.label){case 0:return n=function(e){switch(e){case YA.NOTIFICATION_CLICKED:return"notification_open";case YA.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(e),[4,this.firebaseDependencies.analyticsProvider.get()];case 1:return r.sent().logEvent(n,{message_id:t[eD],message_name:t["google.c.a.c_l"],message_time:t["google.c.a.ts"],message_device_time:Math.floor(Date.now()/1e3)}),[2]}}))}))},OD);function OD(e){var t=this;this.firebaseDependencies=e,this.vapidKey=null,this.onMessageCallback=null,navigator.serviceWorker.addEventListener("message",(function(e){return t.messageEventListener(e)}))}function xD(e){return $A.create("missing-app-config-values",{valueName:e})}function PD(){return self&&"ServiceWorkerGlobalScope"in self?"indexedDB"in self&&null!==indexedDB&&"PushManager"in self&&"Notification"in self&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey"):"indexedDB"in window&&null!==indexedDB&&navigator.cookieEnabled&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}H={isSupported:PD},Aa.INTERNAL.registerComponent(new na("messaging",(function(e){var t=e.getProvider("app").getImmediate();if(e={app:t,appConfig:function(e){var t,n;if(!e||!e.options)throw xD("App Configuration Object");if(!e.name)throw xD("App Name");var r=e.options;try{for(var i=no(["projectId","apiKey","appId","messagingSenderId"]),o=i.next();!o.done;o=i.next()){var a=o.value;if(!r[a])throw xD(a)}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return{appName:e.name,projectId:r.projectId,apiKey:r.apiKey,appId:r.appId,senderId:r.messagingSenderId}}(t),installations:e.getProvider("installations").getImmediate(),analyticsProvider:e.getProvider("analytics-internal")},!PD())throw $A.create("unsupported-browser");return new(self&&"ServiceWorkerGlobalScope"in self?TD:kD)(e)}),"PUBLIC").setServiceProps(H));var ND,RD="firebasestorage.googleapis.com",AD="storageBucket",DD=(Ji(jD,ND=Co),jD.prototype._codeEquals=function(e){return LD(e)===this.code},Object.defineProperty(jD.prototype,"serverResponse",{get:function(){return this.customData.serverResponse},set:function(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=this._baseMessage+"\n"+this.customData.serverResponse:this.message=this._baseMessage},enumerable:!1,configurable:!0}),jD);function jD(e,t){return(e=ND.call(this,LD(e),"Firebase Storage: "+t+" ("+LD(e)+")")||this).customData={serverResponse:null},e._baseMessage=e.message,Object.setPrototypeOf(e,jD.prototype),e}function LD(e){return"storage/"+e}function MD(){return new DD("unknown","An unknown error occurred, please check the error payload for server response.")}function FD(){return new DD("canceled","User canceled the upload/download.")}function UD(){return new DD("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function qD(e){return new DD("invalid-argument",e)}function BD(){return new DD("app-deleted","The Firebase app was deleted.")}function VD(e){return new DD("invalid-root-operation","The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function WD(e,t){return new DD("invalid-format","String does not match format '"+e+"': "+t)}function zD(e){throw new DD("internal-error","Internal error: "+e)}var HD={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},KD=function(e,t){this.data=e,this.contentType=t||null};function GD(e,t){switch(e){case HD.RAW:return new KD(QD(t));case HD.BASE64:case HD.BASE64URL:return new KD(YD(e,t));case HD.DATA_URL:return new KD(function(e){return(e=new XD(e)).base64?YD(HD.BASE64,e.rest):function(e){var t;try{t=decodeURIComponent(e)}catch(e){throw WD(HD.DATA_URL,"Malformed data URL.")}return QD(t)}(e.rest)}(t),new XD(t).contentType)}throw MD()}function QD(e){for(var t=[],n=0;n<e.length;n++){var r=e.charCodeAt(n);r<=127?t.push(r):r<=2047?t.push(192|r>>6,128|63&r):55296==(64512&r)?n<e.length-1&&56320==(64512&e.charCodeAt(n+1))?(r=65536|(1023&r)<<10|1023&e.charCodeAt(++n),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)):t.push(239,191,189):56320==(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function YD(e,t){switch(e){case HD.BASE64:var n=-1!==t.indexOf("-"),r=-1!==t.indexOf("_");if(n||r)throw WD(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case HD.BASE64URL:if(r=-1!==t.indexOf("+"),n=-1!==t.indexOf("/"),r||n)throw WD(e,"Invalid character '"+(r?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/")}var i;try{i=atob(t)}catch(t){throw WD(e,"Invalid character found")}for(var o=new Uint8Array(i.length),a=0;a<i.length;a++)o[a]=i.charCodeAt(a);return o}var $D,XD=function(e){var t;if(this.base64=!1,(this.contentType=null)===(t=e.match(/^data:([^,]+)?,/)))throw WD(HD.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var n,r=t[1]||null;null!=r&&(this.base64=(n=";base64",(t=r).length>=n.length&&t.substring(t.length-n.length)===n),this.contentType=this.base64?r.substring(0,r.length-";base64".length):r),this.rest=e.substring(e.indexOf(",")+1)},JD={STATE_CHANGED:"state_changed"},ZD={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function ej(e){switch(e){case"running":case"pausing":case"canceling":return ZD.RUNNING;case"paused":return ZD.PAUSED;case"success":return ZD.SUCCESS;case"canceled":return ZD.CANCELED;case"error":default:return ZD.ERROR}}(kn=$D=$D||{})[kn.NO_ERROR=0]="NO_ERROR",kn[kn.NETWORK_ERROR=1]="NETWORK_ERROR",kn[kn.ABORT=2]="ABORT";var tj=(nj.prototype.send=function(e,t,n,r){if(this.sent_)throw zD("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(var i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_},nj.prototype.getErrorCode=function(){if(!this.sent_)throw zD("cannot .getErrorCode() before sending");return this.errorCode_},nj.prototype.getStatus=function(){if(!this.sent_)throw zD("cannot .getStatus() before sending");try{return this.xhr_.status}catch(e){return-1}},nj.prototype.getResponseText=function(){if(!this.sent_)throw zD("cannot .getResponseText() before sending");return this.xhr_.responseText},nj.prototype.abort=function(){this.xhr_.abort()},nj.prototype.getResponseHeader=function(e){return this.xhr_.getResponseHeader(e)},nj.prototype.addUploadProgressListener=function(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)},nj.prototype.removeUploadProgressListener=function(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)},nj);function nj(){var e=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=$D.NO_ERROR,this.sendPromise_=new Promise((function(t){e.xhr_.addEventListener("abort",(function(){e.errorCode_=$D.ABORT,t(e)})),e.xhr_.addEventListener("error",(function(){e.errorCode_=$D.NETWORK_ERROR,t(e)})),e.xhr_.addEventListener("load",(function(){t(e)}))}))}var rj=(ij.prototype.createXhrIo=function(){return new tj},ij);function ij(){}var oj=(Object.defineProperty(aj.prototype,"path",{get:function(){return this.path_},enumerable:!1,configurable:!0}),Object.defineProperty(aj.prototype,"isRoot",{get:function(){return 0===this.path.length},enumerable:!1,configurable:!0}),aj.prototype.fullServerUrl=function(){var e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)},aj.prototype.bucketOnlyServerUrl=function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"},aj.makeFromBucketSpec=function(e,t){var n;try{n=aj.makeFromUrl(e,t)}catch(t){return new aj(e,"")}if(""===n.path)return n;throw new DD("invalid-default-bucket","Invalid default bucket '"+e+"'.")},aj.makeFromUrl=function(e,t){var n=null,r="([A-Za-z0-9.\\-_]+)",i=new RegExp("^gs://"+r+"(/(.*))?$","i");function o(e){e.path_=decodeURIComponent(e.path)}for(var a=t.replace(/[.]/g,"\\."),s=[{regex:i,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp("^https?://"+a+"/v[A-Za-z0-9_]+/b/"+r+"/o(/([^?#]*).*)?$","i"),indices:{bucket:1,path:3},postModify:o},{regex:new RegExp("^https?://"+(t===RD?"(?:storage.googleapis.com|storage.cloud.google.com)":t)+"/"+r+"/([^?#]*)","i"),indices:{bucket:1,path:2},postModify:o}],u=0;u<s.length;u++){var c=s[u],l=c.regex.exec(e);if(l){n=new aj(l[c.indices.bucket],l[c.indices.path]||""),c.postModify(n);break}}if(null==n)throw new DD("invalid-url","Invalid URL '"+e+"'.");return n},aj);function aj(e,t){this.bucket=e,this.path_=t}var sj=(uj.prototype.getPromise=function(){return this.promise_},uj.prototype.cancel=function(e){},uj);function uj(e){this.promise_=Promise.reject(e)}function cj(e){return"string"==typeof e||e instanceof String}function lj(e){return hj()&&e instanceof Blob}function hj(){return"undefined"!=typeof Blob}function fj(e,t,n,r){if(r<t)throw qD("Invalid value for '"+e+"'. Expected "+t+" or greater.");if(n<r)throw qD("Invalid value for '"+e+"'. Expected "+n+" or less.")}function dj(e,t){var n=t.match(/^(\w+):\/\/.+/);return(null==(null==n?void 0:n[1])?"https://"+t:t)+"/v0"+e}function pj(e){var t,n=encodeURIComponent,r="?";for(t in e)e.hasOwnProperty(t)&&(r=r+(n(t)+"=")+n(e[t])+"&");return r.slice(0,-1)}var vj=(yj.prototype.start_=function(){var e,t,n,r,i,o,a,s,u,c=this;function l(e,t){var n,r=c.resolve_,i=c.reject_,o=t.xhr;if(t.wasSuccessCode)try{var a=c.callback_(o,o.getResponseText());void 0!==a?r(a):r()}catch(e){i(e)}else null!==o?((n=MD()).serverResponse=o.getResponseText(),c.errorCallback_?i(c.errorCallback_(o,n)):i(n)):t.canceled?i(n=(c.appDelete_?BD:FD)()):i(n=new DD("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))}function h(){return 2===a}function f(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];s||(s=!0,t.apply(null,e))}function d(t){i=setTimeout((function(){i=null,e(p,h())}),t)}function p(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];s||(e||h()||o?f.call.apply(f,io([null,e],t)):(r<64&&(r*=2),d(1===a?(a=2,0):1e3*(r+Math.random()))))}function v(e){u||(u=!0,s||(null!==i?(e||(a=2),clearTimeout(i),d(0)):e||(a=1)))}this.canceled_?l(0,new gj(!1,null,!0)):this.backoffId_=(e=function(e,t){function n(e){var t=e.loaded;e=e.lengthComputable?e.total:-1,null!==c.progressCallback_&&c.progressCallback_(t,e)}t?e(!1,new gj(!1,null,!0)):(t=c.pool_.createXhrIo(),c.pendingXhr_=t,null!==c.progressCallback_&&t.addUploadProgressListener(n),t.send(c.url_,c.method_,c.body_,c.headers_).then((function(t){null!==c.progressCallback_&&t.removeUploadProgressListener(n),c.pendingXhr_=null;var r=t.getErrorCode()===$D.NO_ERROR,i=t.getStatus();r&&!c.isRetryStatusCode_(i)?(i=-1!==c.successCodes_.indexOf(i),e(!0,new gj(i,t))):(t=t.getErrorCode()===$D.ABORT,e(!1,new gj(!1,null,t)))})))},t=l,n=this.timeout_,i=null,u=s=o=!(r=1),d(a=0),setTimeout((function(){o=!0,v(!0)}),n),v)},yj.prototype.getPromise=function(){return this.promise_},yj.prototype.cancel=function(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingXhr_&&this.pendingXhr_.abort()},yj.prototype.isRetryStatusCode_=function(e){var t=500<=e&&e<600,n=-1!==[408,429].indexOf(e);return e=-1!==this.additionalRetryCodes_.indexOf(e),t||n||e},yj);function yj(e,t,n,r,i,o,a,s,u,c,l){var h=this;this.pendingXhr_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=e,this.method_=t,this.headers_=n,this.body_=r,this.successCodes_=i.slice(),this.additionalRetryCodes_=o.slice(),this.callback_=a,this.errorCallback_=s,this.progressCallback_=c,this.timeout_=u,this.pool_=l,this.promise_=new Promise((function(e,t){h.resolve_=e,h.reject_=t,h.start_()}))}var gj=function(e,t,n){this.wasSuccessCode=e,this.xhr=t,this.canceled=!!n};function mj(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0;if(void 0!==n){for(var r=new n,i=0;i<e.length;i++)r.append(e[i]);return r.getBlob()}if(hj())return new Blob(e);throw new DD("unsupported-environment","This browser doesn't seem to support creating Blobs")}var bj=(_j.prototype.size=function(){return this.size_},_j.prototype.type=function(){return this.type_},_j.prototype.slice=function(e,t){if(lj(this.data_)){var n=this.data_;return null===(r=e,i=t,i=(n=n).webkitSlice?n.webkitSlice(r,i):n.mozSlice?n.mozSlice(r,i):n.slice?n.slice(r,i):null)?null:new _j(i)}var r,i;return new _j(new Uint8Array(this.data_.buffer,e,t-e),!0)},_j.getBlob=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(hj()){var n=e.map((function(e){return e instanceof _j?e.data_:e}));return new _j(mj.apply(null,n))}n=e.map((function(e){return cj(e)?GD(HD.RAW,e).data:e.data_}));var r=0;n.forEach((function(e){r+=e.byteLength}));var i=new Uint8Array(r),o=0;return n.forEach((function(e){for(var t=0;t<e.length;t++)i[o++]=e[t]})),new _j(i,!0)},_j.prototype.uploadData=function(){return this.data_},_j);function _j(e,t){var n=0,r="";lj(e)?(n=(this.data_=e).size,r=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),n=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),n=e.length),this.size_=n,this.type_=r}function wj(e){var t,n;try{t=JSON.parse(e)}catch(e){return null}return"object"!=typeof(n=t)||Array.isArray(n)?null:t}function Ej(e){var t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function Sj(e,t){return t}var Tj=function(e,t,n,r){this.server=e,this.local=t||e,this.writable=!!n,this.xform=r||Sj},Ij=null;function Cj(){if(Ij)return Ij;var e=[];e.push(new Tj("bucket")),e.push(new Tj("generation")),e.push(new Tj("metageneration")),e.push(new Tj("name","fullPath",!0));var t=new Tj("name");return t.xform=function(e,t){return!cj(t=t)||t.length<2?t:Ej(t)},e.push(t),(t=new Tj("size")).xform=function(e,t){return void 0!==t?Number(t):t},e.push(t),e.push(new Tj("timeCreated")),e.push(new Tj("updated")),e.push(new Tj("md5Hash",null,!0)),e.push(new Tj("cacheControl",null,!0)),e.push(new Tj("contentDisposition",null,!0)),e.push(new Tj("contentEncoding",null,!0)),e.push(new Tj("contentLanguage",null,!0)),e.push(new Tj("contentType",null,!0)),e.push(new Tj("metadata","customMetadata",!0)),Ij=e}function kj(e,t){Object.defineProperty(e,"ref",{get:function(){var n=e.bucket,r=e.fullPath;return r=new oj(n,r),t._makeStorageReference(r)}})}function Oj(e,t,n){return null===(t=wj(t))?null:function(e,t,n){for(var r={type:"file"},i=n.length,o=0;o<i;o++){var a=n[o];r[a.local]=a.xform(r,t[a.server])}return kj(r,e),r}(e,t,n)}function xj(e,t){for(var n={},r=t.length,i=0;i<r;i++){var o=t[i];o.writable&&(n[o.server]=e[o.local])}return JSON.stringify(n)}var Pj="prefixes",Nj="items";function Rj(e,t,n){return null===(n=wj(n))?null:function(e,t,n){var r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n[Pj])for(var i=0,o=n[Pj];i<o.length;i++){var a=o[i].replace(/\/$/,""),s=e._makeStorageReference(new oj(t,a));r.prefixes.push(s)}if(n[Nj])for(var u=0,c=n[Nj];u<c.length;u++){var l=c[u];s=e._makeStorageReference(new oj(t,l.name)),r.items.push(s)}return r}(e,t,n)}var Aj=function(e,t,n,r){this.url=e,this.method=t,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]};function Dj(e){if(!e)throw MD()}function jj(e,t){return function(n,r){return Dj(null!==(r=Oj(e,r,t))),r}}function Lj(e,t){return function(n,r){return Dj(null!==(r=Rj(e,t,r))),r}}function Mj(e,t){return function(n,r){var i=Oj(e,r,t);return Dj(null!==i),function(e,t,n){if(null===(t=wj(t)))return null;if(!cj(t.downloadTokens))return null;if(0===(t=t.downloadTokens).length)return null;var r=encodeURIComponent;return t.split(",").map((function(t){var i=e.bucket,o=e.fullPath;return dj("/b/"+r(i)+"/o/"+r(o),n)+pj({alt:"media",token:t})}))[0]}(i,r,e.host)}}function Fj(e){return function(t,n){var r,i=401===t.getStatus()?new DD("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?(r=e.bucket,new DD("quota-exceeded","Quota for bucket '"+r+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===t.getStatus()?(i=e.path,new DD("unauthorized","User does not have permission to access '"+i+"'.")):n;return i.serverResponse=n.serverResponse,i}}function Uj(e){var t=Fj(e);return function(n,r){var i=t(n,r);return 404===n.getStatus()&&(n=e.path,i=new DD("object-not-found","Object '"+n+"' does not exist.")),i.serverResponse=r.serverResponse,i}}function qj(e,t,n){var r=dj(t.fullServerUrl(),e.host),i=e.maxOperationRetryTime;return(i=new Aj(r,"GET",jj(e,n),i)).errorHandler=Uj(t),i}function Bj(e,t,n){return(n=Object.assign({},n)).fullPath=e.path,n.size=t.size(),n.contentType||(n.contentType=(e=t,(t=null)&&t.contentType||e&&e.type()||"application/octet-stream")),n}function Vj(e,t,n,r,i){var o=t.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"},s=function(){for(var e="",t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();a["Content-Type"]="multipart/related; boundary="+s;var u=Bj(t,r,i);if(i="--"+s+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+xj(u,n)+"\r\n--"+s+"\r\nContent-Type: "+u.contentType+"\r\n\r\n",s="\r\n--"+s+"--",null===(r=bj.getBlob(i,r,s)))throw UD();return s={name:u.fullPath},u=dj(o,e.host),o=e.maxUploadRetryTime,(o=new Aj(u,"POST",jj(e,n),o)).urlParams=s,o.headers=a,o.body=r.uploadData(),o.errorHandler=Fj(t),o}var Wj=function(e,t,n,r){this.current=e,this.total=t,this.finalized=!!n,this.metadata=r||null};function zj(e,t){var n=null;try{n=e.getResponseHeader("X-Goog-Upload-Status")}catch(e){Dj(!1)}return Dj(!!n&&-1!==(t||["active"]).indexOf(n)),n}function Hj(e,t,n,r,i){var o=t.bucketOnlyServerUrl(),a=Bj(t,r,i);return i={name:a.fullPath},o=dj(o,e.host),r={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":r.size(),"X-Goog-Upload-Header-Content-Type":a.contentType,"Content-Type":"application/json; charset=utf-8"},n=xj(a,n),e=e.maxUploadRetryTime,(e=new Aj(o,"POST",(function(e){var t;zj(e);try{t=e.getResponseHeader("X-Goog-Upload-URL")}catch(e){Dj(!1)}return Dj(cj(t)),t}),e)).urlParams=i,e.headers=r,e.body=n,e.errorHandler=Fj(t),e}function Kj(e,t,n,r){return e=e.maxUploadRetryTime,(e=new Aj(n,"POST",(function(e){var t=zj(e,["active","final"]),n=null;try{n=e.getResponseHeader("X-Goog-Upload-Size-Received")}catch(e){Dj(!1)}n||Dj(!1);var i=Number(n);return Dj(!isNaN(i)),new Wj(i,r.size(),"final"===t)}),e)).headers={"X-Goog-Upload-Command":"query"},e.errorHandler=Fj(t),e}function Gj(e,t,n,r,i,o,a,s){var u=new Wj(0,0);if(a?(u.current=a.current,u.total=a.total):(u.current=0,u.total=r.size()),r.size()!==u.total)throw new DD("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");var c=u.total-u.current,l=c;if(0<i&&(l=Math.min(l,i)),i=(a=u.current)+l,c={"X-Goog-Upload-Command":l===c?"upload, finalize":"upload","X-Goog-Upload-Offset":u.current},null===(a=r.slice(a,i)))throw UD();return i=t.maxUploadRetryTime,(i=new Aj(n,"POST",(function(e,n){var i=zj(e,["active","final"]),a=u.current+l,s=r.size();return n="final"===i?jj(t,o)(e,n):null,new Wj(a,s,"final"===i,n)}),i)).headers=c,i.body=a.uploadData(),i.progressCallback=s||null,i.errorHandler=Fj(e),i}var Qj=function(e,t,n){"function"==typeof e||null!=t||null!=n?(this.next=e,this.error=t,this.complete=n):(e=e,this.next=e.next,this.error=e.error,this.complete=e.complete)};function Yj(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];Promise.resolve().then((function(){return e.apply(void 0,t)}))}}var $j=(Xj.prototype._makeProgressCallback=function(){var e=this,t=this._transferred;return function(n){return e._updateProgress(t+n)}},Xj.prototype._shouldDoResumable=function(e){return 262144<e.size()},Xj.prototype._start=function(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())},Xj.prototype._resolveToken=function(e){var t=this;this._ref.storage._getAuthToken().then((function(n){switch(t._state){case"running":e(n);break;case"canceling":t._transition("canceled");break;case"pausing":t._transition("paused")}}))},Xj.prototype._createResumable=function(){var e=this;this._resolveToken((function(t){var n=Hj(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata);t=e._ref.storage._makeRequest(n,t),(e._request=t).getPromise().then((function(t){e._request=void 0,e._uploadUrl=t,e._needToFetchStatus=!1,e.completeTransitions_()}),e._errorHandler)}))},Xj.prototype._fetchStatus=function(){var e=this,t=this._uploadUrl;this._resolveToken((function(n){var r=Kj(e._ref.storage,e._ref._location,t,e._blob);n=e._ref.storage._makeRequest(r,n),(e._request=n).getPromise().then((function(t){e._request=void 0,e._updateProgress(t.current),e._needToFetchStatus=!1,t.finalized&&(e._needToFetchMetadata=!0),e.completeTransitions_()}),e._errorHandler)}))},Xj.prototype._continueUpload=function(){var e=this,t=262144*this._chunkMultiplier,n=new Wj(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((function(i){var o;try{o=Gj(e._ref._location,e._ref.storage,r,e._blob,t,e._mappings,n,e._makeProgressCallback())}catch(i){return e._error=i,void e._transition("error")}i=e._ref.storage._makeRequest(o,i),(e._request=i).getPromise().then((function(t){e._increaseMultiplier(),e._request=void 0,e._updateProgress(t.current),t.finalized?(e._metadata=t.metadata,e._transition("success")):e.completeTransitions_()}),e._errorHandler)}))},Xj.prototype._increaseMultiplier=function(){262144*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)},Xj.prototype._fetchMetadata=function(){var e=this;this._resolveToken((function(t){var n=qj(e._ref.storage,e._ref._location,e._mappings);t=e._ref.storage._makeRequest(n,t),(e._request=t).getPromise().then((function(t){e._request=void 0,e._metadata=t,e._transition("success")}),e._metadataErrorHandler)}))},Xj.prototype._oneShotUpload=function(){var e=this;this._resolveToken((function(t){var n=Vj(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata);t=e._ref.storage._makeRequest(n,t),(e._request=t).getPromise().then((function(t){e._request=void 0,e._metadata=t,e._updateProgress(e._blob.size()),e._transition("success")}),e._errorHandler)}))},Xj.prototype._updateProgress=function(e){var t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()},Xj.prototype._transition=function(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request&&this._request.cancel();break;case"running":var t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=FD(),this._state=e,this._notifyObservers();break;case"error":case"success":this._state=e,this._notifyObservers()}},Xj.prototype.completeTransitions_=function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}},Object.defineProperty(Xj.prototype,"snapshot",{get:function(){var e=ej(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}},enumerable:!1,configurable:!0}),Xj.prototype.on=function(e,t,n,r){var i=this,o=new Qj(t,n,r);return this._addObserver(o),function(){i._removeObserver(o)}},Xj.prototype.then=function(e,t){return this._promise.then(e,t)},Xj.prototype.catch=function(e){return this.then(null,e)},Xj.prototype._addObserver=function(e){this._observers.push(e),this._notifyObserver(e)},Xj.prototype._removeObserver=function(e){-1!==(e=this._observers.indexOf(e))&&this._observers.splice(e,1)},Xj.prototype._notifyObservers=function(){var e=this;this._finishPromise(),this._observers.slice().forEach((function(t){e._notifyObserver(t)}))},Xj.prototype._finishPromise=function(){if(void 0!==this._resolve){var e=!0;switch(ej(this._state)){case ZD.SUCCESS:Yj(this._resolve.bind(null,this.snapshot))();break;case ZD.CANCELED:case ZD.ERROR:Yj(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}},Xj.prototype._notifyObserver=function(e){switch(ej(this._state)){case ZD.RUNNING:case ZD.PAUSED:e.next&&Yj(e.next.bind(e,this.snapshot))();break;case ZD.SUCCESS:e.complete&&Yj(e.complete.bind(e))();break;case ZD.CANCELED:case ZD.ERROR:e.error&&Yj(e.error.bind(e,this._error))();break;default:e.error&&Yj(e.error.bind(e,this._error))()}},Xj.prototype.resume=function(){var e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e},Xj.prototype.pause=function(){var e="running"===this._state;return e&&this._transition("pausing"),e},Xj.prototype.cancel=function(){var e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e},Xj);function Xj(e,t,n){var r=this;void 0===n&&(n=null),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=n,this._mappings=Cj(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(e){r._request=void 0,r._chunkMultiplier=1,e._codeEquals("canceled")?(r._needToFetchStatus=!0,r.completeTransitions_()):(r._error=e,r._transition("error"))},this._metadataErrorHandler=function(e){r._request=void 0,e._codeEquals("canceled")?r.completeTransitions_():(r._error=e,r._transition("error"))},this._promise=new Promise((function(e,t){r._resolve=e,r._reject=t,r._start()})),this._promise.then(null,(function(){}))}var Jj=(Zj.prototype.toString=function(){return"gs://"+this._location.bucket+"/"+this._location.path},Zj.prototype._newRef=function(e,t){return new Zj(e,t)},Object.defineProperty(Zj.prototype,"root",{get:function(){var e=new oj(this._location.bucket,"");return this._newRef(this._service,e)},enumerable:!1,configurable:!0}),Object.defineProperty(Zj.prototype,"bucket",{get:function(){return this._location.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(Zj.prototype,"fullPath",{get:function(){return this._location.path},enumerable:!1,configurable:!0}),Object.defineProperty(Zj.prototype,"name",{get:function(){return Ej(this._location.path)},enumerable:!1,configurable:!0}),Object.defineProperty(Zj.prototype,"storage",{get:function(){return this._service},enumerable:!1,configurable:!0}),Object.defineProperty(Zj.prototype,"parent",{get:function(){var e=function(e){if(0===e.length)return null;var t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);return null===e?null:(e=new oj(this._location.bucket,e),new Zj(this._service,e))},enumerable:!1,configurable:!0}),Zj.prototype._throwIfRoot=function(e){if(""===this._location.path)throw VD(e)},Zj);function Zj(e,t){this._service=e,this._location=t instanceof oj?t:oj.makeFromUrl(t,e.host)}function eL(e){var t={prefixes:[],items:[]};return function e(t,n,r){return eo(this,void 0,void 0,(function(){var i,o;return to(this,(function(a){switch(a.label){case 0:return[4,tL(t,{pageToken:r})];case 1:return i=a.sent(),(o=n.prefixes).push.apply(o,i.prefixes),(o=n.items).push.apply(o,i.items),null==i.nextPageToken?[3,3]:[4,e(t,n,i.nextPageToken)];case 2:a.sent(),a.label=3;case 3:return[2]}}))}))}(e,t).then((function(){return t}))}function tL(e,t){return eo(this,void 0,void 0,(function(){var n,r;return to(this,(function(i){switch(i.label){case 0:return null!=t&&"number"==typeof t.maxResults&&fj("options.maxResults",1,1e3,t.maxResults),[4,e.storage._getAuthToken()];case 1:return n=i.sent(),r=t||{},o=e.storage,a=e._location,s="/",u=r.pageToken,c=r.maxResults,l={},a.isRoot?l.prefix="":l.prefix=a.path+"/",s&&0<s.length&&(l.delimiter=s),u&&(l.pageToken=u),c&&(l.maxResults=c),u=dj(a.bucketOnlyServerUrl(),o.host),c=o.maxOperationRetryTime,(c=new Aj(u,"GET",Lj(o,a.bucket),c)).urlParams=l,c.errorHandler=Fj(a),[2,e.storage._makeRequest(c,n).getPromise()]}var o,a,s,u,c,l}))}))}function nL(e,t){return eo(this,void 0,void 0,(function(){var n;return to(this,(function(r){switch(r.label){case 0:return e._throwIfRoot("updateMetadata"),[4,e.storage._getAuthToken()];case 1:return n=r.sent(),i=e.storage,o=e._location,a=t,s=Cj(),u=dj(o.fullServerUrl(),i.host),c=xj(a,s),a=i.maxOperationRetryTime,(a=new Aj(u,"PATCH",jj(i,s),a)).headers={"Content-Type":"application/json; charset=utf-8"},a.body=c,a.errorHandler=Uj(o),[2,e.storage._makeRequest(a,n).getPromise()]}var i,o,a,s,u,c}))}))}function rL(e){return eo(this,void 0,void 0,(function(){var t;return to(this,(function(n){switch(n.label){case 0:return e._throwIfRoot("getDownloadURL"),[4,e.storage._getAuthToken()];case 1:return t=n.sent(),r=e.storage,i=e._location,o=Cj(),a=dj(i.fullServerUrl(),r.host),s=r.maxOperationRetryTime,(s=new Aj(a,"GET",Mj(r,o),s)).errorHandler=Uj(i),[2,e.storage._makeRequest(s,t).getPromise().then((function(e){if(null===e)throw new DD("no-download-url","The given file does not have any download URLs.");return e}))]}var r,i,o,a,s}))}))}function iL(e){return eo(this,void 0,void 0,(function(){var t;return to(this,(function(n){switch(n.label){case 0:return e._throwIfRoot("deleteObject"),[4,e.storage._getAuthToken()];case 1:return t=n.sent(),r=e.storage,o=dj((i=e._location).fullServerUrl(),r.host),r=r.maxOperationRetryTime,(r=new Aj(o,"DELETE",(function(e,t){}),r)).successCodes=[200,204],r.errorHandler=Uj(i),[2,e.storage._makeRequest(r,t).getPromise()]}var r,i,o}))}))}function oL(e,t){var n;return n=e._location.path,t=(t=t).split("/").filter((function(e){return 0<e.length})).join("/"),t=0===n.length?t:n+"/"+t,t=new oj(e._location.bucket,t),new Jj(e.storage,t)}function aL(e){return/^[A-Za-z]+:\/\//.test(e)}function sL(e,t){if(e instanceof lL){var n=e;if(null==n._bucket)throw new DD("no-default-bucket","No default bucket found. Did you set the '"+AD+"' property when initializing the app?");return n=new Jj(n,n._bucket),null!=t?sL(n,t):n}if(void 0===t)return e;if(t.includes(".."))throw qD('`path` param cannot contain ".."');return oL(e,t)}function uL(e,t){if(t&&aL(t)){if(e instanceof lL)return new Jj(e,t);throw qD("To use ref(service, url), the first argument must be a Storage instance.")}return sL(e,t)}function cL(e,t){return null==(t=null==t?void 0:t[AD])?null:oj.makeFromBucketSpec(t,e)}var lL=(Object.defineProperty(hL.prototype,"host",{get:function(){return this._host},set:function(e){this._host=e,null!=this._url?this._bucket=oj.makeFromBucketSpec(this._url,e):this._bucket=cL(e,this.app.options)},enumerable:!1,configurable:!0}),Object.defineProperty(hL.prototype,"maxUploadRetryTime",{get:function(){return this._maxUploadRetryTime},set:function(e){fj("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e},enumerable:!1,configurable:!0}),Object.defineProperty(hL.prototype,"maxOperationRetryTime",{get:function(){return this._maxOperationRetryTime},set:function(e){fj("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e},enumerable:!1,configurable:!0}),hL.prototype._getAuthToken=function(){return eo(this,void 0,void 0,(function(){var e;return to(this,(function(t){switch(t.label){case 0:return(e=this._authProvider.getImmediate({optional:!0}))?[4,e.getToken()]:[3,2];case 1:if(null!==(e=t.sent()))return[2,e.accessToken];t.label=2;case 2:return[2,null]}}))}))},hL.prototype._delete=function(){return this._deleted=!0,this._requests.forEach((function(e){return e.cancel()})),this._requests.clear(),Promise.resolve()},hL.prototype._makeStorageReference=function(e){return new Jj(this,e)},hL.prototype._makeRequest=function(e,t){var n=this;if(this._deleted)return new sj(BD());var r,i,o,a,s,u,c=(r=e,i=this._appId,o=t,a=this._pool,s=this._firebaseVersion,u=pj(r.urlParams),e=r.url+u,u=t=Object.assign({},r.headers),(i=i)&&(u["X-Firebase-GMPID"]=i),i=t,null!==(o=o)&&0<o.length&&(i.Authorization="Firebase "+o),s=s,t["X-Firebase-Storage-Version"]="webjs/"+(null!=s?s:"AppManager"),new vj(e,r.method,t,r.body,r.successCodes,r.additionalRetryCodes,r.handler,r.errorHandler,r.timeout,r.progressCallback,a));return this._requests.add(c),c.getPromise().then((function(){return n._requests.delete(c)}),(function(){return n._requests.delete(c)})),c},hL);function hL(e,t,n,r,i){this.app=e,this._authProvider=t,this._pool=n,this._url=r,this._firebaseVersion=i,this._bucket=null,this._host=RD,this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?oj.makeFromBucketSpec(r,this._host):cL(this._host,this.app.options)}function fL(e,t,n){return t=t,n=n,(e=e=ta(e))._throwIfRoot("uploadBytesResumable"),new $j(e,new bj(t),n)}function dL(e){return function(e){return eo(this,void 0,void 0,(function(){var t,n;return to(this,(function(r){switch(r.label){case 0:return e._throwIfRoot("getMetadata"),[4,e.storage._getAuthToken()];case 1:return t=r.sent(),n=qj(e.storage,e._location,Cj()),[2,e.storage._makeRequest(n,t).getPromise()]}}))}))}(e=ta(e))}function pL(e,t){return uL(e=ta(e),t)}var vL=(Object.defineProperty(yL.prototype,"bytesTransferred",{get:function(){return this._delegate.bytesTransferred},enumerable:!1,configurable:!0}),Object.defineProperty(yL.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(yL.prototype,"state",{get:function(){return this._delegate.state},enumerable:!1,configurable:!0}),Object.defineProperty(yL.prototype,"totalBytes",{get:function(){return this._delegate.totalBytes},enumerable:!1,configurable:!0}),yL);function yL(e,t,n){this._delegate=e,this.task=t,this.ref=n}var gL=(Object.defineProperty(mL.prototype,"snapshot",{get:function(){return new vL(this._delegate.snapshot,this,this._ref)},enumerable:!1,configurable:!0}),mL.prototype.then=function(e,t){var n=this;return this._delegate.then((function(t){if(e)return e(new vL(t,n,n._ref))}),t)},mL.prototype.on=function(e,t,n,r){var i=this,o=void 0;return t&&(o="function"==typeof t?function(e){return t(new vL(e,i,i._ref))}:{next:t.next?function(e){return t.next(new vL(e,i,i._ref))}:void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,o,n||void 0,r||void 0)},mL);function mL(e,t){this._delegate=e,this._ref=t,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}var bL=(Object.defineProperty(_L.prototype,"prefixes",{get:function(){var e=this;return this._delegate.prefixes.map((function(t){return new wL(t,e._service)}))},enumerable:!1,configurable:!0}),Object.defineProperty(_L.prototype,"items",{get:function(){var e=this;return this._delegate.items.map((function(t){return new wL(t,e._service)}))},enumerable:!1,configurable:!0}),Object.defineProperty(_L.prototype,"nextPageToken",{get:function(){return this._delegate.nextPageToken||null},enumerable:!1,configurable:!0}),_L);function _L(e,t){this._delegate=e,this._service=t}var wL=(Object.defineProperty(EL.prototype,"name",{get:function(){return this._delegate.name},enumerable:!1,configurable:!0}),Object.defineProperty(EL.prototype,"bucket",{get:function(){return this._delegate.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(EL.prototype,"fullPath",{get:function(){return this._delegate.fullPath},enumerable:!1,configurable:!0}),EL.prototype.toString=function(){return this._delegate.toString()},EL.prototype.child=function(e){return new EL(oL(this._delegate,e),this.storage)},Object.defineProperty(EL.prototype,"root",{get:function(){return new EL(this._delegate.root,this.storage)},enumerable:!1,configurable:!0}),Object.defineProperty(EL.prototype,"parent",{get:function(){var e=this._delegate.parent;return null==e?null:new EL(e,this.storage)},enumerable:!1,configurable:!0}),EL.prototype.put=function(e,t){return this._throwIfRoot("put"),new gL(fL(this._delegate,e,t),this)},EL.prototype.putString=function(e,t,n){return void 0===t&&(t=HD.RAW),this._throwIfRoot("putString"),e=GD(t,e),null==(n=Zi({},n)).contentType&&null!=e.contentType&&(n.contentType=e.contentType),new gL(new $j(this._delegate,new bj(e.data,!0),n),this)},EL.prototype.listAll=function(){var e=this;return eL(ta(this._delegate)).then((function(t){return new bL(t,e.storage)}))},EL.prototype.list=function(e){var t=this;return e=e||void 0,tL(ta(this._delegate),e).then((function(e){return new bL(e,t.storage)}))},EL.prototype.getMetadata=function(){return dL(this._delegate)},EL.prototype.updateMetadata=function(e){return e=e,nL(ta(this._delegate),e)},EL.prototype.getDownloadURL=function(){return rL(ta(this._delegate))},EL.prototype.delete=function(){return this._throwIfRoot("delete"),iL(ta(this._delegate))},EL.prototype._throwIfRoot=function(e){if(""===this._delegate._location.path)throw VD(e)},EL);function EL(e,t){this._delegate=e,this.storage=t}var SL,TL,IL=(Object.defineProperty(CL.prototype,"maxOperationRetryTime",{get:function(){return this._delegate.maxOperationRetryTime},enumerable:!1,configurable:!0}),Object.defineProperty(CL.prototype,"maxUploadRetryTime",{get:function(){return this._delegate.maxUploadRetryTime},enumerable:!1,configurable:!0}),CL.prototype.ref=function(e){if(aL(e))throw qD("ref() expected a child path but got a URL, use refFromURL instead.");return new wL(pL(this._delegate,e),this)},CL.prototype.refFromURL=function(e){if(!aL(e))throw qD("refFromURL() expected a full URL but got a child path, use ref() instead.");try{oj.makeFromUrl(e,this._delegate.host)}catch(e){throw qD("refFromUrl() expected a valid full URL but got an invalid one.")}return new wL(pL(this._delegate,e),this)},CL.prototype.setMaxUploadRetryTime=function(e){this._delegate.maxUploadRetryTime=e},CL.prototype.setMaxOperationRetryTime=function(e){this._delegate.maxOperationRetryTime=e},CL.prototype.useEmulator=function(e,t){e=e,t=t,this._delegate.host="http://"+e+":"+t},CL);function CL(e,t){var n=this;this.app=e,this._delegate=t,this.INTERNAL={delete:function(){return n._delegate._delete()}}}function kL(e,t){var n=t.instanceIdentifier;return t=e.getProvider("app").getImmediate(),e=e.getProvider("auth-internal"),new IL(t,new lL(t,e,new rj,n,Aa.SDK_VERSION))}TL={TaskState:ZD,TaskEvent:JD,StringFormat:HD,Storage:lL,Reference:wL},(SL=Aa).INTERNAL.registerComponent(new na("storage",kL,"PUBLIC").setServiceProps(TL).setMultipleInstances(!0)),SL.registerVersion("@firebase/storage","0.5.1");var OL,xL,PL="0.4.11",NL="FB-PERF-TRACE-MEASURE",RL="@firebase/performance/config",AL="@firebase/performance/configexpire",DL=(H="Performance",(kn={})["trace started"]="Trace {$traceName} was started before.",kn["trace stopped"]="Trace {$traceName} is not running.",kn["nonpositive trace startTime"]="Trace {$traceName} startTime should be positive.",kn["nonpositive trace duration"]="Trace {$traceName} duration should be positive.",kn["no window"]="Window is not available.",kn["no app id"]="App id is not available.",kn["no project id"]="Project id is not available.",kn["no api key"]="Api key is not available.",kn["invalid cc log"]="Attempted to queue invalid cc event",kn["FB not default"]="Performance can only start when Firebase app instance is the default one.",kn["RC response not ok"]="RC response is not ok",kn["invalid attribute name"]="Attribute name {$attributeName} is invalid.",kn["invalid attribute value"]="Attribute value {$attributeValue} is invalid.",kn["invalid custom metric name"]="Custom metric name {$customMetricName} is invalid",kn["invalid String merger input"]="Input for String merger is invalid, contact support team to resolve.",new Oo("performance",H,kn=kn)),jL=new va(H);jL.logLevel=ca.INFO;var LL,ML=(FL.prototype.getUrl=function(){return this.windowLocation.href.split("?")[0]},FL.prototype.mark=function(e){this.performance&&this.performance.mark&&this.performance.mark(e)},FL.prototype.measure=function(e,t,n){this.performance&&this.performance.measure&&this.performance.measure(e,t,n)},FL.prototype.getEntriesByType=function(e){return this.performance&&this.performance.getEntriesByType?this.performance.getEntriesByType(e):[]},FL.prototype.getEntriesByName=function(e){return this.performance&&this.performance.getEntriesByName?this.performance.getEntriesByName(e):[]},FL.prototype.getTimeOrigin=function(){return this.performance&&(this.performance.timeOrigin||this.performance.timing.navigationStart)},FL.prototype.requiredApisAvailable=function(){return fetch&&Promise&&this.navigator&&this.navigator.cookieEnabled?!!wo()||(jL.info("IndexedDB is not supported by current browswer"),!1):(jL.info("Firebase Performance cannot start if browser does not support fetch and Promise or cookie is disabled."),!1)},FL.prototype.setupObserver=function(e,t){this.PerformanceObserver&&new this.PerformanceObserver((function(e){for(var n=0,r=e.getEntries();n<r.length;n++){var i=r[n];t(i)}})).observe({entryTypes:[e]})},FL.getInstance=function(){return OL=void 0===OL?new FL(xL):OL},FL);function FL(e){if(!(this.window=e))throw DL.create("no window");this.performance=e.performance,this.PerformanceObserver=e.PerformanceObserver,this.windowLocation=e.location,this.navigator=e.navigator,this.document=e.document,this.navigator&&this.navigator.cookieEnabled&&(this.localStorage=e.localStorage),e.perfMetrics&&e.perfMetrics.onFirstInputDelay&&(this.onFirstInputDelay=e.perfMetrics.onFirstInputDelay)}function UL(e,t){var n=e.length-t.length;if(n<0||1<n)throw DL.create("invalid String merger input");for(var r=[],i=0;i<e.length;i++)r.push(e.charAt(i)),t.length>i&&r.push(t.charAt(i));return r.join("")}var qL,BL,VL=(WL.prototype.getAppId=function(){var e=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.appId;if(!e)throw DL.create("no app id");return e},WL.prototype.getProjectId=function(){var e=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.projectId;if(!e)throw DL.create("no project id");return e},WL.prototype.getApiKey=function(){var e=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.apiKey;if(!e)throw DL.create("no api key");return e},WL.prototype.getFlTransportFullUrl=function(){return this.flTransportEndpointUrl.concat("?key=",this.transportKey)},WL.getInstance=function(){return LL=void 0===LL?new WL:LL},WL);function WL(){this.instrumentationEnabled=!0,this.dataCollectionEnabled=!0,this.loggingEnabled=!1,this.tracesSamplingRate=1,this.networkRequestsSamplingRate=1,this.logEndPointUrl="https://firebaselogging.googleapis.com/v0cc/log?format=json_proto",this.flTransportEndpointUrl=UL("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),this.transportKey=UL("AzSC8r6ReiGqFMyfvgow","Iayx0u-XT3vksVM-pIV"),this.logSource=462,this.logTraceAfterSampling=!1,this.logNetworkAfterSampling=!1,this.configTimeToLive=12}(H=BL=BL||{})[H.UNKNOWN=0]="UNKNOWN",H[H.VISIBLE=1]="VISIBLE",H[H.HIDDEN=2]="HIDDEN";var zL=["firebase_","google_","ga_"],HL=new RegExp("^[a-zA-Z]\\w*$");function KL(){switch(ML.getInstance().document.visibilityState){case"visible":return BL.VISIBLE;case"hidden":return BL.HIDDEN;default:return BL.UNKNOWN}}var GL="0.0.1",QL={loggingEnabled:!0},YL="FIREBASE_INSTALLATIONS_AUTH";function $L(e){var t,n=function(){var e=ML.getInstance().localStorage;if(e){var t=e.getItem(AL);if(t&&function(e){return Number(e)>Date.now()}(t)){var n=e.getItem(RL);if(n)try{return JSON.parse(n)}catch(e){return}}}}();return n?(JL(n),Promise.resolve()):(t=e,function(){var e=VL.getInstance().installationsService.getToken();return e.then((function(e){})),e}().then((function(e){var n="https://firebaseremoteconfig.googleapis.com/v1/projects/"+VL.getInstance().getProjectId()+"/namespaces/fireperf:fetch?key="+VL.getInstance().getApiKey();return e=new Request(n,{method:"POST",headers:{Authorization:YL+" "+e},body:JSON.stringify({app_instance_id:t,app_instance_id_token:e,app_id:VL.getInstance().getAppId(),app_version:PL,sdk_version:GL})}),fetch(e).then((function(e){if(e.ok)return e.json();throw DL.create("RC response not ok")}))})).catch((function(){jL.info(XL)})).then(JL).then((function(e){var t=ML.getInstance().localStorage;e&&t&&(t.setItem(RL,JSON.stringify(e)),t.setItem(AL,String(Date.now()+60*VL.getInstance().configTimeToLive*60*1e3)))}),(function(){})))}var XL="Could not fetch config, will use default configs";function JL(e){if(!e)return e;var t=VL.getInstance(),n=e.entries||{};return t.loggingEnabled=void 0!==n.fpr_enabled?"true"===String(n.fpr_enabled):QL.loggingEnabled,n.fpr_log_source&&(t.logSource=Number(n.fpr_log_source)),n.fpr_log_endpoint_url&&(t.logEndPointUrl=n.fpr_log_endpoint_url),n.fpr_log_transport_key&&(t.transportKey=n.fpr_log_transport_key),void 0!==n.fpr_vc_network_request_sampling_rate&&(t.networkRequestsSamplingRate=Number(n.fpr_vc_network_request_sampling_rate)),void 0!==n.fpr_vc_trace_sampling_rate&&(t.tracesSamplingRate=Number(n.fpr_vc_trace_sampling_rate)),t.logTraceAfterSampling=ZL(t.tracesSamplingRate),t.logNetworkAfterSampling=ZL(t.networkRequestsSamplingRate),e}function ZL(e){return Math.random()<=e}var eM,tM=1;function nM(){return tM=2,eM=eM||function(){var e=ML.getInstance().document;return new Promise((function(t){var n;e&&"complete"!==e.readyState?(n=function(){"complete"===e.readyState&&(e.removeEventListener("readystatechange",n),t())},e.addEventListener("readystatechange",n)):t()}))}().then((function(){return(e=VL.getInstance().installationsService.getId()).then((function(e){qL=e})),e;var e})).then($L).then(rM,rM)}function rM(){tM=3}var iM,oM=1e4,aM=5500,sM=3,uM=1e3,cM=sM,lM=[],hM=!1;function fM(e){setTimeout((function(){var e,t;if(0!==cM)return lM.length?(t=(e=lM.splice(0,uM)).map((function(e){return{source_extension_json_proto3:e.message,event_time_ms:String(e.eventTime)}})),void function(e,t){return function(e){var t=VL.getInstance().getFlTransportFullUrl();return fetch(t,{method:"POST",body:JSON.stringify(e)})}(e).then((function(e){return e.ok||jL.info("Call to Firebase backend failed."),e.json()})).then((function(e){var n=Number(e.nextRequestWaitMillis),r=oM;isNaN(n)||(r=Math.max(n,r)),e=e.logResponseDetails,Array.isArray(e)&&0<e.length&&"RETRY_REQUEST_LATER"===e[0].responseAction&&(lM=io(io([],t),lM),jL.info("Retry transport request later.")),cM=sM,fM(r)}))}({request_time_ms:String(Date.now()),client_info:{client_type:1,js_client_info:{}},log_source:VL.getInstance().logSource,log_event:t},e).catch((function(){lM=io(io([],e),lM),cM--,jL.info("Tries left: "+cM+"."),fM(oM)}))):fM(oM)}),e)}function dM(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];!function(e){if(!e.eventTime||!e.message)throw DL.create("invalid cc log");lM=io(io([],lM),[e])}({message:e.apply(void 0,t),eventTime:Date.now()})}}function pM(e,t){(iM=iM||dM(gM))(e,t)}function vM(e){var t=VL.getInstance();!t.instrumentationEnabled&&e.isAuto||(t.dataCollectionEnabled||e.isAuto)&&ML.getInstance().requiredApisAvailable()&&(e.isAuto&&KL()!==BL.VISIBLE||(3===tM?yM(e):nM().then((function(){return yM(e)}),(function(){return yM(e)}))))}function yM(e){var t;!qL||(t=VL.getInstance()).loggingEnabled&&t.logTraceAfterSampling&&setTimeout((function(){return pM(e,1)}),0)}function gM(e,t){return(0===t?function(e){return e={url:e.url,http_method:e.httpMethod||0,http_response_code:200,response_payload_bytes:e.responsePayloadBytes,client_start_time_us:e.startTimeUs,time_to_response_initiated_us:e.timeToResponseInitiatedUs,time_to_response_completed_us:e.timeToResponseCompletedUs},e={application_info:mM(),network_request_metric:e},JSON.stringify(e)}:function(e){var t={name:e.name,is_auto:e.isAuto,client_start_time_us:e.startTimeUs,duration_us:e.durationUs};return 0!==Object.keys(e.counters).length&&(t.counters=e.counters),e=e.getAttributes(),0!==Object.keys(e).length&&(t.custom_attributes=e),t={application_info:mM(),trace_metric:t},JSON.stringify(t)})(e)}function mM(){return{google_app_id:VL.getInstance().getAppId(),app_instance_id:qL,web_app_info:{sdk_version:PL,page_url:ML.getInstance().getUrl(),service_worker_status:"serviceWorker"in(e=ML.getInstance().navigator)?e.serviceWorker.controller?2:3:1,visibility_state:KL(),effective_connection_type:function(){var e=ML.getInstance().navigator.connection;switch(e&&e.effectiveType){case"slow-2g":return 1;case"2g":return 2;case"3g":return 3;case"4g":return 4;default:return 0}}()},application_process_state:0};var e}var bM=["_fp","_fcp","_fid"],_M=(wM.prototype.start=function(){if(1!==this.state)throw DL.create("trace started",{traceName:this.name});this.api.mark(this.traceStartMark),this.state=2},wM.prototype.stop=function(){if(2!==this.state)throw DL.create("trace stopped",{traceName:this.name});this.state=3,this.api.mark(this.traceStopMark),this.api.measure(this.traceMeasure,this.traceStartMark,this.traceStopMark),this.calculateTraceMetrics(),vM(this)},wM.prototype.record=function(e,t,n){if(e<=0)throw DL.create("nonpositive trace startTime",{traceName:this.name});if(t<=0)throw DL.create("nonpositive trace duration",{traceName:this.name});if(this.durationUs=Math.floor(1e3*t),this.startTimeUs=Math.floor(1e3*e),n&&n.attributes&&(this.customAttributes=Zi({},n.attributes)),n&&n.metrics)for(var r=0,i=Object.keys(n.metrics);r<i.length;r++){var o=i[r];isNaN(Number(n.metrics[o]))||(this.counters[o]=Number(Math.floor(n.metrics[o])))}vM(this)},wM.prototype.incrementMetric=function(e,t){void 0===t&&(t=1),void 0===this.counters[e]?this.putMetric(e,t):this.putMetric(e,this.counters[e]+t)},wM.prototype.putMetric=function(e,t){if(n=e,r=this.name,0===n.length||100<n.length||!(r&&r.startsWith("_wt_")&&-1<bM.indexOf(n))&&n.startsWith("_"))throw DL.create("invalid custom metric name",{customMetricName:e});var n,r;this.counters[e]=(e=t,(t=Math.floor(e))<e&&jL.info("Metric value should be an Integer, setting the value as : "+t+"."),t)},wM.prototype.getMetric=function(e){return this.counters[e]||0},wM.prototype.putAttribute=function(e,t){var n,r=!(0===(n=e).length||40<n.length)&&!zL.some((function(e){return n.startsWith(e)}))&&!!n.match(HL),i=0!==(i=t).length&&i.length<=100;if(r&&i)this.customAttributes[e]=t;else{if(!r)throw DL.create("invalid attribute name",{attributeName:e});if(!i)throw DL.create("invalid attribute value",{attributeValue:t})}},wM.prototype.getAttribute=function(e){return this.customAttributes[e]},wM.prototype.removeAttribute=function(e){void 0!==this.customAttributes[e]&&delete this.customAttributes[e]},wM.prototype.getAttributes=function(){return Zi({},this.customAttributes)},wM.prototype.setStartTime=function(e){this.startTimeUs=e},wM.prototype.setDuration=function(e){this.durationUs=e},wM.prototype.calculateTraceMetrics=function(){var e;(e=(e=this.api.getEntriesByName(this.traceMeasure))&&e[0])&&(this.durationUs=Math.floor(1e3*e.duration),this.startTimeUs=Math.floor(1e3*(e.startTime+this.api.getTimeOrigin())))},wM.createOobTrace=function(e,t,n){var r,i=ML.getInstance().getUrl();i&&(r=new wM("_wt_"+i,!0),i=Math.floor(1e3*ML.getInstance().getTimeOrigin()),r.setStartTime(i),e&&e[0]&&(r.setDuration(Math.floor(1e3*e[0].duration)),r.putMetric("domInteractive",Math.floor(1e3*e[0].domInteractive)),r.putMetric("domContentLoadedEventEnd",Math.floor(1e3*e[0].domContentLoadedEventEnd)),r.putMetric("loadEventEnd",Math.floor(1e3*e[0].loadEventEnd))),t&&((e=t.find((function(e){return"first-paint"===e.name})))&&e.startTime&&r.putMetric("_fp",Math.floor(1e3*e.startTime)),(t=t.find((function(e){return"first-contentful-paint"===e.name})))&&t.startTime&&r.putMetric("_fcp",Math.floor(1e3*t.startTime)),n&&r.putMetric("_fid",Math.floor(1e3*n))),vM(r))},wM.createUserTimingTrace=function(e){vM(new wM(e,!1,e))},wM);function wM(e,t,n){void 0===t&&(t=!1),this.name=e,this.isAuto=t,this.state=1,this.customAttributes={},this.counters={},this.api=ML.getInstance(),this.randomId=Math.floor(1e6*Math.random()),this.isAuto||(this.traceStartMark="FB-PERF-TRACE-START-"+this.randomId+"-"+this.name,this.traceStopMark="FB-PERF-TRACE-STOP-"+this.randomId+"-"+this.name,this.traceMeasure=n||NL+"-"+this.randomId+"-"+this.name,n&&this.calculateTraceMetrics())}function EM(e){var t,n,r,i=e;i&&void 0!==i.responseStart&&(n=ML.getInstance().getTimeOrigin(),r=Math.floor(1e3*(i.startTime+n)),e=i.responseStart?Math.floor(1e3*(i.responseStart-i.startTime)):void 0,n=Math.floor(1e3*(i.responseEnd-i.startTime)),i={url:i.name&&i.name.split("?")[0],responsePayloadBytes:i.transferSize,startTimeUs:r,timeToResponseInitiatedUs:e,timeToResponseCompletedUs:n},t=i,(r=VL.getInstance()).instrumentationEnabled&&(e=t.url,n=r.logEndPointUrl.split("?")[0],i=r.flTransportEndpointUrl.split("?")[0],e!==n&&e!==i&&r.loggingEnabled&&r.logNetworkAfterSampling&&setTimeout((function(){return pM(t,0)}),0)))}var SM=5e3;function TM(){qL&&(setTimeout((function(){var e,t=ML.getInstance(),n=t.getEntriesByType("navigation"),r=t.getEntriesByType("paint");t.onFirstInputDelay?(e=setTimeout((function(){_M.createOobTrace(n,r),e=void 0}),SM),t.onFirstInputDelay((function(t){e&&(clearTimeout(e),_M.createOobTrace(n,r,t))}))):_M.createOobTrace(n,r)}),0),setTimeout((function(){for(var e=ML.getInstance(),t=0,n=e.getEntriesByType("resource");t<n.length;t++)EM(n[t]);e.setupObserver("resource",EM)}),0),setTimeout((function(){for(var e=ML.getInstance(),t=0,n=e.getEntriesByType("measure");t<n.length;t++)IM(n[t]);e.setupObserver("measure",IM)}),0))}function IM(e){(e=e.name).substring(0,NL.length)!==NL&&_M.createUserTimingTrace(e)}var CM,kM=(OM.prototype.trace=function(e){return new _M(e)},Object.defineProperty(OM.prototype,"instrumentationEnabled",{get:function(){return VL.getInstance().instrumentationEnabled},set:function(e){VL.getInstance().instrumentationEnabled=e},enumerable:!1,configurable:!0}),Object.defineProperty(OM.prototype,"dataCollectionEnabled",{get:function(){return VL.getInstance().dataCollectionEnabled},set:function(e){VL.getInstance().dataCollectionEnabled=e},enumerable:!1,configurable:!0}),OM);function OM(e){this.app=e,ML.getInstance().requiredApisAvailable()&&Eo().then((function(e){e&&(hM||(fM(aM),hM=!0),nM().then(TM,TM))})).catch((function(e){jL.info("Environment doesn't support IndexedDB: "+e)}))}function xM(e,t){if("[DEFAULT]"!==e.name)throw DL.create("FB not default");if("undefined"==typeof window)throw DL.create("no window");return xL=window,VL.getInstance().firebaseAppInstance=e,VL.getInstance().installationsService=t,new kM(e)}(CM=Aa).INTERNAL.registerComponent(new na("performance",(function(e){return xM(e.getProvider("app").getImmediate(),e=e.getProvider("installations").getImmediate())}),"PUBLIC")),CM.registerVersion("@firebase/performance","0.4.11");var PM,NM,RM="firebase_id",AM="origin",DM=6e4,jM="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",LM="https://www.googletagmanager.com/gtag/js";(H=PM=PM||{}).EVENT="event",H.SET="set",H.CONFIG="config",(H=NM=NM||{}).ADD_SHIPPING_INFO="add_shipping_info",H.ADD_PAYMENT_INFO="add_payment_info",H.ADD_TO_CART="add_to_cart",H.ADD_TO_WISHLIST="add_to_wishlist",H.BEGIN_CHECKOUT="begin_checkout",H.CHECKOUT_PROGRESS="checkout_progress",H.EXCEPTION="exception",H.GENERATE_LEAD="generate_lead",H.LOGIN="login",H.PAGE_VIEW="page_view",H.PURCHASE="purchase",H.REFUND="refund",H.REMOVE_FROM_CART="remove_from_cart",H.SCREEN_VIEW="screen_view",H.SEARCH="search",H.SELECT_CONTENT="select_content",H.SELECT_ITEM="select_item",H.SELECT_PROMOTION="select_promotion",H.SET_CHECKOUT_OPTION="set_checkout_option",H.SHARE="share",H.SIGN_UP="sign_up",H.TIMING_COMPLETE="timing_complete",H.VIEW_CART="view_cart",H.VIEW_ITEM="view_item",H.VIEW_ITEM_LIST="view_item_list",H.VIEW_PROMOTION="view_promotion",H.VIEW_SEARCH_RESULTS="view_search_results";var MM=new va("@firebase/analytics");function FM(e,t,n,r){return function(i,o,a){return eo(this,void 0,void 0,(function(){var s;return to(this,(function(u){switch(u.label){case 0:return u.trys.push([0,6,,7]),i!==PM.EVENT?[3,2]:[4,function(e,t,n,r,i){return eo(this,void 0,void 0,(function(){var o,a,s,u,c,l,h;return to(this,(function(f){switch(f.label){case 0:return f.trys.push([0,4,,5]),o=[],i&&i.send_to?(h=i.send_to,Array.isArray(h)||(h=[h]),[4,Promise.all(n)]):[3,2];case 1:for(a=f.sent(),s=function(e){var n;if(!(n=(n=a.find((function(t){return t.measurementId===e})))&&t[n.appId]))return o=[],"break";o.push(n)},u=0,c=h;u<c.length&&(l=c[u],"break"!==s(l));u++);f.label=2;case 2:return 0===o.length&&(o=Object.values(t)),[4,Promise.all(o)];case 3:return f.sent(),e(PM.EVENT,r,i||{}),[3,5];case 4:return h=f.sent(),MM.error(h),[3,5];case 5:return[2]}}))}))}(e,t,n,o,a)];case 1:return u.sent(),[3,5];case 2:return i!==PM.CONFIG?[3,4]:[4,function(e,t,n,r,i,o){return eo(this,void 0,void 0,(function(){var a,s;return to(this,(function(u){switch(u.label){case 0:a=r[i],u.label=1;case 1:return u.trys.push([1,7,,8]),a?[4,t[a]]:[3,3];case 2:return u.sent(),[3,6];case 3:return[4,Promise.all(n)];case 4:return(s=(s=u.sent()).find((function(e){return e.measurementId===i})))?[4,t[s.appId]]:[3,6];case 5:u.sent(),u.label=6;case 6:return[3,8];case 7:return s=u.sent(),MM.error(s),[3,8];case 8:return e(PM.CONFIG,i,o),[2]}}))}))}(e,t,n,r,o,a)];case 3:return u.sent(),[3,5];case 4:e(PM.SET,o),u.label=5;case 5:return[3,7];case 6:return s=u.sent(),MM.error(s),[3,7];case 7:return[2]}}))}))}}(H={})["already-exists"]="A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.",H["already-initialized"]="Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.",H["interop-component-reg-failed"]="Firebase Analytics Interop Component failed to instantiate: {$reason}",H["invalid-analytics-context"]="Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",H["indexeddb-unavailable"]="IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",H["fetch-throttle"]="The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.",H["config-fetch-failed"]="Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}",H["no-api-key"]='The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',H["no-app-id"]='The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.';var UM=new Oo("analytics","Analytics",H=H),qM=30;function BM(e,t){void 0===e&&(e={}),void 0===t&&(t=1e3),this.throttleMetadata=e,this.intervalMillis=t}var VM=new(BM.prototype.getThrottleMetadata=function(e){return this.throttleMetadata[e]},BM.prototype.setThrottleMetadata=function(e,t){this.throttleMetadata[e]=t},BM.prototype.deleteThrottleMetadata=function(e){delete this.throttleMetadata[e]},BM);function WM(e){var t;return eo(this,void 0,void 0,(function(){var n,r,i,o;return to(this,(function(a){switch(a.label){case 0:return n=e.appId,o=e.apiKey,o={method:"GET",headers:new Headers({Accept:"application/json","x-goog-api-key":o})},n=jM.replace("{app-id}",n),[4,fetch(n,o)];case 1:if(200===(r=a.sent()).status||304===r.status)return[3,6];i="",a.label=2;case 2:return a.trys.push([2,4,,5]),[4,r.json()];case 3:return o=a.sent(),null!==(t=o.error)&&void 0!==t&&t.message&&(i=o.error.message),[3,5];case 4:return a.sent(),[3,5];case 5:throw UM.create("config-fetch-failed",{httpStatus:r.status,responseMessage:i});case 6:return[2,r.json()]}}))}))}function zM(e,t,n){return void 0===t&&(t=VM),eo(this,void 0,void 0,(function(){var r,i,o,a,s,u=this;return to(this,(function(c){if(a=e.options,r=a.appId,i=a.apiKey,o=a.measurementId,!r)throw UM.create("no-app-id");if(i)return a=t.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},s=new GM,setTimeout((function(){return eo(u,void 0,void 0,(function(){return to(this,(function(e){return s.abort(),[2]}))}))}),void 0!==n?n:DM),[2,function e(t,n,r,i){var o=n.throttleEndTimeMillis,a=n.backoffCount;return void 0===i&&(i=VM),eo(this,void 0,void 0,(function(){var n,s,u,c,l;return to(this,(function(h){switch(h.label){case 0:n=t.appId,s=t.measurementId,h.label=1;case 1:return h.trys.push([1,3,,4]),[4,HM(r,o)];case 2:return h.sent(),[3,4];case 3:if(c=h.sent(),s)return MM.warn("Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID "+s+' provided in the "measurementId" field in the local Firebase config. ['+c.message+"]"),[2,{appId:n,measurementId:s}];throw c;case 4:return h.trys.push([4,6,,7]),[4,WM(t)];case 5:return l=h.sent(),i.deleteThrottleMetadata(n),[2,l];case 6:if(KM(u=h.sent()))return c=503===Number(u.customData.httpStatus)?ea(a,i.intervalMillis,qM):ea(a,i.intervalMillis),l={throttleEndTimeMillis:Date.now()+c,backoffCount:a+1},i.setThrottleMetadata(n,l),MM.debug("Calling attemptFetch again in "+c+" millis"),[2,e(t,l,r,i)];if(i.deleteThrottleMetadata(n),s)return MM.warn("Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID "+s+' provided in the "measurementId" field in the local Firebase config. ['+u.message+"]"),[2,{appId:n,measurementId:s}];throw u;case 7:return[2]}}))}))}({appId:r,apiKey:i,measurementId:o},a,s,t)];if(o)return[2,{measurementId:o,appId:r}];throw UM.create("no-api-key")}))}))}function HM(e,t){return new Promise((function(n,r){var i=Math.max(t-Date.now(),0),o=setTimeout(n,i);e.addEventListener((function(){clearTimeout(o),r(UM.create("fetch-throttle",{throttleEndTimeMillis:t}))}))}))}function KM(e){if(e instanceof Co&&e.customData)return 429===(e=Number(e.customData.httpStatus))||500===e||503===e||504===e}var GM=(QM.prototype.addEventListener=function(e){this.listeners.push(e)},QM.prototype.abort=function(){this.listeners.forEach((function(e){return e()}))},QM);function QM(){this.listeners=[]}function YM(e,t,n,r,i,o){return eo(this,void 0,void 0,(function(){var a,s,u;return to(this,(function(c){switch(c.label){case 0:return(a=zM(e)).then((function(t){n[t.measurementId]=t.appId,e.options.measurementId&&t.measurementId!==e.options.measurementId&&MM.warn("The measurement ID in the local Firebase config ("+e.options.measurementId+") does not match the measurement ID fetched from the server ("+t.measurementId+"). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.")})).catch((function(e){return MM.error(e)})),t.push(a),s=function(){return eo(this,void 0,void 0,(function(){var e;return to(this,(function(t){switch(t.label){case 0:return wo()?[3,1]:(MM.warn(UM.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),[2,!1]);case 1:return t.trys.push([1,3,,4]),[4,Eo()];case 2:return t.sent(),[3,4];case 3:return e=t.sent(),MM.warn(UM.create("indexeddb-unavailable",{errorInfo:e}).message),[2,!1];case 4:return[2,!0]}}))}))}().then((function(e){if(e)return r.getId()})),[4,Promise.all([a,s])];case 1:return u=c.sent(),a=u[0],s=u[1],function(){for(var e=window.document.getElementsByTagName("script"),t=0,n=Object.values(e);t<n.length;t++){var r=n[t];if(r.src&&r.src.includes(LM))return r}}()||(l=o,h=a.measurementId,(f=document.createElement("script")).src=LM+"?l="+l+"&id="+h,f.async=!0,document.head.appendChild(f)),i("js",new Date),(u={})[AM]="firebase",u.update=!0,u=u,null!=s&&(u[RM]=s),i(PM.CONFIG,a.measurementId,u),[2,a.measurementId]}var l,h,f}))}))}var $M,XM,JM={},ZM=[],eF={},tF="dataLayer",nF="gtag",rF=!1;function iF(e){if(rF)throw UM.create("already-initialized");e.dataLayerName&&(tF=e.dataLayerName),e.gtagName&&(nF=e.gtagName)}function oF(e,t){i=[],mo()&&i.push("This is a browser extension environment."),So()||i.push("Cookies are not available."),0<i.length&&(i=i.map((function(e,t){return"("+(t+1)+") "+e})).join(" "),i=UM.create("invalid-analytics-context",{errorInfo:i}),MM.warn(i.message));var n,r,i,o,a,s,u=e.options.appId;if(!u)throw UM.create("no-app-id");if(!e.options.apiKey){if(!e.options.measurementId)throw UM.create("no-api-key");MM.warn('The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID '+e.options.measurementId+' provided in the "measurementId" field in the local Firebase config.')}if(null!=JM[u])throw UM.create("already-exists",{id:u});return rF||(a=tF,s=[],Array.isArray(window[a])?s=window[a]:window[a]=s,n=JM,r=ZM,i=eF,o=tF,a=nF,s=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];window[o].push(arguments)},window[a]&&"function"==typeof window[a]&&(s=window[a]),window[a]=FM(s,n,r,i),a={gtagCore:s,wrappedGtag:window[a]},XM=a.wrappedGtag,$M=a.gtagCore,rF=!0),JM[u]=YM(e,ZM,eF,t,$M,tF),{app:e,logEvent:function(e,t,n){(function(e,t,n,r,i){return eo(this,void 0,void 0,(function(){var o;return to(this,(function(a){switch(a.label){case 0:return i&&i.global?(e(PM.EVENT,n,r),[2]):[3,1];case 1:return[4,t];case 2:o=a.sent(),o=Zi(Zi({},r),{send_to:o}),e(PM.EVENT,n,o),a.label=3;case 3:return[2]}}))}))})(XM,JM[u],e,t,n).catch((function(e){return MM.error(e)}))},setCurrentScreen:function(e,t){(function(e,t,n,r){return eo(this,void 0,void 0,(function(){var i;return to(this,(function(o){switch(o.label){case 0:return r&&r.global?(e(PM.SET,{screen_name:n}),[2,Promise.resolve()]):[3,1];case 1:return[4,t];case 2:i=o.sent(),e(PM.CONFIG,i,{update:!0,screen_name:n}),o.label=3;case 3:return[2]}}))}))})(XM,JM[u],e,t).catch((function(e){return MM.error(e)}))},setUserId:function(e,t){(function(e,t,n,r){return eo(this,void 0,void 0,(function(){var i;return to(this,(function(o){switch(o.label){case 0:return r&&r.global?(e(PM.SET,{user_id:n}),[2,Promise.resolve()]):[3,1];case 1:return[4,t];case 2:i=o.sent(),e(PM.CONFIG,i,{update:!0,user_id:n}),o.label=3;case 3:return[2]}}))}))})(XM,JM[u],e,t).catch((function(e){return MM.error(e)}))},setUserProperties:function(e,t){(function(e,t,n,r){return eo(this,void 0,void 0,(function(){var i,o,a,s,u;return to(this,(function(c){switch(c.label){case 0:if(!r||!r.global)return[3,1];for(i={},o=0,a=Object.keys(n);o<a.length;o++)s=a[o],i["user_properties."+s]=n[s];return e(PM.SET,i),[2,Promise.resolve()];case 1:return[4,t];case 2:u=c.sent(),e(PM.CONFIG,u,{update:!0,user_properties:n}),c.label=3;case 3:return[2]}}))}))})(XM,JM[u],e,t).catch((function(e){return MM.error(e)}))},setAnalyticsCollectionEnabled:function(e){(function(e,t){return eo(this,void 0,void 0,(function(){var n;return to(this,(function(r){switch(r.label){case 0:return[4,e];case 1:return n=r.sent(),window["ga-disable-"+n]=!t,[2]}}))}))})(JM[u],e).catch((function(e){return MM.error(e)}))},INTERNAL:{delete:function(){return delete JM[u],Promise.resolve()}}}}var aF,sF="analytics";function uF(){return eo(this,void 0,void 0,(function(){return to(this,(function(e){switch(e.label){case 0:if(mo())return[2,!1];if(!So())return[2,!1];if(!wo())return[2,!1];e.label=1;case 1:return e.trys.push([1,3,,4]),[4,Eo()];case 2:return[2,e.sent()];case 3:return e.sent(),[2,!1];case 4:return[2]}}))}))}(aF=Aa).INTERNAL.registerComponent(new na(sF,(function(e){return oF(e.getProvider("app").getImmediate(),e.getProvider("installations").getImmediate())}),"PUBLIC").setServiceProps({settings:iF,EventName:NM,isSupported:uF})),aF.INTERNAL.registerComponent(new na("analytics-internal",(function(e){try{return{logEvent:e.getProvider(sF).getImmediate().logEvent}}catch(e){throw UM.create("interop-component-reg-failed",{reason:e})}}),"PRIVATE")),aF.registerVersion("@firebase/analytics","0.6.9");var cF=(lF.prototype.isCachedDataFresh=function(e,t){if(!t)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;var n=Date.now()-t;return t=n<=e,this.logger.debug("Config fetch cache check. Cache age millis: "+n+". Cache max age millis (minimumFetchIntervalMillis setting): "+e+". Is cache hit: "+t+"."),t},lF.prototype.fetch=function(e){return eo(this,void 0,void 0,(function(){var t,n,r;return to(this,(function(i){switch(i.label){case 0:return[4,Promise.all([this.storage.getLastSuccessfulFetchTimestampMillis(),this.storage.getLastSuccessfulFetchResponse()])];case 1:return r=i.sent(),t=r[0],(r=r[1])&&this.isCachedDataFresh(e.cacheMaxAgeMillis,t)?[2,r]:(e.eTag=r&&r.eTag,[4,this.client.fetch(e)]);case 2:return n=i.sent(),r=[this.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())],200===n.status&&r.push(this.storage.setLastSuccessfulFetchResponse(n)),[4,Promise.all(r)];case 3:return i.sent(),[2,n]}}))}))},lF);function lF(e,t,n,r){this.client=e,this.storage=t,this.storageCache=n,this.logger=r}(H={})["registration-window"]="Undefined window object. This SDK only supports usage in a browser environment.",H["registration-project-id"]="Undefined project identifier. Check Firebase app initialization.",H["registration-api-key"]="Undefined API key. Check Firebase app initialization.",H["registration-app-id"]="Undefined app identifier. Check Firebase app initialization.",H["storage-open"]="Error thrown when opening storage. Original error: {$originalErrorMessage}.",H["storage-get"]="Error thrown when reading from storage. Original error: {$originalErrorMessage}.",H["storage-set"]="Error thrown when writing to storage. Original error: {$originalErrorMessage}.",H["storage-delete"]="Error thrown when deleting from storage. Original error: {$originalErrorMessage}.",H["fetch-client-network"]="Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.",H["fetch-timeout"]='The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',H["fetch-throttle"]='The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',H["fetch-client-parse"]="Fetch client could not parse response. Original error: {$originalErrorMessage}.",H["fetch-status"]="Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.";var hF=new Oo("remoteconfig","Remote Config",H=H),fF=(dF.prototype.fetch=function(e){return eo(this,void 0,void 0,(function(){var t,n,r,i,o,a,s,u,c,l;return to(this,(function(h){switch(h.label){case 0:return[4,Promise.all([this.firebaseInstallations.getId(),this.firebaseInstallations.getToken()])];case 1:i=h.sent(),t=i[0],r=i[1],n=window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com",i=n+"/v1/projects/"+this.projectId+"/namespaces/"+this.namespace+":fetch?key="+this.apiKey,n={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},r={sdk_version:this.sdkVersion,app_instance_id:t,app_instance_id_token:r,app_id:this.appId,language_code:(f=void 0===f?navigator:f).languages&&f.languages[0]||f.language},r={method:"POST",headers:n,body:JSON.stringify(r)},i=fetch(i,r),r=new Promise((function(t,n){e.signal.addEventListener((function(){var e=new Error("The operation was aborted.");e.name="AbortError",n(e)}))})),h.label=2;case 2:return h.trys.push([2,5,,6]),[4,Promise.race([i,r])];case 3:return h.sent(),[4,i];case 4:return l=h.sent(),[3,6];case 5:throw r=h.sent(),i="fetch-client-network","AbortError"===r.name&&(i="fetch-timeout"),hF.create(i,{originalErrorMessage:r.message});case 6:if(o=l.status,a=l.headers.get("ETag")||void 0,200!==l.status)return[3,11];c=void 0,h.label=7;case 7:return h.trys.push([7,9,,10]),[4,l.json()];case 8:return c=h.sent(),[3,10];case 9:throw l=h.sent(),hF.create("fetch-client-parse",{originalErrorMessage:l.message});case 10:s=c.entries,u=c.state,h.label=11;case 11:if("INSTANCE_STATE_UNSPECIFIED"===u?o=500:"NO_CHANGE"===u?o=304:"NO_TEMPLATE"!==u&&"EMPTY_CONFIG"!==u||(s={}),304!==o&&200!==o)throw hF.create("fetch-status",{httpStatus:o});return[2,{status:o,eTag:a,config:s}]}var f}))}))},dF);function dF(e,t,n,r,i,o){this.firebaseInstallations=e,this.sdkVersion=t,this.namespace=n,this.projectId=r,this.apiKey=i,this.appId=o}var pF=(vF.prototype.addEventListener=function(e){this.listeners.push(e)},vF.prototype.abort=function(){this.listeners.forEach((function(e){return e()}))},vF);function vF(){this.listeners=[]}var yF=["1","true","t","yes","y","on"],gF=(mF.prototype.asString=function(){return this._value},mF.prototype.asBoolean=function(){return"static"!==this._source&&0<=yF.indexOf(this._value.toLowerCase())},mF.prototype.asNumber=function(){if("static"===this._source)return 0;var e=Number(this._value);return isNaN(e)?0:e},mF.prototype.getSource=function(){return this._source},mF);function mF(e,t){void 0===t&&(t=""),this._source=e,this._value=t}var bF=(_F.prototype.setLogLevel=function(e){switch(e){case"debug":this._logger.logLevel=ca.DEBUG;break;case"silent":this._logger.logLevel=ca.SILENT;break;default:this._logger.logLevel=ca.ERROR}},Object.defineProperty(_F.prototype,"fetchTimeMillis",{get:function(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1},enumerable:!1,configurable:!0}),Object.defineProperty(_F.prototype,"lastFetchStatus",{get:function(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"},enumerable:!1,configurable:!0}),_F.prototype.activate=function(){return eo(this,void 0,void 0,(function(){var e,t;return to(this,(function(n){switch(n.label){case 0:return[4,Promise.all([this._storage.getLastSuccessfulFetchResponse(),this._storage.getActiveConfigEtag()])];case 1:return t=n.sent(),e=t[0],t=t[1],e&&e.config&&e.eTag&&e.eTag!==t?[4,Promise.all([this._storageCache.setActiveConfig(e.config),this._storage.setActiveConfigEtag(e.eTag)])]:[2,!1];case 2:return n.sent(),[2,!0]}}))}))},_F.prototype.ensureInitialized=function(){var e=this;return this._initializePromise||(this._initializePromise=this._storageCache.loadFromStorage().then((function(){e._isInitializationComplete=!0}))),this._initializePromise},_F.prototype.fetch=function(){return eo(this,void 0,void 0,(function(){var e,t,n,r=this;return to(this,(function(i){switch(i.label){case 0:e=new pF,setTimeout((function(){return eo(r,void 0,void 0,(function(){return to(this,(function(t){return e.abort(),[2]}))}))}),this.settings.fetchTimeoutMillis),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,this._client.fetch({cacheMaxAgeMillis:this.settings.minimumFetchIntervalMillis,signal:e})];case 2:return i.sent(),[4,this._storageCache.setLastFetchStatus("success")];case 3:return i.sent(),[3,6];case 4:return t=i.sent(),a="fetch-throttle",n=(o=t)instanceof Co&&-1!==o.code.indexOf(a)?"throttle":"failure",[4,this._storageCache.setLastFetchStatus(n)];case 5:throw i.sent(),t;case 6:return[2]}var o,a}))}))},_F.prototype.fetchAndActivate=function(){return eo(this,void 0,void 0,(function(){return to(this,(function(e){switch(e.label){case 0:return[4,this.fetch()];case 1:return e.sent(),[2,this.activate()]}}))}))},_F.prototype.getAll=function(){var e=this;return function(e,t){return void 0===e&&(e={}),void 0===t&&(t={}),Object.keys(Zi(Zi({},e),t))}(this._storageCache.getActiveConfig(),this.defaultConfig).reduce((function(t,n){return t[n]=e.getValue(n),t}),{})},_F.prototype.getBoolean=function(e){return this.getValue(e).asBoolean()},_F.prototype.getNumber=function(e){return this.getValue(e).asNumber()},_F.prototype.getString=function(e){return this.getValue(e).asString()},_F.prototype.getValue=function(e){this._isInitializationComplete||this._logger.debug('A value was requested for key "'+e+'" before SDK initialization completed. Await on ensureInitialized if the intent was to get a previously activated value.');var t=this._storageCache.getActiveConfig();return t&&void 0!==t[e]?new gF("remote",t[e]):this.defaultConfig&&void 0!==this.defaultConfig[e]?new gF("default",String(this.defaultConfig[e])):(this._logger.debug('Returning static value for key "'+e+'". Define a default or remote value if this is unintentional.'),new gF("static"))},_F);function _F(e,t,n,r,i){this.app=e,this._client=t,this._storageCache=n,this._storage=r,this._logger=i,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}function wF(e,t){return e=e.target.error||void 0,hF.create(t,{originalErrorMessage:e&&e.message})}var EF="app_namespace_store",SF="firebase_remote_config",TF=1,IF=(CF.prototype.getLastFetchStatus=function(){return this.get("last_fetch_status")},CF.prototype.setLastFetchStatus=function(e){return this.set("last_fetch_status",e)},CF.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.get("last_successful_fetch_timestamp_millis")},CF.prototype.setLastSuccessfulFetchTimestampMillis=function(e){return this.set("last_successful_fetch_timestamp_millis",e)},CF.prototype.getLastSuccessfulFetchResponse=function(){return this.get("last_successful_fetch_response")},CF.prototype.setLastSuccessfulFetchResponse=function(e){return this.set("last_successful_fetch_response",e)},CF.prototype.getActiveConfig=function(){return this.get("active_config")},CF.prototype.setActiveConfig=function(e){return this.set("active_config",e)},CF.prototype.getActiveConfigEtag=function(){return this.get("active_config_etag")},CF.prototype.setActiveConfigEtag=function(e){return this.set("active_config_etag",e)},CF.prototype.getThrottleMetadata=function(){return this.get("throttle_metadata")},CF.prototype.setThrottleMetadata=function(e){return this.set("throttle_metadata",e)},CF.prototype.deleteThrottleMetadata=function(){return this.delete("throttle_metadata")},CF.prototype.get=function(e){return eo(this,void 0,void 0,(function(){var t,n=this;return to(this,(function(r){switch(r.label){case 0:return[4,this.openDbPromise];case 1:return t=r.sent(),[2,new Promise((function(r,i){var o=t.transaction([EF],"readonly").objectStore(EF),a=n.createCompositeKey(e);try{var s=o.get(a);s.onerror=function(e){i(wF(e,"storage-get"))},s.onsuccess=function(e){e=e.target.result,r(e?e.value:void 0)}}catch(o){i(hF.create("storage-get",{originalErrorMessage:o&&o.message}))}}))]}}))}))},CF.prototype.set=function(e,t){return eo(this,void 0,void 0,(function(){var n,r=this;return to(this,(function(i){switch(i.label){case 0:return[4,this.openDbPromise];case 1:return n=i.sent(),[2,new Promise((function(i,o){var a=n.transaction([EF],"readwrite").objectStore(EF),s=r.createCompositeKey(e);try{var u=a.put({compositeKey:s,value:t});u.onerror=function(e){o(wF(e,"storage-set"))},u.onsuccess=function(){i()}}catch(i){o(hF.create("storage-set",{originalErrorMessage:i&&i.message}))}}))]}}))}))},CF.prototype.delete=function(e){return eo(this,void 0,void 0,(function(){var t,n=this;return to(this,(function(r){switch(r.label){case 0:return[4,this.openDbPromise];case 1:return t=r.sent(),[2,new Promise((function(r,i){var o=t.transaction([EF],"readwrite").objectStore(EF),a=n.createCompositeKey(e);try{var s=o.delete(a);s.onerror=function(e){i(wF(e,"storage-delete"))},s.onsuccess=function(){r()}}catch(r){i(hF.create("storage-delete",{originalErrorMessage:r&&r.message}))}}))]}}))}))},CF.prototype.createCompositeKey=function(e){return[this.appId,this.appName,this.namespace,e].join()},CF);function CF(e,t,n,r){void 0===r&&(r=new Promise((function(e,t){var n=indexedDB.open(SF,TF);n.onerror=function(e){t(wF(e,"storage-open"))},n.onsuccess=function(t){e(t.target.result)},n.onupgradeneeded=function(e){var t=e.target.result;0===e.oldVersion&&t.createObjectStore(EF,{keyPath:"compositeKey"})}}))),this.appId=e,this.appName=t,this.namespace=n,this.openDbPromise=r}var kF=(OF.prototype.getLastFetchStatus=function(){return this.lastFetchStatus},OF.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.lastSuccessfulFetchTimestampMillis},OF.prototype.getActiveConfig=function(){return this.activeConfig},OF.prototype.loadFromStorage=function(){return eo(this,void 0,void 0,(function(){var e,t,n;return to(this,(function(r){switch(r.label){case 0:return e=this.storage.getLastFetchStatus(),t=this.storage.getLastSuccessfulFetchTimestampMillis(),n=this.storage.getActiveConfig(),[4,e];case 1:return(e=r.sent())&&(this.lastFetchStatus=e),[4,t];case 2:return(t=r.sent())&&(this.lastSuccessfulFetchTimestampMillis=t),[4,n];case 3:return(n=r.sent())&&(this.activeConfig=n),[2]}}))}))},OF.prototype.setLastFetchStatus=function(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)},OF.prototype.setLastSuccessfulFetchTimestampMillis=function(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)},OF.prototype.setActiveConfig=function(e){return this.activeConfig=e,this.storage.setActiveConfig(e)},OF);function OF(e){this.storage=e}var xF=(PF.prototype.fetch=function(e){return eo(this,void 0,void 0,(function(){var t;return to(this,(function(n){switch(n.label){case 0:return[4,this.storage.getThrottleMetadata()];case 1:return t=n.sent()||{backoffCount:0,throttleEndTimeMillis:Date.now()},[2,this.attemptFetch(e,t)]}}))}))},PF.prototype.attemptFetch=function(e,t){var n=t.throttleEndTimeMillis,r=t.backoffCount;return eo(this,void 0,void 0,(function(){var t,i;return to(this,(function(o){switch(o.label){case 0:return[4,(a=e.signal,s=n,new Promise((function(e,t){var n=Math.max(s-Date.now(),0),r=setTimeout(e,n);a.addEventListener((function(){clearTimeout(r),t(hF.create("fetch-throttle",{throttleEndTimeMillis:s}))}))})))];case 1:o.sent(),o.label=2;case 2:return o.trys.push([2,5,,7]),[4,this.client.fetch(e)];case 3:return t=o.sent(),[4,this.storage.deleteThrottleMetadata()];case 4:return o.sent(),[2,t];case 5:if(!function(e){if(e instanceof Co&&e.customData)return 429===(e=Number(e.customData.httpStatus))||500===e||503===e||504===e}(i=o.sent()))throw i;return i={throttleEndTimeMillis:Date.now()+ea(r),backoffCount:r+1},[4,this.storage.setThrottleMetadata(i)];case 6:return o.sent(),[2,this.attemptFetch(e,i)];case 7:return[2]}var a,s}))}))},PF);function PF(e,t){this.client=e,this.storage=t}var NF,RF="@firebase/remote-config";return(NF=Aa).INTERNAL.registerComponent(new na("remoteConfig",(function(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),i=e.getProvider("installations").getImmediate();if("undefined"==typeof window)throw hF.create("registration-window");var o=r.options,a=o.projectId,s=o.apiKey,u=o.appId;if(!a)throw hF.create("registration-project-id");if(!s)throw hF.create("registration-api-key");if(!u)throw hF.create("registration-app-id");return n=n||"firebase",t=new IF(u,r.name,n),e=new kF(t),(o=new va(RF)).logLevel=ca.ERROR,u=new fF(i,NF.SDK_VERSION,n,a,s,u),u=new xF(u,t),u=new cF(u,t,e,o),(o=new bF(r,u,e,t,o)).ensureInitialized(),o}),"PUBLIC").setMultipleInstances(!0)),NF.registerVersion(RF,"0.1.36"),console.warn("\nIt looks like you're using the development build of the Firebase JS SDK.\nWhen deploying Firebase apps to production, it is advisable to only import\nthe individual SDK components you intend to use.\n\nFor the CDN builds, these are available in the following manner\n(replace <PACKAGE> with the name of a component - i.e. auth, database, etc):\n\nhttps://www.gstatic.com/firebasejs/5.0.0/firebase-<PACKAGE>.js\n"),Aa.registerVersion("firebase","8.4.3","cdn"),Aa}()}).call(this,n(34),n(27))},,function(e,t,n){"use strict";var r=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;function a(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(i){return!1}}()?Object.assign:function(e,t){for(var n,s,u=a(e),c=1;c<arguments.length;c++){for(var l in n=Object(arguments[c]))i.call(n,l)&&(u[l]=n[l]);if(r){s=r(n);for(var h=0;h<s.length;h++)o.call(n,s[h])&&(u[s[h]]=n[s[h]])}}return u}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useScreenClass=t.screenClasses=void 0;var r=n(1),i=n(19),o=n(21);function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(u){i=!0,o=u}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var u=["xs","sm","md","lg","xl","xxl"];t.screenClasses=u;t.useScreenClass=function(e,t){var n=function(){var n=(0,i.getConfiguration)(),r=n.breakpoints,a=n.defaultScreenClass,s=n.maxScreenClass,c=a,l=function(e){return e&&e.current&&e.current.clientWidth?e.current.clientWidth:"undefined"!==typeof o.Window&&o.Window.innerWidth?o.Window.innerWidth:null}(e);l?(c="xs",r[0]&&l>=r[0]&&(c="sm"),r[1]&&l>=r[1]&&(c="md"),r[2]&&l>=r[2]&&(c="lg"),r[3]&&l>=r[3]&&(c="xl"),r[4]&&l>=r[4]&&(c="xxl")):t&&(c=t);var h=u.indexOf(c),f=u.indexOf(s);return f>=0&&h>f&&(c=u[f]),c},s=a((0,r.useState)(n()),2),c=s[0],l=s[1];return(0,r.useEffect)((function(){var e=function(){return l(n())};return o.Window.addEventListener("resize",e,!1),function(){o.Window.removeEventListener("resize",e,!1)}}),[]),c}},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(r){"object"===typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";(function(e){var r=n(1),i=n.n(r),o=n(13),a=n(11),s=n.n(a),u=1073741823,c="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof e?e:{};function l(e){var t=[];return{on:function(e){t.push(e)},off:function(e){t=t.filter((function(t){return t!==e}))},get:function(){return e},set:function(n,r){e=n,t.forEach((function(t){return t(e,r)}))}}}var h=i.a.createContext||function(e,t){var n,i,a="__create-react-context-"+function(){var e="__global_unique_id__";return c[e]=(c[e]||0)+1}()+"__",h=function(e){function n(){var t;return(t=e.apply(this,arguments)||this).emitter=l(t.props.value),t}Object(o.a)(n,e);var r=n.prototype;return r.getChildContext=function(){var e;return(e={})[a]=this.emitter,e},r.componentWillReceiveProps=function(e){if(this.props.value!==e.value){var n,r=this.props.value,i=e.value;((o=r)===(a=i)?0!==o||1/o===1/a:o!==o&&a!==a)?n=0:(n="function"===typeof t?t(r,i):u,0!==(n|=0)&&this.emitter.set(e.value,n))}var o,a},r.render=function(){return this.props.children},n}(r.Component);h.childContextTypes=((n={})[a]=s.a.object.isRequired,n);var f=function(t){function n(){var e;return(e=t.apply(this,arguments)||this).state={value:e.getValue()},e.onUpdate=function(t,n){0!==((0|e.observedBits)&n)&&e.setState({value:e.getValue()})},e}Object(o.a)(n,t);var r=n.prototype;return r.componentWillReceiveProps=function(e){var t=e.observedBits;this.observedBits=void 0===t||null===t?u:t},r.componentDidMount=function(){this.context[a]&&this.context[a].on(this.onUpdate);var e=this.props.observedBits;this.observedBits=void 0===e||null===e?u:e},r.componentWillUnmount=function(){this.context[a]&&this.context[a].off(this.onUpdate)},r.getValue=function(){return this.context[a]?this.context[a].get():e},r.render=function(){return(e=this.props.children,Array.isArray(e)?e[0]:e)(this.state.value);var e},n}(r.Component);return f.contextTypes=((i={})[a]=s.a.object,i),{Provider:h,Consumer:f}};t.a=h}).call(this,n(34))},function(e,t,n){var r=n(93);e.exports=d,e.exports.parse=o,e.exports.compile=function(e,t){return s(o(e,t),t)},e.exports.tokensToFunction=s,e.exports.tokensToRegExp=f;var i=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function o(e,t){for(var n,r=[],o=0,a=0,s="",l=t&&t.delimiter||"/";null!=(n=i.exec(e));){var h=n[0],f=n[1],d=n.index;if(s+=e.slice(a,d),a=d+h.length,f)s+=f[1];else{var p=e[a],v=n[2],y=n[3],g=n[4],m=n[5],b=n[6],_=n[7];s&&(r.push(s),s="");var w=null!=v&&null!=p&&p!==v,E="+"===b||"*"===b,S="?"===b||"*"===b,T=n[2]||l,I=g||m;r.push({name:y||o++,prefix:v||"",delimiter:T,optional:S,repeat:E,partial:w,asterisk:!!_,pattern:I?c(I):_?".*":"[^"+u(T)+"]+?"})}}return a<e.length&&(s+=e.substr(a)),s&&r.push(s),r}function a(e){return encodeURI(e).replace(/[\/?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))}function s(e,t){for(var n=new Array(e.length),i=0;i<e.length;i++)"object"===typeof e[i]&&(n[i]=new RegExp("^(?:"+e[i].pattern+")$",h(t)));return function(t,i){for(var o="",s=t||{},u=(i||{}).pretty?a:encodeURIComponent,c=0;c<e.length;c++){var l=e[c];if("string"!==typeof l){var h,f=s[l.name];if(null==f){if(l.optional){l.partial&&(o+=l.prefix);continue}throw new TypeError('Expected "'+l.name+'" to be defined')}if(r(f)){if(!l.repeat)throw new TypeError('Expected "'+l.name+'" to not repeat, but received `'+JSON.stringify(f)+"`");if(0===f.length){if(l.optional)continue;throw new TypeError('Expected "'+l.name+'" to not be empty')}for(var d=0;d<f.length;d++){if(h=u(f[d]),!n[c].test(h))throw new TypeError('Expected all "'+l.name+'" to match "'+l.pattern+'", but received `'+JSON.stringify(h)+"`");o+=(0===d?l.prefix:l.delimiter)+h}}else{if(h=l.asterisk?encodeURI(f).replace(/[?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})):u(f),!n[c].test(h))throw new TypeError('Expected "'+l.name+'" to match "'+l.pattern+'", but received "'+h+'"');o+=l.prefix+h}}else o+=l}return o}}function u(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function c(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function l(e,t){return e.keys=t,e}function h(e){return e&&e.sensitive?"":"i"}function f(e,t,n){r(t)||(n=t||n,t=[]);for(var i=(n=n||{}).strict,o=!1!==n.end,a="",s=0;s<e.length;s++){var c=e[s];if("string"===typeof c)a+=u(c);else{var f=u(c.prefix),d="(?:"+c.pattern+")";t.push(c),c.repeat&&(d+="(?:"+f+d+")*"),a+=d=c.optional?c.partial?f+"("+d+")?":"(?:"+f+"("+d+"))?":f+"("+d+")"}}var p=u(n.delimiter||"/"),v=a.slice(-p.length)===p;return i||(a=(v?a.slice(0,-p.length):a)+"(?:"+p+"(?=$))?"),a+=o?"$":i&&v?"":"(?="+p+"|$)",l(new RegExp("^"+a,h(n)),t)}function d(e,t,n){return r(t)||(n=t||n,t=[]),n=n||{},e instanceof RegExp?function(e,t){var n=e.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)t.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return l(e,t)}(e,t):r(e)?function(e,t,n){for(var r=[],i=0;i<e.length;i++)r.push(d(e[i],t,n).source);return l(new RegExp("(?:"+r.join("|")+")",h(n)),t)}(e,t,n):function(e,t,n){return f(o(e,n),t,n)}(e,t,n)}},function(e,t,n){"use strict";var r=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|inert|itemProp|itemScope|itemType|itemID|itemRef|on|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,i=function(e){var t={};return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}((function(e){return r.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91}));t.a=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.GutterWidthContext=void 0;var r=u(n(1)),i=u(n(11)),o=n(19),a=u(n(68)),s=n(21);function u(e){return e&&e.__esModule?e:{default:e}}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var f=r.default.createContext(!1);t.GutterWidthContext=f;var d=function(e){var t=e.children,n=e.style,i=e.align,s=e.justify,u=e.debug,d=e.nogutter,p=e.gutterWidth,v=e.component,y=e.nowrap,g=h(e,["children","style","align","justify","debug","nogutter","gutterWidth","component","nowrap"]),m=(0,o.getConfiguration)().gutterWidth;d&&(m=0),"number"===typeof p&&(m=p);var b=(0,a.default)({gutterWidth:m,align:i,justify:s,debug:u,moreStyle:n,nowrap:y});return r.default.createElement(v,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({style:b},g),r.default.createElement(f.Provider,{value:m},t))};d.propTypes={children:i.default.node.isRequired,align:i.default.oneOf(["normal","start","center","end","stretch"]),justify:i.default.oneOf(["start","center","end","between","around","initial","inherit"]),nogutter:i.default.bool,gutterWidth:i.default.number,style:i.default.objectOf(i.default.oneOfType([i.default.number,i.default.string])),debug:i.default.bool,component:i.default.elementType,nowrap:i.default.bool},d.defaultProps={align:"normal",justify:"start",nogutter:!1,gutterWidth:null,style:{},debug:!1,component:s.Div,nowrap:!1};var p=d;t.default=p},function(e,t,n){"use strict";function r(e){return(r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.ScreenClassContext=t.NO_PROVIDER_FLAG=void 0;var i,o=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var t=l();if(t&&t.has(e))return t.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var a=i?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=e[o]}n.default=e,t&&t.set(e,n);return n}(n(1)),a=(i=n(11))&&i.__esModule?i:{default:i},s=n(33),u=n(19),c=n(21);function l(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return l=function(){return e},e}function h(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(u){i=!0,o=u}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var d="NO_PROVIDER_FLAG";t.NO_PROVIDER_FLAG=d;var p=o.default.createContext(d);t.ScreenClassContext=p;var v=function(e){var t=e.useOwnWidth,n=e.children,r=e.fallbackScreenClass,i=(0,o.useRef)(),a=h((0,o.useState)(!1),2),l=a[0],f=a[1],d=(0,s.useScreenClass)(i,r),v=(0,u.getConfiguration)().defaultScreenClass,y=l?d:r||v;return(0,o.useEffect)((function(){return f(!0)}),[]),o.default.createElement(p.Provider,{value:y},t?o.default.createElement(c.Div,{ref:t?i:null},n):o.default.createElement(o.default.Fragment,null,n))};v.propTypes={children:a.default.node.isRequired,useOwnWidth:a.default.bool,fallbackScreenClass:a.default.oneOf([null,"xs","sm","md","lg","xl","xxl"])},v.defaultProps={useOwnWidth:!1,fallbackScreenClass:null};var y=v;t.default=y},function(e,t,n){"use strict";e.exports=function(e,t){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return e.apply(t,n)}}},function(e,t,n){"use strict";var r=n(10);function i(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,n){if(!t)return e;var o;if(n)o=n(t);else if(r.isURLSearchParams(t))o=t.toString();else{var a=[];r.forEach(t,(function(e,t){null!==e&&"undefined"!==typeof e&&(r.isArray(e)?t+="[]":e=[e],r.forEach(e,(function(e){r.isDate(e)?e=e.toISOString():r.isObject(e)&&(e=JSON.stringify(e)),a.push(i(t)+"="+i(e))})))})),o=a.join("&")}if(o){var s=e.indexOf("#");-1!==s&&(e=e.slice(0,s)),e+=(-1===e.indexOf("?")?"?":"&")+o}return e}},function(e,t,n){"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},function(e,t,n){"use strict";(function(t){var r=n(10),i=n(81),o={"Content-Type":"application/x-www-form-urlencoded"};function a(e,t){!r.isUndefined(e)&&r.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var s={adapter:function(){var e;return("undefined"!==typeof XMLHttpRequest||"undefined"!==typeof t&&"[object process]"===Object.prototype.toString.call(t))&&(e=n(44)),e}(),transformRequest:[function(e,t){return i(t,"Accept"),i(t,"Content-Type"),r.isFormData(e)||r.isArrayBuffer(e)||r.isBuffer(e)||r.isStream(e)||r.isFile(e)||r.isBlob(e)?e:r.isArrayBufferView(e)?e.buffer:r.isURLSearchParams(e)?(a(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):r.isObject(e)?(a(t,"application/json;charset=utf-8"),JSON.stringify(e)):e}],transformResponse:[function(e){if("string"===typeof e)try{e=JSON.parse(e)}catch(t){}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};r.forEach(["delete","get","head"],(function(e){s.headers[e]={}})),r.forEach(["post","put","patch"],(function(e){s.headers[e]=r.merge(o)})),e.exports=s}).call(this,n(27))},function(e,t,n){"use strict";var r=n(10),i=n(82),o=n(84),a=n(41),s=n(85),u=n(88),c=n(89),l=n(45);e.exports=function(e){return new Promise((function(t,n){var h=e.data,f=e.headers;r.isFormData(h)&&delete f["Content-Type"];var d=new XMLHttpRequest;if(e.auth){var p=e.auth.username||"",v=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";f.Authorization="Basic "+btoa(p+":"+v)}var y=s(e.baseURL,e.url);if(d.open(e.method.toUpperCase(),a(y,e.params,e.paramsSerializer),!0),d.timeout=e.timeout,d.onreadystatechange=function(){if(d&&4===d.readyState&&(0!==d.status||d.responseURL&&0===d.responseURL.indexOf("file:"))){var r="getAllResponseHeaders"in d?u(d.getAllResponseHeaders()):null,o={data:e.responseType&&"text"!==e.responseType?d.response:d.responseText,status:d.status,statusText:d.statusText,headers:r,config:e,request:d};i(t,n,o),d=null}},d.onabort=function(){d&&(n(l("Request aborted",e,"ECONNABORTED",d)),d=null)},d.onerror=function(){n(l("Network Error",e,null,d)),d=null},d.ontimeout=function(){var t="timeout of "+e.timeout+"ms exceeded";e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(l(t,e,"ECONNABORTED",d)),d=null},r.isStandardBrowserEnv()){var g=(e.withCredentials||c(y))&&e.xsrfCookieName?o.read(e.xsrfCookieName):void 0;g&&(f[e.xsrfHeaderName]=g)}if("setRequestHeader"in d&&r.forEach(f,(function(e,t){"undefined"===typeof h&&"content-type"===t.toLowerCase()?delete f[t]:d.setRequestHeader(t,e)})),r.isUndefined(e.withCredentials)||(d.withCredentials=!!e.withCredentials),e.responseType)try{d.responseType=e.responseType}catch(m){if("json"!==e.responseType)throw m}"function"===typeof e.onDownloadProgress&&d.addEventListener("progress",e.onDownloadProgress),"function"===typeof e.onUploadProgress&&d.upload&&d.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then((function(e){d&&(d.abort(),n(e),d=null)})),h||(h=null),d.send(h)}))}},function(e,t,n){"use strict";var r=n(83);e.exports=function(e,t,n,i,o){var a=new Error(e);return r(a,t,n,i,o)}},function(e,t,n){"use strict";var r=n(10);e.exports=function(e,t){t=t||{};var n={},i=["url","method","data"],o=["headers","auth","proxy","params"],a=["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","timeoutMessage","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","decompress","maxContentLength","maxBodyLength","maxRedirects","transport","httpAgent","httpsAgent","cancelToken","socketPath","responseEncoding"],s=["validateStatus"];function u(e,t){return r.isPlainObject(e)&&r.isPlainObject(t)?r.merge(e,t):r.isPlainObject(t)?r.merge({},t):r.isArray(t)?t.slice():t}function c(i){r.isUndefined(t[i])?r.isUndefined(e[i])||(n[i]=u(void 0,e[i])):n[i]=u(e[i],t[i])}r.forEach(i,(function(e){r.isUndefined(t[e])||(n[e]=u(void 0,t[e]))})),r.forEach(o,c),r.forEach(a,(function(i){r.isUndefined(t[i])?r.isUndefined(e[i])||(n[i]=u(void 0,e[i])):n[i]=u(void 0,t[i])})),r.forEach(s,(function(r){r in t?n[r]=u(e[r],t[r]):r in e&&(n[r]=u(void 0,e[r]))}));var l=i.concat(o).concat(a).concat(s),h=Object.keys(e).concat(Object.keys(t)).filter((function(e){return-1===l.indexOf(e)}));return r.forEach(h,c),n}},function(e,t,n){"use strict";function r(e){this.message=e}r.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},r.prototype.__CANCEL__=!0,e.exports=r},function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(55)},function(e,t){e.exports=function(e,t,n,r){var i=n?n.call(r,e,t):void 0;if(void 0!==i)return!!i;if(e===t)return!0;if("object"!==typeof e||!e||"object"!==typeof t||!t)return!1;var o=Object.keys(e),a=Object.keys(t);if(o.length!==a.length)return!1;for(var s=Object.prototype.hasOwnProperty.bind(t),u=0;u<o.length;u++){var c=o[u];if(!s(c))return!1;var l=e[c],h=t[c];if(!1===(i=n?n.call(r,l,h,c):void 0)||void 0===i&&l!==h)return!1}return!0}},function(e,t,n){"use strict";t.a=function(e){function t(e,r,u,c,f){for(var d,p,v,y,_,E=0,S=0,T=0,I=0,C=0,R=0,D=v=d=0,L=0,M=0,F=0,U=0,q=u.length,B=q-1,V="",W="",z="",H="";L<q;){if(p=u.charCodeAt(L),L===B&&0!==S+I+T+E&&(0!==S&&(p=47===S?10:47),I=T=E=0,q++,B++),0===S+I+T+E){if(L===B&&(0<M&&(V=V.replace(h,"")),0<V.trim().length)){switch(p){case 32:case 9:case 59:case 13:case 10:break;default:V+=u.charAt(L)}p=59}switch(p){case 123:for(d=(V=V.trim()).charCodeAt(0),v=1,U=++L;L<q;){switch(p=u.charCodeAt(L)){case 123:v++;break;case 125:v--;break;case 47:switch(p=u.charCodeAt(L+1)){case 42:case 47:e:{for(D=L+1;D<B;++D)switch(u.charCodeAt(D)){case 47:if(42===p&&42===u.charCodeAt(D-1)&&L+2!==D){L=D+1;break e}break;case 10:if(47===p){L=D+1;break e}}L=D}}break;case 91:p++;case 40:p++;case 34:case 39:for(;L++<B&&u.charCodeAt(L)!==p;);}if(0===v)break;L++}switch(v=u.substring(U,L),0===d&&(d=(V=V.replace(l,"").trim()).charCodeAt(0)),d){case 64:switch(0<M&&(V=V.replace(h,"")),p=V.charCodeAt(1)){case 100:case 109:case 115:case 45:M=r;break;default:M=N}if(U=(v=t(r,M,v,p,f+1)).length,0<A&&(_=s(3,v,M=n(N,V,F),r,O,k,U,p,f,c),V=M.join(""),void 0!==_&&0===(U=(v=_.trim()).length)&&(p=0,v="")),0<U)switch(p){case 115:V=V.replace(w,a);case 100:case 109:case 45:v=V+"{"+v+"}";break;case 107:v=(V=V.replace(g,"$1 $2"))+"{"+v+"}",v=1===P||2===P&&o("@"+v,3)?"@-webkit-"+v+"@"+v:"@"+v;break;default:v=V+v,112===c&&(W+=v,v="")}else v="";break;default:v=t(r,n(r,V,F),v,c,f+1)}z+=v,v=F=M=D=d=0,V="",p=u.charCodeAt(++L);break;case 125:case 59:if(1<(U=(V=(0<M?V.replace(h,""):V).trim()).length))switch(0===D&&(d=V.charCodeAt(0),45===d||96<d&&123>d)&&(U=(V=V.replace(" ",":")).length),0<A&&void 0!==(_=s(1,V,r,e,O,k,W.length,c,f,c))&&0===(U=(V=_.trim()).length)&&(V="\0\0"),d=V.charCodeAt(0),p=V.charCodeAt(1),d){case 0:break;case 64:if(105===p||99===p){H+=V+u.charAt(L);break}default:58!==V.charCodeAt(U-1)&&(W+=i(V,d,p,V.charCodeAt(2)))}F=M=D=d=0,V="",p=u.charCodeAt(++L)}}switch(p){case 13:case 10:47===S?S=0:0===1+d&&107!==c&&0<V.length&&(M=1,V+="\0"),0<A*j&&s(0,V,r,e,O,k,W.length,c,f,c),k=1,O++;break;case 59:case 125:if(0===S+I+T+E){k++;break}default:switch(k++,y=u.charAt(L),p){case 9:case 32:if(0===I+E+S)switch(C){case 44:case 58:case 9:case 32:y="";break;default:32!==p&&(y=" ")}break;case 0:y="\\0";break;case 12:y="\\f";break;case 11:y="\\v";break;case 38:0===I+S+E&&(M=F=1,y="\f"+y);break;case 108:if(0===I+S+E+x&&0<D)switch(L-D){case 2:112===C&&58===u.charCodeAt(L-3)&&(x=C);case 8:111===R&&(x=R)}break;case 58:0===I+S+E&&(D=L);break;case 44:0===S+T+I+E&&(M=1,y+="\r");break;case 34:case 39:0===S&&(I=I===p?0:0===I?p:I);break;case 91:0===I+S+T&&E++;break;case 93:0===I+S+T&&E--;break;case 41:0===I+S+E&&T--;break;case 40:if(0===I+S+E){if(0===d)switch(2*C+3*R){case 533:break;default:d=1}T++}break;case 64:0===S+T+I+E+D+v&&(v=1);break;case 42:case 47:if(!(0<I+E+T))switch(S){case 0:switch(2*p+3*u.charCodeAt(L+1)){case 235:S=47;break;case 220:U=L,S=42}break;case 42:47===p&&42===C&&U+2!==L&&(33===u.charCodeAt(U+2)&&(W+=u.substring(U,L+1)),y="",S=0)}}0===S&&(V+=y)}R=C,C=p,L++}if(0<(U=W.length)){if(M=r,0<A&&(void 0!==(_=s(2,W,M,e,O,k,U,c,f,c))&&0===(W=_).length))return H+W+z;if(W=M.join(",")+"{"+W+"}",0!==P*x){switch(2!==P||o(W,2)||(x=0),x){case 111:W=W.replace(b,":-moz-$1")+W;break;case 112:W=W.replace(m,"::-webkit-input-$1")+W.replace(m,"::-moz-$1")+W.replace(m,":-ms-input-$1")+W}x=0}}return H+W+z}function n(e,t,n){var i=t.trim().split(v);t=i;var o=i.length,a=e.length;switch(a){case 0:case 1:var s=0;for(e=0===a?"":e[0]+" ";s<o;++s)t[s]=r(e,t[s],n).trim();break;default:var u=s=0;for(t=[];s<o;++s)for(var c=0;c<a;++c)t[u++]=r(e[c]+" ",i[s],n).trim()}return t}function r(e,t,n){var r=t.charCodeAt(0);switch(33>r&&(r=(t=t.trim()).charCodeAt(0)),r){case 38:return t.replace(y,"$1"+e.trim());case 58:return e.trim()+t.replace(y,"$1"+e.trim());default:if(0<1*n&&0<t.indexOf("\f"))return t.replace(y,(58===e.charCodeAt(0)?"":"$1")+e.trim())}return e+t}function i(e,t,n,r){var a=e+";",s=2*t+3*n+4*r;if(944===s){e=a.indexOf(":",9)+1;var u=a.substring(e,a.length-1).trim();return u=a.substring(0,e).trim()+u+";",1===P||2===P&&o(u,1)?"-webkit-"+u+u:u}if(0===P||2===P&&!o(a,1))return a;switch(s){case 1015:return 97===a.charCodeAt(10)?"-webkit-"+a+a:a;case 951:return 116===a.charCodeAt(3)?"-webkit-"+a+a:a;case 963:return 110===a.charCodeAt(5)?"-webkit-"+a+a:a;case 1009:if(100!==a.charCodeAt(4))break;case 969:case 942:return"-webkit-"+a+a;case 978:return"-webkit-"+a+"-moz-"+a+a;case 1019:case 983:return"-webkit-"+a+"-moz-"+a+"-ms-"+a+a;case 883:if(45===a.charCodeAt(8))return"-webkit-"+a+a;if(0<a.indexOf("image-set(",11))return a.replace(C,"$1-webkit-$2")+a;break;case 932:if(45===a.charCodeAt(4))switch(a.charCodeAt(5)){case 103:return"-webkit-box-"+a.replace("-grow","")+"-webkit-"+a+"-ms-"+a.replace("grow","positive")+a;case 115:return"-webkit-"+a+"-ms-"+a.replace("shrink","negative")+a;case 98:return"-webkit-"+a+"-ms-"+a.replace("basis","preferred-size")+a}return"-webkit-"+a+"-ms-"+a+a;case 964:return"-webkit-"+a+"-ms-flex-"+a+a;case 1023:if(99!==a.charCodeAt(8))break;return"-webkit-box-pack"+(u=a.substring(a.indexOf(":",15)).replace("flex-","").replace("space-between","justify"))+"-webkit-"+a+"-ms-flex-pack"+u+a;case 1005:return d.test(a)?a.replace(f,":-webkit-")+a.replace(f,":-moz-")+a:a;case 1e3:switch(t=(u=a.substring(13).trim()).indexOf("-")+1,u.charCodeAt(0)+u.charCodeAt(t)){case 226:u=a.replace(_,"tb");break;case 232:u=a.replace(_,"tb-rl");break;case 220:u=a.replace(_,"lr");break;default:return a}return"-webkit-"+a+"-ms-"+u+a;case 1017:if(-1===a.indexOf("sticky",9))break;case 975:switch(t=(a=e).length-10,s=(u=(33===a.charCodeAt(t)?a.substring(0,t):a).substring(e.indexOf(":",7)+1).trim()).charCodeAt(0)+(0|u.charCodeAt(7))){case 203:if(111>u.charCodeAt(8))break;case 115:a=a.replace(u,"-webkit-"+u)+";"+a;break;case 207:case 102:a=a.replace(u,"-webkit-"+(102<s?"inline-":"")+"box")+";"+a.replace(u,"-webkit-"+u)+";"+a.replace(u,"-ms-"+u+"box")+";"+a}return a+";";case 938:if(45===a.charCodeAt(5))switch(a.charCodeAt(6)){case 105:return u=a.replace("-items",""),"-webkit-"+a+"-webkit-box-"+u+"-ms-flex-"+u+a;case 115:return"-webkit-"+a+"-ms-flex-item-"+a.replace(S,"")+a;default:return"-webkit-"+a+"-ms-flex-line-pack"+a.replace("align-content","").replace(S,"")+a}break;case 973:case 989:if(45!==a.charCodeAt(3)||122===a.charCodeAt(4))break;case 931:case 953:if(!0===I.test(e))return 115===(u=e.substring(e.indexOf(":")+1)).charCodeAt(0)?i(e.replace("stretch","fill-available"),t,n,r).replace(":fill-available",":stretch"):a.replace(u,"-webkit-"+u)+a.replace(u,"-moz-"+u.replace("fill-",""))+a;break;case 962:if(a="-webkit-"+a+(102===a.charCodeAt(5)?"-ms-"+a:"")+a,211===n+r&&105===a.charCodeAt(13)&&0<a.indexOf("transform",10))return a.substring(0,a.indexOf(";",27)+1).replace(p,"$1-webkit-$2")+a}return a}function o(e,t){var n=e.indexOf(1===t?":":"{"),r=e.substring(0,3!==t?n:10);return n=e.substring(n+1,e.length-1),D(2!==t?r:r.replace(T,"$1"),n,t)}function a(e,t){var n=i(t,t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2));return n!==t+";"?n.replace(E," or ($1)").substring(4):"("+t+")"}function s(e,t,n,r,i,o,a,s,u,l){for(var h,f=0,d=t;f<A;++f)switch(h=R[f].call(c,e,d,n,r,i,o,a,s,u,l)){case void 0:case!1:case!0:case null:break;default:d=h}if(d!==t)return d}function u(e){return void 0!==(e=e.prefix)&&(D=null,e?"function"!==typeof e?P=1:(P=2,D=e):P=0),u}function c(e,n){var r=e;if(33>r.charCodeAt(0)&&(r=r.trim()),r=[r],0<A){var i=s(-1,n,r,r,O,k,0,0,0,0);void 0!==i&&"string"===typeof i&&(n=i)}var o=t(N,r,n,0,0);return 0<A&&(void 0!==(i=s(-2,o,r,r,O,k,o.length,0,0,0))&&(o=i)),"",x=0,k=O=1,o}var l=/^\0+/g,h=/[\0\r\f]/g,f=/: */g,d=/zoo|gra/,p=/([,: ])(transform)/g,v=/,\r+?/g,y=/([\t\r\n ])*\f?&/g,g=/@(k\w+)\s*(\S*)\s*/,m=/::(place)/g,b=/:(read-only)/g,_=/[svh]\w+-[tblr]{2}/,w=/\(\s*(.*)\s*\)/g,E=/([\s\S]*?);/g,S=/-self|flex-/g,T=/[^]*?(:[rp][el]a[\w-]+)[^]*/,I=/stretch|:\s*\w+\-(?:conte|avail)/,C=/([^-])(image-set\()/,k=1,O=1,x=0,P=1,N=[],R=[],A=0,D=null,j=0;return c.use=function e(t){switch(t){case void 0:case null:A=R.length=0;break;default:if("function"===typeof t)R[A++]=t;else if("object"===typeof t)for(var n=0,r=t.length;n<r;++n)e(t[n]);else j=0|!!t}return e},c.set=u,void 0!==e&&u(e),c}},function(e,t,n){"use strict";t.a={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}Object.create;Object.create},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(24);var i=n(29);function o(e){return function(e){if(Array.isArray(e))return Object(r.a)(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||Object(i.a)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},function(e,t,n){"use strict";var r=n(32),i=60103,o=60106;t.Fragment=60107,t.StrictMode=60108,t.Profiler=60114;var a=60109,s=60110,u=60112;t.Suspense=60113;var c=60115,l=60116;if("function"===typeof Symbol&&Symbol.for){var h=Symbol.for;i=h("react.element"),o=h("react.portal"),t.Fragment=h("react.fragment"),t.StrictMode=h("react.strict_mode"),t.Profiler=h("react.profiler"),a=h("react.provider"),s=h("react.context"),u=h("react.forward_ref"),t.Suspense=h("react.suspense"),c=h("react.memo"),l=h("react.lazy")}var f="function"===typeof Symbol&&Symbol.iterator;function d(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v={};function y(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}function g(){}function m(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error(d(85));this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},g.prototype=y.prototype;var b=m.prototype=new g;b.constructor=m,r(b,y.prototype),b.isPureReactComponent=!0;var _={current:null},w=Object.prototype.hasOwnProperty,E={key:!0,ref:!0,__self:!0,__source:!0};function S(e,t,n){var r,o={},a=null,s=null;if(null!=t)for(r in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(a=""+t.key),t)w.call(t,r)&&!E.hasOwnProperty(r)&&(o[r]=t[r]);var u=arguments.length-2;if(1===u)o.children=n;else if(1<u){for(var c=Array(u),l=0;l<u;l++)c[l]=arguments[l+2];o.children=c}if(e&&e.defaultProps)for(r in u=e.defaultProps)void 0===o[r]&&(o[r]=u[r]);return{$$typeof:i,type:e,key:a,ref:s,props:o,_owner:_.current}}function T(e){return"object"===typeof e&&null!==e&&e.$$typeof===i}var I=/\/+/g;function C(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function k(e,t,n,r,a){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var u=!1;if(null===e)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case i:case o:u=!0}}if(u)return a=a(u=e),e=""===r?"."+C(u,0):r,Array.isArray(a)?(n="",null!=e&&(n=e.replace(I,"$&/")+"/"),k(a,t,n,"",(function(e){return e}))):null!=a&&(T(a)&&(a=function(e,t){return{$$typeof:i,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,n+(!a.key||u&&u.key===a.key?"":(""+a.key).replace(I,"$&/")+"/")+e)),t.push(a)),1;if(u=0,r=""===r?".":r+":",Array.isArray(e))for(var c=0;c<e.length;c++){var l=r+C(s=e[c],c);u+=k(s,t,n,l,a)}else if("function"===typeof(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e)))for(e=l.call(e),c=0;!(s=e.next()).done;)u+=k(s=s.value,t,n,l=r+C(s,c++),a);else if("object"===s)throw t=""+e,Error(d(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return u}function O(e,t,n){if(null==e)return e;var r=[],i=0;return k(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function x(e){if(-1===e._status){var t=e._result;t=t(),e._status=0,e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}if(1===e._status)return e._result;throw e._result}var P={current:null};function N(){var e=P.current;if(null===e)throw Error(d(321));return e}var R={ReactCurrentDispatcher:P,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:_,IsSomeRendererActing:{current:!1},assign:r};t.Children={map:O,forEach:function(e,t,n){O(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return O(e,(function(){t++})),t},toArray:function(e){return O(e,(function(e){return e}))||[]},only:function(e){if(!T(e))throw Error(d(143));return e}},t.Component=y,t.PureComponent=m,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=R,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error(d(267,e));var o=r({},e.props),a=e.key,s=e.ref,u=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,u=_.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(l in t)w.call(t,l)&&!E.hasOwnProperty(l)&&(o[l]=void 0===t[l]&&void 0!==c?c[l]:t[l])}var l=arguments.length-2;if(1===l)o.children=n;else if(1<l){c=Array(l);for(var h=0;h<l;h++)c[h]=arguments[h+2];o.children=c}return{$$typeof:i,type:e.type,key:a,ref:s,props:o,_owner:u}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:s,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:a,_context:e},e.Consumer=e},t.createElement=S,t.createFactory=function(e){var t=S.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:u,render:e}},t.isValidElement=T,t.lazy=function(e){return{$$typeof:l,_payload:{_status:-1,_result:e},_init:x}},t.memo=function(e,t){return{$$typeof:c,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return N().useCallback(e,t)},t.useContext=function(e,t){return N().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return N().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return N().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return N().useLayoutEffect(e,t)},t.useMemo=function(e,t){return N().useMemo(e,t)},t.useReducer=function(e,t,n){return N().useReducer(e,t,n)},t.useRef=function(e){return N().useRef(e)},t.useState=function(e){return N().useState(e)},t.version="17.0.1"},function(e,t,n){"use strict";var r=n(1),i=n(32),o=n(56);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(a(227));var s=new Set,u={};function c(e,t){l(e,t),l(e+"Capture",t)}function l(e,t){for(u[e]=t,e=0;e<t.length;e++)s.add(t[e])}var h=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d=Object.prototype.hasOwnProperty,p={},v={};function y(e,t,n,r,i,o,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new y(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new y(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new y(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new y(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new y(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new y(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new y(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new y(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new y(e,5,!1,e.toLowerCase(),null,!1,!1)}));var m=/[\-:]([a-z])/g;function b(e){return e[1].toUpperCase()}function _(e,t,n,r){var i=g.hasOwnProperty(t)?g[t]:null;(null!==i?0===i.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!d.call(v,e)||!d.call(p,e)&&(f.test(e)?v[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(m,b);g[t]=new y(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(m,b);g[t]=new y(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(m,b);g[t]=new y(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new y(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new y("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new y(e,1,!1,e.toLowerCase(),null,!0,!0)}));var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,E=60103,S=60106,T=60107,I=60108,C=60114,k=60109,O=60110,x=60112,P=60113,N=60120,R=60115,A=60116,D=60121,j=60128,L=60129,M=60130,F=60131;if("function"===typeof Symbol&&Symbol.for){var U=Symbol.for;E=U("react.element"),S=U("react.portal"),T=U("react.fragment"),I=U("react.strict_mode"),C=U("react.profiler"),k=U("react.provider"),O=U("react.context"),x=U("react.forward_ref"),P=U("react.suspense"),N=U("react.suspense_list"),R=U("react.memo"),A=U("react.lazy"),D=U("react.block"),U("react.scope"),j=U("react.opaque.id"),L=U("react.debug_trace_mode"),M=U("react.offscreen"),F=U("react.legacy_hidden")}var q,B="function"===typeof Symbol&&Symbol.iterator;function V(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=B&&e[B]||e["@@iterator"])?e:null}function W(e){if(void 0===q)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);q=t&&t[1]||""}return"\n"+q+e}var z=!1;function H(e,t){if(!e||z)return"";z=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&"string"===typeof u.stack){for(var i=u.stack.split("\n"),o=r.stack.split("\n"),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(1!==a||1!==s)do{if(a--,0>--s||i[a]!==o[s])return"\n"+i[a].replace(" at new "," at ")}while(1<=a&&0<=s);break}}}finally{z=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?W(e):""}function K(e){switch(e.tag){case 5:return W(e.type);case 16:return W("Lazy");case 13:return W("Suspense");case 19:return W("SuspenseList");case 0:case 2:case 15:return e=H(e.type,!1);case 11:return e=H(e.type.render,!1);case 22:return e=H(e.type._render,!1);case 1:return e=H(e.type,!0);default:return""}}function G(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case T:return"Fragment";case S:return"Portal";case C:return"Profiler";case I:return"StrictMode";case P:return"Suspense";case N:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case O:return(e.displayName||"Context")+".Consumer";case k:return(e._context.displayName||"Context")+".Provider";case x:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case R:return G(e.type);case D:return G(e._render);case A:t=e._payload,e=e._init;try{return G(e(t))}catch(n){}}return null}function Q(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function Y(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function $(e){e._valueTracker||(e._valueTracker=function(e){var t=Y(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function X(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Y(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function J(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Z(e,t){var n=t.checked;return i({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function ee(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=Q(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function te(e,t){null!=(t=t.checked)&&_(e,"checked",t,!1)}function ne(e,t){te(e,t);var n=Q(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ie(e,t.type,n):t.hasOwnProperty("defaultValue")&&ie(e,t.type,Q(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function re(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ie(e,t,n){"number"===t&&J(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function oe(e,t){return e=i({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function ae(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Q(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function se(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return i({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ue(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:Q(n)}}function ce(e,t){var n=Q(t.value),r=Q(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function le(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var he="http://www.w3.org/1999/xhtml",fe="http://www.w3.org/2000/svg";function de(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function pe(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?de(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ve,ye,ge=(ye=function(e,t){if(e.namespaceURI!==fe||"innerHTML"in e)e.innerHTML=t;else{for((ve=ve||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ve.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ye(e,t)}))}:ye);function me(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var be={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},_e=["Webkit","ms","Moz","O"];function we(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||be.hasOwnProperty(e)&&be[e]?(""+t).trim():t+"px"}function Ee(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=we(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(be).forEach((function(e){_e.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),be[t]=be[e]}))}));var Se=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Te(e,t){if(t){if(Se[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function Ie(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Ce(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var ke=null,Oe=null,xe=null;function Pe(e){if(e=ei(e)){if("function"!==typeof ke)throw Error(a(280));var t=e.stateNode;t&&(t=ni(t),ke(e.stateNode,e.type,t))}}function Ne(e){Oe?xe?xe.push(e):xe=[e]:Oe=e}function Re(){if(Oe){var e=Oe,t=xe;if(xe=Oe=null,Pe(e),t)for(e=0;e<t.length;e++)Pe(t[e])}}function Ae(e,t){return e(t)}function De(e,t,n,r,i){return e(t,n,r,i)}function je(){}var Le=Ae,Me=!1,Fe=!1;function Ue(){null===Oe&&null===xe||(je(),Re())}function qe(e,t){var n=e.stateNode;if(null===n)return null;var r=ni(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Be=!1;if(h)try{var Ve={};Object.defineProperty(Ve,"passive",{get:function(){Be=!0}}),window.addEventListener("test",Ve,Ve),window.removeEventListener("test",Ve,Ve)}catch(ye){Be=!1}function We(e,t,n,r,i,o,a,s,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var ze=!1,He=null,Ke=!1,Ge=null,Qe={onError:function(e){ze=!0,He=e}};function Ye(e,t,n,r,i,o,a,s,u){ze=!1,He=null,We.apply(Qe,arguments)}function $e(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(1026&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Xe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Je(e){if($e(e)!==e)throw Error(a(188))}function Ze(e){if(!(e=function(e){var t=e.alternate;if(!t){if(null===(t=$e(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Je(i),e;if(o===r)return Je(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,u=i.child;u;){if(u===n){s=!0,n=i,r=o;break}if(u===r){s=!0,r=i,n=o;break}u=u.sibling}if(!s){for(u=o.child;u;){if(u===n){s=!0,n=o,r=i;break}if(u===r){s=!0,r=o,n=i;break}u=u.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function et(e,t){for(var n=e.alternate;null!==t;){if(t===e||t===n)return!0;t=t.return}return!1}var tt,nt,rt,it,ot=!1,at=[],st=null,ut=null,ct=null,lt=new Map,ht=new Map,ft=[],dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function pt(e,t,n,r,i){return{blockedOn:e,domEventName:t,eventSystemFlags:16|n,nativeEvent:i,targetContainers:[r]}}function vt(e,t){switch(e){case"focusin":case"focusout":st=null;break;case"dragenter":case"dragleave":ut=null;break;case"mouseover":case"mouseout":ct=null;break;case"pointerover":case"pointerout":lt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ht.delete(t.pointerId)}}function yt(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e=pt(t,n,r,i,o),null!==t&&(null!==(t=ei(t))&&nt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function gt(e){var t=Zr(e.target);if(null!==t){var n=$e(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Xe(n)))return e.blockedOn=t,void it(e.lanePriority,(function(){o.unstable_runWithPriority(e.priority,(function(){rt(n)}))}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function mt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Zt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ei(n))&&nt(t),e.blockedOn=n,!1;t.shift()}return!0}function bt(e,t,n){mt(e)&&n.delete(t)}function _t(){for(ot=!1;0<at.length;){var e=at[0];if(null!==e.blockedOn){null!==(e=ei(e.blockedOn))&&tt(e);break}for(var t=e.targetContainers;0<t.length;){var n=Zt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n){e.blockedOn=n;break}t.shift()}null===e.blockedOn&&at.shift()}null!==st&&mt(st)&&(st=null),null!==ut&&mt(ut)&&(ut=null),null!==ct&&mt(ct)&&(ct=null),lt.forEach(bt),ht.forEach(bt)}function wt(e,t){e.blockedOn===t&&(e.blockedOn=null,ot||(ot=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,_t)))}function Et(e){function t(t){return wt(t,e)}if(0<at.length){wt(at[0],e);for(var n=1;n<at.length;n++){var r=at[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==st&&wt(st,e),null!==ut&&wt(ut,e),null!==ct&&wt(ct,e),lt.forEach(t),ht.forEach(t),n=0;n<ft.length;n++)(r=ft[n]).blockedOn===e&&(r.blockedOn=null);for(;0<ft.length&&null===(n=ft[0]).blockedOn;)gt(n),null===n.blockedOn&&ft.shift()}function St(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Tt={animationend:St("Animation","AnimationEnd"),animationiteration:St("Animation","AnimationIteration"),animationstart:St("Animation","AnimationStart"),transitionend:St("Transition","TransitionEnd")},It={},Ct={};function kt(e){if(It[e])return It[e];if(!Tt[e])return e;var t,n=Tt[e];for(t in n)if(n.hasOwnProperty(t)&&t in Ct)return It[e]=n[t];return e}h&&(Ct=document.createElement("div").style,"AnimationEvent"in window||(delete Tt.animationend.animation,delete Tt.animationiteration.animation,delete Tt.animationstart.animation),"TransitionEvent"in window||delete Tt.transitionend.transition);var Ot=kt("animationend"),xt=kt("animationiteration"),Pt=kt("animationstart"),Nt=kt("transitionend"),Rt=new Map,At=new Map,Dt=["abort","abort",Ot,"animationEnd",xt,"animationIteration",Pt,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Nt,"transitionEnd","waiting","waiting"];function jt(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],i=e[n+1];i="on"+(i[0].toUpperCase()+i.slice(1)),At.set(r,t),Rt.set(r,i),c(i,[r])}}(0,o.unstable_now)();var Lt=8;function Mt(e){if(0!==(1&e))return Lt=15,1;if(0!==(2&e))return Lt=14,2;if(0!==(4&e))return Lt=13,4;var t=24&e;return 0!==t?(Lt=12,t):0!==(32&e)?(Lt=11,32):0!==(t=192&e)?(Lt=10,t):0!==(256&e)?(Lt=9,256):0!==(t=3584&e)?(Lt=8,t):0!==(4096&e)?(Lt=7,4096):0!==(t=4186112&e)?(Lt=6,t):0!==(t=62914560&e)?(Lt=5,t):67108864&e?(Lt=4,67108864):0!==(134217728&e)?(Lt=3,134217728):0!==(t=805306368&e)?(Lt=2,t):0!==(1073741824&e)?(Lt=1,1073741824):(Lt=8,e)}function Ft(e,t){var n=e.pendingLanes;if(0===n)return Lt=0;var r=0,i=0,o=e.expiredLanes,a=e.suspendedLanes,s=e.pingedLanes;if(0!==o)r=o,i=Lt=15;else if(0!==(o=134217727&n)){var u=o&~a;0!==u?(r=Mt(u),i=Lt):0!==(s&=o)&&(r=Mt(s),i=Lt)}else 0!==(o=n&~a)?(r=Mt(o),i=Lt):0!==s&&(r=Mt(s),i=Lt);if(0===r)return 0;if(r=n&((0>(r=31-zt(r))?0:1<<r)<<1)-1,0!==t&&t!==r&&0===(t&a)){if(Mt(t),i<=Lt)return t;Lt=i}if(0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-zt(t)),r|=e[n],t&=~i;return r}function Ut(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function qt(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return 0===(e=Bt(24&~t))?qt(10,t):e;case 10:return 0===(e=Bt(192&~t))?qt(8,t):e;case 8:return 0===(e=Bt(3584&~t))&&(0===(e=Bt(4186112&~t))&&(e=512)),e;case 2:return 0===(t=Bt(805306368&~t))&&(t=268435456),t}throw Error(a(358,e))}function Bt(e){return e&-e}function Vt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Wt(e,t,n){e.pendingLanes|=t;var r=t-1;e.suspendedLanes&=r,e.pingedLanes&=r,(e=e.eventTimes)[t=31-zt(t)]=n}var zt=Math.clz32?Math.clz32:function(e){return 0===e?32:31-(Ht(e)/Kt|0)|0},Ht=Math.log,Kt=Math.LN2;var Gt=o.unstable_UserBlockingPriority,Qt=o.unstable_runWithPriority,Yt=!0;function $t(e,t,n,r){Me||je();var i=Jt,o=Me;Me=!0;try{De(i,e,t,n,r)}finally{(Me=o)||Ue()}}function Xt(e,t,n,r){Qt(Gt,Jt.bind(null,e,t,n,r))}function Jt(e,t,n,r){var i;if(Yt)if((i=0===(4&t))&&0<at.length&&-1<dt.indexOf(e))e=pt(null,e,t,n,r),at.push(e);else{var o=Zt(e,t,n,r);if(null===o)i&&vt(e,r);else{if(i){if(-1<dt.indexOf(e))return e=pt(o,e,t,n,r),void at.push(e);if(function(e,t,n,r,i){switch(t){case"focusin":return st=yt(st,e,t,n,r,i),!0;case"dragenter":return ut=yt(ut,e,t,n,r,i),!0;case"mouseover":return ct=yt(ct,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return lt.set(o,yt(lt.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,ht.set(o,yt(ht.get(o)||null,e,t,n,r,i)),!0}return!1}(o,e,t,n,r))return;vt(e,r)}Rr(e,t,r,null,n)}}}function Zt(e,t,n,r){var i=Ce(r);if(null!==(i=Zr(i))){var o=$e(i);if(null===o)i=null;else{var a=o.tag;if(13===a){if(null!==(i=Xe(o)))return i;i=null}else if(3===a){if(o.stateNode.hydrate)return 3===o.tag?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null)}}return Rr(e,t,r,i,n),null}var en=null,tn=null,nn=null;function rn(){if(nn)return nn;var e,t,n=tn,r=n.length,i="value"in en?en.value:en.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[o-t];t++);return nn=i.slice(e,1<t?1-t:void 0)}function on(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function an(){return!0}function sn(){return!1}function un(e){function t(t,n,r,i,o){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?an:sn,this.isPropagationStopped=sn,this}return i(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=an)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=an)},persist:function(){},isPersistent:an}),t}var cn,ln,hn,fn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dn=un(fn),pn=i({},fn,{view:0,detail:0}),vn=un(pn),yn=i({},pn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:kn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==hn&&(hn&&"mousemove"===e.type?(cn=e.screenX-hn.screenX,ln=e.screenY-hn.screenY):ln=cn=0,hn=e),cn)},movementY:function(e){return"movementY"in e?e.movementY:ln}}),gn=un(yn),mn=un(i({},yn,{dataTransfer:0})),bn=un(i({},pn,{relatedTarget:0})),_n=un(i({},fn,{animationName:0,elapsedTime:0,pseudoElement:0})),wn=un(i({},fn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),En=un(i({},fn,{data:0})),Sn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Tn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},In={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Cn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=In[e])&&!!t[e]}function kn(){return Cn}var On=un(i({},pn,{key:function(e){if(e.key){var t=Sn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=on(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Tn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:kn,charCode:function(e){return"keypress"===e.type?on(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?on(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),xn=un(i({},yn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Pn=un(i({},pn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:kn})),Nn=un(i({},fn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Rn=un(i({},yn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),An=[9,13,27,32],Dn=h&&"CompositionEvent"in window,jn=null;h&&"documentMode"in document&&(jn=document.documentMode);var Ln=h&&"TextEvent"in window&&!jn,Mn=h&&(!Dn||jn&&8<jn&&11>=jn),Fn=String.fromCharCode(32),Un=!1;function qn(e,t){switch(e){case"keyup":return-1!==An.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Vn=!1;var Wn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function zn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Wn[e.type]:"textarea"===t}function Hn(e,t,n,r){Ne(r),0<(t=Dr(t,"onChange")).length&&(n=new dn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Kn=null,Gn=null;function Qn(e){Cr(e,0)}function Yn(e){if(X(ti(e)))return e}function $n(e,t){if("change"===e)return t}var Xn=!1;if(h){var Jn;if(h){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Jn=Zn}else Jn=!1;Xn=Jn&&(!document.documentMode||9<document.documentMode)}function tr(){Kn&&(Kn.detachEvent("onpropertychange",nr),Gn=Kn=null)}function nr(e){if("value"===e.propertyName&&Yn(Gn)){var t=[];if(Hn(t,Gn,e,Ce(e)),e=Qn,Me)e(t);else{Me=!0;try{Ae(e,t)}finally{Me=!1,Ue()}}}}function rr(e,t,n){"focusin"===e?(tr(),Gn=n,(Kn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Yn(Gn)}function or(e,t){if("click"===e)return Yn(t)}function ar(e,t){if("input"===e||"change"===e)return Yn(t)}var sr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},ur=Object.prototype.hasOwnProperty;function cr(e,t){if(sr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!ur.call(t,n[r])||!sr(e[n[r]],t[n[r]]))return!1;return!0}function lr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function hr(e,t){var n,r=lr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=lr(r)}}function fr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?fr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function dr(){for(var e=window,t=J();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=J((e=t.contentWindow).document)}return t}function pr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var vr=h&&"documentMode"in document&&11>=document.documentMode,yr=null,gr=null,mr=null,br=!1;function _r(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==yr||yr!==J(r)||("selectionStart"in(r=yr)&&pr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},mr&&cr(mr,r)||(mr=r,0<(r=Dr(gr,"onSelect")).length&&(t=new dn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=yr)))}jt("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),jt("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),jt(Dt,2);for(var wr="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Er=0;Er<wr.length;Er++)At.set(wr[Er],0);l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Sr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Tr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Sr));function Ir(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,s,u,c){if(Ye.apply(this,arguments),ze){if(!ze)throw Error(a(198));var l=He;ze=!1,He=null,Ke||(Ke=!0,Ge=l)}}(r,t,void 0,e),e.currentTarget=null}function Cr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var a=r.length-1;0<=a;a--){var s=r[a],u=s.instance,c=s.currentTarget;if(s=s.listener,u!==o&&i.isPropagationStopped())break e;Ir(i,s,c),o=u}else for(a=0;a<r.length;a++){if(u=(s=r[a]).instance,c=s.currentTarget,s=s.listener,u!==o&&i.isPropagationStopped())break e;Ir(i,s,c),o=u}}}if(Ke)throw e=Ge,Ke=!1,Ge=null,e}function kr(e,t){var n=ri(t),r=e+"__bubble";n.has(r)||(Nr(t,e,2,!1),n.add(r))}var Or="_reactListening"+Math.random().toString(36).slice(2);function xr(e){e[Or]||(e[Or]=!0,s.forEach((function(t){Tr.has(t)||Pr(t,!1,e,null),Pr(t,!0,e,null)})))}function Pr(e,t,n,r){var i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,o=n;if("selectionchange"===e&&9!==n.nodeType&&(o=n.ownerDocument),null!==r&&!t&&Tr.has(e)){if("scroll"!==e)return;i|=2,o=r}var a=ri(o),s=e+"__"+(t?"capture":"bubble");a.has(s)||(t&&(i|=4),Nr(o,e,i,t),a.add(s))}function Nr(e,t,n,r){var i=At.get(t);switch(void 0===i?2:i){case 0:i=$t;break;case 1:i=Xt;break;default:i=Jt}n=i.bind(null,t,n,e),i=void 0,!Be||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Rr(e,t,n,r,i){var o=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var u=a.tag;if((3===u||4===u)&&((u=a.stateNode.containerInfo)===i||8===u.nodeType&&u.parentNode===i))return;a=a.return}for(;null!==s;){if(null===(a=Zr(s)))return;if(5===(u=a.tag)||6===u){r=o=a;continue e}s=s.parentNode}}r=r.return}!function(e,t,n){if(Fe)return e(t,n);Fe=!0;try{Le(e,t,n)}finally{Fe=!1,Ue()}}((function(){var r=o,i=Ce(n),a=[];e:{var s=Rt.get(e);if(void 0!==s){var u=dn,c=e;switch(e){case"keypress":if(0===on(n))break e;case"keydown":case"keyup":u=On;break;case"focusin":c="focus",u=bn;break;case"focusout":c="blur",u=bn;break;case"beforeblur":case"afterblur":u=bn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=gn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=Pn;break;case Ot:case xt:case Pt:u=_n;break;case Nt:u=Nn;break;case"scroll":u=vn;break;case"wheel":u=Rn;break;case"copy":case"cut":case"paste":u=wn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=xn}var l=0!==(4&t),h=!l&&"scroll"===e,f=l?null!==s?s+"Capture":null:s;l=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==f&&(null!=(v=qe(p,f))&&l.push(Ar(p,v,d)))),h)break;p=p.return}0<l.length&&(s=new u(s,c,null,n,i),a.push({event:s,listeners:l}))}}if(0===(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||0!==(16&t)||!(c=n.relatedTarget||n.fromElement)||!Zr(c)&&!c[Xr])&&(u||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,u?(u=r,null!==(c=(c=n.relatedTarget||n.toElement)?Zr(c):null)&&(c!==(h=$e(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(u=null,c=r),u!==c)){if(l=gn,v="onMouseLeave",f="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=xn,v="onPointerLeave",f="onPointerEnter",p="pointer"),h=null==u?s:ti(u),d=null==c?s:ti(c),(s=new l(v,p+"leave",u,n,i)).target=h,s.relatedTarget=d,v=null,Zr(i)===r&&((l=new l(f,p+"enter",c,n,i)).target=d,l.relatedTarget=h,v=l),h=v,u&&c)e:{for(f=c,p=0,d=l=u;d;d=jr(d))p++;for(d=0,v=f;v;v=jr(v))d++;for(;0<p-d;)l=jr(l),p--;for(;0<d-p;)f=jr(f),d--;for(;p--;){if(l===f||null!==f&&l===f.alternate)break e;l=jr(l),f=jr(f)}l=null}else l=null;null!==u&&Lr(a,s,u,l,!1),null!==c&&null!==h&&Lr(a,h,c,l,!0)}if("select"===(u=(s=r?ti(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===u&&"file"===s.type)var y=$n;else if(zn(s))if(Xn)y=ar;else{y=ir;var g=rr}else(u=s.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(y=or);switch(y&&(y=y(e,r))?Hn(a,y,n,i):(g&&g(e,s,r),"focusout"===e&&(g=s._wrapperState)&&g.controlled&&"number"===s.type&&ie(s,"number",s.value)),g=r?ti(r):window,e){case"focusin":(zn(g)||"true"===g.contentEditable)&&(yr=g,gr=r,mr=null);break;case"focusout":mr=gr=yr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,_r(a,n,i);break;case"selectionchange":if(vr)break;case"keydown":case"keyup":_r(a,n,i)}var m;if(Dn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Vn?qn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Mn&&"ko"!==n.locale&&(Vn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Vn&&(m=rn()):(tn="value"in(en=i)?en.value:en.textContent,Vn=!0)),0<(g=Dr(r,b)).length&&(b=new En(b,e,null,n,i),a.push({event:b,listeners:g}),m?b.data=m:null!==(m=Bn(n))&&(b.data=m))),(m=Ln?function(e,t){switch(e){case"compositionend":return Bn(t);case"keypress":return 32!==t.which?null:(Un=!0,Fn);case"textInput":return(e=t.data)===Fn&&Un?null:e;default:return null}}(e,n):function(e,t){if(Vn)return"compositionend"===e||!Dn&&qn(e,t)?(e=rn(),nn=tn=en=null,Vn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Mn&&"ko"!==t.locale?null:t.data;default:return null}}(e,n))&&(0<(r=Dr(r,"onBeforeInput")).length&&(i=new En("onBeforeInput","beforeinput",null,n,i),a.push({event:i,listeners:r}),i.data=m))}Cr(a,t)}))}function Ar(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Dr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=qe(e,n))&&r.unshift(Ar(e,o,i)),null!=(o=qe(e,t))&&r.push(Ar(e,o,i))),e=e.return}return r}function jr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Lr(e,t,n,r,i){for(var o=t._reactName,a=[];null!==n&&n!==r;){var s=n,u=s.alternate,c=s.stateNode;if(null!==u&&u===r)break;5===s.tag&&null!==c&&(s=c,i?null!=(u=qe(n,o))&&a.unshift(Ar(n,u,s)):i||null!=(u=qe(n,o))&&a.push(Ar(n,u,s))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}function Mr(){}var Fr=null,Ur=null;function qr(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function Br(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Vr="function"===typeof setTimeout?setTimeout:void 0,Wr="function"===typeof clearTimeout?clearTimeout:void 0;function zr(e){1===e.nodeType?e.textContent="":9===e.nodeType&&(null!=(e=e.body)&&(e.textContent=""))}function Hr(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function Kr(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var Gr=0;var Qr=Math.random().toString(36).slice(2),Yr="__reactFiber$"+Qr,$r="__reactProps$"+Qr,Xr="__reactContainer$"+Qr,Jr="__reactEvents$"+Qr;function Zr(e){var t=e[Yr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Xr]||n[Yr]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Kr(e);null!==e;){if(n=e[Yr])return n;e=Kr(e)}return t}n=(e=n).parentNode}return null}function ei(e){return!(e=e[Yr]||e[Xr])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ti(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function ni(e){return e[$r]||null}function ri(e){var t=e[Jr];return void 0===t&&(t=e[Jr]=new Set),t}var ii=[],oi=-1;function ai(e){return{current:e}}function si(e){0>oi||(e.current=ii[oi],ii[oi]=null,oi--)}function ui(e,t){oi++,ii[oi]=e.current,e.current=t}var ci={},li=ai(ci),hi=ai(!1),fi=ci;function di(e,t){var n=e.type.contextTypes;if(!n)return ci;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function pi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function vi(){si(hi),si(li)}function yi(e,t,n){if(li.current!==ci)throw Error(a(168));ui(li,t),ui(hi,n)}function gi(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var o in r=r.getChildContext())if(!(o in e))throw Error(a(108,G(t)||"Unknown",o));return i({},n,r)}function mi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ci,fi=li.current,ui(li,e),ui(hi,hi.current),!0}function bi(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=gi(e,t,fi),r.__reactInternalMemoizedMergedChildContext=e,si(hi),si(li),ui(li,e)):si(hi),ui(hi,n)}var _i=null,wi=null,Ei=o.unstable_runWithPriority,Si=o.unstable_scheduleCallback,Ti=o.unstable_cancelCallback,Ii=o.unstable_shouldYield,Ci=o.unstable_requestPaint,ki=o.unstable_now,Oi=o.unstable_getCurrentPriorityLevel,xi=o.unstable_ImmediatePriority,Pi=o.unstable_UserBlockingPriority,Ni=o.unstable_NormalPriority,Ri=o.unstable_LowPriority,Ai=o.unstable_IdlePriority,Di={},ji=void 0!==Ci?Ci:function(){},Li=null,Mi=null,Fi=!1,Ui=ki(),qi=1e4>Ui?ki:function(){return ki()-Ui};function Bi(){switch(Oi()){case xi:return 99;case Pi:return 98;case Ni:return 97;case Ri:return 96;case Ai:return 95;default:throw Error(a(332))}}function Vi(e){switch(e){case 99:return xi;case 98:return Pi;case 97:return Ni;case 96:return Ri;case 95:return Ai;default:throw Error(a(332))}}function Wi(e,t){return e=Vi(e),Ei(e,t)}function zi(e,t,n){return e=Vi(e),Si(e,t,n)}function Hi(){if(null!==Mi){var e=Mi;Mi=null,Ti(e)}Ki()}function Ki(){if(!Fi&&null!==Li){Fi=!0;var e=0;try{var t=Li;Wi(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),Li=null}catch(n){throw null!==Li&&(Li=Li.slice(e+1)),Si(xi,Hi),n}finally{Fi=!1}}}var Gi=w.ReactCurrentBatchConfig;function Qi(e,t){if(e&&e.defaultProps){for(var n in t=i({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var Yi=ai(null),$i=null,Xi=null,Ji=null;function Zi(){Ji=Xi=$i=null}function eo(e){var t=Yi.current;si(Yi),e.type._context._currentValue=t}function to(e,t){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)===t){if(null===n||(n.childLanes&t)===t)break;n.childLanes|=t}else e.childLanes|=t,null!==n&&(n.childLanes|=t);e=e.return}}function no(e,t){$i=e,Ji=Xi=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(Da=!0),e.firstContext=null)}function ro(e,t){if(Ji!==e&&!1!==t&&0!==t)if("number"===typeof t&&1073741823!==t||(Ji=e,t=1073741823),t={context:e,observedBits:t,next:null},null===Xi){if(null===$i)throw Error(a(308));Xi=t,$i.dependencies={lanes:0,firstContext:t,responders:null}}else Xi=Xi.next=t;return e._currentValue}var io=!1;function oo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function ao(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function so(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function uo(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function co(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=a:o=o.next=a,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function lo(e,t,n,r){var o=e.updateQueue;io=!1;var a=o.firstBaseUpdate,s=o.lastBaseUpdate,u=o.shared.pending;if(null!==u){o.shared.pending=null;var c=u,l=c.next;c.next=null,null===s?a=l:s.next=l,s=c;var h=e.alternate;if(null!==h){var f=(h=h.updateQueue).lastBaseUpdate;f!==s&&(null===f?h.firstBaseUpdate=l:f.next=l,h.lastBaseUpdate=c)}}if(null!==a){for(f=o.baseState,s=0,h=l=c=null;;){u=a.lane;var d=a.eventTime;if((r&u)===u){null!==h&&(h=h.next={eventTime:d,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=e,v=a;switch(u=t,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){f=p.call(d,f,u);break e}f=p;break e;case 3:p.flags=-4097&p.flags|64;case 0:if(null===(u="function"===typeof(p=v.payload)?p.call(d,f,u):p)||void 0===u)break e;f=i({},f,u);break e;case 2:io=!0}}null!==a.callback&&(e.flags|=32,null===(u=o.effects)?o.effects=[a]:u.push(a))}else d={eventTime:d,lane:u,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===h?(l=h=d,c=f):h=h.next=d,s|=u;if(null===(a=a.next)){if(null===(u=o.shared.pending))break;a=u.next,u.next=null,o.lastBaseUpdate=u,o.shared.pending=null}}null===h&&(c=f),o.baseState=c,o.firstBaseUpdate=l,o.lastBaseUpdate=h,Fs|=s,e.lanes=s,e.memoizedState=f}}function ho(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var fo=(new r.Component).refs;function po(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:i({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var vo={isMounted:function(e){return!!(e=e._reactInternals)&&$e(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=cu(),i=lu(e),o=so(r,i);o.payload=t,void 0!==n&&null!==n&&(o.callback=n),uo(e,o),hu(e,i,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=cu(),i=lu(e),o=so(r,i);o.tag=1,o.payload=t,void 0!==n&&null!==n&&(o.callback=n),uo(e,o),hu(e,i,r)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=cu(),r=lu(e),i=so(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),uo(e,i),hu(e,r,n)}};function yo(e,t,n,r,i,o,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,a):!t.prototype||!t.prototype.isPureReactComponent||(!cr(n,r)||!cr(i,o))}function go(e,t,n){var r=!1,i=ci,o=t.contextType;return"object"===typeof o&&null!==o?o=ro(o):(i=pi(t)?fi:li.current,o=(r=null!==(r=t.contextTypes)&&void 0!==r)?di(e,i):ci),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=vo,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function mo(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&vo.enqueueReplaceState(t,t.state,null)}function bo(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=fo,oo(e);var o=t.contextType;"object"===typeof o&&null!==o?i.context=ro(o):(o=pi(t)?fi:li.current,i.context=di(e,o)),lo(e,n,i,r),i.state=e.memoizedState,"function"===typeof(o=t.getDerivedStateFromProps)&&(po(e,t,o,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&vo.enqueueReplaceState(i,i.state,null),lo(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4)}var _o=Array.isArray;function wo(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===i?t.ref:((t=function(e){var t=r.refs;t===fo&&(t=r.refs={}),null===e?delete t[i]:t[i]=e})._stringRef=i,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function Eo(e,t){if("textarea"!==e.type)throw Error(a(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function So(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.flags=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Wu(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags=2,n):r:(t.flags=2,n):n}function s(t){return e&&null===t.alternate&&(t.flags=2),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=Gu(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){return null!==t&&t.elementType===n.type?((r=i(t,n.props)).ref=wo(e,t,n),r.return=e,r):((r=zu(n.type,n.key,n.props,null,e.mode,r)).ref=wo(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Qu(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function h(e,t,n,r,o){return null===t||7!==t.tag?((t=Hu(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function f(e,t,n){if("string"===typeof t||"number"===typeof t)return(t=Gu(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case E:return(n=zu(t.type,t.key,t.props,null,e.mode,n)).ref=wo(e,null,t),n.return=e,n;case S:return(t=Qu(t,e.mode,n)).return=e,t}if(_o(t)||V(t))return(t=Hu(t,e.mode,n,null)).return=e,t;Eo(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n||"number"===typeof n)return null!==i?null:u(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case E:return n.key===i?n.type===T?h(e,t,n.props.children,r,i):c(e,t,n,r):null;case S:return n.key===i?l(e,t,n,r):null}if(_o(n)||V(n))return null!==i?null:h(e,t,n,r,null);Eo(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r||"number"===typeof r)return u(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case E:return e=e.get(null===r.key?n:r.key)||null,r.type===T?h(t,e,r.props.children,i,r.key):c(t,e,r,i);case S:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(_o(r)||V(r))return h(t,e=e.get(n)||null,r,i,null);Eo(t,r)}return null}function v(i,a,s,u){for(var c=null,l=null,h=a,v=a=0,y=null;null!==h&&v<s.length;v++){h.index>v?(y=h,h=null):y=h.sibling;var g=d(i,h,s[v],u);if(null===g){null===h&&(h=y);break}e&&h&&null===g.alternate&&t(i,h),a=o(g,a,v),null===l?c=g:l.sibling=g,l=g,h=y}if(v===s.length)return n(i,h),c;if(null===h){for(;v<s.length;v++)null!==(h=f(i,s[v],u))&&(a=o(h,a,v),null===l?c=h:l.sibling=h,l=h);return c}for(h=r(i,h);v<s.length;v++)null!==(y=p(h,i,v,s[v],u))&&(e&&null!==y.alternate&&h.delete(null===y.key?v:y.key),a=o(y,a,v),null===l?c=y:l.sibling=y,l=y);return e&&h.forEach((function(e){return t(i,e)})),c}function y(i,s,u,c){var l=V(u);if("function"!==typeof l)throw Error(a(150));if(null==(u=l.call(u)))throw Error(a(151));for(var h=l=null,v=s,y=s=0,g=null,m=u.next();null!==v&&!m.done;y++,m=u.next()){v.index>y?(g=v,v=null):g=v.sibling;var b=d(i,v,m.value,c);if(null===b){null===v&&(v=g);break}e&&v&&null===b.alternate&&t(i,v),s=o(b,s,y),null===h?l=b:h.sibling=b,h=b,v=g}if(m.done)return n(i,v),l;if(null===v){for(;!m.done;y++,m=u.next())null!==(m=f(i,m.value,c))&&(s=o(m,s,y),null===h?l=m:h.sibling=m,h=m);return l}for(v=r(i,v);!m.done;y++,m=u.next())null!==(m=p(v,i,y,m.value,c))&&(e&&null!==m.alternate&&v.delete(null===m.key?y:m.key),s=o(m,s,y),null===h?l=m:h.sibling=m,h=m);return e&&v.forEach((function(e){return t(i,e)})),l}return function(e,r,o,u){var c="object"===typeof o&&null!==o&&o.type===T&&null===o.key;c&&(o=o.props.children);var l="object"===typeof o&&null!==o;if(l)switch(o.$$typeof){case E:e:{for(l=o.key,c=r;null!==c;){if(c.key===l){switch(c.tag){case 7:if(o.type===T){n(e,c.sibling),(r=i(c,o.props.children)).return=e,e=r;break e}break;default:if(c.elementType===o.type){n(e,c.sibling),(r=i(c,o.props)).ref=wo(e,c,o),r.return=e,e=r;break e}}n(e,c);break}t(e,c),c=c.sibling}o.type===T?((r=Hu(o.props.children,e.mode,u,o.key)).return=e,e=r):((u=zu(o.type,o.key,o.props,null,e.mode,u)).ref=wo(e,r,o),u.return=e,e=u)}return s(e);case S:e:{for(c=o.key;null!==r;){if(r.key===c){if(4===r.tag&&r.stateNode.containerInfo===o.containerInfo&&r.stateNode.implementation===o.implementation){n(e,r.sibling),(r=i(r,o.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=Qu(o,e.mode,u)).return=e,e=r}return s(e)}if("string"===typeof o||"number"===typeof o)return o=""+o,null!==r&&6===r.tag?(n(e,r.sibling),(r=i(r,o)).return=e,e=r):(n(e,r),(r=Gu(o,e.mode,u)).return=e,e=r),s(e);if(_o(o))return v(e,r,o,u);if(V(o))return y(e,r,o,u);if(l&&Eo(e,o),"undefined"===typeof o&&!c)switch(e.tag){case 1:case 22:case 0:case 11:case 15:throw Error(a(152,G(e.type)||"Component"))}return n(e,r)}}var To=So(!0),Io=So(!1),Co={},ko=ai(Co),Oo=ai(Co),xo=ai(Co);function Po(e){if(e===Co)throw Error(a(174));return e}function No(e,t){switch(ui(xo,t),ui(Oo,e),ui(ko,Co),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:pe(null,"");break;default:t=pe(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}si(ko),ui(ko,t)}function Ro(){si(ko),si(Oo),si(xo)}function Ao(e){Po(xo.current);var t=Po(ko.current),n=pe(t,e.type);t!==n&&(ui(Oo,e),ui(ko,n))}function Do(e){Oo.current===e&&(si(ko),si(Oo))}var jo=ai(0);function Lo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(64&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Mo=null,Fo=null,Uo=!1;function qo(e,t){var n=Bu(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.flags=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function Bo(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);case 13:default:return!1}}function Vo(e){if(Uo){var t=Fo;if(t){var n=t;if(!Bo(e,t)){if(!(t=Hr(n.nextSibling))||!Bo(e,t))return e.flags=-1025&e.flags|2,Uo=!1,void(Mo=e);qo(Mo,n)}Mo=e,Fo=Hr(t.firstChild)}else e.flags=-1025&e.flags|2,Uo=!1,Mo=e}}function Wo(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Mo=e}function zo(e){if(e!==Mo)return!1;if(!Uo)return Wo(e),Uo=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!Br(t,e.memoizedProps))for(t=Fo;t;)qo(e,t),t=Hr(t.nextSibling);if(Wo(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Fo=Hr(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}Fo=null}}else Fo=Mo?Hr(e.stateNode.nextSibling):null;return!0}function Ho(){Fo=Mo=null,Uo=!1}var Ko=[];function Go(){for(var e=0;e<Ko.length;e++)Ko[e]._workInProgressVersionPrimary=null;Ko.length=0}var Qo=w.ReactCurrentDispatcher,Yo=w.ReactCurrentBatchConfig,$o=0,Xo=null,Jo=null,Zo=null,ea=!1,ta=!1;function na(){throw Error(a(321))}function ra(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!sr(e[n],t[n]))return!1;return!0}function ia(e,t,n,r,i,o){if($o=o,Xo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Qo.current=null===e||null===e.memoizedState?Pa:Na,e=n(r,i),ta){o=0;do{if(ta=!1,!(25>o))throw Error(a(301));o+=1,Zo=Jo=null,t.updateQueue=null,Qo.current=Ra,e=n(r,i)}while(ta)}if(Qo.current=xa,t=null!==Jo&&null!==Jo.next,$o=0,Zo=Jo=Xo=null,ea=!1,t)throw Error(a(300));return e}function oa(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Zo?Xo.memoizedState=Zo=e:Zo=Zo.next=e,Zo}function aa(){if(null===Jo){var e=Xo.alternate;e=null!==e?e.memoizedState:null}else e=Jo.next;var t=null===Zo?Xo.memoizedState:Zo.next;if(null!==t)Zo=t,Jo=e;else{if(null===e)throw Error(a(310));e={memoizedState:(Jo=e).memoizedState,baseState:Jo.baseState,baseQueue:Jo.baseQueue,queue:Jo.queue,next:null},null===Zo?Xo.memoizedState=Zo=e:Zo=Zo.next=e}return Zo}function sa(e,t){return"function"===typeof t?t(e):t}function ua(e){var t=aa(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=Jo,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var u=s=o=null,c=i;do{var l=c.lane;if(($o&l)===l)null!==u&&(u=u.next={lane:0,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null}),r=c.eagerReducer===e?c.eagerState:e(r,c.action);else{var h={lane:l,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null};null===u?(s=u=h,o=r):u=u.next=h,Xo.lanes|=l,Fs|=l}c=c.next}while(null!==c&&c!==i);null===u?o=r:u.next=s,sr(r,t.memoizedState)||(Da=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=u,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function ca(e){var t=aa(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{o=e(o,s.action),s=s.next}while(s!==i);sr(o,t.memoizedState)||(Da=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function la(e,t,n){var r=t._getVersion;r=r(t._source);var i=t._workInProgressVersionPrimary;if(null!==i?e=i===r:(e=e.mutableReadLanes,(e=($o&e)===e)&&(t._workInProgressVersionPrimary=r,Ko.push(t))),e)return n(t._source);throw Ko.push(t),Error(a(350))}function ha(e,t,n,r){var i=Ps;if(null===i)throw Error(a(349));var o=t._getVersion,s=o(t._source),u=Qo.current,c=u.useState((function(){return la(i,t,n)})),l=c[1],h=c[0];c=Zo;var f=e.memoizedState,d=f.refs,p=d.getSnapshot,v=f.source;f=f.subscribe;var y=Xo;return e.memoizedState={refs:d,source:t,subscribe:r},u.useEffect((function(){d.getSnapshot=n,d.setSnapshot=l;var e=o(t._source);if(!sr(s,e)){e=n(t._source),sr(h,e)||(l(e),e=lu(y),i.mutableReadLanes|=e&i.pendingLanes),e=i.mutableReadLanes,i.entangledLanes|=e;for(var r=i.entanglements,a=e;0<a;){var u=31-zt(a),c=1<<u;r[u]|=e,a&=~c}}}),[n,t,r]),u.useEffect((function(){return r(t._source,(function(){var e=d.getSnapshot,n=d.setSnapshot;try{n(e(t._source));var r=lu(y);i.mutableReadLanes|=r&i.pendingLanes}catch(o){n((function(){throw o}))}}))}),[t,r]),sr(p,n)&&sr(v,t)&&sr(f,r)||((e={pending:null,dispatch:null,lastRenderedReducer:sa,lastRenderedState:h}).dispatch=l=Oa.bind(null,Xo,e),c.queue=e,c.baseQueue=null,h=la(i,t,n),c.memoizedState=c.baseState=h),h}function fa(e,t,n){return ha(aa(),e,t,n)}function da(e){var t=oa();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:sa,lastRenderedState:e}).dispatch=Oa.bind(null,Xo,e),[t.memoizedState,e]}function pa(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=Xo.updateQueue)?(t={lastEffect:null},Xo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function va(e){return e={current:e},oa().memoizedState=e}function ya(){return aa().memoizedState}function ga(e,t,n,r){var i=oa();Xo.flags|=e,i.memoizedState=pa(1|t,n,void 0,void 0===r?null:r)}function ma(e,t,n,r){var i=aa();r=void 0===r?null:r;var o=void 0;if(null!==Jo){var a=Jo.memoizedState;if(o=a.destroy,null!==r&&ra(r,a.deps))return void pa(t,n,o,r)}Xo.flags|=e,i.memoizedState=pa(1|t,n,o,r)}function ba(e,t){return ga(516,4,e,t)}function _a(e,t){return ma(516,4,e,t)}function wa(e,t){return ma(4,2,e,t)}function Ea(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Sa(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,ma(4,2,Ea.bind(null,t,e),n)}function Ta(){}function Ia(e,t){var n=aa();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ra(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ca(e,t){var n=aa();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ra(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function ka(e,t){var n=Bi();Wi(98>n?98:n,(function(){e(!0)})),Wi(97<n?97:n,(function(){var n=Yo.transition;Yo.transition=1;try{e(!1),t()}finally{Yo.transition=n}}))}function Oa(e,t,n){var r=cu(),i=lu(e),o={lane:i,action:n,eagerReducer:null,eagerState:null,next:null},a=t.pending;if(null===a?o.next=o:(o.next=a.next,a.next=o),t.pending=o,a=e.alternate,e===Xo||null!==a&&a===Xo)ta=ea=!0;else{if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var s=t.lastRenderedState,u=a(s,n);if(o.eagerReducer=a,o.eagerState=u,sr(u,s))return}catch(c){}hu(e,i,r)}}var xa={readContext:ro,useCallback:na,useContext:na,useEffect:na,useImperativeHandle:na,useLayoutEffect:na,useMemo:na,useReducer:na,useRef:na,useState:na,useDebugValue:na,useDeferredValue:na,useTransition:na,useMutableSource:na,useOpaqueIdentifier:na,unstable_isNewReconciler:!1},Pa={readContext:ro,useCallback:function(e,t){return oa().memoizedState=[e,void 0===t?null:t],e},useContext:ro,useEffect:ba,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,ga(4,2,Ea.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ga(4,2,e,t)},useMemo:function(e,t){var n=oa();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=oa();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=Oa.bind(null,Xo,e),[r.memoizedState,e]},useRef:va,useState:da,useDebugValue:Ta,useDeferredValue:function(e){var t=da(e),n=t[0],r=t[1];return ba((function(){var t=Yo.transition;Yo.transition=1;try{r(e)}finally{Yo.transition=t}}),[e]),n},useTransition:function(){var e=da(!1),t=e[0];return va(e=ka.bind(null,e[1])),[e,t]},useMutableSource:function(e,t,n){var r=oa();return r.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:n},ha(r,e,t,n)},useOpaqueIdentifier:function(){if(Uo){var e=!1,t=function(e){return{$$typeof:j,toString:e,valueOf:e}}((function(){throw e||(e=!0,n("r:"+(Gr++).toString(36))),Error(a(355))})),n=da(t)[1];return 0===(2&Xo.mode)&&(Xo.flags|=516,pa(5,(function(){n("r:"+(Gr++).toString(36))}),void 0,null)),t}return da(t="r:"+(Gr++).toString(36)),t},unstable_isNewReconciler:!1},Na={readContext:ro,useCallback:Ia,useContext:ro,useEffect:_a,useImperativeHandle:Sa,useLayoutEffect:wa,useMemo:Ca,useReducer:ua,useRef:ya,useState:function(){return ua(sa)},useDebugValue:Ta,useDeferredValue:function(e){var t=ua(sa),n=t[0],r=t[1];return _a((function(){var t=Yo.transition;Yo.transition=1;try{r(e)}finally{Yo.transition=t}}),[e]),n},useTransition:function(){var e=ua(sa)[0];return[ya().current,e]},useMutableSource:fa,useOpaqueIdentifier:function(){return ua(sa)[0]},unstable_isNewReconciler:!1},Ra={readContext:ro,useCallback:Ia,useContext:ro,useEffect:_a,useImperativeHandle:Sa,useLayoutEffect:wa,useMemo:Ca,useReducer:ca,useRef:ya,useState:function(){return ca(sa)},useDebugValue:Ta,useDeferredValue:function(e){var t=ca(sa),n=t[0],r=t[1];return _a((function(){var t=Yo.transition;Yo.transition=1;try{r(e)}finally{Yo.transition=t}}),[e]),n},useTransition:function(){var e=ca(sa)[0];return[ya().current,e]},useMutableSource:fa,useOpaqueIdentifier:function(){return ca(sa)[0]},unstable_isNewReconciler:!1},Aa=w.ReactCurrentOwner,Da=!1;function ja(e,t,n,r){t.child=null===e?Io(t,null,n,r):To(t,e.child,n,r)}function La(e,t,n,r,i){n=n.render;var o=t.ref;return no(t,i),r=ia(e,t,n,r,o,i),null===e||Da?(t.flags|=1,ja(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,ns(e,t,i))}function Ma(e,t,n,r,i,o){if(null===e){var a=n.type;return"function"!==typeof a||Vu(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=zu(n.type,null,r,t,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Fa(e,t,a,r,i,o))}return a=e.child,0===(i&o)&&(i=a.memoizedProps,(n=null!==(n=n.compare)?n:cr)(i,r)&&e.ref===t.ref)?ns(e,t,o):(t.flags|=1,(e=Wu(a,r)).ref=t.ref,e.return=t,t.child=e)}function Fa(e,t,n,r,i,o){if(null!==e&&cr(e.memoizedProps,r)&&e.ref===t.ref){if(Da=!1,0===(o&i))return t.lanes=e.lanes,ns(e,t,o);0!==(16384&e.flags)&&(Da=!0)}return Ba(e,t,n,r,o)}function Ua(e,t,n){var r=t.pendingProps,i=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode||"unstable-defer-without-hiding"===r.mode)if(0===(4&t.mode))t.memoizedState={baseLanes:0},bu(t,n);else{if(0===(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},bu(t,e),null;t.memoizedState={baseLanes:0},bu(t,null!==o?o.baseLanes:n)}else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,bu(t,r);return ja(e,t,i,n),t.child}function qa(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=128)}function Ba(e,t,n,r,i){var o=pi(n)?fi:li.current;return o=di(t,o),no(t,i),n=ia(e,t,n,r,o,i),null===e||Da?(t.flags|=1,ja(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,ns(e,t,i))}function Va(e,t,n,r,i){if(pi(n)){var o=!0;mi(t)}else o=!1;if(no(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),go(t,n,r),bo(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var u=a.context,c=n.contextType;"object"===typeof c&&null!==c?c=ro(c):c=di(t,c=pi(n)?fi:li.current);var l=n.getDerivedStateFromProps,h="function"===typeof l||"function"===typeof a.getSnapshotBeforeUpdate;h||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==r||u!==c)&&mo(t,a,r,c),io=!1;var f=t.memoizedState;a.state=f,lo(t,r,a,i),u=t.memoizedState,s!==r||f!==u||hi.current||io?("function"===typeof l&&(po(t,n,l,r),u=t.memoizedState),(s=io||yo(t,n,s,r,f,u,c))?(h||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4)):("function"===typeof a.componentDidMount&&(t.flags|=4),t.memoizedProps=r,t.memoizedState=u),a.props=r,a.state=u,a.context=c,r=s):("function"===typeof a.componentDidMount&&(t.flags|=4),r=!1)}else{a=t.stateNode,ao(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:Qi(t.type,s),a.props=c,h=t.pendingProps,f=a.context,"object"===typeof(u=n.contextType)&&null!==u?u=ro(u):u=di(t,u=pi(n)?fi:li.current);var d=n.getDerivedStateFromProps;(l="function"===typeof d||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==h||f!==u)&&mo(t,a,r,u),io=!1,f=t.memoizedState,a.state=f,lo(t,r,a,i);var p=t.memoizedState;s!==h||f!==p||hi.current||io?("function"===typeof d&&(po(t,n,d,r),p=t.memoizedState),(c=io||yo(t,n,c,r,f,p,u))?(l||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,p,u),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,p,u)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=256)):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=256),t.memoizedProps=r,t.memoizedState=p),a.props=r,a.state=p,a.context=u,r=c):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=256),r=!1)}return Wa(e,t,n,r,o,i)}function Wa(e,t,n,r,i,o){qa(e,t);var a=0!==(64&t.flags);if(!r&&!a)return i&&bi(t,n,!1),ns(e,t,o);r=t.stateNode,Aa.current=t;var s=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=To(t,e.child,null,o),t.child=To(t,null,s,o)):ja(e,t,s,o),t.memoizedState=r.state,i&&bi(t,n,!0),t.child}function za(e){var t=e.stateNode;t.pendingContext?yi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&yi(0,t.context,!1),No(e,t.containerInfo)}var Ha,Ka,Ga,Qa={dehydrated:null,retryLane:0};function Ya(e,t,n){var r,i=t.pendingProps,o=jo.current,a=!1;return(r=0!==(64&t.flags))||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(a=!0,t.flags&=-65):null!==e&&null===e.memoizedState||void 0===i.fallback||!0===i.unstable_avoidThisFallback||(o|=1),ui(jo,1&o),null===e?(void 0!==i.fallback&&Vo(t),e=i.children,o=i.fallback,a?(e=$a(t,e,o,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Qa,e):"number"===typeof i.unstable_expectedLoadTime?(e=$a(t,e,o,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Qa,t.lanes=33554432,e):((n=Ku({mode:"visible",children:e},t.mode,n,null)).return=t,t.child=n)):(e.memoizedState,a?(i=Ja(e,t,i.children,i.fallback,n),a=t.child,o=e.child.memoizedState,a.memoizedState=null===o?{baseLanes:n}:{baseLanes:o.baseLanes|n},a.childLanes=e.childLanes&~n,t.memoizedState=Qa,i):(n=Xa(e,t,i.children,n),t.memoizedState=null,n))}function $a(e,t,n,r){var i=e.mode,o=e.child;return t={mode:"hidden",children:t},0===(2&i)&&null!==o?(o.childLanes=0,o.pendingProps=t):o=Ku(t,i,0,null),n=Hu(n,i,r,null),o.return=e,n.return=e,o.sibling=n,e.child=o,n}function Xa(e,t,n,r){var i=e.child;return e=i.sibling,n=Wu(i,{mode:"visible",children:n}),0===(2&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=n}function Ja(e,t,n,r,i){var o=t.mode,a=e.child;e=a.sibling;var s={mode:"hidden",children:n};return 0===(2&o)&&t.child!==a?((n=t.child).childLanes=0,n.pendingProps=s,null!==(a=n.lastEffect)?(t.firstEffect=n.firstEffect,t.lastEffect=a,a.nextEffect=null):t.firstEffect=t.lastEffect=null):n=Wu(a,s),null!==e?r=Wu(e,r):(r=Hu(r,o,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function Za(e,t){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),to(e.return,t)}function es(e,t,n,r,i,o){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,lastEffect:o}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i,a.lastEffect=o)}function ts(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(ja(e,t,r.children,n),0!==(2&(r=jo.current)))r=1&r|2,t.flags|=64;else{if(null!==e&&0!==(64&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Za(e,n);else if(19===e.tag)Za(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ui(jo,r),0===(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===Lo(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),es(t,!1,i,n,o,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===Lo(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}es(t,!0,n,null,o,t.lastEffect);break;case"together":es(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function ns(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Fs|=t.lanes,0!==(n&t.childLanes)){if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Wu(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Wu(e,e.pendingProps)).return=t;n.sibling=null}return t.child}return null}function rs(e,t){if(!Uo)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function is(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return pi(t.type)&&vi(),null;case 3:return Ro(),si(hi),si(li),Go(),(r=t.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(zo(t)?t.flags|=4:r.hydrate||(t.flags|=256)),null;case 5:Do(t);var o=Po(xo.current);if(n=t.type,null!==e&&null!=t.stateNode)Ka(e,t,n,r),e.ref!==t.ref&&(t.flags|=128);else{if(!r){if(null===t.stateNode)throw Error(a(166));return null}if(e=Po(ko.current),zo(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[Yr]=t,r[$r]=s,n){case"dialog":kr("cancel",r),kr("close",r);break;case"iframe":case"object":case"embed":kr("load",r);break;case"video":case"audio":for(e=0;e<Sr.length;e++)kr(Sr[e],r);break;case"source":kr("error",r);break;case"img":case"image":case"link":kr("error",r),kr("load",r);break;case"details":kr("toggle",r);break;case"input":ee(r,s),kr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},kr("invalid",r);break;case"textarea":ue(r,s),kr("invalid",r)}for(var c in Te(n,s),e=null,s)s.hasOwnProperty(c)&&(o=s[c],"children"===c?"string"===typeof o?r.textContent!==o&&(e=["children",o]):"number"===typeof o&&r.textContent!==""+o&&(e=["children",""+o]):u.hasOwnProperty(c)&&null!=o&&"onScroll"===c&&kr("scroll",r));switch(n){case"input":$(r),re(r,s,!0);break;case"textarea":$(r),le(r);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(r.onclick=Mr)}r=e,t.updateQueue=r,null!==r&&(t.flags|=4)}else{switch(c=9===o.nodeType?o:o.ownerDocument,e===he&&(e=de(n)),e===he?"script"===n?((e=c.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=c.createElement(n,{is:r.is}):(e=c.createElement(n),"select"===n&&(c=e,r.multiple?c.multiple=!0:r.size&&(c.size=r.size))):e=c.createElementNS(e,n),e[Yr]=t,e[$r]=r,Ha(e,t),t.stateNode=e,c=Ie(n,r),n){case"dialog":kr("cancel",e),kr("close",e),o=r;break;case"iframe":case"object":case"embed":kr("load",e),o=r;break;case"video":case"audio":for(o=0;o<Sr.length;o++)kr(Sr[o],e);o=r;break;case"source":kr("error",e),o=r;break;case"img":case"image":case"link":kr("error",e),kr("load",e),o=r;break;case"details":kr("toggle",e),o=r;break;case"input":ee(e,r),o=Z(e,r),kr("invalid",e);break;case"option":o=oe(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=i({},r,{value:void 0}),kr("invalid",e);break;case"textarea":ue(e,r),o=se(e,r),kr("invalid",e);break;default:o=r}Te(n,o);var l=o;for(s in l)if(l.hasOwnProperty(s)){var h=l[s];"style"===s?Ee(e,h):"dangerouslySetInnerHTML"===s?null!=(h=h?h.__html:void 0)&&ge(e,h):"children"===s?"string"===typeof h?("textarea"!==n||""!==h)&&me(e,h):"number"===typeof h&&me(e,""+h):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(u.hasOwnProperty(s)?null!=h&&"onScroll"===s&&kr("scroll",e):null!=h&&_(e,s,h,c))}switch(n){case"input":$(e),re(e,r,!1);break;case"textarea":$(e),le(e);break;case"option":null!=r.value&&e.setAttribute("value",""+Q(r.value));break;case"select":e.multiple=!!r.multiple,null!=(s=r.value)?ae(e,!!r.multiple,s,!1):null!=r.defaultValue&&ae(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof o.onClick&&(e.onclick=Mr)}qr(n,r)&&(t.flags|=4)}null!==t.ref&&(t.flags|=128)}return null;case 6:if(e&&null!=t.stateNode)Ga(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));n=Po(xo.current),Po(ko.current),zo(t)?(r=t.stateNode,n=t.memoizedProps,r[Yr]=t,r.nodeValue!==n&&(t.flags|=4)):((r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[Yr]=t,t.stateNode=r)}return null;case 13:return si(jo),r=t.memoizedState,0!==(64&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?void 0!==t.memoizedProps.fallback&&zo(t):n=null!==e.memoizedState,r&&!n&&0!==(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!==(1&jo.current)?0===js&&(js=3):(0!==js&&3!==js||(js=4),null===Ps||0===(134217727&Fs)&&0===(134217727&Us)||vu(Ps,Rs))),(r||n)&&(t.flags|=4),null);case 4:return Ro(),null===e&&xr(t.stateNode.containerInfo),null;case 10:return eo(t),null;case 17:return pi(t.type)&&vi(),null;case 19:if(si(jo),null===(r=t.memoizedState))return null;if(s=0!==(64&t.flags),null===(c=r.rendering))if(s)rs(r,!1);else{if(0!==js||null!==e&&0!==(64&e.flags))for(e=t.child;null!==e;){if(null!==(c=Lo(e))){for(t.flags|=64,rs(r,!1),null!==(s=c.updateQueue)&&(t.updateQueue=s,t.flags|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=n,n=t.child;null!==n;)e=r,(s=n).flags&=2,s.nextEffect=null,s.firstEffect=null,s.lastEffect=null,null===(c=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=c.childLanes,s.lanes=c.lanes,s.child=c.child,s.memoizedProps=c.memoizedProps,s.memoizedState=c.memoizedState,s.updateQueue=c.updateQueue,s.type=c.type,e=c.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ui(jo,1&jo.current|2),t.child}e=e.sibling}null!==r.tail&&qi()>Ws&&(t.flags|=64,s=!0,rs(r,!1),t.lanes=33554432)}else{if(!s)if(null!==(e=Lo(c))){if(t.flags|=64,s=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),rs(r,!0),null===r.tail&&"hidden"===r.tailMode&&!c.alternate&&!Uo)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*qi()-r.renderingStartTime>Ws&&1073741824!==n&&(t.flags|=64,s=!0,rs(r,!1),t.lanes=33554432);r.isBackwards?(c.sibling=t.child,t.child=c):(null!==(n=r.last)?n.sibling=c:t.child=c,r.last=c)}return null!==r.tail?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=qi(),n.sibling=null,t=jo.current,ui(jo,s?1&t|2:1&t),n):null;case 23:case 24:return _u(),null!==e&&null!==e.memoizedState!==(null!==t.memoizedState)&&"unstable-defer-without-hiding"!==r.mode&&(t.flags|=4),null}throw Error(a(156,t.tag))}function os(e){switch(e.tag){case 1:pi(e.type)&&vi();var t=e.flags;return 4096&t?(e.flags=-4097&t|64,e):null;case 3:if(Ro(),si(hi),si(li),Go(),0!==(64&(t=e.flags)))throw Error(a(285));return e.flags=-4097&t|64,e;case 5:return Do(e),null;case 13:return si(jo),4096&(t=e.flags)?(e.flags=-4097&t|64,e):null;case 19:return si(jo),null;case 4:return Ro(),null;case 10:return eo(e),null;case 23:case 24:return _u(),null;default:return null}}function as(e,t){try{var n="",r=t;do{n+=K(r),r=r.return}while(r);var i=n}catch(o){i="\nError generating stack: "+o.message+"\n"+o.stack}return{value:e,source:t,stack:i}}function ss(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}Ha=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ka=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,Po(ko.current);var a,s=null;switch(n){case"input":o=Z(e,o),r=Z(e,r),s=[];break;case"option":o=oe(e,o),r=oe(e,r),s=[];break;case"select":o=i({},o,{value:void 0}),r=i({},r,{value:void 0}),s=[];break;case"textarea":o=se(e,o),r=se(e,r),s=[];break;default:"function"!==typeof o.onClick&&"function"===typeof r.onClick&&(e.onclick=Mr)}for(h in Te(n,r),n=null,o)if(!r.hasOwnProperty(h)&&o.hasOwnProperty(h)&&null!=o[h])if("style"===h){var c=o[h];for(a in c)c.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==h&&"children"!==h&&"suppressContentEditableWarning"!==h&&"suppressHydrationWarning"!==h&&"autoFocus"!==h&&(u.hasOwnProperty(h)?s||(s=[]):(s=s||[]).push(h,null));for(h in r){var l=r[h];if(c=null!=o?o[h]:void 0,r.hasOwnProperty(h)&&l!==c&&(null!=l||null!=c))if("style"===h)if(c){for(a in c)!c.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in l)l.hasOwnProperty(a)&&c[a]!==l[a]&&(n||(n={}),n[a]=l[a])}else n||(s||(s=[]),s.push(h,n)),n=l;else"dangerouslySetInnerHTML"===h?(l=l?l.__html:void 0,c=c?c.__html:void 0,null!=l&&c!==l&&(s=s||[]).push(h,l)):"children"===h?"string"!==typeof l&&"number"!==typeof l||(s=s||[]).push(h,""+l):"suppressContentEditableWarning"!==h&&"suppressHydrationWarning"!==h&&(u.hasOwnProperty(h)?(null!=l&&"onScroll"===h&&kr("scroll",e),s||c===l||(s=[])):"object"===typeof l&&null!==l&&l.$$typeof===j?l.toString():(s=s||[]).push(h,l))}n&&(s=s||[]).push("style",n);var h=s;(t.updateQueue=h)&&(t.flags|=4)}},Ga=function(e,t,n,r){n!==r&&(t.flags|=4)};var us="function"===typeof WeakMap?WeakMap:Map;function cs(e,t,n){(n=so(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Gs||(Gs=!0,Qs=r),ss(0,t)},n}function ls(e,t,n){(n=so(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return ss(0,t),r(i)}}var o=e.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){"function"!==typeof r&&(null===Ys?Ys=new Set([this]):Ys.add(this),ss(0,t));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}var hs="function"===typeof WeakSet?WeakSet:Set;function fs(e){var t=e.ref;if(null!==t)if("function"===typeof t)try{t(null)}catch(n){Mu(e,n)}else t.current=null}function ds(e,t){switch(t.tag){case 0:case 11:case 15:case 22:return;case 1:if(256&t.flags&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:Qi(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:return void(256&t.flags&&zr(t.stateNode.containerInfo));case 5:case 6:case 4:case 17:return}throw Error(a(163))}function ps(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{if(3===(3&e.tag)){var r=e.create;e.destroy=r()}e=e.next}while(e!==t)}if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{var i=e;r=i.next,0!==(4&(i=i.tag))&&0!==(1&i)&&(Du(n,e),Au(n,e)),e=r}while(e!==t)}return;case 1:return e=n.stateNode,4&n.flags&&(null===t?e.componentDidMount():(r=n.elementType===n.type?t.memoizedProps:Qi(n.type,t.memoizedProps),e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),void(null!==(t=n.updateQueue)&&ho(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}ho(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.flags&&qr(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&Et(n)))));case 19:case 17:case 20:case 21:case 23:case 24:return}throw Error(a(163))}function vs(e,t){for(var n=e;;){if(5===n.tag){var r=n.stateNode;if(t)"function"===typeof(r=r.style).setProperty?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var i=n.memoizedProps.style;i=void 0!==i&&null!==i&&i.hasOwnProperty("display")?i.display:null,r.style.display=we("display",i)}}else if(6===n.tag)n.stateNode.nodeValue=t?"":n.memoizedProps;else if((23!==n.tag&&24!==n.tag||null===n.memoizedState||n===e)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function ys(e,t){if(wi&&"function"===typeof wi.onCommitFiberUnmount)try{wi.onCommitFiberUnmount(_i,t)}catch(o){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var n=e=e.next;do{var r=n,i=r.destroy;if(r=r.tag,void 0!==i)if(0!==(4&r))Du(t,n);else{r=t;try{i()}catch(o){Mu(r,o)}}n=n.next}while(n!==e)}break;case 1:if(fs(t),"function"===typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(o){Mu(t,o)}break;case 5:fs(t);break;case 4:Es(e,t)}}function gs(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function ms(e){return 5===e.tag||3===e.tag||4===e.tag}function bs(e){e:{for(var t=e.return;null!==t;){if(ms(t))break e;t=t.return}throw Error(a(160))}var n=t;switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(a(161))}16&n.flags&&(me(t,""),n.flags&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||ms(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.flags)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.flags)){n=n.stateNode;break e}}r?_s(e,n,t):ws(e,n,t)}function _s(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Mr));else if(4!==r&&null!==(e=e.child))for(_s(e,t,n),e=e.sibling;null!==e;)_s(e,t,n),e=e.sibling}function ws(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(ws(e,t,n),e=e.sibling;null!==e;)ws(e,t,n),e=e.sibling}function Es(e,t){for(var n,r,i=t,o=!1;;){if(!o){o=i.return;e:for(;;){if(null===o)throw Error(a(160));switch(n=o.stateNode,o.tag){case 5:r=!1;break e;case 3:case 4:n=n.containerInfo,r=!0;break e}o=o.return}o=!0}if(5===i.tag||6===i.tag){e:for(var s=e,u=i,c=u;;)if(ys(s,c),null!==c.child&&4!==c.tag)c.child.return=c,c=c.child;else{if(c===u)break e;for(;null===c.sibling;){if(null===c.return||c.return===u)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}r?(s=n,u=i.stateNode,8===s.nodeType?s.parentNode.removeChild(u):s.removeChild(u)):n.removeChild(i.stateNode)}else if(4===i.tag){if(null!==i.child){n=i.stateNode.containerInfo,r=!0,i.child.return=i,i=i.child;continue}}else if(ys(e,i),null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;4===(i=i.return).tag&&(o=!1)}i.sibling.return=i.return,i=i.sibling}}function Ss(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var r=n=n.next;do{3===(3&r.tag)&&(e=r.destroy,r.destroy=void 0,void 0!==e&&e()),r=r.next}while(r!==n)}return;case 1:return;case 5:if(null!=(n=t.stateNode)){r=t.memoizedProps;var i=null!==e?e.memoizedProps:r;e=t.type;var o=t.updateQueue;if(t.updateQueue=null,null!==o){for(n[$r]=r,"input"===e&&"radio"===r.type&&null!=r.name&&te(n,r),Ie(e,i),t=Ie(e,r),i=0;i<o.length;i+=2){var s=o[i],u=o[i+1];"style"===s?Ee(n,u):"dangerouslySetInnerHTML"===s?ge(n,u):"children"===s?me(n,u):_(n,s,u,t)}switch(e){case"input":ne(n,r);break;case"textarea":ce(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(o=r.value)?ae(n,!!r.multiple,o,!1):e!==!!r.multiple&&(null!=r.defaultValue?ae(n,!!r.multiple,r.defaultValue,!0):ae(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(a(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((n=t.stateNode).hydrate&&(n.hydrate=!1,Et(n.containerInfo)));case 12:return;case 13:return null!==t.memoizedState&&(Vs=qi(),vs(t.child,!0)),void Ts(t);case 19:return void Ts(t);case 17:return;case 23:case 24:return void vs(t,null!==t.memoizedState)}throw Error(a(163))}function Ts(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new hs),t.forEach((function(t){var r=Uu.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function Is(e,t){return null!==e&&(null===(e=e.memoizedState)||null!==e.dehydrated)&&(null!==(t=t.memoizedState)&&null===t.dehydrated)}var Cs=Math.ceil,ks=w.ReactCurrentDispatcher,Os=w.ReactCurrentOwner,xs=0,Ps=null,Ns=null,Rs=0,As=0,Ds=ai(0),js=0,Ls=null,Ms=0,Fs=0,Us=0,qs=0,Bs=null,Vs=0,Ws=1/0;function zs(){Ws=qi()+500}var Hs,Ks=null,Gs=!1,Qs=null,Ys=null,$s=!1,Xs=null,Js=90,Zs=[],eu=[],tu=null,nu=0,ru=null,iu=-1,ou=0,au=0,su=null,uu=!1;function cu(){return 0!==(48&xs)?qi():-1!==iu?iu:iu=qi()}function lu(e){if(0===(2&(e=e.mode)))return 1;if(0===(4&e))return 99===Bi()?1:2;if(0===ou&&(ou=Ms),0!==Gi.transition){0!==au&&(au=null!==Bs?Bs.pendingLanes:0),e=ou;var t=4186112&~au;return 0===(t&=-t)&&(0===(t=(e=4186112&~e)&-e)&&(t=8192)),t}return e=Bi(),0!==(4&xs)&&98===e?e=qt(12,ou):e=qt(e=function(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(e),ou),e}function hu(e,t,n){if(50<nu)throw nu=0,ru=null,Error(a(185));if(null===(e=fu(e,t)))return null;Wt(e,t,n),e===Ps&&(Us|=t,4===js&&vu(e,Rs));var r=Bi();1===t?0!==(8&xs)&&0===(48&xs)?yu(e):(du(e,n),0===xs&&(zs(),Hi())):(0===(4&xs)||98!==r&&99!==r||(null===tu?tu=new Set([e]):tu.add(e)),du(e,n)),Bs=e}function fu(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function du(e,t){for(var n=e.callbackNode,r=e.suspendedLanes,i=e.pingedLanes,o=e.expirationTimes,s=e.pendingLanes;0<s;){var u=31-zt(s),c=1<<u,l=o[u];if(-1===l){if(0===(c&r)||0!==(c&i)){l=t,Mt(c);var h=Lt;o[u]=10<=h?l+250:6<=h?l+5e3:-1}}else l<=t&&(e.expiredLanes|=c);s&=~c}if(r=Ft(e,e===Ps?Rs:0),t=Lt,0===r)null!==n&&(n!==Di&&Ti(n),e.callbackNode=null,e.callbackPriority=0);else{if(null!==n){if(e.callbackPriority===t)return;n!==Di&&Ti(n)}15===t?(n=yu.bind(null,e),null===Li?(Li=[n],Mi=Si(xi,Ki)):Li.push(n),n=Di):14===t?n=zi(99,yu.bind(null,e)):n=zi(n=function(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(a(358,e))}}(t),pu.bind(null,e)),e.callbackPriority=t,e.callbackNode=n}}function pu(e){if(iu=-1,au=ou=0,0!==(48&xs))throw Error(a(327));var t=e.callbackNode;if(Ru()&&e.callbackNode!==t)return null;var n=Ft(e,e===Ps?Rs:0);if(0===n)return null;var r=n,i=xs;xs|=16;var o=Su();for(Ps===e&&Rs===r||(zs(),wu(e,r));;)try{Cu();break}catch(u){Eu(e,u)}if(Zi(),ks.current=o,xs=i,null!==Ns?r=0:(Ps=null,Rs=0,r=js),0!==(Ms&Us))wu(e,0);else if(0!==r){if(2===r&&(xs|=64,e.hydrate&&(e.hydrate=!1,zr(e.containerInfo)),0!==(n=Ut(e))&&(r=Tu(e,n))),1===r)throw t=Ls,wu(e,0),vu(e,n),du(e,qi()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=n,r){case 0:case 1:throw Error(a(345));case 2:xu(e);break;case 3:if(vu(e,n),(62914560&n)===n&&10<(r=Vs+500-qi())){if(0!==Ft(e,0))break;if(((i=e.suspendedLanes)&n)!==n){cu(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Vr(xu.bind(null,e),r);break}xu(e);break;case 4:if(vu(e,n),(4186112&n)===n)break;for(r=e.eventTimes,i=-1;0<n;){var s=31-zt(n);o=1<<s,(s=r[s])>i&&(i=s),n&=~o}if(n=i,10<(n=(120>(n=qi()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Cs(n/1960))-n)){e.timeoutHandle=Vr(xu.bind(null,e),n);break}xu(e);break;case 5:xu(e);break;default:throw Error(a(329))}}return du(e,qi()),e.callbackNode===t?pu.bind(null,e):null}function vu(e,t){for(t&=~qs,t&=~Us,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-zt(t),r=1<<n;e[n]=-1,t&=~r}}function yu(e){if(0!==(48&xs))throw Error(a(327));if(Ru(),e===Ps&&0!==(e.expiredLanes&Rs)){var t=Rs,n=Tu(e,t);0!==(Ms&Us)&&(n=Tu(e,t=Ft(e,t)))}else n=Tu(e,t=Ft(e,0));if(0!==e.tag&&2===n&&(xs|=64,e.hydrate&&(e.hydrate=!1,zr(e.containerInfo)),0!==(t=Ut(e))&&(n=Tu(e,t))),1===n)throw n=Ls,wu(e,0),vu(e,t),du(e,qi()),n;return e.finishedWork=e.current.alternate,e.finishedLanes=t,xu(e),du(e,qi()),null}function gu(e,t){var n=xs;xs|=1;try{return e(t)}finally{0===(xs=n)&&(zs(),Hi())}}function mu(e,t){var n=xs;xs&=-2,xs|=8;try{return e(t)}finally{0===(xs=n)&&(zs(),Hi())}}function bu(e,t){ui(Ds,As),As|=t,Ms|=t}function _u(){As=Ds.current,si(Ds)}function wu(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,Wr(n)),null!==Ns)for(n=Ns.return;null!==n;){var r=n;switch(r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&vi();break;case 3:Ro(),si(hi),si(li),Go();break;case 5:Do(r);break;case 4:Ro();break;case 13:case 19:si(jo);break;case 10:eo(r);break;case 23:case 24:_u()}n=n.return}Ps=e,Ns=Wu(e.current,null),Rs=As=Ms=t,js=0,Ls=null,qs=Us=Fs=0}function Eu(e,t){for(;;){var n=Ns;try{if(Zi(),Qo.current=xa,ea){for(var r=Xo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}ea=!1}if($o=0,Zo=Jo=Xo=null,ta=!1,Os.current=null,null===n||null===n.return){js=1,Ls=t,Ns=null;break}e:{var o=e,a=n.return,s=n,u=t;if(t=Rs,s.flags|=2048,s.firstEffect=s.lastEffect=null,null!==u&&"object"===typeof u&&"function"===typeof u.then){var c=u;if(0===(2&s.mode)){var l=s.alternate;l?(s.updateQueue=l.updateQueue,s.memoizedState=l.memoizedState,s.lanes=l.lanes):(s.updateQueue=null,s.memoizedState=null)}var h=0!==(1&jo.current),f=a;do{var d;if(d=13===f.tag){var p=f.memoizedState;if(null!==p)d=null!==p.dehydrated;else{var v=f.memoizedProps;d=void 0!==v.fallback&&(!0!==v.unstable_avoidThisFallback||!h)}}if(d){var y=f.updateQueue;if(null===y){var g=new Set;g.add(c),f.updateQueue=g}else y.add(c);if(0===(2&f.mode)){if(f.flags|=64,s.flags|=16384,s.flags&=-2981,1===s.tag)if(null===s.alternate)s.tag=17;else{var m=so(-1,1);m.tag=2,uo(s,m)}s.lanes|=1;break e}u=void 0,s=t;var b=o.pingCache;if(null===b?(b=o.pingCache=new us,u=new Set,b.set(c,u)):void 0===(u=b.get(c))&&(u=new Set,b.set(c,u)),!u.has(s)){u.add(s);var _=Fu.bind(null,o,c,s);c.then(_,_)}f.flags|=4096,f.lanes=t;break e}f=f.return}while(null!==f);u=Error((G(s.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==js&&(js=2),u=as(u,s),f=a;do{switch(f.tag){case 3:o=u,f.flags|=4096,t&=-t,f.lanes|=t,co(f,cs(0,o,t));break e;case 1:o=u;var w=f.type,E=f.stateNode;if(0===(64&f.flags)&&("function"===typeof w.getDerivedStateFromError||null!==E&&"function"===typeof E.componentDidCatch&&(null===Ys||!Ys.has(E)))){f.flags|=4096,t&=-t,f.lanes|=t,co(f,ls(f,o,t));break e}}f=f.return}while(null!==f)}Ou(n)}catch(S){t=S,Ns===n&&null!==n&&(Ns=n=n.return);continue}break}}function Su(){var e=ks.current;return ks.current=xa,null===e?xa:e}function Tu(e,t){var n=xs;xs|=16;var r=Su();for(Ps===e&&Rs===t||wu(e,t);;)try{Iu();break}catch(i){Eu(e,i)}if(Zi(),xs=n,ks.current=r,null!==Ns)throw Error(a(261));return Ps=null,Rs=0,js}function Iu(){for(;null!==Ns;)ku(Ns)}function Cu(){for(;null!==Ns&&!Ii();)ku(Ns)}function ku(e){var t=Hs(e.alternate,e,As);e.memoizedProps=e.pendingProps,null===t?Ou(e):Ns=t,Os.current=null}function Ou(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(2048&t.flags)){if(null!==(n=is(n,t,As)))return void(Ns=n);if(24!==(n=t).tag&&23!==n.tag||null===n.memoizedState||0!==(1073741824&As)||0===(4&n.mode)){for(var r=0,i=n.child;null!==i;)r|=i.lanes|i.childLanes,i=i.sibling;n.childLanes=r}null!==e&&0===(2048&e.flags)&&(null===e.firstEffect&&(e.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(null!==e.lastEffect?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}else{if(null!==(n=os(t)))return n.flags&=2047,void(Ns=n);null!==e&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(null!==(t=t.sibling))return void(Ns=t);Ns=t=e}while(null!==t);0===js&&(js=5)}function xu(e){var t=Bi();return Wi(99,Pu.bind(null,e,t)),null}function Pu(e,t){do{Ru()}while(null!==Xs);if(0!==(48&xs))throw Error(a(327));var n=e.finishedWork;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null;var r=n.lanes|n.childLanes,i=r,o=e.pendingLanes&~i;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=i,e.mutableReadLanes&=i,e.entangledLanes&=i,i=e.entanglements;for(var s=e.eventTimes,u=e.expirationTimes;0<o;){var c=31-zt(o),l=1<<c;i[c]=0,s[c]=-1,u[c]=-1,o&=~l}if(null!==tu&&0===(24&r)&&tu.has(e)&&tu.delete(e),e===Ps&&(Ns=Ps=null,Rs=0),1<n.flags?null!==n.lastEffect?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,null!==r){if(i=xs,xs|=32,Os.current=null,Fr=Yt,pr(s=dr())){if("selectionStart"in s)u={start:s.selectionStart,end:s.selectionEnd};else e:if(u=(u=s.ownerDocument)&&u.defaultView||window,(l=u.getSelection&&u.getSelection())&&0!==l.rangeCount){u=l.anchorNode,o=l.anchorOffset,c=l.focusNode,l=l.focusOffset;try{u.nodeType,c.nodeType}catch(C){u=null;break e}var h=0,f=-1,d=-1,p=0,v=0,y=s,g=null;t:for(;;){for(var m;y!==u||0!==o&&3!==y.nodeType||(f=h+o),y!==c||0!==l&&3!==y.nodeType||(d=h+l),3===y.nodeType&&(h+=y.nodeValue.length),null!==(m=y.firstChild);)g=y,y=m;for(;;){if(y===s)break t;if(g===u&&++p===o&&(f=h),g===c&&++v===l&&(d=h),null!==(m=y.nextSibling))break;g=(y=g).parentNode}y=m}u=-1===f||-1===d?null:{start:f,end:d}}else u=null;u=u||{start:0,end:0}}else u=null;Ur={focusedElem:s,selectionRange:u},Yt=!1,su=null,uu=!1,Ks=r;do{try{Nu()}catch(C){if(null===Ks)throw Error(a(330));Mu(Ks,C),Ks=Ks.nextEffect}}while(null!==Ks);su=null,Ks=r;do{try{for(s=e;null!==Ks;){var b=Ks.flags;if(16&b&&me(Ks.stateNode,""),128&b){var _=Ks.alternate;if(null!==_){var w=_.ref;null!==w&&("function"===typeof w?w(null):w.current=null)}}switch(1038&b){case 2:bs(Ks),Ks.flags&=-3;break;case 6:bs(Ks),Ks.flags&=-3,Ss(Ks.alternate,Ks);break;case 1024:Ks.flags&=-1025;break;case 1028:Ks.flags&=-1025,Ss(Ks.alternate,Ks);break;case 4:Ss(Ks.alternate,Ks);break;case 8:Es(s,u=Ks);var E=u.alternate;gs(u),null!==E&&gs(E)}Ks=Ks.nextEffect}}catch(C){if(null===Ks)throw Error(a(330));Mu(Ks,C),Ks=Ks.nextEffect}}while(null!==Ks);if(w=Ur,_=dr(),b=w.focusedElem,s=w.selectionRange,_!==b&&b&&b.ownerDocument&&fr(b.ownerDocument.documentElement,b)){null!==s&&pr(b)&&(_=s.start,void 0===(w=s.end)&&(w=_),"selectionStart"in b?(b.selectionStart=_,b.selectionEnd=Math.min(w,b.value.length)):(w=(_=b.ownerDocument||document)&&_.defaultView||window).getSelection&&(w=w.getSelection(),u=b.textContent.length,E=Math.min(s.start,u),s=void 0===s.end?E:Math.min(s.end,u),!w.extend&&E>s&&(u=s,s=E,E=u),u=hr(b,E),o=hr(b,s),u&&o&&(1!==w.rangeCount||w.anchorNode!==u.node||w.anchorOffset!==u.offset||w.focusNode!==o.node||w.focusOffset!==o.offset)&&((_=_.createRange()).setStart(u.node,u.offset),w.removeAllRanges(),E>s?(w.addRange(_),w.extend(o.node,o.offset)):(_.setEnd(o.node,o.offset),w.addRange(_))))),_=[];for(w=b;w=w.parentNode;)1===w.nodeType&&_.push({element:w,left:w.scrollLeft,top:w.scrollTop});for("function"===typeof b.focus&&b.focus(),b=0;b<_.length;b++)(w=_[b]).element.scrollLeft=w.left,w.element.scrollTop=w.top}Yt=!!Fr,Ur=Fr=null,e.current=n,Ks=r;do{try{for(b=e;null!==Ks;){var S=Ks.flags;if(36&S&&ps(b,Ks.alternate,Ks),128&S){_=void 0;var T=Ks.ref;if(null!==T){var I=Ks.stateNode;switch(Ks.tag){case 5:_=I;break;default:_=I}"function"===typeof T?T(_):T.current=_}}Ks=Ks.nextEffect}}catch(C){if(null===Ks)throw Error(a(330));Mu(Ks,C),Ks=Ks.nextEffect}}while(null!==Ks);Ks=null,ji(),xs=i}else e.current=n;if($s)$s=!1,Xs=e,Js=t;else for(Ks=r;null!==Ks;)t=Ks.nextEffect,Ks.nextEffect=null,8&Ks.flags&&((S=Ks).sibling=null,S.stateNode=null),Ks=t;if(0===(r=e.pendingLanes)&&(Ys=null),1===r?e===ru?nu++:(nu=0,ru=e):nu=0,n=n.stateNode,wi&&"function"===typeof wi.onCommitFiberRoot)try{wi.onCommitFiberRoot(_i,n,void 0,64===(64&n.current.flags))}catch(C){}if(du(e,qi()),Gs)throw Gs=!1,e=Qs,Qs=null,e;return 0!==(8&xs)||Hi(),null}function Nu(){for(;null!==Ks;){var e=Ks.alternate;uu||null===su||(0!==(8&Ks.flags)?et(Ks,su)&&(uu=!0):13===Ks.tag&&Is(e,Ks)&&et(Ks,su)&&(uu=!0));var t=Ks.flags;0!==(256&t)&&ds(e,Ks),0===(512&t)||$s||($s=!0,zi(97,(function(){return Ru(),null}))),Ks=Ks.nextEffect}}function Ru(){if(90!==Js){var e=97<Js?97:Js;return Js=90,Wi(e,ju)}return!1}function Au(e,t){Zs.push(t,e),$s||($s=!0,zi(97,(function(){return Ru(),null})))}function Du(e,t){eu.push(t,e),$s||($s=!0,zi(97,(function(){return Ru(),null})))}function ju(){if(null===Xs)return!1;var e=Xs;if(Xs=null,0!==(48&xs))throw Error(a(331));var t=xs;xs|=32;var n=eu;eu=[];for(var r=0;r<n.length;r+=2){var i=n[r],o=n[r+1],s=i.destroy;if(i.destroy=void 0,"function"===typeof s)try{s()}catch(c){if(null===o)throw Error(a(330));Mu(o,c)}}for(n=Zs,Zs=[],r=0;r<n.length;r+=2){i=n[r],o=n[r+1];try{var u=i.create;i.destroy=u()}catch(c){if(null===o)throw Error(a(330));Mu(o,c)}}for(u=e.current.firstEffect;null!==u;)e=u.nextEffect,u.nextEffect=null,8&u.flags&&(u.sibling=null,u.stateNode=null),u=e;return xs=t,Hi(),!0}function Lu(e,t,n){uo(e,t=cs(0,t=as(n,t),1)),t=cu(),null!==(e=fu(e,1))&&(Wt(e,1,t),du(e,t))}function Mu(e,t){if(3===e.tag)Lu(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){Lu(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Ys||!Ys.has(r))){var i=ls(n,e=as(t,e),1);if(uo(n,i),i=cu(),null!==(n=fu(n,1)))Wt(n,1,i),du(n,i);else if("function"===typeof r.componentDidCatch&&(null===Ys||!Ys.has(r)))try{r.componentDidCatch(t,e)}catch(o){}break}}n=n.return}}function Fu(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=cu(),e.pingedLanes|=e.suspendedLanes&n,Ps===e&&(Rs&n)===n&&(4===js||3===js&&(62914560&Rs)===Rs&&500>qi()-Vs?wu(e,0):qs|=n),du(e,t)}function Uu(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(0===(2&(t=e.mode))?t=1:0===(4&t)?t=99===Bi()?1:2:(0===ou&&(ou=Ms),0===(t=Bt(62914560&~ou))&&(t=4194304))),n=cu(),null!==(e=fu(e,t))&&(Wt(e,t,n),du(e,n))}function qu(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function Bu(e,t,n,r){return new qu(e,t,n,r)}function Vu(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Wu(e,t){var n=e.alternate;return null===n?((n=Bu(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function zu(e,t,n,r,i,o){var s=2;if(r=e,"function"===typeof e)Vu(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case T:return Hu(n.children,i,o,t);case L:s=8,i|=16;break;case I:s=8,i|=1;break;case C:return(e=Bu(12,n,t,8|i)).elementType=C,e.type=C,e.lanes=o,e;case P:return(e=Bu(13,n,t,i)).type=P,e.elementType=P,e.lanes=o,e;case N:return(e=Bu(19,n,t,i)).elementType=N,e.lanes=o,e;case M:return Ku(n,i,o,t);case F:return(e=Bu(24,n,t,i)).elementType=F,e.lanes=o,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case k:s=10;break e;case O:s=9;break e;case x:s=11;break e;case R:s=14;break e;case A:s=16,r=null;break e;case D:s=22;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Bu(s,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Hu(e,t,n,r){return(e=Bu(7,e,r,t)).lanes=n,e}function Ku(e,t,n,r){return(e=Bu(23,e,r,t)).elementType=M,e.lanes=n,e}function Gu(e,t,n){return(e=Bu(6,e,null,t)).lanes=n,e}function Qu(e,t,n){return(t=Bu(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Yu(e,t,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=Vt(0),this.expirationTimes=Vt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Vt(0),this.mutableSourceEagerHydrationData=null}function $u(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:S,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function Xu(e,t,n,r){var i=t.current,o=cu(),s=lu(i);e:if(n){t:{if($e(n=n._reactInternals)!==n||1!==n.tag)throw Error(a(170));var u=n;do{switch(u.tag){case 3:u=u.stateNode.context;break t;case 1:if(pi(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break t}}u=u.return}while(null!==u);throw Error(a(171))}if(1===n.tag){var c=n.type;if(pi(c)){n=gi(n,c,u);break e}}n=u}else n=ci;return null===t.context?t.context=n:t.pendingContext=n,(t=so(o,s)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),uo(i,t),hu(i,s,o),s}function Ju(e){if(!(e=e.current).child)return null;switch(e.child.tag){case 5:default:return e.child.stateNode}}function Zu(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function ec(e,t){Zu(e,t),(e=e.alternate)&&Zu(e,t)}function tc(e,t,n){var r=null!=n&&null!=n.hydrationOptions&&n.hydrationOptions.mutableSources||null;if(n=new Yu(e,t,null!=n&&!0===n.hydrate),t=Bu(3,null,null,2===t?7:1===t?3:0),n.current=t,t.stateNode=n,oo(t),e[Xr]=n.current,xr(8===e.nodeType?e.parentNode:e),r)for(e=0;e<r.length;e++){var i=(t=r[e])._getVersion;i=i(t._source),null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[t,i]:n.mutableSourceEagerHydrationData.push(t,i)}this._internalRoot=n}function nc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function rc(e,t,n,r,i){var o=n._reactRootContainer;if(o){var a=o._internalRoot;if("function"===typeof i){var s=i;i=function(){var e=Ju(a);s.call(e)}}Xu(t,a,e,i)}else{if(o=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new tc(e,0,t?{hydrate:!0}:void 0)}(n,r),a=o._internalRoot,"function"===typeof i){var u=i;i=function(){var e=Ju(a);u.call(e)}}mu((function(){Xu(t,a,e,i)}))}return Ju(a)}function ic(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!nc(t))throw Error(a(200));return $u(e,t,null,n)}Hs=function(e,t,n){var r=t.lanes;if(null!==e)if(e.memoizedProps!==t.pendingProps||hi.current)Da=!0;else{if(0===(n&r)){switch(Da=!1,t.tag){case 3:za(t),Ho();break;case 5:Ao(t);break;case 1:pi(t.type)&&mi(t);break;case 4:No(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value;var i=t.type._context;ui(Yi,i._currentValue),i._currentValue=r;break;case 13:if(null!==t.memoizedState)return 0!==(n&t.child.childLanes)?Ya(e,t,n):(ui(jo,1&jo.current),null!==(t=ns(e,t,n))?t.sibling:null);ui(jo,1&jo.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(64&e.flags)){if(r)return ts(e,t,n);t.flags|=64}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),ui(jo,jo.current),r)break;return null;case 23:case 24:return t.lanes=0,Ua(e,t,n)}return ns(e,t,n)}Da=0!==(16384&e.flags)}else Da=!1;switch(t.lanes=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=di(t,li.current),no(t,n),i=ia(null,t,r,e,i,n),t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,pi(r)){var o=!0;mi(t)}else o=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,oo(t);var s=r.getDerivedStateFromProps;"function"===typeof s&&po(t,r,s,e),i.updater=vo,t.stateNode=i,i._reactInternals=t,bo(t,r,e,n),t=Wa(null,t,r,!0,o,n)}else t.tag=0,ja(null,t,i,n),t=t.child;return t;case 16:i=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=(o=i._init)(i._payload),t.type=i,o=t.tag=function(e){if("function"===typeof e)return Vu(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===x)return 11;if(e===R)return 14}return 2}(i),e=Qi(i,e),o){case 0:t=Ba(null,t,i,e,n);break e;case 1:t=Va(null,t,i,e,n);break e;case 11:t=La(null,t,i,e,n);break e;case 14:t=Ma(null,t,i,Qi(i.type,e),r,n);break e}throw Error(a(306,i,""))}return t;case 0:return r=t.type,i=t.pendingProps,Ba(e,t,r,i=t.elementType===r?i:Qi(r,i),n);case 1:return r=t.type,i=t.pendingProps,Va(e,t,r,i=t.elementType===r?i:Qi(r,i),n);case 3:if(za(t),r=t.updateQueue,null===e||null===r)throw Error(a(282));if(r=t.pendingProps,i=null!==(i=t.memoizedState)?i.element:null,ao(e,t),lo(t,r,null,n),(r=t.memoizedState.element)===i)Ho(),t=ns(e,t,n);else{if((o=(i=t.stateNode).hydrate)&&(Fo=Hr(t.stateNode.containerInfo.firstChild),Mo=t,o=Uo=!0),o){if(null!=(e=i.mutableSourceEagerHydrationData))for(i=0;i<e.length;i+=2)(o=e[i])._workInProgressVersionPrimary=e[i+1],Ko.push(o);for(n=Io(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|1024,n=n.sibling}else ja(e,t,r,n),Ho();t=t.child}return t;case 5:return Ao(t),null===e&&Vo(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,s=i.children,Br(r,i)?s=null:null!==o&&Br(r,o)&&(t.flags|=16),qa(e,t),ja(e,t,s,n),t.child;case 6:return null===e&&Vo(t),null;case 13:return Ya(e,t,n);case 4:return No(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=To(t,null,r,n):ja(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,La(e,t,r,i=t.elementType===r?i:Qi(r,i),n);case 7:return ja(e,t,t.pendingProps,n),t.child;case 8:case 12:return ja(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,i=t.pendingProps,s=t.memoizedProps,o=i.value;var u=t.type._context;if(ui(Yi,u._currentValue),u._currentValue=o,null!==s)if(u=s.value,0===(o=sr(u,o)?0:0|("function"===typeof r._calculateChangedBits?r._calculateChangedBits(u,o):1073741823))){if(s.children===i.children&&!hi.current){t=ns(e,t,n);break e}}else for(null!==(u=t.child)&&(u.return=t);null!==u;){var c=u.dependencies;if(null!==c){s=u.child;for(var l=c.firstContext;null!==l;){if(l.context===r&&0!==(l.observedBits&o)){1===u.tag&&((l=so(-1,n&-n)).tag=2,uo(u,l)),u.lanes|=n,null!==(l=u.alternate)&&(l.lanes|=n),to(u.return,n),c.lanes|=n;break}l=l.next}}else s=10===u.tag&&u.type===t.type?null:u.child;if(null!==s)s.return=u;else for(s=u;null!==s;){if(s===t){s=null;break}if(null!==(u=s.sibling)){u.return=s.return,s=u;break}s=s.return}u=s}ja(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=(o=t.pendingProps).children,no(t,n),r=r(i=ro(i,o.unstable_observedBits)),t.flags|=1,ja(e,t,r,n),t.child;case 14:return o=Qi(i=t.type,t.pendingProps),Ma(e,t,i,o=Qi(i.type,o),r,n);case 15:return Fa(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Qi(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,pi(r)?(e=!0,mi(t)):e=!1,no(t,n),go(t,r,i),bo(t,r,i,n),Wa(null,t,r,!0,e,n);case 19:return ts(e,t,n);case 23:case 24:return Ua(e,t,n)}throw Error(a(156,t.tag))},tc.prototype.render=function(e){Xu(e,this._internalRoot,null,null)},tc.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;Xu(null,e,null,(function(){t[Xr]=null}))},tt=function(e){13===e.tag&&(hu(e,4,cu()),ec(e,4))},nt=function(e){13===e.tag&&(hu(e,67108864,cu()),ec(e,67108864))},rt=function(e){if(13===e.tag){var t=cu(),n=lu(e);hu(e,n,t),ec(e,n)}},it=function(e,t){return t()},ke=function(e,t,n){switch(t){case"input":if(ne(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=ni(r);if(!i)throw Error(a(90));X(r),ne(r,i)}}}break;case"textarea":ce(e,n);break;case"select":null!=(t=n.value)&&ae(e,!!n.multiple,t,!1)}},Ae=gu,De=function(e,t,n,r,i){var o=xs;xs|=4;try{return Wi(98,e.bind(null,t,n,r,i))}finally{0===(xs=o)&&(zs(),Hi())}},je=function(){0===(49&xs)&&(function(){if(null!==tu){var e=tu;tu=null,e.forEach((function(e){e.expiredLanes|=24&e.pendingLanes,du(e,qi())}))}Hi()}(),Ru())},Le=function(e,t){var n=xs;xs|=2;try{return e(t)}finally{0===(xs=n)&&(zs(),Hi())}};var oc={Events:[ei,ti,ni,Ne,Re,Ru,{current:!1}]},ac={findFiberByHostInstance:Zr,bundleType:0,version:"17.0.1",rendererPackageName:"react-dom"},sc={bundleType:ac.bundleType,version:ac.version,rendererPackageName:ac.rendererPackageName,rendererConfig:ac.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ze(e))?null:e.stateNode},findFiberByHostInstance:ac.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var uc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!uc.isDisabled&&uc.supportsFiber)try{_i=uc.inject(sc),wi=uc}catch(ye){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=oc,t.createPortal=ic,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw Error(a(268,Object.keys(e)))}return e=null===(e=Ze(t))?null:e.stateNode},t.flushSync=function(e,t){var n=xs;if(0!==(48&n))return e(t);xs|=1;try{if(e)return Wi(99,e.bind(null,t))}finally{xs=n,Hi()}},t.hydrate=function(e,t,n){if(!nc(t))throw Error(a(200));return rc(null,e,t,!0,n)},t.render=function(e,t,n){if(!nc(t))throw Error(a(200));return rc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!nc(e))throw Error(a(40));return!!e._reactRootContainer&&(mu((function(){rc(null,null,e,!1,(function(){e._reactRootContainer=null,e[Xr]=null}))})),!0)},t.unstable_batchedUpdates=gu,t.unstable_createPortal=function(e,t){return ic(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!nc(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return rc(e,t,n,!1,r)},t.version="17.0.1"},function(e,t,n){"use strict";e.exports=n(57)},function(e,t,n){"use strict";var r,i,o,a;if("object"===typeof performance&&"function"===typeof performance.now){var s=performance;t.unstable_now=function(){return s.now()}}else{var u=Date,c=u.now();t.unstable_now=function(){return u.now()-c}}if("undefined"===typeof window||"function"!==typeof MessageChannel){var l=null,h=null,f=function e(){if(null!==l)try{var n=t.unstable_now();l(!0,n),l=null}catch(r){throw setTimeout(e,0),r}};r=function(e){null!==l?setTimeout(r,0,e):(l=e,setTimeout(f,0))},i=function(e,t){h=setTimeout(e,t)},o=function(){clearTimeout(h)},t.unstable_shouldYield=function(){return!1},a=t.unstable_forceFrameRate=function(){}}else{var d=window.setTimeout,p=window.clearTimeout;if("undefined"!==typeof console){var v=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!==typeof v&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var y=!1,g=null,m=-1,b=5,_=0;t.unstable_shouldYield=function(){return t.unstable_now()>=_},a=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<e?Math.floor(1e3/e):5};var w=new MessageChannel,E=w.port2;w.port1.onmessage=function(){if(null!==g){var e=t.unstable_now();_=e+b;try{g(!0,e)?E.postMessage(null):(y=!1,g=null)}catch(n){throw E.postMessage(null),n}}else y=!1},r=function(e){g=e,y||(y=!0,E.postMessage(null))},i=function(e,n){m=d((function(){e(t.unstable_now())}),n)},o=function(){p(m),m=-1}}function S(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,i=e[r];if(!(void 0!==i&&0<C(i,t)))break e;e[r]=t,e[n]=i,n=r}}function T(e){return void 0===(e=e[0])?null:e}function I(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length;r<i;){var o=2*(r+1)-1,a=e[o],s=o+1,u=e[s];if(void 0!==a&&0>C(a,n))void 0!==u&&0>C(u,a)?(e[r]=u,e[s]=n,r=s):(e[r]=a,e[o]=n,r=o);else{if(!(void 0!==u&&0>C(u,n)))break e;e[r]=u,e[s]=n,r=s}}}return t}return null}function C(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var k=[],O=[],x=1,P=null,N=3,R=!1,A=!1,D=!1;function j(e){for(var t=T(O);null!==t;){if(null===t.callback)I(O);else{if(!(t.startTime<=e))break;I(O),t.sortIndex=t.expirationTime,S(k,t)}t=T(O)}}function L(e){if(D=!1,j(e),!A)if(null!==T(k))A=!0,r(M);else{var t=T(O);null!==t&&i(L,t.startTime-e)}}function M(e,n){A=!1,D&&(D=!1,o()),R=!0;var r=N;try{for(j(n),P=T(k);null!==P&&(!(P.expirationTime>n)||e&&!t.unstable_shouldYield());){var a=P.callback;if("function"===typeof a){P.callback=null,N=P.priorityLevel;var s=a(P.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?P.callback=s:P===T(k)&&I(k),j(n)}else I(k);P=T(k)}if(null!==P)var u=!0;else{var c=T(O);null!==c&&i(L,c.startTime-n),u=!1}return u}finally{P=null,N=r,R=!1}}var F=a;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){A||R||(A=!0,r(M))},t.unstable_getCurrentPriorityLevel=function(){return N},t.unstable_getFirstCallbackNode=function(){return T(k)},t.unstable_next=function(e){switch(N){case 1:case 2:case 3:var t=3;break;default:t=N}var n=N;N=t;try{return e()}finally{N=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=F,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=N;N=e;try{return t()}finally{N=n}},t.unstable_scheduleCallback=function(e,n,a){var s=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?s+a:s:a=s,e){case 1:var u=-1;break;case 2:u=250;break;case 5:u=1073741823;break;case 4:u=1e4;break;default:u=5e3}return e={id:x++,callback:n,priorityLevel:e,startTime:a,expirationTime:u=a+u,sortIndex:-1},a>s?(e.sortIndex=a,S(O,e),null===T(k)&&e===T(O)&&(D?o():D=!0,i(L,a-s))):(e.sortIndex=u,S(k,e),A||R||(A=!0,r(M))),e},t.unstable_wrapCallback=function(e){var t=N;return function(){var n=N;N=t;try{return e.apply(this,arguments)}finally{N=n}}}},,function(e,t,n){"use strict";var r="function"===typeof Symbol&&Symbol.for,i=r?Symbol.for("react.element"):60103,o=r?Symbol.for("react.portal"):60106,a=r?Symbol.for("react.fragment"):60107,s=r?Symbol.for("react.strict_mode"):60108,u=r?Symbol.for("react.profiler"):60114,c=r?Symbol.for("react.provider"):60109,l=r?Symbol.for("react.context"):60110,h=r?Symbol.for("react.async_mode"):60111,f=r?Symbol.for("react.concurrent_mode"):60111,d=r?Symbol.for("react.forward_ref"):60112,p=r?Symbol.for("react.suspense"):60113,v=r?Symbol.for("react.suspense_list"):60120,y=r?Symbol.for("react.memo"):60115,g=r?Symbol.for("react.lazy"):60116,m=r?Symbol.for("react.block"):60121,b=r?Symbol.for("react.fundamental"):60117,_=r?Symbol.for("react.responder"):60118,w=r?Symbol.for("react.scope"):60119;function E(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case i:switch(e=e.type){case h:case f:case a:case u:case s:case p:return e;default:switch(e=e&&e.$$typeof){case l:case d:case g:case y:case c:return e;default:return t}}case o:return t}}}function S(e){return E(e)===f}t.AsyncMode=h,t.ConcurrentMode=f,t.ContextConsumer=l,t.ContextProvider=c,t.Element=i,t.ForwardRef=d,t.Fragment=a,t.Lazy=g,t.Memo=y,t.Portal=o,t.Profiler=u,t.StrictMode=s,t.Suspense=p,t.isAsyncMode=function(e){return S(e)||E(e)===h},t.isConcurrentMode=S,t.isContextConsumer=function(e){return E(e)===l},t.isContextProvider=function(e){return E(e)===c},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===i},t.isForwardRef=function(e){return E(e)===d},t.isFragment=function(e){return E(e)===a},t.isLazy=function(e){return E(e)===g},t.isMemo=function(e){return E(e)===y},t.isPortal=function(e){return E(e)===o},t.isProfiler=function(e){return E(e)===u},t.isStrictMode=function(e){return E(e)===s},t.isSuspense=function(e){return E(e)===p},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===a||e===f||e===u||e===s||e===p||e===v||"object"===typeof e&&null!==e&&(e.$$typeof===g||e.$$typeof===y||e.$$typeof===c||e.$$typeof===l||e.$$typeof===d||e.$$typeof===b||e.$$typeof===_||e.$$typeof===w||e.$$typeof===m)},t.typeOf=E},function(e,t,n){"use strict";n(32);var r=n(1),i=60103;if(t.Fragment=60107,"function"===typeof Symbol&&Symbol.for){var o=Symbol.for;i=o("react.element"),t.Fragment=o("react.fragment")}var a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s=Object.prototype.hasOwnProperty,u={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,o={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)s.call(t,r)&&!u.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===o[r]&&(o[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:o,_owner:a.current}}t.jsx=c,t.jsxs=c},function(e,t,n){"use strict";function r(e){return(r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var t=f();if(t&&t.has(e))return t.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var a=i?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=e[o]}n.default=e,t&&t.set(e,n);return n}(n(1)),o=h(n(11)),a=h(n(64)),s=n(19),u=n(38),c=h(n(22)),l=n(21);function h(e){return e&&e.__esModule?e:{default:e}}function f(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return f=function(){return e},e}function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){v(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function y(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var g=function(e){var t=e.children,n=e.xs,r=e.sm,o=e.md,l=e.lg,h=e.xl,f=e.xxl,d=e.offset,v=e.pull,g=e.push,m=e.debug,b=e.style,_=e.component,w=e.width,E=y(e,["children","xs","sm","md","lg","xl","xxl","offset","pull","push","debug","style","component","width"]);return i.default.createElement(c.default,null,(function(e){return i.default.createElement(u.GutterWidthContext.Consumer,null,(function(u){var c=(0,a.default)({forceWidth:w,width:{xs:n,sm:r,md:o,lg:l,xl:h,xxl:f},offset:d,pull:v,push:g,debug:m,screenClass:e,gutterWidth:u,gridColumns:(0,s.getConfiguration)().gridColumns,moreStyle:b});return(0,i.createElement)(_,p(p({style:c},E),{},{children:t}))}))}))};g.propTypes={children:o.default.node,xs:o.default.oneOfType([o.default.number,o.default.oneOf(["content"])]),sm:o.default.oneOfType([o.default.number,o.default.oneOf(["content"])]),md:o.default.oneOfType([o.default.number,o.default.oneOf(["content"])]),lg:o.default.oneOfType([o.default.number,o.default.oneOf(["content"])]),xl:o.default.oneOfType([o.default.number,o.default.oneOf(["content"])]),xxl:o.default.oneOfType([o.default.number,o.default.oneOf(["content"])]),width:o.default.oneOfType([o.default.number,o.default.string]),offset:o.default.shape({xs:o.default.number,sm:o.default.number,md:o.default.number,lg:o.default.number,xl:o.default.number,xxl:o.default.number}),push:o.default.shape({xs:o.default.number,sm:o.default.number,md:o.default.number,lg:o.default.number,xl:o.default.number,xxl:o.default.number}),pull:o.default.shape({xs:o.default.number,sm:o.default.number,md:o.default.number,lg:o.default.number,xl:o.default.number,xxl:o.default.number}),style:o.default.objectOf(o.default.oneOfType([o.default.number,o.default.string])),debug:o.default.bool,component:o.default.elementType},g.defaultProps={children:null,xs:null,sm:null,md:null,lg:null,xl:null,xxl:null,width:null,offset:{},push:{},pull:{},style:{},debug:!1,component:l.Div};var m=g;t.default=m},function(e,t,n){"use strict";var r=n(63);function i(){}function o(){}o.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,o,a){if(a!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:i};return n.PropTypes=n,n}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(33);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var s=function(e,t){if("number"===typeof e){var n=Math.max(0,Math.min(t,e));return"".concat(100/t*n,"%")}};t.default=function(e){var t,n=e.forceWidth,i=void 0===n?null:n,a=e.width,u=void 0===a?{}:a,c=e.offset,l=void 0===c?{}:c,h=e.pull,f=void 0===h?{}:h,d=e.push,p=void 0===d?{}:d,v=e.debug,y=e.screenClass,g=e.gutterWidth,m=e.moreStyle,b=e.gridColumns,_={boxSizing:"border-box",minHeight:1,position:"relative",paddingLeft:g/2,paddingRight:g/2,width:"100%"};return v&&(_.outline="1px solid silver",_.background="rgba(0,0,0,.05)",_.lineHeight="32px"),_.flexBasis="100%",_.flexGrow=0,_.flexShrink=0,_.maxWidth="100%",_.marginLeft="0%",_.right="auto",_.left="auto",r.screenClasses.forEach((function(e,t){if(r.screenClasses.indexOf(y)>=t){var n=s(u[e],b),i="content"===u[e];_.flexBasis=i?"auto":n||_.flexBasis,_.width=_.flexBasis,_.maxWidth=n||_.maxWidth,_.marginLeft=s(l[e],b)||_.marginLeft,_.right=s(f[e],b)||_.right,_.left=s(p[e],b)||_.left}})),t=u,Object.keys(t).reduce((function(e,n){return e||t[n]}),!1)||(_.flexBasis=0,_.flexGrow=1),i&&(_.flexBasis="unset",_.flexGrow="unset",_.flexShrink="unset",_.width=i),o(o({},_),m)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default="div"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default="span"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r="undefined"!==typeof window?window:void 0;t.default=r},function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default=function(e){var t=e.gutterWidth,n=e.align,r=e.justify,o=e.debug,a=e.moreStyle,s=n;"start"===n&&(s="flex-start"),"end"===n&&(s="flex-end");var u=r;"start"===r&&(u="flex-start"),"end"===r&&(u="flex-end"),"between"===r&&(u="space-between"),"around"===r&&(u="space-around"),"center"===r&&(u="center"),"initial"===r&&(u="initial"),"inherit"===r&&(u="inherit");var c={marginLeft:-t/2,marginRight:-t/2,display:"flex",flexWrap:e.nowrap?"nowrap":"wrap",flexGrow:0,flexShrink:0,alignItems:s,justifyContent:u};return o&&(c.background="rgba(128,128,128,.05)"),i(i({},c),a)}},function(e,t,n){"use strict";function r(e){return(r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=f(n(1)),o=l(n(11)),a=f(n(70)),s=n(19),u=l(n(22)),c=n(21);function l(e){return e&&e.__esModule?e:{default:e}}function h(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return h=function(){return e},e}function f(e){if(e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var t=h();if(t&&t.has(e))return t.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var a=i?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=e[o]}return n.default=e,t&&t.set(e,n),n}function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function v(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var y=function(e){var t=e.children,n=e.fluid,r=e.xs,o=e.sm,l=e.md,h=e.lg,f=e.xl,y=e.xxl,g=e.style,m=e.component,b=v(e,["children","fluid","xs","sm","md","lg","xl","xxl","style","component"]);return i.default.createElement(u.default,null,(function(e){return(0,i.createElement)(m,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({style:(0,a.default)({fluid:n,xs:r,sm:o,md:l,lg:h,xl:f,xxl:y,screenClass:e,containerWidths:(0,s.getConfiguration)().containerWidths,gutterWidth:(0,s.getConfiguration)().gutterWidth,moreStyle:g})},b),i.default.createElement(i.default.Fragment,null,t,i.default.createElement(c.Span,{style:(0,a.getAfterStyle)()})))}))};y.propTypes={children:o.default.node.isRequired,fluid:o.default.bool,xs:o.default.bool,sm:o.default.bool,md:o.default.bool,lg:o.default.bool,xl:o.default.bool,xxl:o.default.bool,style:o.default.objectOf(o.default.oneOfType([o.default.number,o.default.string])),component:o.default.elementType},y.defaultProps={fluid:!1,xs:!1,sm:!1,md:!1,lg:!1,xl:!1,xxl:!1,style:{},component:c.Div};var g=y;t.default=g},function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0}),t.getAfterStyle=t.default=void 0;t.default=function(e){var t=e.fluid,n=e.xs,r=e.sm,o=e.md,a=e.lg,s=e.xl,u=e.xxl,c=e.screenClass,l=e.containerWidths,h=e.gutterWidth,f=e.moreStyle,d={boxSizing:"border-box",position:"relative",marginLeft:"auto",marginRight:"auto",paddingLeft:h/2,paddingRight:h/2};return!t||r||o||a||s?("sm"!==c||!l[0]||r||n||(d.maxWidth=l[0]),"md"===c&&l[1]&&!o&&(d.maxWidth=l[1]),"lg"===c&&l[2]&&!a&&(d.maxWidth=l[2]),"xl"===c&&l[3]&&!s&&(d.maxWidth=l[3]),"xxl"===c&&l[4]&&!u&&(d.maxWidth=l[4]),i(i({},d),f)):i(i({},d),f)};t.getAfterStyle=function(){return{display:"table",clear:"both"}}},function(e,t,n){"use strict";function r(e){return(r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=c(n(1)),o=c(n(11)),a=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var t=u();if(t&&t.has(e))return t.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var a=i?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=e[o]}n.default=e,t&&t.set(e,n);return n}(n(72)),s=c(n(22));function u(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return u=function(){return e},e}function c(e){return e&&e.__esModule?e:{default:e}}var l=function(e){var t=e.children,n=e.xs,r=e.sm,o=e.md,u=e.lg,c=e.xl,l=e.xxl;return i.default.createElement(s.default,null,(function(e){return a.hidden({screenClass:e,xs:n,sm:r,md:o,lg:u,xl:c,xxl:l})?null:t}))};l.propTypes={children:o.default.node.isRequired,xs:o.default.bool,sm:o.default.bool,md:o.default.bool,lg:o.default.bool,xl:o.default.bool,xxl:o.default.bool},l.defaultProps={xs:!1,sm:!1,md:!1,lg:!1,xl:!1,xxl:!1};var h=l;t.default=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.hidden=void 0;var r=function(e){var t=e.screenClass,n=e.xs,r=e.sm,i=e.md,o=e.lg,a=e.xl,s=e.xxl;return"xxl"===t?s:"xl"===t?a:"lg"===t?o:"md"===t?i:"sm"===t?r:n};t.hidden=r;var i=r;t.default=i},function(e,t,n){"use strict";function r(e){return(r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=c(n(1)),o=c(n(11)),a=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var t=u();if(t&&t.has(e))return t.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var a=i?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=e[o]}n.default=e,t&&t.set(e,n);return n}(n(74)),s=c(n(22));function u(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return u=function(){return e},e}function c(e){return e&&e.__esModule?e:{default:e}}var l=function(e){var t=e.children,n=e.xs,r=e.sm,o=e.md,u=e.lg,c=e.xl,l=e.xxl;return i.default.createElement(s.default,null,(function(e){return a.visible({screenClass:e,xs:n,sm:r,md:o,lg:u,xl:c,xxl:l})?t:null}))};l.propTypes={children:o.default.node.isRequired,xs:o.default.bool,sm:o.default.bool,md:o.default.bool,lg:o.default.bool,xl:o.default.bool,xxl:o.default.bool},l.defaultProps={xs:!1,sm:!1,md:!1,lg:!1,xl:!1,xxl:!1};var h=l;t.default=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.visible=void 0;var r=function(e){var t=e.screenClass,n=e.xs,r=e.sm,i=e.md,o=e.lg,a=e.xl,s=e.xxl;return"xxl"===t?s:"xl"===t?a:"lg"===t?o:"md"===t?i:"sm"===t?r:n};t.visible=r;var i=r;t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(1)),i=a(n(11)),o=a(n(22));function a(e){return e&&e.__esModule?e:{default:e}}var s=function(e){var t=e.render;return r.default.createElement(o.default,null,(function(e){return t(e)}))};s.propTypes={render:i.default.func.isRequired};var u=s;t.default=u},function(e,t,n){"use strict";var r=n(10),i=n(40),o=n(77),a=n(46);function s(e){var t=new o(e),n=i(o.prototype.request,t);return r.extend(n,o.prototype,t),r.extend(n,t),n}var u=s(n(43));u.Axios=o,u.create=function(e){return s(a(u.defaults,e))},u.Cancel=n(47),u.CancelToken=n(90),u.isCancel=n(42),u.all=function(e){return Promise.all(e)},u.spread=n(91),u.isAxiosError=n(92),e.exports=u,e.exports.default=u},function(e,t,n){"use strict";var r=n(10),i=n(41),o=n(78),a=n(79),s=n(46);function u(e){this.defaults=e,this.interceptors={request:new o,response:new o}}u.prototype.request=function(e){"string"===typeof e?(e=arguments[1]||{}).url=arguments[0]:e=e||{},(e=s(this.defaults,e)).method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var t=[a,void 0],n=Promise.resolve(e);for(this.interceptors.request.forEach((function(e){t.unshift(e.fulfilled,e.rejected)})),this.interceptors.response.forEach((function(e){t.push(e.fulfilled,e.rejected)}));t.length;)n=n.then(t.shift(),t.shift());return n},u.prototype.getUri=function(e){return e=s(this.defaults,e),i(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},r.forEach(["delete","get","head","options"],(function(e){u.prototype[e]=function(t,n){return this.request(s(n||{},{method:e,url:t,data:(n||{}).data}))}})),r.forEach(["post","put","patch"],(function(e){u.prototype[e]=function(t,n,r){return this.request(s(r||{},{method:e,url:t,data:n}))}})),e.exports=u},function(e,t,n){"use strict";var r=n(10);function i(){this.handlers=[]}i.prototype.use=function(e,t){return this.handlers.push({fulfilled:e,rejected:t}),this.handlers.length-1},i.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},i.prototype.forEach=function(e){r.forEach(this.handlers,(function(t){null!==t&&e(t)}))},e.exports=i},function(e,t,n){"use strict";var r=n(10),i=n(80),o=n(42),a=n(43);function s(e){e.cancelToken&&e.cancelToken.throwIfRequested()}e.exports=function(e){return s(e),e.headers=e.headers||{},e.data=i(e.data,e.headers,e.transformRequest),e.headers=r.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),r.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||a.adapter)(e).then((function(t){return s(e),t.data=i(t.data,t.headers,e.transformResponse),t}),(function(t){return o(t)||(s(e),t&&t.response&&(t.response.data=i(t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))}},function(e,t,n){"use strict";var r=n(10);e.exports=function(e,t,n){return r.forEach(n,(function(n){e=n(e,t)})),e}},function(e,t,n){"use strict";var r=n(10);e.exports=function(e,t){r.forEach(e,(function(n,r){r!==t&&r.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[r])}))}},function(e,t,n){"use strict";var r=n(45);e.exports=function(e,t,n){var i=n.config.validateStatus;n.status&&i&&!i(n.status)?t(r("Request failed with status code "+n.status,n.config,null,n.request,n)):e(n)}},function(e,t,n){"use strict";e.exports=function(e,t,n,r,i){return e.config=t,n&&(e.code=n),e.request=r,e.response=i,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},e}},function(e,t,n){"use strict";var r=n(10);e.exports=r.isStandardBrowserEnv()?{write:function(e,t,n,i,o,a){var s=[];s.push(e+"="+encodeURIComponent(t)),r.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),r.isString(i)&&s.push("path="+i),r.isString(o)&&s.push("domain="+o),!0===a&&s.push("secure"),document.cookie=s.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},function(e,t,n){"use strict";var r=n(86),i=n(87);e.exports=function(e,t){return e&&!r(t)?i(e,t):t}},function(e,t,n){"use strict";e.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},function(e,t,n){"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},function(e,t,n){"use strict";var r=n(10),i=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,n,o,a={};return e?(r.forEach(e.split("\n"),(function(e){if(o=e.indexOf(":"),t=r.trim(e.substr(0,o)).toLowerCase(),n=r.trim(e.substr(o+1)),t){if(a[t]&&i.indexOf(t)>=0)return;a[t]="set-cookie"===t?(a[t]?a[t]:[]).concat([n]):a[t]?a[t]+", "+n:n}})),a):a}},function(e,t,n){"use strict";var r=n(10);e.exports=r.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function i(e){var r=e;return t&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=i(window.location.href),function(t){var n=r.isString(t)?i(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0}},function(e,t,n){"use strict";var r=n(47);function i(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var n=this;e((function(e){n.reason||(n.reason=new r(e),t(n.reason))}))}i.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},i.source=function(){var e;return{token:new i((function(t){e=t})),cancel:e}},e.exports=i},function(e,t,n){"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},function(e,t,n){"use strict";e.exports=function(e){return"object"===typeof e&&!0===e.isAxiosError}},function(e,t){e.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},function(e,t,n){"use strict";n(95)},function(e,t,n){"use strict";(function(e,t){var r=n(26),i=n(15),o=n(0),a=n(5),s=n(18),u=function(){function e(e){this.domStorage_=e,this.prefix_="firebase:"}return e.prototype.set=function(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Object(o.C)(t))},e.prototype.get=function(e){var t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:Object(o.w)(t)},e.prototype.remove=function(e){this.domStorage_.removeItem(this.prefixedName_(e))},e.prototype.prefixedName_=function(e){return this.prefix_+e},e.prototype.toString=function(){return this.domStorage_.toString()},e}(),c=function(){function e(){this.cache_={},this.isInMemoryStorage=!0}return e.prototype.set=function(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t},e.prototype.get=function(e){return Object(o.i)(this.cache_,e)?this.cache_[e]:null},e.prototype.remove=function(e){delete this.cache_[e]},e}(),l=function(e){try{if("undefined"!==typeof window&&"undefined"!==typeof window[e]){var t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new u(t)}}catch(n){}return new c},h=l("localStorage"),f=l("sessionStorage"),d=new s.b("@firebase/database"),p=function(){var e=1;return function(){return e++}}(),v=function(e){var t=Object(o.B)(e),n=new o.d;n.update(t);var r=n.digest();return o.g.encodeByteArray(r)},y=function e(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r="",i=0;i<t.length;i++){var a=t[i];Array.isArray(a)||a&&"object"===typeof a&&"number"===typeof a.length?r+=e.apply(null,a):r+="object"===typeof a?Object(o.C)(a):a,r+=" "}return r},g=null,m=!0,b=function(e,t){Object(o.e)(!t||!0===e||!1===e,"Can't turn on custom loggers persistently."),!0===e?(d.logLevel=s.a.VERBOSE,g=d.log.bind(d),t&&f.set("logging_enabled",!0)):"function"===typeof e?g=e:(g=null,f.remove("logging_enabled"))},_=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(!0===m&&(m=!1,null===g&&!0===f.get("logging_enabled")&&b(!0)),g){var n=y.apply(null,e);g(n)}},w=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];_.apply(void 0,Object(a.d)([e],Object(a.c)(t)))}},E=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE INTERNAL ERROR: "+y.apply(void 0,Object(a.d)([],Object(a.c)(e)));d.error(n)},S=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE FATAL ERROR: "+y.apply(void 0,Object(a.d)([],Object(a.c)(e)));throw d.error(n),new Error(n)},T=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE WARNING: "+y.apply(void 0,Object(a.d)([],Object(a.c)(e)));d.warn(n)},I=function(e){return"number"===typeof e&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},C="[MIN_NAME]",k="[MAX_NAME]",O=function(e,t){if(e===t)return 0;if(e===C||t===k)return-1;if(t===C||e===k)return 1;var n=F(e),r=F(t);return null!==n?null!==r?n-r===0?e.length-t.length:n-r:-1:null!==r?1:e<t?-1:1},x=function(e,t){return e===t?0:e<t?-1:1},P=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+Object(o.C)(t))},N=function e(t){if("object"!==typeof t||null===t)return Object(o.C)(t);var n=[];for(var r in t)n.push(r);n.sort();for(var i="{",a=0;a<n.length;a++)0!==a&&(i+=","),i+=Object(o.C)(n[a]),i+=":",i+=e(t[n[a]]);return i+="}"},R=function(e,t){var n=e.length;if(n<=t)return[e];for(var r=[],i=0;i<n;i+=t)i+t>n?r.push(e.substring(i,n)):r.push(e.substring(i,i+t));return r};function A(e,t){for(var n in e)e.hasOwnProperty(n)&&t(n,e[n])}var D=function(e){Object(o.e)(!I(e),"Invalid JSON number");var t,n,r,i,a,s=1023;0===e?(n=0,r=0,t=1/e===-1/0?1:0):(t=e<0,(e=Math.abs(e))>=Math.pow(2,-1022)?(n=(i=Math.min(Math.floor(Math.log(e)/Math.LN2),s))+s,r=Math.round(e*Math.pow(2,52-i)-Math.pow(2,52))):(n=0,r=Math.round(e/Math.pow(2,-1074))));var u=[];for(a=52;a;a-=1)u.push(r%2?1:0),r=Math.floor(r/2);for(a=11;a;a-=1)u.push(n%2?1:0),n=Math.floor(n/2);u.push(t?1:0),u.reverse();var c=u.join(""),l="";for(a=0;a<64;a+=8){var h=parseInt(c.substr(a,8),2).toString(16);1===h.length&&(h="0"+h),l+=h}return l.toLowerCase()};var j=new RegExp("^-?(0*)\\d{1,10}$"),L=-2147483648,M=2147483647,F=function(e){if(j.test(e)){var t=Number(e);if(t>=L&&t<=M)return t}return null},U=function(e){try{e()}catch(t){setTimeout((function(){var e=t.stack||"";throw T("Exception was thrown by user callback.",e),t}),Math.floor(0))}},q=function(e,t){var n=setTimeout(e,t);return"object"===typeof n&&n.unref&&n.unref(),n},B=function(){function e(e,t,n){var r=this;this.appName_=e,this.firebaseOptions_=t,this.authProvider_=n,this.auth_=null,this.auth_=n.getImmediate({optional:!0}),this.auth_||n.get().then((function(e){return r.auth_=e}))}return e.prototype.getToken=function(e){return this.auth_?this.auth_.getToken(e).catch((function(e){return e&&"auth/token-not-initialized"===e.code?(_("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)})):Promise.resolve(null)},e.prototype.addTokenChangeListener=function(e){this.auth_?this.auth_.addAuthTokenListener(e):(setTimeout((function(){return e(null)}),0),this.authProvider_.get().then((function(t){return t.addAuthTokenListener(e)})))},e.prototype.removeTokenChangeListener=function(e){this.authProvider_.get().then((function(t){return t.removeAuthTokenListener(e)}))},e.prototype.notifyForInvalidToken=function(){var e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',T(e)},e}(),V=function(){function e(){}return e.prototype.getToken=function(t){return Promise.resolve({accessToken:e.EMULATOR_AUTH_TOKEN})},e.prototype.addTokenChangeListener=function(t){t(e.EMULATOR_AUTH_TOKEN)},e.prototype.removeTokenChangeListener=function(e){},e.prototype.notifyForInvalidToken=function(){},e.EMULATOR_AUTH_TOKEN="owner",e}(),W="5",z=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,H="websocket",K="long_polling",G=function(){function e(e,t,n,r,i,o,a){void 0===i&&(i=!1),void 0===o&&(o=""),void 0===a&&(a=!1),this.secure=t,this.namespace=n,this.webSocketOnly=r,this.nodeAdmin=i,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=h.get("host:"+e)||this._host}return e.prototype.isCacheableHost=function(){return"s-"===this.internalHost.substr(0,2)},e.prototype.isCustomHost=function(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain},Object.defineProperty(e.prototype,"host",{get:function(){return this._host},set:function(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&h.set("host:"+this._host,this.internalHost))},enumerable:!1,configurable:!0}),e.prototype.toString=function(){var e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e},e.prototype.toURLString=function(){var e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?"?ns="+this.namespace:"";return""+e+this.host+"/"+t},e}();function Q(e,t,n){var r;if(Object(o.e)("string"===typeof t,"typeof type must == string"),Object(o.e)("object"===typeof n,"typeof params must == object"),t===H)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else{if(t!==K)throw new Error("Unknown connection type: "+t);r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?"}(function(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams})(e)&&(n.ns=e.namespace);var i=[];return A(n,(function(e,t){i.push(e+"="+t)})),r+i.join("&")}var Y=function(){function e(){this.counters_={}}return e.prototype.incrementCounter=function(e,t){void 0===t&&(t=1),Object(o.i)(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t},e.prototype.get=function(){return Object(o.k)(this.counters_)},e}(),$={},X={};function J(e){var t=e.toString();return $[t]||($[t]=new Y),$[t]}var Z=function(){function e(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return e.prototype.closeAfter=function(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)},e.prototype.handleResponse=function(e,t){var n=this;this.pendingResponses[e]=t;for(var r=function(){var e=i.pendingResponses[i.currentResponseNum];delete i.pendingResponses[i.currentResponseNum];for(var t=function(t){e[t]&&U((function(){n.onMessage_(e[t])}))},r=0;r<e.length;++r)t(r);if(i.currentResponseNum===i.closeAfterResponse)return i.onClose&&(i.onClose(),i.onClose=null),"break";i.currentResponseNum++},i=this;this.pendingResponses[this.currentResponseNum];){if("break"===r())break}},e}(),ee="start",te="close",ne=function(){function e(e,t,n,r,i){this.connId=e,this.repoInfo=t,this.applicationId=n,this.transportSessionId=r,this.lastSessionId=i,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=w(e),this.stats_=J(t),this.urlFn=function(e){return Q(t,K,e)}}return e.prototype.open=function(e,t){var n=this;this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new Z(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout((function(){n.log_("Timed out trying to connect."),n.onClosed_(),n.connectTimeoutTimer_=null}),Math.floor(3e4)),function(e){if(Object(o.t)()||"complete"===document.readyState)e();else{var t=!1,n=function n(){document.body?t||(t=!0,e()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",(function(){"complete"===document.readyState&&n()})),window.attachEvent("onload",n))}}((function(){if(!n.isClosed_){n.scriptTagHolder=new re((function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=Object(a.c)(e,5),i=r[0],o=r[1],s=r[2];r[3],r[4];if(n.incrementIncomingBytes_(e),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,i===ee)n.id=o,n.password=s;else{if(i!==te)throw new Error("Unrecognized command received: "+i);o?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(o,(function(){n.onClosed_()}))):n.onClosed_()}}),(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=Object(a.c)(e,2),i=r[0],o=r[1];n.incrementIncomingBytes_(e),n.myPacketOrderer.handleResponse(i,o)}),(function(){n.onClosed_()}),n.urlFn);var e={start:"t"};e.ser=Math.floor(1e8*Math.random()),n.scriptTagHolder.uniqueCallbackIdentifier&&(e.cb=n.scriptTagHolder.uniqueCallbackIdentifier),e.v=W,n.transportSessionId&&(e.s=n.transportSessionId),n.lastSessionId&&(e.ls=n.lastSessionId),n.applicationId&&(e.p=n.applicationId),"undefined"!==typeof location&&location.hostname&&z.test(location.hostname)&&(e.r="f");var t=n.urlFn(e);n.log_("Connecting via long-poll to "+t),n.scriptTagHolder.addTag(t,(function(){}))}}))},e.prototype.start=function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)},e.forceAllow=function(){e.forceAllow_=!0},e.forceDisallow=function(){e.forceDisallow_=!0},e.isAvailable=function(){return!Object(o.t)()&&(!!e.forceAllow_||!e.forceDisallow_&&"undefined"!==typeof document&&null!=document.createElement&&!("object"===typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))&&!("object"===typeof Windows&&"object"===typeof Windows.UI))},e.prototype.markConnectionHealthy=function(){},e.prototype.shutdown_=function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)},e.prototype.onClosed_=function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))},e.prototype.close=function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())},e.prototype.send=function(e){var t=Object(o.C)(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);for(var n=Object(o.h)(t),r=R(n,1840),i=0;i<r.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[i]),this.curSegmentNum++},e.prototype.addDisconnectPingFrame=function(e,t){if(!Object(o.t)()){this.myDisconnFrame=document.createElement("iframe");var n={dframe:"t"};n.id=e,n.pw=t,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}},e.prototype.incrementIncomingBytes_=function(e){var t=Object(o.C)(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)},e}(),re=function(){function e(t,n,r,i){if(this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,Object(o.t)())this.commandCB=t,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=p(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=n,this.myIFrame=e.createIFrame_();var a="";if(this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length))a='<script>document.domain="'+document.domain+'";<\/script>';var s="<html><body>"+a+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(s),this.myIFrame.doc.close()}catch(u){_("frame writing exception"),u.stack&&_(u.stack),_(u)}}}return e.createIFrame_=function(){var e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||_("No IE domain setting required")}catch(n){var t=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+t+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e},e.prototype.close=function(){var e=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout((function(){null!==e.myIFrame&&(document.body.removeChild(e.myIFrame),e.myIFrame=null)}),Math.floor(0)));var t=this.onDisconnect;t&&(this.onDisconnect=null,t())},e.prototype.startLongPoll=function(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););},e.prototype.newRequest_=function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;for(var t=this.urlFn(e),n="",r=0;this.pendingSegs.length>0;){if(!(this.pendingSegs[0].d.length+30+n.length<=1870))break;var i=this.pendingSegs.shift();n=n+"&seg"+r+"="+i.seg+"&ts"+r+"="+i.ts+"&d"+r+"="+i.d,r++}return t+=n,this.addLongPollTag_(t,this.currentSerial),!0}return!1},e.prototype.enqueueSegment=function(e,t,n){this.pendingSegs.push({seg:e,ts:t,d:n}),this.alive&&this.newRequest_()},e.prototype.addLongPollTag_=function(e,t){var n=this;this.outstandingRequests.add(t);var r=function(){n.outstandingRequests.delete(t),n.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(e,(function(){clearTimeout(i),r()}))},e.prototype.addTag=function(e,t){var n=this;Object(o.t)()?this.doNodeLongPoll(e,t):setTimeout((function(){try{if(!n.sendNewPolls)return;var r=n.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){var e=r.readyState;e&&"loaded"!==e&&"complete"!==e||(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),t())},r.onerror=function(){_("Long-poll script failed to load: "+e),n.sendNewPolls=!1,n.close()},n.myIFrame.doc.body.appendChild(r)}catch(i){}}),Math.floor(1))},e}(),ie="";function oe(e){ie=e}var ae=null;"undefined"!==typeof MozWebSocket?ae=MozWebSocket:"undefined"!==typeof WebSocket&&(ae=WebSocket);var se=function(){function t(e,n,r,i,o){this.connId=e,this.applicationId=r,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=w(this.connId),this.stats_=J(n),this.connURL=t.connectionURL_(n,i,o),this.nodeAdmin=n.nodeAdmin}return t.connectionURL_=function(e,t,n){var r={};return r.v=W,!Object(o.t)()&&"undefined"!==typeof location&&location.hostname&&z.test(location.hostname)&&(r.r="f"),t&&(r.s=t),n&&(r.ls=n),Q(e,H,r)},t.prototype.open=function(t,n){var r=this;this.onDisconnect=n,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,h.set("previous_websocket_failure",!0);try{if(Object(o.t)()){var i=this.nodeAdmin?"AdminNode":"Node",a={headers:{"User-Agent":"Firebase/5/"+ie+"/"+e.platform+"/"+i,"X-Firebase-GMPID":this.applicationId||""}},s=Object({NODE_ENV:"production",PUBLIC_URL:"/React-Forms-Project",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}),u=0===this.connURL.indexOf("wss://")?s.HTTPS_PROXY||s.https_proxy:s.HTTP_PROXY||s.http_proxy;u&&(a.proxy={origin:u}),this.mySock=new ae(this.connURL,[],a)}else{a={headers:{"X-Firebase-GMPID":this.applicationId||""}};this.mySock=new ae(this.connURL,[],a)}}catch(l){this.log_("Error instantiating WebSocket.");var c=l.message||l.data;return c&&this.log_(c),void this.onClosed_()}this.mySock.onopen=function(){r.log_("Websocket connected."),r.everConnected_=!0},this.mySock.onclose=function(){r.log_("Websocket connection was disconnected."),r.mySock=null,r.onClosed_()},this.mySock.onmessage=function(e){r.handleIncomingFrame(e)},this.mySock.onerror=function(e){r.log_("WebSocket error.  Closing connection.");var t=e.message||e.data;t&&r.log_(t),r.onClosed_()}},t.prototype.start=function(){},t.forceDisallow=function(){t.forceDisallow_=!0},t.isAvailable=function(){var e=!1;if("undefined"!==typeof navigator&&navigator.userAgent){var n=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);n&&n.length>1&&parseFloat(n[1])<4.4&&(e=!0)}return!e&&null!==ae&&!t.forceDisallow_},t.previouslyFailed=function(){return h.isInMemoryStorage||!0===h.get("previous_websocket_failure")},t.prototype.markConnectionHealthy=function(){h.remove("previous_websocket_failure")},t.prototype.appendFrame_=function(e){if(this.frames.push(e),this.frames.length===this.totalFrames){var t=this.frames.join("");this.frames=null;var n=Object(o.w)(t);this.onMessage(n)}},t.prototype.handleNewFrameCount_=function(e){this.totalFrames=e,this.frames=[]},t.prototype.extractFrameCount_=function(e){if(Object(o.e)(null===this.frames,"We already have a frame buffer"),e.length<=6){var t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e},t.prototype.handleIncomingFrame=function(e){if(null!==this.mySock){var t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(t);else{var n=this.extractFrameCount_(t);null!==n&&this.appendFrame_(n)}}},t.prototype.send=function(e){this.resetKeepAlive();var t=Object(o.C)(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);var n=R(t,16384);n.length>1&&this.sendString_(String(n.length));for(var r=0;r<n.length;r++)this.sendString_(n[r])},t.prototype.shutdown_=function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)},t.prototype.onClosed_=function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))},t.prototype.close=function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())},t.prototype.resetKeepAlive=function(){var e=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval((function(){e.mySock&&e.sendString_("0"),e.resetKeepAlive()}),Math.floor(45e3))},t.prototype.sendString_=function(e){try{this.mySock.send(e)}catch(t){this.log_("Exception thrown from WebSocket.send():",t.message||t.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}},t.responsesRequiredToBeHealthy=2,t.healthyTimeout=3e4,t}(),ue=function(){function e(e){this.initTransports_(e)}return Object.defineProperty(e,"ALL_TRANSPORTS",{get:function(){return[ne,se]},enumerable:!1,configurable:!0}),e.prototype.initTransports_=function(t){var n,r,i=se&&se.isAvailable(),o=i&&!se.previouslyFailed();if(t.webSocketOnly&&(i||T("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),o=!0),o)this.transports_=[se];else{var s=this.transports_=[];try{for(var u=Object(a.e)(e.ALL_TRANSPORTS),c=u.next();!c.done;c=u.next()){var l=c.value;l&&l.isAvailable()&&s.push(l)}}catch(h){n={error:h}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}}},e.prototype.initialTransport=function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")},e.prototype.upgradeTransport=function(){return this.transports_.length>1?this.transports_[1]:null},e}(),ce=function(){function e(e,t,n,r,i,o,a,s){this.id=e,this.repoInfo_=t,this.applicationId_=n,this.onMessage_=r,this.onReady_=i,this.onDisconnect_=o,this.onKill_=a,this.lastSessionId=s,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=w("c:"+this.id+":"),this.transportManager_=new ue(t),this.log_("Connection created"),this.start_()}return e.prototype.start_=function(){var e=this,t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,void 0,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout((function(){e.conn_&&e.conn_.open(n,r)}),Math.floor(0));var i=t.healthyTimeout||0;i>0&&(this.healthyTimeout_=q((function(){e.healthyTimeout_=null,e.isHealthy_||(e.conn_&&e.conn_.bytesReceived>102400?(e.log_("Connection exceeded healthy timeout but has received "+e.conn_.bytesReceived+" bytes.  Marking connection healthy."),e.isHealthy_=!0,e.conn_.markConnectionHealthy()):e.conn_&&e.conn_.bytesSent>10240?e.log_("Connection exceeded healthy timeout but has sent "+e.conn_.bytesSent+" bytes.  Leaving connection alive."):(e.log_("Closing unhealthy connection after timeout."),e.close()))}),Math.floor(i)))},e.prototype.nextTransportId_=function(){return"c:"+this.id+":"+this.connectionCount++},e.prototype.disconnReceiver_=function(e){var t=this;return function(n){e===t.conn_?t.onConnectionLost_(n):e===t.secondaryConn_?(t.log_("Secondary connection lost."),t.onSecondaryConnectionLost_()):t.log_("closing an old connection")}},e.prototype.connReceiver_=function(e){var t=this;return function(n){2!==t.state_&&(e===t.rx_?t.onPrimaryMessageReceived_(n):e===t.secondaryConn_?t.onSecondaryMessageReceived_(n):t.log_("message on old connection"))}},e.prototype.sendRequest=function(e){var t={t:"d",d:e};this.sendData_(t)},e.prototype.tryCleanupConnection=function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)},e.prototype.onSecondaryControl_=function(e){if("t"in e){var t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}},e.prototype.onSecondaryMessageReceived_=function(e){var t=P("t",e),n=P("d",e);if("c"===t)this.onSecondaryControl_(n);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(n)}},e.prototype.upgradeIfSecondaryHealthy_=function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))},e.prototype.proceedWithUpgrade_=function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()},e.prototype.onPrimaryMessageReceived_=function(e){var t=P("t",e),n=P("d",e);"c"===t?this.onControl_(n):"d"===t&&this.onDataMessage_(n)},e.prototype.onDataMessage_=function(e){this.onPrimaryResponse_(),this.onMessage_(e)},e.prototype.onPrimaryResponse_=function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))},e.prototype.onControl_=function(e){var t=P("t",e);if("d"in e){var n=e.d;if("h"===t)this.onHandshake_(n);else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(n):"r"===t?this.onReset_(n):"e"===t?E("Server Error: "+n):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):E("Unknown control packet command: "+t)}},e.prototype.onHandshake_=function(e){var t=e.ts,n=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),W!==n&&T("Protocol version mismatch detected"),this.tryStartUpgrade_())},e.prototype.tryStartUpgrade_=function(){var e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)},e.prototype.startUpgrade_=function(e){var t=this;this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),q((function(){t.secondaryConn_&&(t.log_("Timed out trying to upgrade."),t.secondaryConn_.close())}),Math.floor(6e4))},e.prototype.onReset_=function(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())},e.prototype.onConnectionEstablished_=function(e,t){var n=this;this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):q((function(){n.sendPingOnPrimaryIfNecessary_()}),Math.floor(5e3))},e.prototype.sendPingOnPrimaryIfNecessary_=function(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))},e.prototype.onSecondaryConnectionLost_=function(){var e=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==e&&this.rx_!==e||this.close()},e.prototype.onConnectionLost_=function(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(h.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()},e.prototype.onConnectionShutdown_=function(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()},e.prototype.sendData_=function(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)},e.prototype.close=function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))},e.prototype.closeConnections_=function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)},e}(),le=function(){function e(){}return e.prototype.put=function(e,t,n,r){},e.prototype.merge=function(e,t,n,r){},e.prototype.refreshAuthToken=function(e){},e.prototype.onDisconnectPut=function(e,t,n){},e.prototype.onDisconnectMerge=function(e,t,n){},e.prototype.onDisconnectCancel=function(e,t){},e.prototype.reportStats=function(e){},e}(),he=function(){function e(e){this.allowedEvents_=e,this.listeners_={},Object(o.e)(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}return e.prototype.trigger=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Array.isArray(this.listeners_[e]))for(var r=Object(a.d)([],Object(a.c)(this.listeners_[e])),i=0;i<r.length;i++)r[i].callback.apply(r[i].context,t)},e.prototype.on=function(e,t,n){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:n});var r=this.getInitialEvent(e);r&&t.apply(n,r)},e.prototype.off=function(e,t,n){this.validateEventType_(e);for(var r=this.listeners_[e]||[],i=0;i<r.length;i++)if(r[i].callback===t&&(!n||n===r[i].context))return void r.splice(i,1)},e.prototype.validateEventType_=function(e){Object(o.e)(this.allowedEvents_.find((function(t){return t===e})),"Unknown event: "+e)},e}(),fe=function(e){function t(){var t=e.call(this,["online"])||this;return t.online_=!0,"undefined"===typeof window||"undefined"===typeof window.addEventListener||Object(o.r)()||(window.addEventListener("online",(function(){t.online_||(t.online_=!0,t.trigger("online",!0))}),!1),window.addEventListener("offline",(function(){t.online_&&(t.online_=!1,t.trigger("online",!1))}),!1)),t}return Object(a.b)(t,e),t.getInstance=function(){return new t},t.prototype.getInitialEvent=function(e){return Object(o.e)("online"===e,"Unknown event type: "+e),[this.online_]},t.prototype.currentlyOnline=function(){return this.online_},t}(he),de=function(){function e(e,t){if(void 0===t){this.pieces_=e.split("/");for(var n=0,r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[n]=this.pieces_[r],n++);this.pieces_.length=n,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}return e.prototype.toString=function(){for(var e="",t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"},e}();function pe(){return new de("")}function ve(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function ye(e){return e.pieces_.length-e.pieceNum_}function ge(e){var t=e.pieceNum_;return t<e.pieces_.length&&t++,new de(e.pieces_,t)}function me(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function be(e,t){return void 0===t&&(t=0),e.pieces_.slice(e.pieceNum_+t)}function _e(e){if(e.pieceNum_>=e.pieces_.length)return null;for(var t=[],n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new de(t,0)}function we(e,t){for(var n=[],r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof de)for(r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);else{var i=t.split("/");for(r=0;r<i.length;r++)i[r].length>0&&n.push(i[r])}return new de(n,0)}function Ee(e){return e.pieceNum_>=e.pieces_.length}function Se(e,t){var n=ve(e),r=ve(t);if(null===n)return t;if(n===r)return Se(ge(e),ge(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function Te(e,t){for(var n=be(e,0),r=be(t,0),i=0;i<n.length&&i<r.length;i++){var o=O(n[i],r[i]);if(0!==o)return o}return n.length===r.length?0:n.length<r.length?-1:1}function Ie(e,t){if(ye(e)!==ye(t))return!1;for(var n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function Ce(e,t){var n=e.pieceNum_,r=t.pieceNum_;if(ye(e)>ye(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}var ke=function(e,t){this.errorPrefix_=t,this.parts_=be(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(var n=0;n<this.parts_.length;n++)this.byteLength_+=Object(o.A)(this.parts_[n]);Oe(this)};function Oe(e){if(e.byteLength_>768)throw new Error(e.errorPrefix_+"has a key path longer than 768 bytes ("+e.byteLength_+").");if(e.parts_.length>32)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+xe(e))}function xe(e){return 0===e.parts_.length?"":"in property '"+e.parts_.join(".")+"'"}var Pe,Ne,Re=function(e){function t(){var t,n,r=e.call(this,["visible"])||this;return"undefined"!==typeof document&&"undefined"!==typeof document.addEventListener&&("undefined"!==typeof document.hidden?(n="visibilitychange",t="hidden"):"undefined"!==typeof document.mozHidden?(n="mozvisibilitychange",t="mozHidden"):"undefined"!==typeof document.msHidden?(n="msvisibilitychange",t="msHidden"):"undefined"!==typeof document.webkitHidden&&(n="webkitvisibilitychange",t="webkitHidden")),r.visible_=!0,n&&document.addEventListener(n,(function(){var e=!document[t];e!==r.visible_&&(r.visible_=e,r.trigger("visible",e))}),!1),r}return Object(a.b)(t,e),t.getInstance=function(){return new t},t.prototype.getInitialEvent=function(e){return Object(o.e)("visible"===e,"Unknown event type: "+e),[this.visible_]},t}(he),Ae=1e3,De=function(e){function t(n,r,i,a,s,u,c){var l=e.call(this)||this;if(l.repoInfo_=n,l.applicationId_=r,l.onDataUpdate_=i,l.onConnectStatus_=a,l.onServerInfoUpdate_=s,l.authTokenProvider_=u,l.authOverride_=c,l.id=t.nextPersistentConnectionId_++,l.log_=w("p:"+l.id+":"),l.interruptReasons_={},l.listens=new Map,l.outstandingPuts_=[],l.outstandingGets_=[],l.outstandingPutCount_=0,l.outstandingGetCount_=0,l.onDisconnectRequestQueue_=[],l.connected_=!1,l.reconnectDelay_=Ae,l.maxReconnectDelay_=3e5,l.securityDebugCallback_=null,l.lastSessionId=null,l.establishConnectionTimer_=null,l.visible_=!1,l.requestCBHash_={},l.requestNumber_=0,l.realtime_=null,l.authToken_=null,l.forceTokenRefresh_=!1,l.invalidAuthTokenCount_=0,l.firstConnection_=!0,l.lastConnectionAttemptTime_=null,l.lastConnectionEstablishedTime_=null,c&&!Object(o.t)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return l.scheduleConnect_(0),Re.getInstance().on("visible",l.onVisible_,l),-1===n.host.indexOf("fblocal")&&fe.getInstance().on("online",l.onOnline_,l),l}return Object(a.b)(t,e),t.prototype.sendRequest=function(e,t,n){var r=++this.requestNumber_,i={r:r,a:e,b:t};this.log_(Object(o.C)(i)),Object(o.e)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),n&&(this.requestCBHash_[r]=n)},t.prototype.get=function(e){var t=this,n=new o.a,r={p:e._path.toString(),q:e._queryObject},i={action:"g",request:r,onComplete:function(e){var i=e.d;"ok"===e.s?(t.onDataUpdate_(r.p,i,!1,null),n.resolve(i)):n.reject(i)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;var a=this.outstandingGets_.length-1;return this.connected_||setTimeout((function(){var e=t.outstandingGets_[a];void 0!==e&&i===e&&(delete t.outstandingGets_[a],t.outstandingGetCount_--,0===t.outstandingGetCount_&&(t.outstandingGets_=[]),t.log_("get "+a+" timed out on connection"),n.reject(new Error("Client is offline.")))}),3e3),this.connected_&&this.sendGet_(a),n.promise},t.prototype.listen=function(e,t,n,r){var i=e._queryIdentifier,a=e._path.toString();this.log_("Listen called for "+a+" "+i),this.listens.has(a)||this.listens.set(a,new Map),Object(o.e)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),Object(o.e)(!this.listens.get(a).has(i),"listen() called twice for same path/queryId.");var s={onComplete:r,hashFn:t,query:e,tag:n};this.listens.get(a).set(i,s),this.connected_&&this.sendListen_(s)},t.prototype.sendGet_=function(e){var t=this,n=this.outstandingGets_[e];this.sendRequest("g",n.request,(function(r){delete t.outstandingGets_[e],t.outstandingGetCount_--,0===t.outstandingGetCount_&&(t.outstandingGets_=[]),n.onComplete&&n.onComplete(r)}))},t.prototype.sendListen_=function(e){var n=this,r=e.query,i=r._path.toString(),o=r._queryIdentifier;this.log_("Listen on "+i+" for "+o);var a={p:i};e.tag&&(a.q=r._queryObject,a.t=e.tag),a.h=e.hashFn(),this.sendRequest("q",a,(function(a){var s=a.d,u=a.s;t.warnOnListenWarnings_(s,r),(n.listens.get(i)&&n.listens.get(i).get(o))===e&&(n.log_("listen response",a),"ok"!==u&&n.removeListen_(i,o),e.onComplete&&e.onComplete(u,s))}))},t.warnOnListenWarnings_=function(e,t){if(e&&"object"===typeof e&&Object(o.i)(e,"w")){var n=Object(o.z)(e,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){var r='".indexOn": "'+t._queryParams.getIndex().toString()+'"',i=t._path.toString();T("Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding "+r+" at "+i+" to your security rules for better performance.")}}},t.prototype.refreshAuthToken=function(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},(function(){})),this.reduceReconnectDelayIfAdminCredential_(e)},t.prototype.reduceReconnectDelayIfAdminCredential_=function(e){(e&&40===e.length||Object(o.o)(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)},t.prototype.tryAuth=function(){var e=this;if(this.connected_&&this.authToken_){var t=this.authToken_,n=Object(o.v)(t)?"auth":"gauth",r={cred:t};null===this.authOverride_?r.noauth=!0:"object"===typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(n,r,(function(n){var r=n.s,i=n.d||"error";e.authToken_===t&&("ok"===r?e.invalidAuthTokenCount_=0:e.onAuthRevoked_(r,i))}))}},t.prototype.unlisten=function(e,t){var n=e._path.toString(),r=e._queryIdentifier;this.log_("Unlisten called for "+n+" "+r),Object(o.e)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,e._queryObject,t)},t.prototype.sendUnlisten_=function(e,t,n,r){this.log_("Unlisten on "+e+" for "+t);var i={p:e};r&&(i.q=n,i.t=r),this.sendRequest("n",i)},t.prototype.onDisconnectPut=function(e,t,n){this.connected_?this.sendOnDisconnect_("o",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:n})},t.prototype.onDisconnectMerge=function(e,t,n){this.connected_?this.sendOnDisconnect_("om",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:n})},t.prototype.onDisconnectCancel=function(e,t){this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})},t.prototype.sendOnDisconnect_=function(e,t,n,r){var i={p:t,d:n};this.log_("onDisconnect "+e,i),this.sendRequest(e,i,(function(e){r&&setTimeout((function(){r(e.s,e.d)}),Math.floor(0))}))},t.prototype.put=function(e,t,n,r){this.putInternal("p",e,t,n,r)},t.prototype.merge=function(e,t,n,r){this.putInternal("m",e,t,n,r)},t.prototype.putInternal=function(e,t,n,r,i){var o={p:t,d:n};void 0!==i&&(o.h=i),this.outstandingPuts_.push({action:e,request:o,onComplete:r}),this.outstandingPutCount_++;var a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+t)},t.prototype.sendPut_=function(e){var t=this,n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,(function(r){t.log_(n+" response",r),delete t.outstandingPuts_[e],t.outstandingPutCount_--,0===t.outstandingPutCount_&&(t.outstandingPuts_=[]),i&&i(r.s,r.d)}))},t.prototype.reportStats=function(e){var t=this;if(this.connected_){var n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,(function(e){if("ok"!==e.s){var n=e.d;t.log_("reportStats","Error sending stats: "+n)}}))}},t.prototype.onDataMessage_=function(e){if("r"in e){this.log_("from server: "+Object(o.C)(e));var t=e.r,n=this.requestCBHash_[t];n&&(delete this.requestCBHash_[t],n(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}},t.prototype.onDataPush_=function(e,t){this.log_("handleServerMessage",e,t),"d"===e?this.onDataUpdate_(t.p,t.d,!1,t.t):"m"===e?this.onDataUpdate_(t.p,t.d,!0,t.t):"c"===e?this.onListenRevoked_(t.p,t.q):"ac"===e?this.onAuthRevoked_(t.s,t.d):"sd"===e?this.onSecurityDebugPacket_(t):E("Unrecognized action received from server: "+Object(o.C)(e)+"\nAre you using the latest client?")},t.prototype.onReady_=function(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)},t.prototype.scheduleConnect_=function(e){var t=this;Object(o.e)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout((function(){t.establishConnectionTimer_=null,t.establishConnection_()}),Math.floor(e))},t.prototype.onVisible_=function(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Ae,this.realtime_||this.scheduleConnect_(0)),this.visible_=e},t.prototype.onOnline_=function(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Ae,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())},t.prototype.onRealtimeDisconnect_=function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(this.visible_){if(this.lastConnectionEstablishedTime_){(new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Ae),this.lastConnectionEstablishedTime_=null}}else this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime();var e=(new Date).getTime()-this.lastConnectionAttemptTime_,t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)},t.prototype.establishConnection_=function(){var e=this;if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null;var n=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),a=this.id+":"+t.nextConnectionId_++,s=this.lastSessionId,u=!1,c=null,l=function(){c?c.close():(u=!0,i())};this.realtime_={close:l,sendRequest:function(e){Object(o.e)(c,"sendRequest call when we're not connected not allowed."),c.sendRequest(e)}};var h=this.forceTokenRefresh_;this.forceTokenRefresh_=!1,this.authTokenProvider_.getToken(h).then((function(t){u?_("getToken() completed but was canceled"):(_("getToken() completed. Creating connection."),e.authToken_=t&&t.accessToken,c=new ce(a,e.repoInfo_,e.applicationId_,n,r,i,(function(t){T(t+" ("+e.repoInfo_.toString()+")"),e.interrupt("server_kill")}),s))})).then(null,(function(t){e.log_("Failed to get token: "+t),u||(e.repoInfo_.nodeAdmin&&T(t),l())}))}},t.prototype.interrupt=function(e){_("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())},t.prototype.resume=function(e){_("Resuming connection for reason: "+e),delete this.interruptReasons_[e],Object(o.q)(this.interruptReasons_)&&(this.reconnectDelay_=Ae,this.realtime_||this.scheduleConnect_(0))},t.prototype.handleTimestamp_=function(e){var t=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:t})},t.prototype.cancelSentTransactions_=function(){for(var e=0;e<this.outstandingPuts_.length;e++){var t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])},t.prototype.onListenRevoked_=function(e,t){var n;n=t?t.map((function(e){return N(e)})).join("$"):"default";var r=this.removeListen_(e,n);r&&r.onComplete&&r.onComplete("permission_denied")},t.prototype.removeListen_=function(e,t){var n,r=new de(e).toString();if(this.listens.has(r)){var i=this.listens.get(r);n=i.get(t),i.delete(t),0===i.size&&this.listens.delete(r)}else n=void 0;return n},t.prototype.onAuthRevoked_=function(e,t){_("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))},t.prototype.onSecurityDebugPacket_=function(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))},t.prototype.restoreState_=function(){var e,t,n,r;this.tryAuth();try{for(var i=Object(a.e)(this.listens.values()),o=i.next();!o.done;o=i.next()){var s=o.value;try{for(var u=(n=void 0,Object(a.e)(s.values())),c=u.next();!c.done;c=u.next()){var l=c.value;this.sendListen_(l)}}catch(d){n={error:d}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}}}catch(p){e={error:p}}finally{try{o&&!o.done&&(t=i.return)&&t.call(i)}finally{if(e)throw e.error}}for(var h=0;h<this.outstandingPuts_.length;h++)this.outstandingPuts_[h]&&this.sendPut_(h);for(;this.onDisconnectRequestQueue_.length;){var f=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(f.action,f.pathString,f.data,f.onComplete)}for(h=0;h<this.outstandingGets_.length;h++)this.outstandingGets_[h]&&this.sendGet_(h)},t.prototype.sendConnectStats_=function(){var e={},t="js";Object(o.t)()&&(t=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+t+"."+ie.replace(/\./g,"-")]=1,Object(o.r)()?e["framework.cordova"]=1:Object(o.u)()&&(e["framework.reactnative"]=1),this.reportStats(e)},t.prototype.shouldReconnect_=function(){var e=fe.getInstance().currentlyOnline();return Object(o.q)(this.interruptReasons_)&&e},t.nextPersistentConnectionId_=0,t.nextConnectionId_=0,t}(le),je=function(){function e(e,t){this.name=e,this.node=t}return e.Wrap=function(t,n){return new e(t,n)},e}(),Le=function(){function e(){}return e.prototype.getCompare=function(){return this.compare.bind(this)},e.prototype.indexedValueChanged=function(e,t){var n=new je(C,e),r=new je(C,t);return 0!==this.compare(n,r)},e.prototype.minPost=function(){return je.MIN},e}(),Me=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(a.b)(t,e),Object.defineProperty(t,"__EMPTY_NODE",{get:function(){return Pe},set:function(e){Pe=e},enumerable:!1,configurable:!0}),t.prototype.compare=function(e,t){return O(e.name,t.name)},t.prototype.isDefinedOn=function(e){throw Object(o.f)("KeyIndex.isDefinedOn not expected to be called.")},t.prototype.indexedValueChanged=function(e,t){return!1},t.prototype.minPost=function(){return je.MIN},t.prototype.maxPost=function(){return new je(k,Pe)},t.prototype.makePost=function(e,t){return Object(o.e)("string"===typeof e,"KeyIndex indexValue must always be a string."),new je(e,Pe)},t.prototype.toString=function(){return".key"},t}(Le),Fe=new Me,Ue=function(){function e(e,t,n,r,i){void 0===i&&(i=null),this.isReverse_=r,this.resultGenerator_=i,this.nodeStack_=[];for(var o=1;!e.isEmpty();)if(e=e,o=t?n(e.key,t):1,r&&(o*=-1),o<0)e=this.isReverse_?e.left:e.right;else{if(0===o){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}return e.prototype.getNext=function(){if(0===this.nodeStack_.length)return null;var e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e},e.prototype.hasNext=function(){return this.nodeStack_.length>0},e.prototype.peek=function(){if(0===this.nodeStack_.length)return null;var e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}},e}(),qe=function(){function e(t,n,r,i,o){this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:Ve.EMPTY_NODE,this.right=null!=o?o:Ve.EMPTY_NODE}return e.prototype.copy=function(t,n,r,i,o){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},e.prototype.count=function(){return this.left.count()+1+this.right.count()},e.prototype.isEmpty=function(){return!1},e.prototype.inorderTraversal=function(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)},e.prototype.reverseTraversal=function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)},e.prototype.min_=function(){return this.left.isEmpty()?this:this.left.min_()},e.prototype.minKey=function(){return this.min_().key},e.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},e.prototype.insert=function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp_()},e.prototype.removeMin_=function(){if(this.left.isEmpty())return Ve.EMPTY_NODE;var e=this;return e.left.isRed_()||e.left.left.isRed_()||(e=e.moveRedLeft_()),(e=e.copy(null,null,null,e.left.removeMin_(),null)).fixUp_()},e.prototype.remove=function(e,t){var n,r;if(t(e,(n=this).key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(e,t),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===t(e,n.key)){if(n.right.isEmpty())return Ve.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(e,t))}return n.fixUp_()},e.prototype.isRed_=function(){return this.color},e.prototype.fixUp_=function(){var e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e},e.prototype.moveRedLeft_=function(){var e=this.colorFlip_();return e.right.left.isRed_()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight_())).rotateLeft_()).colorFlip_()),e},e.prototype.moveRedRight_=function(){var e=this.colorFlip_();return e.left.left.isRed_()&&(e=(e=e.rotateRight_()).colorFlip_()),e},e.prototype.rotateLeft_=function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},e.prototype.rotateRight_=function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},e.prototype.colorFlip_=function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)},e.prototype.checkMaxDepth_=function(){var e=this.check_();return Math.pow(2,e)<=this.count()+1},e.prototype.check_=function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)},e.RED=!0,e.BLACK=!1,e}(),Be=function(){function e(){}return e.prototype.copy=function(e,t,n,r,i){return this},e.prototype.insert=function(e,t,n){return new qe(e,t,null)},e.prototype.remove=function(e,t){return this},e.prototype.count=function(){return 0},e.prototype.isEmpty=function(){return!0},e.prototype.inorderTraversal=function(e){return!1},e.prototype.reverseTraversal=function(e){return!1},e.prototype.minKey=function(){return null},e.prototype.maxKey=function(){return null},e.prototype.check_=function(){return 0},e.prototype.isRed_=function(){return!1},e}(),Ve=function(){function e(t,n){void 0===n&&(n=e.EMPTY_NODE),this.comparator_=t,this.root_=n}return e.prototype.insert=function(t,n){return new e(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,qe.BLACK,null,null))},e.prototype.remove=function(t){return new e(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,qe.BLACK,null,null))},e.prototype.get=function(e){for(var t,n=this.root_;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key)))return n.value;t<0?n=n.left:t>0&&(n=n.right)}return null},e.prototype.getPredecessorKey=function(e){for(var t,n=this.root_,r=null;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key))){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}t<0?n=n.left:t>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")},e.prototype.isEmpty=function(){return this.root_.isEmpty()},e.prototype.count=function(){return this.root_.count()},e.prototype.minKey=function(){return this.root_.minKey()},e.prototype.maxKey=function(){return this.root_.maxKey()},e.prototype.inorderTraversal=function(e){return this.root_.inorderTraversal(e)},e.prototype.reverseTraversal=function(e){return this.root_.reverseTraversal(e)},e.prototype.getIterator=function(e){return new Ue(this.root_,null,this.comparator_,!1,e)},e.prototype.getIteratorFrom=function(e,t){return new Ue(this.root_,e,this.comparator_,!1,t)},e.prototype.getReverseIteratorFrom=function(e,t){return new Ue(this.root_,e,this.comparator_,!0,t)},e.prototype.getReverseIterator=function(e){return new Ue(this.root_,null,this.comparator_,!0,e)},e.EMPTY_NODE=new Be,e}();function We(e,t){return O(e.name,t.name)}function ze(e,t){return O(e,t)}var He,Ke,Ge,Qe=function(e){return"number"===typeof e?"number:"+D(e):"string:"+e},Ye=function(e){if(e.isLeafNode()){var t=e.val();Object(o.e)("string"===typeof t||"number"===typeof t||"object"===typeof t&&Object(o.i)(t,".sv"),"Priority must be a string or number.")}else Object(o.e)(e===Ne||e.isEmpty(),"priority of unexpected type.");Object(o.e)(e===Ne||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},$e=function(){function e(t,n){void 0===n&&(n=e.__childrenNodeConstructor.EMPTY_NODE),this.value_=t,this.priorityNode_=n,this.lazyHash_=null,Object(o.e)(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),Ye(this.priorityNode_)}return Object.defineProperty(e,"__childrenNodeConstructor",{get:function(){return He},set:function(e){He=e},enumerable:!1,configurable:!0}),e.prototype.isLeafNode=function(){return!0},e.prototype.getPriority=function(){return this.priorityNode_},e.prototype.updatePriority=function(t){return new e(this.value_,t)},e.prototype.getImmediateChild=function(t){return".priority"===t?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE},e.prototype.getChild=function(t){return Ee(t)?this:".priority"===ve(t)?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE},e.prototype.hasChild=function(){return!1},e.prototype.getPredecessorChildName=function(e,t){return null},e.prototype.updateImmediateChild=function(t,n){return".priority"===t?this.updatePriority(n):n.isEmpty()&&".priority"!==t?this:e.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,n).updatePriority(this.priorityNode_)},e.prototype.updateChild=function(t,n){var r=ve(t);return null===r?n:n.isEmpty()&&".priority"!==r?this:(Object(o.e)(".priority"!==r||1===ye(t),".priority must be the last token in a path"),this.updateImmediateChild(r,e.__childrenNodeConstructor.EMPTY_NODE.updateChild(ge(t),n)))},e.prototype.isEmpty=function(){return!1},e.prototype.numChildren=function(){return 0},e.prototype.forEachChild=function(e,t){return!1},e.prototype.val=function(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()},e.prototype.hash=function(){if(null===this.lazyHash_){var e="";this.priorityNode_.isEmpty()||(e+="priority:"+Qe(this.priorityNode_.val())+":");var t=typeof this.value_;e+=t+":",e+="number"===t?D(this.value_):this.value_,this.lazyHash_=v(e)}return this.lazyHash_},e.prototype.getValue=function(){return this.value_},e.prototype.compareTo=function(t){return t===e.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof e.__childrenNodeConstructor?-1:(Object(o.e)(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))},e.prototype.compareToLeafNode_=function(t){var n=typeof t.value_,r=typeof this.value_,i=e.VALUE_TYPE_ORDER.indexOf(n),a=e.VALUE_TYPE_ORDER.indexOf(r);return Object(o.e)(i>=0,"Unknown leaf type: "+n),Object(o.e)(a>=0,"Unknown leaf type: "+r),i===a?"object"===r?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:a-i},e.prototype.withIndex=function(){return this},e.prototype.isIndexed=function(){return!0},e.prototype.equals=function(e){if(e===this)return!0;if(e.isLeafNode()){var t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}return!1},e.VALUE_TYPE_ORDER=["object","boolean","number","string"],e}();var Xe,Je,Ze=new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(a.b)(t,e),t.prototype.compare=function(e,t){var n=e.node.getPriority(),r=t.node.getPriority(),i=n.compareTo(r);return 0===i?O(e.name,t.name):i},t.prototype.isDefinedOn=function(e){return!e.getPriority().isEmpty()},t.prototype.indexedValueChanged=function(e,t){return!e.getPriority().equals(t.getPriority())},t.prototype.minPost=function(){return je.MIN},t.prototype.maxPost=function(){return new je(k,new $e("[PRIORITY-POST]",Ge))},t.prototype.makePost=function(e,t){var n=Ke(e);return new je(t,new $e("[PRIORITY-POST]",n))},t.prototype.toString=function(){return".priority"},t}(Le)),et=Math.log(2),tt=function(){function e(e){var t;this.count=(t=e+1,parseInt(Math.log(t)/et,10)),this.current_=this.count-1;var n,r=(n=this.count,parseInt(Array(n+1).join("1"),2));this.bits_=e+1&r}return e.prototype.nextBitIsOne=function(){var e=!(this.bits_&1<<this.current_);return this.current_--,e},e}(),nt=function(e,t,n,r){e.sort(t);var i=function t(r,i){var o,a,s=i-r;if(0===s)return null;if(1===s)return o=e[r],a=n?n(o):o,new qe(a,o.node,qe.BLACK,null,null);var u=parseInt(s/2,10)+r,c=t(r,u),l=t(u+1,i);return o=e[u],a=n?n(o):o,new qe(a,o.node,qe.BLACK,c,l)},o=function(t){for(var r=null,o=null,a=e.length,s=function(t,r){var o=a-t,s=a;a-=t;var c=i(o+1,s),l=e[o],h=n?n(l):l;u(new qe(h,l.node,r,null,c))},u=function(e){r?(r.left=e,r=e):(o=e,r=e)},c=0;c<t.count;++c){var l=t.nextBitIsOne(),h=Math.pow(2,t.count-(c+1));l?s(h,qe.BLACK):(s(h,qe.BLACK),s(h,qe.RED))}return o}(new tt(e.length));return new Ve(r||t,o)},rt={},it=function(){function e(e,t){this.indexes_=e,this.indexSet_=t}return Object.defineProperty(e,"Default",{get:function(){return Object(o.e)(rt&&Ze,"ChildrenNode.ts has not been loaded"),Xe=Xe||new e({".priority":rt},{".priority":Ze})},enumerable:!1,configurable:!0}),e.prototype.get=function(e){var t=Object(o.z)(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof Ve?t:null},e.prototype.hasIndex=function(e){return Object(o.i)(this.indexSet_,e.toString())},e.prototype.addIndex=function(t,n){Object(o.e)(t!==Fe,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var r,i=[],s=!1,u=n.getIterator(je.Wrap),c=u.getNext();c;)s=s||t.isDefinedOn(c.node),i.push(c),c=u.getNext();r=s?nt(i,t.getCompare()):rt;var l=t.toString(),h=Object(a.a)({},this.indexSet_);h[l]=t;var f=Object(a.a)({},this.indexes_);return f[l]=r,new e(f,h)},e.prototype.addToIndexes=function(t,n){var r=this;return new e(Object(o.x)(this.indexes_,(function(e,i){var a=Object(o.z)(r.indexSet_,i);if(Object(o.e)(a,"Missing index implementation for "+i),e===rt){if(a.isDefinedOn(t.node)){for(var s=[],u=n.getIterator(je.Wrap),c=u.getNext();c;)c.name!==t.name&&s.push(c),c=u.getNext();return s.push(t),nt(s,a.getCompare())}return rt}var l=n.get(t.name),h=e;return l&&(h=h.remove(new je(t.name,l))),h.insert(t,t.node)})),this.indexSet_)},e.prototype.removeFromIndexes=function(t,n){return new e(Object(o.x)(this.indexes_,(function(e){if(e===rt)return e;var r=n.get(t.name);return r?e.remove(new je(t.name,r)):e})),this.indexSet_)},e}(),ot=function(){function e(e,t,n){this.children_=e,this.priorityNode_=t,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&Ye(this.priorityNode_),this.children_.isEmpty()&&Object(o.e)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return Object.defineProperty(e,"EMPTY_NODE",{get:function(){return Je||(Je=new e(new Ve(ze),null,it.Default))},enumerable:!1,configurable:!0}),e.prototype.isLeafNode=function(){return!1},e.prototype.getPriority=function(){return this.priorityNode_||Je},e.prototype.updatePriority=function(t){return this.children_.isEmpty()?this:new e(this.children_,t,this.indexMap_)},e.prototype.getImmediateChild=function(e){if(".priority"===e)return this.getPriority();var t=this.children_.get(e);return null===t?Je:t},e.prototype.getChild=function(e){var t=ve(e);return null===t?this:this.getImmediateChild(t).getChild(ge(e))},e.prototype.hasChild=function(e){return null!==this.children_.get(e)},e.prototype.updateImmediateChild=function(t,n){if(Object(o.e)(n,"We should always be passing snapshot nodes"),".priority"===t)return this.updatePriority(n);var r=new je(t,n),i=void 0,a=void 0;n.isEmpty()?(i=this.children_.remove(t),a=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(t,n),a=this.indexMap_.addToIndexes(r,this.children_));var s=i.isEmpty()?Je:this.priorityNode_;return new e(i,s,a)},e.prototype.updateChild=function(e,t){var n=ve(e);if(null===n)return t;Object(o.e)(".priority"!==ve(e)||1===ye(e),".priority must be the last token in a path");var r=this.getImmediateChild(n).updateChild(ge(e),t);return this.updateImmediateChild(n,r)},e.prototype.isEmpty=function(){return this.children_.isEmpty()},e.prototype.numChildren=function(){return this.children_.count()},e.prototype.val=function(t){if(this.isEmpty())return null;var n={},r=0,i=0,o=!0;if(this.forEachChild(Ze,(function(a,s){n[a]=s.val(t),r++,o&&e.INTEGER_REGEXP_.test(a)?i=Math.max(i,Number(a)):o=!1})),!t&&o&&i<2*r){var a=[];for(var s in n)a[s]=n[s];return a}return t&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n},e.prototype.hash=function(){if(null===this.lazyHash_){var e="";this.getPriority().isEmpty()||(e+="priority:"+Qe(this.getPriority().val())+":"),this.forEachChild(Ze,(function(t,n){var r=n.hash();""!==r&&(e+=":"+t+":"+r)})),this.lazyHash_=""===e?"":v(e)}return this.lazyHash_},e.prototype.getPredecessorChildName=function(e,t,n){var r=this.resolveIndex_(n);if(r){var i=r.getPredecessorKey(new je(e,t));return i?i.name:null}return this.children_.getPredecessorKey(e)},e.prototype.getFirstChildName=function(e){var t=this.resolveIndex_(e);if(t){var n=t.minKey();return n&&n.name}return this.children_.minKey()},e.prototype.getFirstChild=function(e){var t=this.getFirstChildName(e);return t?new je(t,this.children_.get(t)):null},e.prototype.getLastChildName=function(e){var t=this.resolveIndex_(e);if(t){var n=t.maxKey();return n&&n.name}return this.children_.maxKey()},e.prototype.getLastChild=function(e){var t=this.getLastChildName(e);return t?new je(t,this.children_.get(t)):null},e.prototype.forEachChild=function(e,t){var n=this.resolveIndex_(e);return n?n.inorderTraversal((function(e){return t(e.name,e.node)})):this.children_.inorderTraversal(t)},e.prototype.getIterator=function(e){return this.getIteratorFrom(e.minPost(),e)},e.prototype.getIteratorFrom=function(e,t){var n=this.resolveIndex_(t);if(n)return n.getIteratorFrom(e,(function(e){return e}));for(var r=this.children_.getIteratorFrom(e.name,je.Wrap),i=r.peek();null!=i&&t.compare(i,e)<0;)r.getNext(),i=r.peek();return r},e.prototype.getReverseIterator=function(e){return this.getReverseIteratorFrom(e.maxPost(),e)},e.prototype.getReverseIteratorFrom=function(e,t){var n=this.resolveIndex_(t);if(n)return n.getReverseIteratorFrom(e,(function(e){return e}));for(var r=this.children_.getReverseIteratorFrom(e.name,je.Wrap),i=r.peek();null!=i&&t.compare(i,e)>0;)r.getNext(),i=r.peek();return r},e.prototype.compareTo=function(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===at?-1:0},e.prototype.withIndex=function(t){if(t===Fe||this.indexMap_.hasIndex(t))return this;var n=this.indexMap_.addIndex(t,this.children_);return new e(this.children_,this.priorityNode_,n)},e.prototype.isIndexed=function(e){return e===Fe||this.indexMap_.hasIndex(e)},e.prototype.equals=function(e){if(e===this)return!0;if(e.isLeafNode())return!1;var t=e;if(this.getPriority().equals(t.getPriority())){if(this.children_.count()===t.children_.count()){for(var n=this.getIterator(Ze),r=t.getIterator(Ze),i=n.getNext(),o=r.getNext();i&&o;){if(i.name!==o.name||!i.node.equals(o.node))return!1;i=n.getNext(),o=r.getNext()}return null===i&&null===o}return!1}return!1},e.prototype.resolveIndex_=function(e){return e===Fe?null:this.indexMap_.get(e.toString())},e.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,e}(),at=new(function(e){function t(){return e.call(this,new Ve(ze),ot.EMPTY_NODE,it.Default)||this}return Object(a.b)(t,e),t.prototype.compareTo=function(e){return e===this?0:1},t.prototype.equals=function(e){return e===this},t.prototype.getPriority=function(){return this},t.prototype.getImmediateChild=function(e){return ot.EMPTY_NODE},t.prototype.isEmpty=function(){return!1},t}(ot));Object.defineProperties(je,{MIN:{value:new je(C,ot.EMPTY_NODE)},MAX:{value:new je(k,at)}}),Me.__EMPTY_NODE=ot.EMPTY_NODE,$e.__childrenNodeConstructor=ot,Ne=at,function(e){Ge=e}(at);function st(e,t){if(void 0===t&&(t=null),null===e)return ot.EMPTY_NODE;if("object"===typeof e&&".priority"in e&&(t=e[".priority"]),Object(o.e)(null===t||"string"===typeof t||"number"===typeof t||"object"===typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"===typeof e&&".value"in e&&null!==e[".value"]&&(e=e[".value"]),"object"!==typeof e||".sv"in e)return new $e(e,st(t));if(e instanceof Array){var n=ot.EMPTY_NODE;return A(e,(function(t,r){if(Object(o.i)(e,t)&&"."!==t.substring(0,1)){var i=st(r);!i.isLeafNode()&&i.isEmpty()||(n=n.updateImmediateChild(t,i))}})),n.updatePriority(st(t))}var r=[],i=!1;if(A(e,(function(e,t){if("."!==e.substring(0,1)){var n=st(t);n.isEmpty()||(i=i||!n.getPriority().isEmpty(),r.push(new je(e,n)))}})),0===r.length)return ot.EMPTY_NODE;var a=nt(r,We,(function(e){return e.name}),ze);if(i){var s=nt(r,Ze.getCompare());return new ot(a,st(t),new it({".priority":s},{".priority":Ze}))}return new ot(a,st(t),it.Default)}!function(e){Ke=e}(st);var ut=function(e){function t(t){var n=e.call(this)||this;return n.indexPath_=t,Object(o.e)(!Ee(t)&&".priority"!==ve(t),"Can't create PathIndex with empty path or .priority key"),n}return Object(a.b)(t,e),t.prototype.extractChild=function(e){return e.getChild(this.indexPath_)},t.prototype.isDefinedOn=function(e){return!e.getChild(this.indexPath_).isEmpty()},t.prototype.compare=function(e,t){var n=this.extractChild(e.node),r=this.extractChild(t.node),i=n.compareTo(r);return 0===i?O(e.name,t.name):i},t.prototype.makePost=function(e,t){var n=st(e),r=ot.EMPTY_NODE.updateChild(this.indexPath_,n);return new je(t,r)},t.prototype.maxPost=function(){var e=ot.EMPTY_NODE.updateChild(this.indexPath_,at);return new je(k,e)},t.prototype.toString=function(){return be(this.indexPath_,0).join("/")},t}(Le),ct=new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(a.b)(t,e),t.prototype.compare=function(e,t){var n=e.node.compareTo(t.node);return 0===n?O(e.name,t.name):n},t.prototype.isDefinedOn=function(e){return!0},t.prototype.indexedValueChanged=function(e,t){return!e.equals(t)},t.prototype.minPost=function(){return je.MIN},t.prototype.maxPost=function(){return je.MAX},t.prototype.makePost=function(e,t){var n=st(e);return new je(t,n)},t.prototype.toString=function(){return".value"},t}(Le)),lt="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",ht=function(){var e=0,t=[];return function(n){var r,i=n===e;e=n;var a=new Array(8);for(r=7;r>=0;r--)a[r]=lt.charAt(n%64),n=Math.floor(n/64);Object(o.e)(0===n,"Cannot push at time == 0");var s=a.join("");if(i){for(r=11;r>=0&&63===t[r];r--)t[r]=0;t[r]++}else for(r=0;r<12;r++)t[r]=Math.floor(64*Math.random());for(r=0;r<12;r++)s+=lt.charAt(t[r]);return Object(o.e)(20===s.length,"nextPushId: Length should be 20."),s}}(),ft=function(e){if("2147483647"===e)return"-";var t=F(e);if(null!=t)return""+(t+1);for(var n=new Array(e.length),r=0;r<n.length;r++)n[r]=e.charAt(r);if(n.length<786)return n.push("-"),n.join("");for(var i=n.length-1;i>=0&&"z"===n[i];)i--;if(-1===i)return k;var o=n[i],a=lt.charAt(lt.indexOf(o)+1);return n[i]=a,n.slice(0,i+1).join("")},dt=function(e){if("-2147483648"===e)return C;var t=F(e);if(null!=t)return""+(t-1);for(var n=new Array(e.length),r=0;r<n.length;r++)n[r]=e.charAt(r);return"-"===n[n.length-1]?1===n.length?"2147483647":(delete n[n.length-1],n.join("")):(n[n.length-1]=lt.charAt(lt.indexOf(n[n.length-1])-1),n.join("")+"z".repeat(786-n.length))};function pt(e){return{type:"value",snapshotNode:e}}function vt(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function yt(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function gt(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}var mt=function(){function e(e){this.index_=e}return e.prototype.updateChild=function(e,t,n,r,i,a){Object(o.e)(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");var s=e.getImmediateChild(t);return s.getChild(r).equals(n.getChild(r))&&s.isEmpty()===n.isEmpty()?e:(null!=a&&(n.isEmpty()?e.hasChild(t)?a.trackChildChange(yt(t,s)):Object(o.e)(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):s.isEmpty()?a.trackChildChange(vt(t,n)):a.trackChildChange(gt(t,n,s))),e.isLeafNode()&&n.isEmpty()?e:e.updateImmediateChild(t,n).withIndex(this.index_))},e.prototype.updateFullNode=function(e,t,n){return null!=n&&(e.isLeafNode()||e.forEachChild(Ze,(function(e,r){t.hasChild(e)||n.trackChildChange(yt(e,r))})),t.isLeafNode()||t.forEachChild(Ze,(function(t,r){if(e.hasChild(t)){var i=e.getImmediateChild(t);i.equals(r)||n.trackChildChange(gt(t,r,i))}else n.trackChildChange(vt(t,r))}))),t.withIndex(this.index_)},e.prototype.updatePriority=function(e,t){return e.isEmpty()?ot.EMPTY_NODE:e.updatePriority(t)},e.prototype.filtersNodes=function(){return!1},e.prototype.getIndexedFilter=function(){return this},e.prototype.getIndex=function(){return this.index_},e}(),bt=function(){function e(t){this.indexedFilter_=new mt(t.getIndex()),this.index_=t.getIndex(),this.startPost_=e.getStartPost_(t),this.endPost_=e.getEndPost_(t)}return e.prototype.getStartPost=function(){return this.startPost_},e.prototype.getEndPost=function(){return this.endPost_},e.prototype.matches=function(e){return this.index_.compare(this.getStartPost(),e)<=0&&this.index_.compare(e,this.getEndPost())<=0},e.prototype.updateChild=function(e,t,n,r,i,o){return this.matches(new je(t,n))||(n=ot.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,n,r,i,o)},e.prototype.updateFullNode=function(e,t,n){t.isLeafNode()&&(t=ot.EMPTY_NODE);var r=t.withIndex(this.index_);r=r.updatePriority(ot.EMPTY_NODE);var i=this;return t.forEachChild(Ze,(function(e,t){i.matches(new je(e,t))||(r=r.updateImmediateChild(e,ot.EMPTY_NODE))})),this.indexedFilter_.updateFullNode(e,r,n)},e.prototype.updatePriority=function(e,t){return e},e.prototype.filtersNodes=function(){return!0},e.prototype.getIndexedFilter=function(){return this.indexedFilter_},e.prototype.getIndex=function(){return this.index_},e.getStartPost_=function(e){if(e.hasStart()){var t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}return e.getIndex().minPost()},e.getEndPost_=function(e){if(e.hasEnd()){var t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}return e.getIndex().maxPost()},e}(),_t=function(){function e(e){this.rangedFilter_=new bt(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft()}return e.prototype.updateChild=function(e,t,n,r,i,o){return this.rangedFilter_.matches(new je(t,n))||(n=ot.EMPTY_NODE),e.getImmediateChild(t).equals(n)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,n,r,i,o):this.fullLimitUpdateChild_(e,t,n,i,o)},e.prototype.updateFullNode=function(e,t,n){var r;if(t.isLeafNode()||t.isEmpty())r=ot.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){r=ot.EMPTY_NODE.withIndex(this.index_);var i=void 0;i=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var o=0;i.hasNext()&&o<this.limit_;){var a=i.getNext();if(!(this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),a)<=0:this.index_.compare(a,this.rangedFilter_.getEndPost())<=0))break;r=r.updateImmediateChild(a.name,a.node),o++}}else{r=(r=t.withIndex(this.index_)).updatePriority(ot.EMPTY_NODE);var s=void 0,u=void 0,c=void 0;i=void 0;if(this.reverse_){i=r.getReverseIterator(this.index_),s=this.rangedFilter_.getEndPost(),u=this.rangedFilter_.getStartPost();var l=this.index_.getCompare();c=function(e,t){return l(t,e)}}else i=r.getIterator(this.index_),s=this.rangedFilter_.getStartPost(),u=this.rangedFilter_.getEndPost(),c=this.index_.getCompare();o=0;for(var h=!1;i.hasNext();){a=i.getNext();!h&&c(s,a)<=0&&(h=!0),h&&o<this.limit_&&c(a,u)<=0?o++:r=r.updateImmediateChild(a.name,ot.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,n)},e.prototype.updatePriority=function(e,t){return e},e.prototype.filtersNodes=function(){return!0},e.prototype.getIndexedFilter=function(){return this.rangedFilter_.getIndexedFilter()},e.prototype.getIndex=function(){return this.index_},e.prototype.fullLimitUpdateChild_=function(e,t,n,r,i){var a;if(this.reverse_){var s=this.index_.getCompare();a=function(e,t){return s(t,e)}}else a=this.index_.getCompare();var u=e;Object(o.e)(u.numChildren()===this.limit_,"");var c=new je(t,n),l=this.reverse_?u.getFirstChild(this.index_):u.getLastChild(this.index_),h=this.rangedFilter_.matches(c);if(u.hasChild(t)){for(var f=u.getImmediateChild(t),d=r.getChildAfterChild(this.index_,l,this.reverse_);null!=d&&(d.name===t||u.hasChild(d.name));)d=r.getChildAfterChild(this.index_,d,this.reverse_);var p=null==d?1:a(d,c);if(h&&!n.isEmpty()&&p>=0)return null!=i&&i.trackChildChange(gt(t,n,f)),u.updateImmediateChild(t,n);null!=i&&i.trackChildChange(yt(t,f));var v=u.updateImmediateChild(t,ot.EMPTY_NODE);return null!=d&&this.rangedFilter_.matches(d)?(null!=i&&i.trackChildChange(vt(d.name,d.node)),v.updateImmediateChild(d.name,d.node)):v}return n.isEmpty()?e:h&&a(l,c)>=0?(null!=i&&(i.trackChildChange(yt(l.name,l.node)),i.trackChildChange(vt(t,n))),u.updateImmediateChild(t,n).updateImmediateChild(l.name,ot.EMPTY_NODE)):e},e}(),wt=function(){function e(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Ze}return e.prototype.hasStart=function(){return this.startSet_},e.prototype.hasStartAfter=function(){return this.startAfterSet_},e.prototype.hasEndBefore=function(){return this.endBeforeSet_},e.prototype.isViewFromLeft=function(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_},e.prototype.getIndexStartValue=function(){return Object(o.e)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_},e.prototype.getIndexStartName=function(){return Object(o.e)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:C},e.prototype.hasEnd=function(){return this.endSet_},e.prototype.getIndexEndValue=function(){return Object(o.e)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_},e.prototype.getIndexEndName=function(){return Object(o.e)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:k},e.prototype.hasLimit=function(){return this.limitSet_},e.prototype.hasAnchoredLimit=function(){return this.limitSet_&&""!==this.viewFrom_},e.prototype.getLimit=function(){return Object(o.e)(this.limitSet_,"Only valid if limit has been set"),this.limit_},e.prototype.getIndex=function(){return this.index_},e.prototype.loadsAllData=function(){return!(this.startSet_||this.endSet_||this.limitSet_)},e.prototype.isDefault=function(){return this.loadsAllData()&&this.index_===Ze},e.prototype.copy=function(){var t=new e;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t},e}();function Et(e,t,n){var r=e.copy();return r.startSet_=!0,void 0===t&&(t=null),r.indexStartValue_=t,null!=n?(r.startNameSet_=!0,r.indexStartName_=n):(r.startNameSet_=!1,r.indexStartName_=""),r}function St(e,t,n){var r=e.copy();return r.endSet_=!0,void 0===t&&(t=null),r.indexEndValue_=t,void 0!==n?(r.endNameSet_=!0,r.indexEndName_=n):(r.endNameSet_=!1,r.indexEndName_=""),r}function Tt(e,t){var n=e.copy();return n.index_=t,n}function It(e){var t,n={};return e.isDefault()||(e.index_===Ze?t="$priority":e.index_===ct?t="$value":e.index_===Fe?t="$key":(Object(o.e)(e.index_ instanceof ut,"Unrecognized index type!"),t=e.index_.toString()),n.orderBy=Object(o.C)(t),e.startSet_&&(n.startAt=Object(o.C)(e.indexStartValue_),e.startNameSet_&&(n.startAt+=","+Object(o.C)(e.indexStartName_))),e.endSet_&&(n.endAt=Object(o.C)(e.indexEndValue_),e.endNameSet_&&(n.endAt+=","+Object(o.C)(e.indexEndName_))),e.limitSet_&&(e.isViewFromLeft()?n.limitToFirst=e.limit_:n.limitToLast=e.limit_)),n}function Ct(e){var t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_)),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_)),e.limitSet_){t.l=e.limit_;var n=e.viewFrom_;""===n&&(n=e.isViewFromLeft()?"l":"r"),t.vf=n}return e.index_!==Ze&&(t.i=e.index_.toString()),t}var kt=function(e){function t(t,n,r){var i=e.call(this)||this;return i.repoInfo_=t,i.onDataUpdate_=n,i.authTokenProvider_=r,i.log_=w("p:rest:"),i.listens_={},i}return Object(a.b)(t,e),t.prototype.reportStats=function(e){throw new Error("Method not implemented.")},t.getListenId_=function(e,t){return void 0!==t?"tag$"+t:(Object(o.e)(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())},t.prototype.listen=function(e,n,r,i){var a=this,s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);var u=t.getListenId_(e,r),c={};this.listens_[u]=c;var l=It(e._queryParams);this.restRequest_(s+".json",l,(function(e,t){var n=t;(404===e&&(n=null,e=null),null===e&&a.onDataUpdate_(s,n,!1,r),Object(o.z)(a.listens_,u)===c)&&i(e?401===e?"permission_denied":"rest_error:"+e:"ok",null)}))},t.prototype.unlisten=function(e,n){var r=t.getListenId_(e,n);delete this.listens_[r]},t.prototype.get=function(e){var t=this,n=It(e._queryParams),r=e._path.toString(),i=new o.a;return this.restRequest_(r+".json",n,(function(e,n){var o=n;404===e&&(o=null,e=null),null===e?(t.onDataUpdate_(r,o,!1,null),i.resolve(o)):i.reject(new Error(o))})),i.promise},t.prototype.refreshAuthToken=function(e){},t.prototype.restRequest_=function(e,t,n){var r=this;void 0===t&&(t={}),t.format="export",this.authTokenProvider_.getToken(!1).then((function(i){var a=i&&i.accessToken;a&&(t.auth=a);var s=(r.repoInfo_.secure?"https://":"http://")+r.repoInfo_.host+e+"?ns="+r.repoInfo_.namespace+Object(o.y)(t);r.log_("Sending REST request for "+s);var u=new XMLHttpRequest;u.onreadystatechange=function(){if(n&&4===u.readyState){r.log_("REST Response for "+s+" received. status:",u.status,"response:",u.responseText);var e=null;if(u.status>=200&&u.status<300){try{e=Object(o.w)(u.responseText)}catch(t){T("Failed to parse JSON response for "+s+": "+u.responseText)}n(null,e)}else 401!==u.status&&404!==u.status&&T("Got unsuccessful REST response for "+s+" Status: "+u.status),n(u.status);n=null}},u.open("GET",s,!0),u.send()}))},t}(le),Ot=function(){function e(){this.rootNode_=ot.EMPTY_NODE}return e.prototype.getNode=function(e){return this.rootNode_.getChild(e)},e.prototype.updateSnapshot=function(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)},e}();function xt(){return{value:null,children:new Map}}function Pt(e,t,n){if(Ee(t))e.value=n,e.children.clear();else if(null!==e.value)e.value=e.value.updateChild(t,n);else{var r=ve(t);e.children.has(r)||e.children.set(r,xt()),Pt(e.children.get(r),t=ge(t),n)}}function Nt(e,t){if(Ee(t))return e.value=null,e.children.clear(),!0;if(null!==e.value){if(e.value.isLeafNode())return!1;var n=e.value;return e.value=null,n.forEachChild(Ze,(function(t,n){Pt(e,new de(t),n)})),Nt(e,t)}if(e.children.size>0){var r=ve(t);if(t=ge(t),e.children.has(r))Nt(e.children.get(r),t)&&e.children.delete(r);return 0===e.children.size}return!0}function Rt(e,t,n){null!==e.value?n(t,e.value):function(e,t){e.children.forEach((function(e,n){t(n,e)}))}(e,(function(e,r){Rt(r,new de(t.toString()+"/"+e),n)}))}var At,Dt=function(){function e(e){this.collection_=e,this.last_=null}return e.prototype.get=function(){var e=this.collection_.get(),t=Object(a.a)({},e);return this.last_&&A(this.last_,(function(e,n){t[e]=t[e]-n})),this.last_=e,t},e}(),jt=function(){function e(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new Dt(e);var n=1e4+2e4*Math.random();q(this.reportStats_.bind(this),Math.floor(n))}return e.prototype.reportStats_=function(){var e=this,t=this.statsListener_.get(),n={},r=!1;A(t,(function(t,i){i>0&&Object(o.i)(e.statsToReport_,t)&&(n[t]=i,r=!0)})),r&&this.server_.reportStats(n),q(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))},e}();function Lt(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}!function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(At||(At={}));var Mt,Ft=function(){function e(e,t,n){this.path=e,this.affectedTree=t,this.revert=n,this.type=At.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}return e.prototype.operationForChild=function(t){if(Ee(this.path)){if(null!=this.affectedTree.value)return Object(o.e)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var n=this.affectedTree.subtree(new de(t));return new e(pe(),n,this.revert)}return Object(o.e)(ve(this.path)===t,"operationForChild called for unrelated child."),new e(ge(this.path),this.affectedTree,this.revert)},e}(),Ut=function(){function e(e,t){this.source=e,this.path=t,this.type=At.LISTEN_COMPLETE}return e.prototype.operationForChild=function(t){return Ee(this.path)?new e(this.source,pe()):new e(this.source,ge(this.path))},e}(),qt=function(){function e(e,t,n){this.source=e,this.path=t,this.snap=n,this.type=At.OVERWRITE}return e.prototype.operationForChild=function(t){return Ee(this.path)?new e(this.source,pe(),this.snap.getImmediateChild(t)):new e(this.source,ge(this.path),this.snap)},e}(),Bt=function(){function e(e,t,n){this.source=e,this.path=t,this.children=n,this.type=At.MERGE}return e.prototype.operationForChild=function(t){if(Ee(this.path)){var n=this.children.subtree(new de(t));return n.isEmpty()?null:n.value?new qt(this.source,pe(),n.value):new e(this.source,pe(),n)}return Object(o.e)(ve(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new e(this.source,ge(this.path),this.children)},e.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"},e}(),Vt=function(){function e(e,t,n){this.node_=e,this.fullyInitialized_=t,this.filtered_=n}return e.prototype.isFullyInitialized=function(){return this.fullyInitialized_},e.prototype.isFiltered=function(){return this.filtered_},e.prototype.isCompleteForPath=function(e){if(Ee(e))return this.isFullyInitialized()&&!this.filtered_;var t=ve(e);return this.isCompleteForChild(t)},e.prototype.isCompleteForChild=function(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)},e.prototype.getNode=function(){return this.node_},e}(),Wt=function(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()};function zt(e,t,n,r,i,a){var s=r.filter((function(e){return e.type===n}));s.sort((function(t,n){return function(e,t,n){if(null==t.childName||null==n.childName)throw Object(o.f)("Should only compare child_ events.");var r=new je(t.childName,t.snapshotNode),i=new je(n.childName,n.snapshotNode);return e.index_.compare(r,i)}(e,t,n)})),s.forEach((function(n){var r=function(e,t,n){return"value"===t.type||"child_removed"===t.type||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}(e,n,a);i.forEach((function(i){i.respondsTo(n.type)&&t.push(i.createEvent(r,e.query_))}))}))}function Ht(e,t){return{eventCache:e,serverCache:t}}function Kt(e,t,n,r){return Ht(new Vt(t,n,r),e.serverCache)}function Gt(e,t,n,r){return Ht(e.eventCache,new Vt(t,n,r))}function Qt(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function Yt(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}var $t=function(){function e(e,t){void 0===t&&(Mt||(Mt=new Ve(x)),t=Mt),this.value=e,this.children=t}return e.fromObject=function(t){var n=new e(null);return A(t,(function(e,t){n=n.set(new de(e),t)})),n},e.prototype.isEmpty=function(){return null===this.value&&this.children.isEmpty()},e.prototype.findRootMostMatchingPathAndValue=function(e,t){if(null!=this.value&&t(this.value))return{path:pe(),value:this.value};if(Ee(e))return null;var n=ve(e),r=this.children.get(n);if(null!==r){var i=r.findRootMostMatchingPathAndValue(ge(e),t);return null!=i?{path:we(new de(n),i.path),value:i.value}:null}return null},e.prototype.findRootMostValueAndPath=function(e){return this.findRootMostMatchingPathAndValue(e,(function(){return!0}))},e.prototype.subtree=function(t){if(Ee(t))return this;var n=ve(t),r=this.children.get(n);return null!==r?r.subtree(ge(t)):new e(null)},e.prototype.set=function(t,n){if(Ee(t))return new e(n,this.children);var r=ve(t),i=(this.children.get(r)||new e(null)).set(ge(t),n),o=this.children.insert(r,i);return new e(this.value,o)},e.prototype.remove=function(t){if(Ee(t))return this.children.isEmpty()?new e(null):new e(null,this.children);var n=ve(t),r=this.children.get(n);if(r){var i=r.remove(ge(t)),o=void 0;return o=i.isEmpty()?this.children.remove(n):this.children.insert(n,i),null===this.value&&o.isEmpty()?new e(null):new e(this.value,o)}return this},e.prototype.get=function(e){if(Ee(e))return this.value;var t=ve(e),n=this.children.get(t);return n?n.get(ge(e)):null},e.prototype.setTree=function(t,n){if(Ee(t))return n;var r=ve(t),i=(this.children.get(r)||new e(null)).setTree(ge(t),n),o=void 0;return o=i.isEmpty()?this.children.remove(r):this.children.insert(r,i),new e(this.value,o)},e.prototype.fold=function(e){return this.fold_(pe(),e)},e.prototype.fold_=function(e,t){var n={};return this.children.inorderTraversal((function(r,i){n[r]=i.fold_(we(e,r),t)})),t(e,this.value,n)},e.prototype.findOnPath=function(e,t){return this.findOnPath_(e,pe(),t)},e.prototype.findOnPath_=function(e,t,n){var r=!!this.value&&n(t,this.value);if(r)return r;if(Ee(e))return null;var i=ve(e),o=this.children.get(i);return o?o.findOnPath_(ge(e),we(t,i),n):null},e.prototype.foreachOnPath=function(e,t){return this.foreachOnPath_(e,pe(),t)},e.prototype.foreachOnPath_=function(t,n,r){if(Ee(t))return this;this.value&&r(n,this.value);var i=ve(t),o=this.children.get(i);return o?o.foreachOnPath_(ge(t),we(n,i),r):new e(null)},e.prototype.foreach=function(e){this.foreach_(pe(),e)},e.prototype.foreach_=function(e,t){this.children.inorderTraversal((function(n,r){r.foreach_(we(e,n),t)})),this.value&&t(e,this.value)},e.prototype.foreachChild=function(e){this.children.inorderTraversal((function(t,n){n.value&&e(t,n.value)}))},e}(),Xt=function(){function e(e){this.writeTree_=e}return e.empty=function(){return new e(new $t(null))},e}();function Jt(e,t,n){if(Ee(t))return new Xt(new $t(n));var r=e.writeTree_.findRootMostValueAndPath(t);if(null!=r){var i=r.path,o=r.value,a=Se(i,t);return o=o.updateChild(a,n),new Xt(e.writeTree_.set(i,o))}var s=new $t(n),u=e.writeTree_.setTree(t,s);return new Xt(u)}function Zt(e,t,n){var r=e;return A(n,(function(e,n){r=Jt(r,we(t,e),n)})),r}function en(e,t){if(Ee(t))return Xt.empty();var n=e.writeTree_.setTree(t,new $t(null));return new Xt(n)}function tn(e,t){return null!=nn(e,t)}function nn(e,t){var n=e.writeTree_.findRootMostValueAndPath(t);return null!=n?e.writeTree_.get(n.path).getChild(Se(n.path,t)):null}function rn(e){var t=[],n=e.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(Ze,(function(e,n){t.push(new je(e,n))})):e.writeTree_.children.inorderTraversal((function(e,n){null!=n.value&&t.push(new je(e,n.value))})),t}function on(e,t){if(Ee(t))return e;var n=nn(e,t);return new Xt(null!=n?new $t(n):e.writeTree_.subtree(t))}function an(e){return e.writeTree_.isEmpty()}function sn(e,t){return un(pe(),e.writeTree_,t)}function un(e,t,n){if(null!=t.value)return n.updateChild(e,t.value);var r=null;return t.children.inorderTraversal((function(t,i){".priority"===t?(Object(o.e)(null!==i.value,"Priority writes must always be leaf nodes"),r=i.value):n=un(we(e,t),i,n)})),n.getChild(e).isEmpty()||null===r||(n=n.updateChild(we(e,".priority"),r)),n}function cn(e,t){return En(t,e)}function ln(e,t){var n=e.allWrites.findIndex((function(e){return e.writeId===t}));Object(o.e)(n>=0,"removeWrite called with nonexistent writeId.");var r=e.allWrites[n];e.allWrites.splice(n,1);for(var i=r.visible,a=!1,s=e.allWrites.length-1;i&&s>=0;){var u=e.allWrites[s];u.visible&&(s>=n&&hn(u,r.path)?i=!1:Ce(r.path,u.path)&&(a=!0)),s--}if(i){if(a)return function(e){e.visibleWrites=dn(e.allWrites,fn,pe()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}(e),!0;r.snap?e.visibleWrites=en(e.visibleWrites,r.path):A(r.children,(function(t){e.visibleWrites=en(e.visibleWrites,we(r.path,t))}));return!0}return!1}function hn(e,t){if(e.snap)return Ce(e.path,t);for(var n in e.children)if(e.children.hasOwnProperty(n)&&Ce(we(e.path,n),t))return!0;return!1}function fn(e){return e.visible}function dn(e,t,n){for(var r=Xt.empty(),i=0;i<e.length;++i){var a=e[i];if(t(a)){var s=a.path,u=void 0;if(a.snap)Ce(n,s)?r=Jt(r,u=Se(n,s),a.snap):Ce(s,n)&&(u=Se(s,n),r=Jt(r,pe(),a.snap.getChild(u)));else{if(!a.children)throw Object(o.f)("WriteRecord should have .snap or .children");if(Ce(n,s))r=Zt(r,u=Se(n,s),a.children);else if(Ce(s,n))if(Ee(u=Se(s,n)))r=Zt(r,pe(),a.children);else{var c=Object(o.z)(a.children,ve(u));if(c){var l=c.getChild(ge(u));r=Jt(r,pe(),l)}}}}}return r}function pn(e,t,n,r,i){if(r||i){var o=on(e.visibleWrites,t);if(!i&&an(o))return n;if(i||null!=n||tn(o,pe())){return sn(dn(e.allWrites,(function(e){return(e.visible||i)&&(!r||!~r.indexOf(e.writeId))&&(Ce(e.path,t)||Ce(t,e.path))}),t),n||ot.EMPTY_NODE)}return null}var a=nn(e.visibleWrites,t);if(null!=a)return a;var s=on(e.visibleWrites,t);return an(s)?n:null!=n||tn(s,pe())?sn(s,n||ot.EMPTY_NODE):null}function vn(e,t,n,r){return pn(e.writeTree,e.treePath,t,n,r)}function yn(e,t){return function(e,t,n){var r=ot.EMPTY_NODE,i=nn(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(Ze,(function(e,t){r=r.updateImmediateChild(e,t)})),r;if(n){var o=on(e.visibleWrites,t);return n.forEachChild(Ze,(function(e,t){var n=sn(on(o,new de(e)),t);r=r.updateImmediateChild(e,n)})),rn(o).forEach((function(e){r=r.updateImmediateChild(e.name,e.node)})),r}return rn(on(e.visibleWrites,t)).forEach((function(e){r=r.updateImmediateChild(e.name,e.node)})),r}(e.writeTree,e.treePath,t)}function gn(e,t,n,r){return function(e,t,n,r,i){Object(o.e)(r||i,"Either existingEventSnap or existingServerSnap must exist");var a=we(t,n);if(tn(e.visibleWrites,a))return null;var s=on(e.visibleWrites,a);return an(s)?i.getChild(n):sn(s,i.getChild(n))}(e.writeTree,e.treePath,t,n,r)}function mn(e,t){return function(e,t){return nn(e.visibleWrites,t)}(e.writeTree,we(e.treePath,t))}function bn(e,t,n,r,i,o){return function(e,t,n,r,i,o,a){var s,u=on(e.visibleWrites,t),c=nn(u,pe());if(null!=c)s=c;else{if(null==n)return[];s=sn(u,n)}if((s=s.withIndex(a)).isEmpty()||s.isLeafNode())return[];for(var l=[],h=a.getCompare(),f=o?s.getReverseIteratorFrom(r,a):s.getIteratorFrom(r,a),d=f.getNext();d&&l.length<i;)0!==h(d,r)&&l.push(d),d=f.getNext();return l}(e.writeTree,e.treePath,t,n,r,i,o)}function _n(e,t,n){return function(e,t,n,r){var i=we(t,n),o=nn(e.visibleWrites,i);return null!=o?o:r.isCompleteForChild(n)?sn(on(e.visibleWrites,i),r.getNode().getImmediateChild(n)):null}(e.writeTree,e.treePath,t,n)}function wn(e,t){return En(we(e.treePath,t),e.writeTree)}function En(e,t){return{treePath:e,writeTree:t}}var Sn=function(){function e(){this.changeMap=new Map}return e.prototype.trackChildChange=function(e){var t=e.type,n=e.childName;Object(o.e)("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),Object(o.e)(".priority"!==n,"Only non-priority child changes can be tracked.");var r=this.changeMap.get(n);if(r){var i=r.type;if("child_added"===t&&"child_removed"===i)this.changeMap.set(n,gt(n,e.snapshotNode,r.snapshotNode));else if("child_removed"===t&&"child_added"===i)this.changeMap.delete(n);else if("child_removed"===t&&"child_changed"===i)this.changeMap.set(n,yt(n,r.oldSnap));else if("child_changed"===t&&"child_added"===i)this.changeMap.set(n,vt(n,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==i)throw Object(o.f)("Illegal combination of changes: "+e+" occurred after "+r);this.changeMap.set(n,gt(n,e.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,e)},e.prototype.getChanges=function(){return Array.from(this.changeMap.values())},e}(),Tn=new(function(){function e(){}return e.prototype.getCompleteChild=function(e){return null},e.prototype.getChildAfterChild=function(e,t,n){return null},e}()),In=function(){function e(e,t,n){void 0===n&&(n=null),this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=n}return e.prototype.getCompleteChild=function(e){var t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);var n=null!=this.optCompleteServerCache_?new Vt(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return _n(this.writes_,e,n)},e.prototype.getChildAfterChild=function(e,t,n){var r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Yt(this.viewCache_),i=bn(this.writes_,r,t,1,n,e);return 0===i.length?null:i[0]},e}();function Cn(e,t,n,r,i){var a,s,u=new Sn;if(n.type===At.OVERWRITE){var c=n;c.source.fromUser?a=xn(e,t,c.path,c.snap,r,i,u):(Object(o.e)(c.source.fromServer,"Unknown source."),s=c.source.tagged||t.serverCache.isFiltered()&&!Ee(c.path),a=On(e,t,c.path,c.snap,r,i,s,u))}else if(n.type===At.MERGE){var l=n;l.source.fromUser?a=function(e,t,n,r,i,o,a){var s=t;return r.foreach((function(r,u){var c=we(n,r);Pn(t,ve(c))&&(s=xn(e,s,c,u,i,o,a))})),r.foreach((function(r,u){var c=we(n,r);Pn(t,ve(c))||(s=xn(e,s,c,u,i,o,a))})),s}(e,t,l.path,l.children,r,i,u):(Object(o.e)(l.source.fromServer,"Unknown source."),s=l.source.tagged||t.serverCache.isFiltered(),a=Rn(e,t,l.path,l.children,r,i,s,u))}else if(n.type===At.ACK_USER_WRITE){var h=n;a=h.revert?function(e,t,n,r,i,a){var s;if(null!=mn(r,n))return t;var u=new In(r,t,i),c=t.eventCache.getNode(),l=void 0;if(Ee(n)||".priority"===ve(n)){var h=void 0;if(t.serverCache.isFullyInitialized())h=vn(r,Yt(t));else{var f=t.serverCache.getNode();Object(o.e)(f instanceof ot,"serverChildren would be complete if leaf node"),h=yn(r,f)}h=h,l=e.filter.updateFullNode(c,h,a)}else{var d=ve(n),p=_n(r,d,t.serverCache);null==p&&t.serverCache.isCompleteForChild(d)&&(p=c.getImmediateChild(d)),(l=null!=p?e.filter.updateChild(c,d,p,ge(n),u,a):t.eventCache.getNode().hasChild(d)?e.filter.updateChild(c,d,ot.EMPTY_NODE,ge(n),u,a):c).isEmpty()&&t.serverCache.isFullyInitialized()&&(s=vn(r,Yt(t))).isLeafNode()&&(l=e.filter.updateFullNode(l,s,a))}return s=t.serverCache.isFullyInitialized()||null!=mn(r,pe()),Kt(t,l,s,e.filter.filtersNodes())}(e,t,h.path,r,i,u):function(e,t,n,r,i,o,a){if(null!=mn(i,n))return t;var s=t.serverCache.isFiltered(),u=t.serverCache;if(null!=r.value){if(Ee(n)&&u.isFullyInitialized()||u.isCompleteForPath(n))return On(e,t,n,u.getNode().getChild(n),i,o,s,a);if(Ee(n)){var c=new $t(null);return u.getNode().forEachChild(Fe,(function(e,t){c=c.set(new de(e),t)})),Rn(e,t,n,c,i,o,s,a)}return t}var l=new $t(null);return r.foreach((function(e,t){var r=we(n,e);u.isCompleteForPath(r)&&(l=l.set(e,u.getNode().getChild(r)))})),Rn(e,t,n,l,i,o,s,a)}(e,t,h.path,h.affectedTree,r,i,u)}else{if(n.type!==At.LISTEN_COMPLETE)throw Object(o.f)("Unknown operation type: "+n.type);a=function(e,t,n,r,i){var o=t.serverCache,a=Gt(t,o.getNode(),o.isFullyInitialized()||Ee(n),o.isFiltered());return kn(e,a,n,r,Tn,i)}(e,t,n.path,r,u)}var f=u.getChanges();return function(e,t,n){var r=t.eventCache;if(r.isFullyInitialized()){var i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=Qt(e);(n.length>0||!e.eventCache.isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(pt(Qt(t)))}}(t,a,f),{viewCache:a,changes:f}}function kn(e,t,n,r,i,a){var s=t.eventCache;if(null!=mn(r,n))return t;var u=void 0,c=void 0;if(Ee(n))if(Object(o.e)(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){var l=Yt(t),h=yn(r,l instanceof ot?l:ot.EMPTY_NODE);u=e.filter.updateFullNode(t.eventCache.getNode(),h,a)}else{var f=vn(r,Yt(t));u=e.filter.updateFullNode(t.eventCache.getNode(),f,a)}else{var d=ve(n);if(".priority"===d){Object(o.e)(1===ye(n),"Can't have a priority with additional path components");var p=s.getNode(),v=gn(r,n,p,c=t.serverCache.getNode());u=null!=v?e.filter.updatePriority(p,v):s.getNode()}else{var y=ge(n),g=void 0;if(s.isCompleteForChild(d)){c=t.serverCache.getNode();var m=gn(r,n,s.getNode(),c);g=null!=m?s.getNode().getImmediateChild(d).updateChild(y,m):s.getNode().getImmediateChild(d)}else g=_n(r,d,t.serverCache);u=null!=g?e.filter.updateChild(s.getNode(),d,g,y,i,a):s.getNode()}}return Kt(t,u,s.isFullyInitialized()||Ee(n),e.filter.filtersNodes())}function On(e,t,n,r,i,o,a,s){var u,c=t.serverCache,l=a?e.filter:e.filter.getIndexedFilter();if(Ee(n))u=l.updateFullNode(c.getNode(),r,null);else if(l.filtersNodes()&&!c.isFiltered()){var h=c.getNode().updateChild(n,r);u=l.updateFullNode(c.getNode(),h,null)}else{var f=ve(n);if(!c.isCompleteForPath(n)&&ye(n)>1)return t;var d=ge(n),p=c.getNode().getImmediateChild(f).updateChild(d,r);u=".priority"===f?l.updatePriority(c.getNode(),p):l.updateChild(c.getNode(),f,p,d,Tn,null)}var v=Gt(t,u,c.isFullyInitialized()||Ee(n),l.filtersNodes());return kn(e,v,n,i,new In(i,v,o),s)}function xn(e,t,n,r,i,o,a){var s,u,c=t.eventCache,l=new In(i,t,o);if(Ee(n))u=e.filter.updateFullNode(t.eventCache.getNode(),r,a),s=Kt(t,u,!0,e.filter.filtersNodes());else{var h=ve(n);if(".priority"===h)u=e.filter.updatePriority(t.eventCache.getNode(),r),s=Kt(t,u,c.isFullyInitialized(),c.isFiltered());else{var f=ge(n),d=c.getNode().getImmediateChild(h),p=void 0;if(Ee(f))p=r;else{var v=l.getCompleteChild(h);p=null!=v?".priority"===me(f)&&v.getChild(_e(f)).isEmpty()?v:v.updateChild(f,r):ot.EMPTY_NODE}if(d.equals(p))s=t;else s=Kt(t,e.filter.updateChild(c.getNode(),h,p,f,l,a),c.isFullyInitialized(),e.filter.filtersNodes())}}return s}function Pn(e,t){return e.eventCache.isCompleteForChild(t)}function Nn(e,t,n){return n.foreach((function(e,n){t=t.updateChild(e,n)})),t}function Rn(e,t,n,r,i,o,a,s){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;var u,c=t;u=Ee(n)?r:new $t(null).setTree(n,r);var l=t.serverCache.getNode();return u.children.inorderTraversal((function(n,r){if(l.hasChild(n)){var u=Nn(0,t.serverCache.getNode().getImmediateChild(n),r);c=On(e,c,new de(n),u,i,o,a,s)}})),u.children.inorderTraversal((function(n,r){var u=!t.serverCache.isCompleteForChild(n)&&void 0===r.value;if(!l.hasChild(n)&&!u){var h=Nn(0,t.serverCache.getNode().getImmediateChild(n),r);c=On(e,c,new de(n),h,i,o,a,s)}})),c}var An,Dn=function(){function e(e,t){this.query_=e,this.eventRegistrations_=[];var n,r=this.query_._queryParams,i=new mt(r.getIndex()),o=(n=r).loadsAllData()?new mt(n.getIndex()):n.hasLimit()?new _t(n):new bt(n);this.processor_=function(e){return{filter:e}}(o);var a=t.serverCache,s=t.eventCache,u=i.updateFullNode(ot.EMPTY_NODE,a.getNode(),null),c=o.updateFullNode(ot.EMPTY_NODE,s.getNode(),null),l=new Vt(u,a.isFullyInitialized(),i.filtersNodes()),h=new Vt(c,s.isFullyInitialized(),o.filtersNodes());this.viewCache_=Ht(h,l),this.eventGenerator_=new Wt(this.query_)}return Object.defineProperty(e.prototype,"query",{get:function(){return this.query_},enumerable:!1,configurable:!0}),e}();function jn(e,t){var n=Yt(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!Ee(t)&&!n.getImmediateChild(ve(t)).isEmpty())?n.getChild(t):null}function Ln(e){return 0===e.eventRegistrations_.length}function Mn(e,t,n){var r=[];if(n){Object(o.e)(null==t,"A cancel should cancel all event registrations.");var i=e.query._path;e.eventRegistrations_.forEach((function(e){var t=e.createCancelEvent(n,i);t&&r.push(t)}))}if(t){for(var a=[],s=0;s<e.eventRegistrations_.length;++s){var u=e.eventRegistrations_[s];if(u.matches(t)){if(t.hasAnyCallback()){a=a.concat(e.eventRegistrations_.slice(s+1));break}}else a.push(u)}e.eventRegistrations_=a}else e.eventRegistrations_=[];return r}function Fn(e,t,n,r){t.type===At.MERGE&&null!==t.source.queryId&&(Object(o.e)(Yt(e.viewCache_),"We should always have a full cache before handling merges"),Object(o.e)(Qt(e.viewCache_),"Missing event cache, even though we have a server cache"));var i,a,s=e.viewCache_,u=Cn(e.processor_,s,t,n,r);return i=e.processor_,a=u.viewCache,Object(o.e)(a.eventCache.getNode().isIndexed(i.filter.getIndex()),"Event snap not indexed"),Object(o.e)(a.serverCache.getNode().isIndexed(i.filter.getIndex()),"Server snap not indexed"),Object(o.e)(u.viewCache.serverCache.isFullyInitialized()||!s.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=u.viewCache,Un(e,u.changes,u.viewCache.eventCache.getNode(),null)}function Un(e,t,n,r){var i=r?[r]:e.eventRegistrations_;return function(e,t,n,r){var i=[],o=[];return t.forEach((function(t){var n;"child_changed"===t.type&&e.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&o.push((n=t.childName,{type:"child_moved",snapshotNode:t.snapshotNode,childName:n}))})),zt(e,i,"child_removed",t,r,n),zt(e,i,"child_added",t,r,n),zt(e,i,"child_moved",o,r,n),zt(e,i,"child_changed",t,r,n),zt(e,i,"value",t,r,n),i}(e.eventGenerator_,t,n,i)}var qn,Bn=function(){this.views=new Map};function Vn(e,t,n,r){var i,s,u=t.source.queryId;if(null!==u){var c=e.views.get(u);return Object(o.e)(null!=c,"SyncTree gave us an op for an invalid query."),Fn(c,t,n,r)}var l=[];try{for(var h=Object(a.e)(e.views.values()),f=h.next();!f.done;f=h.next()){c=f.value;l=l.concat(Fn(c,t,n,r))}}catch(d){i={error:d}}finally{try{f&&!f.done&&(s=h.return)&&s.call(h)}finally{if(i)throw i.error}}return l}function Wn(e,t,n,r,i){var o=t._queryIdentifier,a=e.views.get(o);if(!a){var s=vn(n,i?r:null),u=!1;s?u=!0:r instanceof ot?(s=yn(n,r),u=!1):(s=ot.EMPTY_NODE,u=!1);var c=Ht(new Vt(s,u,!1),new Vt(r,i,!1));return new Dn(t,c)}return a}function zn(e,t,n,r,i,o){var a=Wn(e,t,r,i,o);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,a),function(e,t){e.eventRegistrations_.push(t)}(a,n),function(e,t){var n=e.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(Ze,(function(e,t){r.push(vt(e,t))})),n.isFullyInitialized()&&r.push(pt(n.getNode())),Un(e,r,n.getNode(),t)}(a,n)}function Hn(e,t,n,r){var i,s,u=t._queryIdentifier,c=[],l=[],h=$n(e);if("default"===u)try{for(var f=Object(a.e)(e.views.entries()),d=f.next();!d.done;d=f.next()){var p=Object(a.c)(d.value,2),v=p[0],y=p[1];l=l.concat(Mn(y,n,r)),Ln(y)&&(e.views.delete(v),y.query._queryParams.loadsAllData()||c.push(y.query))}}catch(g){i={error:g}}finally{try{d&&!d.done&&(s=f.return)&&s.call(f)}finally{if(i)throw i.error}}else(y=e.views.get(u))&&(l=l.concat(Mn(y,n,r)),Ln(y)&&(e.views.delete(u),y.query._queryParams.loadsAllData()||c.push(y.query)));return h&&!$n(e)&&c.push(new(Object(o.e)(An,"Reference.ts has not been loaded"),An)(t._repo,t._path)),{removed:c,events:l}}function Kn(e){var t,n,r=[];try{for(var i=Object(a.e)(e.views.values()),o=i.next();!o.done;o=i.next()){var s=o.value;s.query._queryParams.loadsAllData()||r.push(s)}}catch(u){t={error:u}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}function Gn(e,t){var n,r,i=null;try{for(var o=Object(a.e)(e.views.values()),s=o.next();!s.done;s=o.next()){var u=s.value;i=i||jn(u,t)}}catch(c){n={error:c}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return i}function Qn(e,t){if(t._queryParams.loadsAllData())return Xn(e);var n=t._queryIdentifier;return e.views.get(n)}function Yn(e,t){return null!=Qn(e,t)}function $n(e){return null!=Xn(e)}function Xn(e){var t,n;try{for(var r=Object(a.e)(e.views.values()),i=r.next();!i.done;i=r.next()){var o=i.value;if(o.query._queryParams.loadsAllData())return o}}catch(s){t={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}return null}var Jn=1,Zn=function(e){this.listenProvider_=e,this.syncPointTree_=new $t(null),this.pendingWriteTree_={visibleWrites:Xt.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map};function er(e,t,n,r,i){return function(e,t,n,r,i){Object(o.e)(r>e.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:i}),i&&(e.visibleWrites=Jt(e.visibleWrites,t,n)),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r,i),i?ur(e,new qt({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,n)):[]}function tr(e,t,n,r){!function(e,t,n,r){Object(o.e)(r>e.lastWriteId,"Stacking an older merge on top of newer ones"),e.allWrites.push({path:t,children:n,writeId:r,visible:!0}),e.visibleWrites=Zt(e.visibleWrites,t,n),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r);var i=$t.fromObject(n);return ur(e,new Bt({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,i))}function nr(e,t,n){void 0===n&&(n=!1);var r=function(e,t){for(var n=0;n<e.allWrites.length;n++){var r=e.allWrites[n];if(r.writeId===t)return r}return null}(e.pendingWriteTree_,t);if(ln(e.pendingWriteTree_,t)){var i=new $t(null);return null!=r.snap?i=i.set(pe(),!0):A(r.children,(function(e){i=i.set(new de(e),!0)})),ur(e,new Ft(r.path,i,n))}return[]}function rr(e,t,n){return ur(e,new qt({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,n))}function ir(e,t,n,r){var i=t._path,o=e.syncPointTree_.get(i),a=[];if(o&&("default"===t._queryIdentifier||Yn(o,t))){var s=Hn(o,t,n,r);0===o.views.size&&(e.syncPointTree_=e.syncPointTree_.remove(i));var u=s.removed;a=s.events;var c=-1!==u.findIndex((function(e){return e._queryParams.loadsAllData()})),l=e.syncPointTree_.findOnPath(i,(function(e,t){return $n(t)}));if(c&&!l){var h=e.syncPointTree_.subtree(i);if(!h.isEmpty())for(var f=function(e){return e.fold((function(e,t,n){if(t&&$n(t))return[Xn(t)];var r=[];return t&&(r=Kn(t)),A(n,(function(e,t){r=r.concat(t)})),r}))}(h),d=0;d<f.length;++d){var p=f[d],v=p.query,y=hr(e,p);e.listenProvider_.startListening(gr(v),fr(e,v),y.hashFn,y.onComplete)}}if(!l&&u.length>0&&!r)if(c){e.listenProvider_.stopListening(gr(t),null)}else u.forEach((function(t){var n=e.queryToTagMap.get(dr(t));e.listenProvider_.stopListening(gr(t),n)}));!function(e,t){for(var n=0;n<t.length;++n){var r=t[n];if(!r._queryParams.loadsAllData()){var i=dr(r),o=e.queryToTagMap.get(i);e.queryToTagMap.delete(i),e.tagToQueryMap.delete(o)}}}(e,u)}return a}function or(e,t,n){var r=t._path,i=null,a=!1;e.syncPointTree_.foreachOnPath(r,(function(e,t){var n=Se(e,r);i=i||Gn(t,n),a=a||$n(t)}));var s,u=e.syncPointTree_.get(r);(u?(a=a||$n(u),i=i||Gn(u,pe())):(u=new Bn,e.syncPointTree_=e.syncPointTree_.set(r,u)),null!=i)?s=!0:(s=!1,i=ot.EMPTY_NODE,e.syncPointTree_.subtree(r).foreachChild((function(e,t){var n=Gn(t,pe());n&&(i=i.updateImmediateChild(e,n))})));var c=Yn(u,t);if(!c&&!t._queryParams.loadsAllData()){var l=dr(t);Object(o.e)(!e.queryToTagMap.has(l),"View does not exist, but we have a tag");var h=Jn++;e.queryToTagMap.set(l,h),e.tagToQueryMap.set(h,l)}var f=zn(u,t,n,cn(e.pendingWriteTree_,r),i,s);if(!c&&!a){var d=Qn(u,t);f=f.concat(function(e,t,n){var r=t._path,i=fr(e,t),a=hr(e,n),s=e.listenProvider_.startListening(gr(t),i,a.hashFn,a.onComplete),u=e.syncPointTree_.subtree(r);if(i)Object(o.e)(!$n(u.value),"If we're adding a query, it shouldn't be shadowed");else for(var c=u.fold((function(e,t,n){if(!Ee(e)&&t&&$n(t))return[Xn(t).query];var r=[];return t&&(r=r.concat(Kn(t).map((function(e){return e.query})))),A(n,(function(e,t){r=r.concat(t)})),r})),l=0;l<c.length;++l){var h=c[l];e.listenProvider_.stopListening(gr(h),fr(e,h))}return s}(e,t,d))}return f}function ar(e,t,n){var r=e.pendingWriteTree_,i=e.syncPointTree_.findOnPath(t,(function(e,n){var r=Gn(n,Se(e,t));if(r)return r}));return pn(r,t,i,n,!0)}function sr(e,t){var n=t._path,r=null;e.syncPointTree_.foreachOnPath(n,(function(e,t){var i=Se(e,n);r=r||Gn(t,i)}));var i=e.syncPointTree_.get(n);i?r=r||Gn(i,pe()):(i=new Bn,e.syncPointTree_=e.syncPointTree_.set(n,i));var o=null!=r,a=o?new Vt(r,!0,!1):null;return function(e){return Qt(e.viewCache_)}(Wn(i,t,cn(e.pendingWriteTree_,t._path),o?a.getNode():ot.EMPTY_NODE,o))}function ur(e,t){return cr(t,e.syncPointTree_,null,cn(e.pendingWriteTree_,pe()))}function cr(e,t,n,r){if(Ee(e.path))return lr(e,t,n,r);var i=t.get(pe());null==n&&null!=i&&(n=Gn(i,pe()));var o=[],a=ve(e.path),s=e.operationForChild(a),u=t.children.get(a);if(u&&s){var c=n?n.getImmediateChild(a):null,l=wn(r,a);o=o.concat(cr(s,u,c,l))}return i&&(o=o.concat(Vn(i,e,r,n))),o}function lr(e,t,n,r){var i=t.get(pe());null==n&&null!=i&&(n=Gn(i,pe()));var o=[];return t.children.inorderTraversal((function(t,i){var a=n?n.getImmediateChild(t):null,s=wn(r,t),u=e.operationForChild(t);u&&(o=o.concat(lr(u,i,a,s)))})),i&&(o=o.concat(Vn(i,e,r,n))),o}function hr(e,t){var n=t.query,r=fr(e,n);return{hashFn:function(){return(function(e){return e.viewCache_.serverCache.getNode()}(t)||ot.EMPTY_NODE).hash()},onComplete:function(t){if("ok"===t)return r?function(e,t,n){var r=pr(e,n);if(r){var i=vr(r),o=i.path,a=i.queryId,s=Se(o,t);return yr(e,o,new Ut(Lt(a),s))}return[]}(e,n._path,r):function(e,t){return ur(e,new Ut({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(e,n._path);var i=function(e,t){var n="Unknown Error";"too_big"===e?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===e?n="Client doesn't have permission to access the desired data.":"unavailable"===e&&(n="The service is unavailable");var r=new Error(e+" at "+t._path.toString()+": "+n);return r.code=e.toUpperCase(),r}(t,n);return ir(e,n,null,i)}}}function fr(e,t){var n=dr(t);return e.queryToTagMap.get(n)}function dr(e){return e._path.toString()+"$"+e._queryIdentifier}function pr(e,t){return e.tagToQueryMap.get(t)}function vr(e){var t=e.indexOf("$");return Object(o.e)(-1!==t&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new de(e.substr(0,t))}}function yr(e,t,n){var r=e.syncPointTree_.get(t);return Object(o.e)(r,"Missing sync point for query tag that we're tracking"),Vn(r,n,cn(e.pendingWriteTree_,t),null)}function gr(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new(Object(o.e)(qn,"Reference.ts has not been loaded"),qn)(e._repo,e._path):e}var mr=function(){function e(e){this.node_=e}return e.prototype.getImmediateChild=function(t){return new e(this.node_.getImmediateChild(t))},e.prototype.node=function(){return this.node_},e}(),br=function(){function e(e,t){this.syncTree_=e,this.path_=t}return e.prototype.getImmediateChild=function(t){var n=we(this.path_,t);return new e(this.syncTree_,n)},e.prototype.node=function(){return ar(this.syncTree_,this.path_)},e}(),_r=function(e,t,n){return e&&"object"===typeof e?(Object(o.e)(".sv"in e,"Unexpected leaf node or priority contents"),"string"===typeof e[".sv"]?wr(e[".sv"],t,n):"object"===typeof e[".sv"]?Er(e[".sv"],t):void Object(o.e)(!1,"Unexpected server value: "+JSON.stringify(e,null,2))):e},wr=function(e,t,n){switch(e){case"timestamp":return n.timestamp;default:Object(o.e)(!1,"Unexpected server value: "+e)}},Er=function(e,t,n){e.hasOwnProperty("increment")||Object(o.e)(!1,"Unexpected server value: "+JSON.stringify(e,null,2));var r=e.increment;"number"!==typeof r&&Object(o.e)(!1,"Unexpected increment value: "+r);var i=t.node();if(Object(o.e)(null!==i&&"undefined"!==typeof i,"Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;var a=i.getValue();return"number"!==typeof a?r:a+r},Sr=function(e,t,n,r){return Ir(t,new br(n,e),r)},Tr=function(e,t,n){return Ir(e,new mr(t),n)};function Ir(e,t,n){var r,i=e.getPriority().val(),o=_r(i,t.getImmediateChild(".priority"),n);if(e.isLeafNode()){var a=e,s=_r(a.getValue(),t,n);return s!==a.getValue()||o!==a.getPriority().val()?new $e(s,st(o)):e}var u=e;return r=u,o!==u.getPriority().val()&&(r=r.updatePriority(new $e(o))),u.forEachChild(Ze,(function(e,i){var o=Ir(i,t.getImmediateChild(e),n);o!==i&&(r=r.updateImmediateChild(e,o))})),r}var Cr=function(e,t,n){void 0===e&&(e=""),void 0===t&&(t=null),void 0===n&&(n={children:{},childCount:0}),this.name=e,this.parent=t,this.node=n};function kr(e,t){for(var n=t instanceof de?t:new de(t),r=e,i=ve(n);null!==i;){var a=Object(o.z)(r.node.children,i)||{children:{},childCount:0};r=new Cr(i,r,a),i=ve(n=ge(n))}return r}function Or(e){return e.node.value}function xr(e,t){e.node.value=t,Dr(e)}function Pr(e){return e.node.childCount>0}function Nr(e,t){A(e.node.children,(function(n,r){t(new Cr(n,e,r))}))}function Rr(e,t,n,r){n&&!r&&t(e),Nr(e,(function(e){Rr(e,t,!0,r)})),n&&r&&t(e)}function Ar(e){return new de(null===e.parent?e.name:Ar(e.parent)+"/"+e.name)}function Dr(e){null!==e.parent&&function(e,t,n){var r=function(e){return void 0===Or(e)&&!Pr(e)}(n),i=Object(o.i)(e.node.children,t);r&&i?(delete e.node.children[t],e.node.childCount--,Dr(e)):r||i||(e.node.children[t]=n.node,e.node.childCount++,Dr(e))}(e.parent,e.name,e)}var jr=/[\[\].#$\/\u0000-\u001F\u007F]/,Lr=/[\[\].#$\u0000-\u001F\u007F]/,Mr=10485760,Fr=function(e){return"string"===typeof e&&0!==e.length&&!jr.test(e)},Ur=function(e){return"string"===typeof e&&0!==e.length&&!Lr.test(e)},qr=function(e){return null===e||"string"===typeof e||"number"===typeof e&&!I(e)||e&&"object"===typeof e&&Object(o.i)(e,".sv")},Br=function(e,t,n,r){r&&void 0===t||Vr(Object(o.m)(e,"value"),t,n)},Vr=function e(t,n,r){var i=r instanceof de?new ke(r,t):r;if(void 0===n)throw new Error(t+"contains undefined "+xe(i));if("function"===typeof n)throw new Error(t+"contains a function "+xe(i)+" with contents = "+n.toString());if(I(n))throw new Error(t+"contains "+n.toString()+" "+xe(i));if("string"===typeof n&&n.length>Mr/3&&Object(o.A)(n)>Mr)throw new Error(t+"contains a string greater than "+"10485760 utf8 bytes "+xe(i)+" ('"+n.substring(0,50)+"...')");if(n&&"object"===typeof n){var a=!1,s=!1;if(A(n,(function(n,r){if(".value"===n)a=!0;else if(".priority"!==n&&".sv"!==n&&(s=!0,!Fr(n)))throw new Error(t+" contains an invalid key ("+n+") "+xe(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');!function(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=Object(o.A)(t),Oe(e)}(i,n),e(t,r,i),function(e){var t=e.parts_.pop();e.byteLength_-=Object(o.A)(t),e.parts_.length>0&&(e.byteLength_-=1)}(i)})),a&&s)throw new Error(t+' contains ".value" child '+xe(i)+" in addition to actual children.")}},Wr=function(e,t,n,r){if(!r||void 0!==t){var i=Object(o.m)(e,"values");if(!t||"object"!==typeof t||Array.isArray(t))throw new Error(i+" must be an object containing the children to replace.");var a=[];A(t,(function(e,t){var r=new de(e);if(Vr(i,t,we(n,r)),".priority"===me(r)&&!qr(t))throw new Error(i+"contains an invalid value for '"+r.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");a.push(r)})),function(e,t){var n,r;for(n=0;n<t.length;n++)for(var i=be(r=t[n]),o=0;o<i.length;o++)if(".priority"===i[o]&&o===i.length-1);else if(!Fr(i[o]))throw new Error(e+"contains an invalid key ("+i[o]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');t.sort(Te);var a=null;for(n=0;n<t.length;n++){if(r=t[n],null!==a&&Ce(a,r))throw new Error(e+"contains a path "+a.toString()+" that is ancestor of another path "+r.toString());a=r}}(i,a)}},zr=function(e,t,n){if(!n||void 0!==t){if(I(t))throw new Error(Object(o.m)(e,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!qr(t))throw new Error(Object(o.m)(e,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},Hr=function(e,t,n){if(!n||void 0!==t)switch(t){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(Object(o.m)(e,"eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},Kr=function(e,t,n,r){if((!r||void 0!==n)&&!Fr(n))throw new Error(Object(o.m)(e,t)+'was an invalid key = "'+n+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},Gr=function(e,t,n,r){if((!r||void 0!==n)&&!Ur(n))throw new Error(Object(o.m)(e,t)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},Qr=function(e,t){if(".info"===ve(t))throw new Error(e+" failed = Can't modify data under /.info/")},Yr=function(e,t){var n=t.path.toString();if("string"!==typeof t.repoInfo.host||0===t.repoInfo.host.length||!Fr(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==n.length&&!function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),Ur(e)}(n))throw new Error(Object(o.m)(e,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},$r=function(e,t,n,r){if((!r||void 0!==n)&&"boolean"!==typeof n)throw new Error(Object(o.m)(e,t)+"must be a boolean.")},Xr=function(){this.eventLists_=[],this.recursionDepth_=0};function Jr(e,t){for(var n=null,r=0;r<t.length;r++){var i=t[r],o=i.getPath();null===n||Ie(o,n.path)||(e.eventLists_.push(n),n=null),null===n&&(n={events:[],path:o}),n.events.push(i)}n&&e.eventLists_.push(n)}function Zr(e,t,n){Jr(e,n),ti(e,(function(e){return Ie(e,t)}))}function ei(e,t,n){Jr(e,n),ti(e,(function(e){return Ce(e,t)||Ce(t,e)}))}function ti(e,t){e.recursionDepth_++;for(var n=!0,r=0;r<e.eventLists_.length;r++){var i=e.eventLists_[r];if(i)t(i.path)?(ni(e.eventLists_[r]),e.eventLists_[r]=null):n=!1}n&&(e.eventLists_=[]),e.recursionDepth_--}function ni(e){for(var t=0;t<e.events.length;t++){var n=e.events[t];if(null!==n){e.events[t]=null;var r=n.getEventRunner();g&&_("event: "+n.toString()),U(r)}}}var ri="repo_interrupt",ii=function(){function e(e,t,n){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=n,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Xr,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=xt(),this.transactionQueueTree_=new Cr,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}return e.prototype.toString=function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host},e}();function oi(e,t,n){if(e.stats_=J(e.repoInfo_),e.forceRestClient_||("object"===typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)e.server_=new kt(e.repoInfo_,(function(t,n,r,i){ui(e,t,n,r,i)}),e.authTokenProvider_),setTimeout((function(){return ci(e,!0)}),0);else{if("undefined"!==typeof n&&null!==n){if("object"!==typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Object(o.C)(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}e.persistentConnection_=new De(e.repoInfo_,t,(function(t,n,r,i){ui(e,t,n,r,i)}),(function(t){ci(e,t)}),(function(t){!function(e,t){A(t,(function(t,n){li(e,t,n)}))}(e,t)}),e.authTokenProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener((function(t){e.server_.refreshAuthToken(t)})),e.statsReporter_=function(e,t){var n=e.toString();return X[n]||(X[n]=t()),X[n]}(e.repoInfo_,(function(){return new jt(e.stats_,e.server_)})),e.infoData_=new Ot,e.infoSyncTree_=new Zn({startListening:function(t,n,r,i){var o=[],a=e.infoData_.getNode(t._path);return a.isEmpty()||(o=rr(e.infoSyncTree_,t._path,a),setTimeout((function(){i("ok")}),0)),o},stopListening:function(){}}),li(e,"connected",!1),e.serverSyncTree_=new Zn({startListening:function(t,n,r,i){return e.server_.listen(t,r,n,(function(n,r){var o=i(n,r);ei(e.eventQueue_,t._path,o)})),[]},stopListening:function(t,n){e.server_.unlisten(t,n)}})}function ai(e){var t=e.infoData_.getNode(new de(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function si(e){return(t=(t={timestamp:ai(e)})||{}).timestamp=t.timestamp||(new Date).getTime(),t;var t}function ui(e,t,n,r,i){e.dataUpdateCount++;var a=new de(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;var s=[];if(i)if(r){var u=Object(o.x)(n,(function(e){return st(e)}));s=function(e,t,n,r){var i=pr(e,r);if(i){var o=vr(i),a=o.path,s=o.queryId,u=Se(a,t),c=$t.fromObject(n);return yr(e,a,new Bt(Lt(s),u,c))}return[]}(e.serverSyncTree_,a,u,i)}else{var c=st(n);s=function(e,t,n,r){var i=pr(e,r);if(null!=i){var o=vr(i),a=o.path,s=o.queryId,u=Se(a,t);return yr(e,a,new qt(Lt(s),u,n))}return[]}(e.serverSyncTree_,a,c,i)}else if(r){var l=Object(o.x)(n,(function(e){return st(e)}));s=function(e,t,n){var r=$t.fromObject(n);return ur(e,new Bt({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,r))}(e.serverSyncTree_,a,l)}else{var h=st(n);s=rr(e.serverSyncTree_,a,h)}var f=a;s.length>0&&(f=wi(e,a)),ei(e.eventQueue_,f,s)}function ci(e,t){li(e,"connected",t),!1===t&&function(e){gi(e,"onDisconnectEvents");var t=si(e),n=xt();Rt(e.onDisconnect_,pe(),(function(r,i){var o=Sr(r,i,e.serverSyncTree_,t);Pt(n,r,o)}));var r=[];Rt(n,pe(),(function(t,n){r=r.concat(rr(e.serverSyncTree_,t,n));var i=Ci(e,t);wi(e,i)})),e.onDisconnect_=xt(),ei(e.eventQueue_,pe(),r)}(e)}function li(e,t,n){var r=new de("/.info/"+t),i=st(n);e.infoData_.updateSnapshot(r,i);var o=rr(e.infoSyncTree_,r,i);ei(e.eventQueue_,r,o)}function hi(e){return e.nextWriteId_++}function fi(e,t,n,r,i){gi(e,"set",{path:t.toString(),value:n,priority:r});var o=si(e),a=st(n,r),s=ar(e.serverSyncTree_,t),u=Tr(a,s,o),c=hi(e),l=er(e.serverSyncTree_,t,u,c,!0);Jr(e.eventQueue_,l),e.server_.put(t.toString(),a.val(!0),(function(n,r){var o="ok"===n;o||T("set at "+t+" failed: "+n);var a=nr(e.serverSyncTree_,c,!o);ei(e.eventQueue_,t,a),mi(e,i,n,r)}));var h=Ci(e,t);wi(e,h),ei(e.eventQueue_,h,[])}function di(e,t,n){e.server_.onDisconnectCancel(t.toString(),(function(r,i){"ok"===r&&Nt(e.onDisconnect_,t),mi(e,n,r,i)}))}function pi(e,t,n,r){var i=st(n);e.server_.onDisconnectPut(t.toString(),i.val(!0),(function(n,o){"ok"===n&&Pt(e.onDisconnect_,t,i),mi(e,r,n,o)}))}function vi(e,t,n){var r;r=".info"===ve(t._path)?ir(e.infoSyncTree_,t,n):ir(e.serverSyncTree_,t,n),Zr(e.eventQueue_,t._path,r)}function yi(e){e.persistentConnection_&&e.persistentConnection_.interrupt(ri)}function gi(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r="";e.persistentConnection_&&(r=e.persistentConnection_.id+":"),_.apply(void 0,Object(a.d)([r],Object(a.c)(t)))}function mi(e,t,n,r){t&&U((function(){if("ok"===n)t(null);else{var e=(n||"error").toUpperCase(),i=e;r&&(i+=": "+r);var o=new Error(i);o.code=e,t(o)}}))}function bi(e,t,n){return ar(e.serverSyncTree_,t,n)||ot.EMPTY_NODE}function _i(e,t){if(void 0===t&&(t=e.transactionQueueTree_),t||Ii(e,t),Or(t)){var n=Si(e,t);Object(o.e)(n.length>0,"Sending zero length transaction queue"),n.every((function(e){return 0===e.status}))&&function(e,t,n){for(var r=n.map((function(e){return e.currentWriteId})),i=bi(e,t,r),a=i,s=i.hash(),u=0;u<n.length;u++){var c=n[u];Object(o.e)(0===c.status,"tryToSendTransactionQueue_: items in queue should all be run."),c.status=1,c.retryCount++;var l=Se(t,c.path);a=a.updateChild(l,c.currentOutputSnapshotRaw)}var h=a.val(!0),f=t;e.server_.put(f.toString(),h,(function(r){gi(e,"transaction put response",{path:f.toString(),status:r});var i=[];if("ok"===r){for(var o=[],a=function(t){n[t].status=2,i=i.concat(nr(e.serverSyncTree_,n[t].currentWriteId)),n[t].onComplete&&o.push((function(){return n[t].onComplete(null,!0,n[t].currentOutputSnapshotResolved)})),n[t].unwatcher()},s=0;s<n.length;s++)a(s);Ii(e,kr(e.transactionQueueTree_,t)),_i(e,e.transactionQueueTree_),ei(e.eventQueue_,t,i);for(s=0;s<o.length;s++)U(o[s])}else{if("datastale"===r)for(s=0;s<n.length;s++)3===n[s].status?n[s].status=4:n[s].status=0;else{T("transaction at "+f.toString()+" failed: "+r);for(s=0;s<n.length;s++)n[s].status=4,n[s].abortReason=r}wi(e,t)}}),s)}(e,Ar(t),n)}else Pr(t)&&Nr(t,(function(t){_i(e,t)}))}function wi(e,t){var n=Ei(e,t),r=Ar(n);return function(e,t,n){if(0===t.length)return;for(var r=[],i=[],a=t.filter((function(e){return 0===e.status})).map((function(e){return e.currentWriteId})),s=function(s){var u,c,l=t[s],h=Se(n,l.path),f=!1;if(Object(o.e)(null!==h,"rerunTransactionsUnderNode_: relativePath should not be null."),4===l.status)f=!0,u=l.abortReason,i=i.concat(nr(e.serverSyncTree_,l.currentWriteId,!0));else if(0===l.status)if(l.retryCount>=25)f=!0,u="maxretry",i=i.concat(nr(e.serverSyncTree_,l.currentWriteId,!0));else{var d=bi(e,l.path,a);l.currentInputSnapshot=d;var p=t[s].update(d.val());if(void 0!==p){Vr("transaction failed: Data returned ",p,l.path);var v=st(p);"object"===typeof p&&null!=p&&Object(o.i)(p,".priority")||(v=v.updatePriority(d.getPriority()));var y=l.currentWriteId,g=si(e),m=Tr(v,d,g);l.currentOutputSnapshotRaw=v,l.currentOutputSnapshotResolved=m,l.currentWriteId=hi(e),a.splice(a.indexOf(y),1),i=(i=i.concat(er(e.serverSyncTree_,l.path,m,l.currentWriteId,l.applyLocally))).concat(nr(e.serverSyncTree_,y,!0))}else f=!0,u="nodata",i=i.concat(nr(e.serverSyncTree_,l.currentWriteId,!0))}ei(e.eventQueue_,n,i),i=[],f&&(t[s].status=2,c=t[s].unwatcher,setTimeout(c,Math.floor(0)),t[s].onComplete&&("nodata"===u?r.push((function(){return t[s].onComplete(null,!1,t[s].currentInputSnapshot)})):r.push((function(){return t[s].onComplete(new Error(u),!1,null)}))))},u=0;u<t.length;u++)s(u);Ii(e,e.transactionQueueTree_);for(u=0;u<r.length;u++)U(r[u]);_i(e,e.transactionQueueTree_)}(e,Si(e,n),r),r}function Ei(e,t){var n,r=e.transactionQueueTree_;for(n=ve(t);null!==n&&void 0===Or(r);)r=kr(r,n),n=ve(t=ge(t));return r}function Si(e,t){var n=[];return Ti(e,t,n),n.sort((function(e,t){return e.order-t.order})),n}function Ti(e,t,n){var r=Or(t);if(r)for(var i=0;i<r.length;i++)n.push(r[i]);Nr(t,(function(t){Ti(e,t,n)}))}function Ii(e,t){var n=Or(t);if(n){for(var r=0,i=0;i<n.length;i++)2!==n[i].status&&(n[r]=n[i],r++);n.length=r,xr(t,n.length>0?n:void 0)}Nr(t,(function(t){Ii(e,t)}))}function Ci(e,t){var n=Ar(Ei(e,t)),r=kr(e.transactionQueueTree_,t);return function(e,t,n){for(var r=n?e:e.parent;null!==r;){if(t(r))return!0;r=r.parent}}(r,(function(t){ki(e,t)})),ki(e,r),Rr(r,(function(t){ki(e,t)})),n}function ki(e,t){var n=Or(t);if(n){for(var r=[],i=[],a=-1,s=0;s<n.length;s++)3===n[s].status||(1===n[s].status?(Object(o.e)(a===s-1,"All SENT items should be at beginning of queue."),a=s,n[s].status=3,n[s].abortReason="set"):(Object(o.e)(0===n[s].status,"Unexpected transaction status in abort"),n[s].unwatcher(),i=i.concat(nr(e.serverSyncTree_,n[s].currentWriteId,!0)),n[s].onComplete&&r.push(n[s].onComplete.bind(null,new Error("set"),!1,null))));-1===a?xr(t,void 0):n.length=a+1,ei(e.eventQueue_,Ar(t),i);for(s=0;s<r.length;s++)U(r[s])}}var Oi=function(e,t){var n=xi(e),r=n.namespace;"firebase.com"===n.domain&&S(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),r&&"undefined"!==r||"localhost"===n.domain||S("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||"undefined"!==typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&T("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().");var i="ws"===n.scheme||"wss"===n.scheme;return{repoInfo:new G(n.host,n.secure,r,t,i,"",r!==n.subdomain),path:new de(n.pathString)}},xi=function(e){var t="",n="",r="",i="",o="",s=!0,u="https",c=443;if("string"===typeof e){var l=e.indexOf("//");l>=0&&(u=e.substring(0,l-1),e=e.substring(l+2));var h=e.indexOf("/");-1===h&&(h=e.length);var f=e.indexOf("?");-1===f&&(f=e.length),t=e.substring(0,Math.min(h,f)),h<f&&(i=function(e){for(var t="",n=e.split("/"),r=0;r<n.length;r++)if(n[r].length>0){var i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch(o){}t+="/"+i}return t}(e.substring(h,f)));var d=function(e){var t,n,r={};"?"===e.charAt(0)&&(e=e.substring(1));try{for(var i=Object(a.e)(e.split("&")),o=i.next();!o.done;o=i.next()){var s=o.value;if(0!==s.length){var u=s.split("=");2===u.length?r[decodeURIComponent(u[0])]=decodeURIComponent(u[1]):T("Invalid query segment '"+s+"' in query '"+e+"'")}}}catch(c){t={error:c}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}(e.substring(Math.min(e.length,f)));(l=t.indexOf(":"))>=0?(s="https"===u||"wss"===u,c=parseInt(t.substring(l+1),10)):l=t.length;var p=t.slice(0,l);if("localhost"===p.toLowerCase())n="localhost";else if(p.split(".").length<=2)n=p;else{var v=t.indexOf(".");r=t.substring(0,v).toLowerCase(),n=t.substring(v+1),o=r}"ns"in d&&(o=d.ns)}return{host:t,port:c,domain:n,subdomain:r,secure:s,scheme:u,pathString:i,namespace:o}},Pi=function(){function e(e,t,n,r){this.eventType=e,this.eventRegistration=t,this.snapshot=n,this.prevName=r}return e.prototype.getPath=function(){var e=this.snapshot.ref;return"value"===this.eventType?e._path:e.parent._path},e.prototype.getEventType=function(){return this.eventType},e.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},e.prototype.toString=function(){return this.getPath().toString()+":"+this.eventType+":"+Object(o.C)(this.snapshot.exportVal())},e}(),Ni=function(){function e(e,t,n){this.eventRegistration=e,this.error=t,this.path=n}return e.prototype.getPath=function(){return this.path},e.prototype.getEventType=function(){return"cancel"},e.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},e.prototype.toString=function(){return this.path.toString()+":cancel"},e}(),Ri=function(){function e(e,t){this.snapshotCallback=e,this.cancelCallback=t}return e.prototype.onValue=function(e,t){this.snapshotCallback.call(null,e,t)},e.prototype.onCancel=function(e){return Object(o.e)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)},Object.defineProperty(e.prototype,"hasCancelCallback",{get:function(){return!!this.cancelCallback},enumerable:!1,configurable:!0}),e.prototype.matches=function(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context},e}(),Ai=function(){function e(e,t){this._repo=e,this._path=t}return e.prototype.cancel=function(){var e=new o.a;return di(this._repo,this._path,e.wrapCallback((function(){}))),e.promise},e.prototype.remove=function(){Qr("OnDisconnect.remove",this._path);var e=new o.a;return pi(this._repo,this._path,null,e.wrapCallback((function(){}))),e.promise},e.prototype.set=function(e){Qr("OnDisconnect.set",this._path),Br("OnDisconnect.set",e,this._path,!1);var t=new o.a;return pi(this._repo,this._path,e,t.wrapCallback((function(){}))),t.promise},e.prototype.setWithPriority=function(e,t){Qr("OnDisconnect.setWithPriority",this._path),Br("OnDisconnect.setWithPriority",e,this._path,!1),zr("OnDisconnect.setWithPriority",t,!1);var n=new o.a;return function(e,t,n,r,i){var o=st(n,r);e.server_.onDisconnectPut(t.toString(),o.val(!0),(function(n,r){"ok"===n&&Pt(e.onDisconnect_,t,o),mi(0,i,n,r)}))}(this._repo,this._path,e,t,n.wrapCallback((function(){}))),n.promise},e.prototype.update=function(e){Qr("OnDisconnect.update",this._path),Wr("OnDisconnect.update",e,this._path,!1);var t=new o.a;return function(e,t,n,r){if(Object(o.q)(n))return _("onDisconnect().update() called with empty data.  Don't do anything."),void mi(0,r,"ok",void 0);e.server_.onDisconnectMerge(t.toString(),n,(function(i,o){"ok"===i&&A(n,(function(n,r){var i=st(r);Pt(e.onDisconnect_,we(t,n),i)})),mi(0,r,i,o)}))}(this._repo,this._path,e,t.wrapCallback((function(){}))),t.promise},e}(),Di=function(){function e(e,t,n,r){this._repo=e,this._path=t,this._queryParams=n,this._orderByCalled=r}return Object.defineProperty(e.prototype,"key",{get:function(){return Ee(this._path)?null:me(this._path)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ref",{get:function(){return new Fi(this._repo,this._path)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_queryIdentifier",{get:function(){var e=Ct(this._queryParams),t=N(e);return"{}"===t?"default":t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_queryObject",{get:function(){return Ct(this._queryParams)},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){if(!((t=Object(o.n)(t))instanceof e))return!1;var n=this._repo===t._repo,r=Ie(this._path,t._path),i=this._queryIdentifier===t._queryIdentifier;return n&&r&&i},e.prototype.toJSON=function(){return this.toString()},e.prototype.toString=function(){return this._repo.toString()+function(e){for(var t="",n=e.pieceNum_;n<e.pieces_.length;n++)""!==e.pieces_[n]&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}(this._path)},e}();function ji(e,t){if(!0===e._orderByCalled)throw new Error(t+": You can't combine multiple orderBy calls.")}function Li(e){var t=null,n=null;if(e.hasStart()&&(t=e.getIndexStartValue()),e.hasEnd()&&(n=e.getIndexEndValue()),e.getIndex()===Fe){var r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(e.hasStart()){if(e.getIndexStartName()!==C)throw new Error(r);if("string"!==typeof t)throw new Error(i)}if(e.hasEnd()){if(e.getIndexEndName()!==k)throw new Error(r);if("string"!==typeof n)throw new Error(i)}}else if(e.getIndex()===Ze){if(null!=t&&!qr(t)||null!=n&&!qr(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(Object(o.e)(e.getIndex()instanceof ut||e.getIndex()===ct,"unknown index type."),null!=t&&"object"===typeof t||null!=n&&"object"===typeof n)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function Mi(e){if(e.hasStart()&&e.hasEnd()&&e.hasLimit()&&!e.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}var Fi=function(e){function t(t,n){return e.call(this,t,n,new wt,!1)||this}return Object(a.b)(t,e),Object.defineProperty(t.prototype,"parent",{get:function(){var e=_e(this._path);return null===e?null:new t(this._repo,e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){for(var e=this;null!==e.parent;)e=e.parent;return e},enumerable:!1,configurable:!0}),t}(Di),Ui=function(){function e(e,t,n){this._node=e,this.ref=t,this._index=n}return Object.defineProperty(e.prototype,"priority",{get:function(){return this._node.getPriority().val()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"key",{get:function(){return this.ref.key},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._node.numChildren()},enumerable:!1,configurable:!0}),e.prototype.child=function(t){var n=new de(t),r=Vi(this.ref,t);return new e(this._node.getChild(n),r,Ze)},e.prototype.exists=function(){return!this._node.isEmpty()},e.prototype.exportVal=function(){return this._node.val(!0)},e.prototype.forEach=function(t){var n=this;return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(function(r,i){return t(new e(i,Vi(n.ref,r),Ze))}))},e.prototype.hasChild=function(e){var t=new de(e);return!this._node.getChild(t).isEmpty()},e.prototype.hasChildren=function(){return!this._node.isLeafNode()&&!this._node.isEmpty()},e.prototype.toJSON=function(){return this.exportVal()},e.prototype.val=function(){return this._node.val()},e}();function qi(e,t){return(e=Object(o.n)(e))._checkNotDeleted("ref"),void 0!==t?Vi(e._root,t):e._root}function Bi(e,t){(e=Object(o.n)(e))._checkNotDeleted("refFromURL");var n=Oi(t,e._repo.repoInfo_.nodeAdmin);Yr("refFromURL",n);var r=n.repoInfo;return e._repo.repoInfo_.isCustomHost()||r.host===e._repo.repoInfo_.host||S("refFromURL: Host name does not match the current database: (found "+r.host+" but expected "+e._repo.repoInfo_.host+")"),qi(e,n.path.toString())}function Vi(e,t){var n,r,i,a;return null===ve((e=Object(o.n)(e))._path)?(n="child",r="path",a=!1,(i=t)&&(i=i.replace(/^\/*\.info(\/|$)/,"/")),Gr(n,r,i,a)):Gr("child","path",t,!1),new Fi(e._repo,we(e._path,t))}function Wi(e,t){e=Object(o.n)(e),Qr("push",e._path),Br("push",t,e._path,!0);var n,r=ai(e._repo),i=ht(r),a=Vi(e,i),s=Vi(e,i);return n=null!=t?Hi(s,t).then((function(){return s})):Promise.resolve(s),a.then=n.then.bind(n),a.catch=n.then.bind(n,void 0),a}function zi(e){return Qr("remove",e._path),Hi(e,null)}function Hi(e,t){e=Object(o.n)(e),Qr("set",e._path),Br("set",t,e._path,!1);var n=new o.a;return fi(e._repo,e._path,t,null,n.wrapCallback((function(){}))),n.promise}function Ki(e,t){e=Object(o.n)(e),Qr("setPriority",e._path),zr("setPriority",t,!1);var n=new o.a;return fi(e._repo,we(e._path,".priority"),t,null,n.wrapCallback((function(){}))),n.promise}function Gi(e,t,n){if(Qr("setWithPriority",e._path),Br("setWithPriority",t,e._path,!1),zr("setWithPriority",n,!1),".length"===e.key||".keys"===e.key)throw"setWithPriority failed: "+e.key+" is a read-only object.";var r=new o.a;return fi(e._repo,e._path,t,n,r.wrapCallback((function(){}))),r.promise}function Qi(e,t){Wr("update",t,e._path,!1);var n=new o.a;return function(e,t,n,r){gi(e,"update",{path:t.toString(),value:n});var i=!0,o=si(e),a={};if(A(n,(function(n,r){i=!1,a[n]=Sr(we(t,n),st(r),e.serverSyncTree_,o)})),i)_("update() called with empty data.  Don't do anything."),mi(0,r,"ok",void 0);else{var s=hi(e),u=tr(e.serverSyncTree_,t,a,s);Jr(e.eventQueue_,u),e.server_.merge(t.toString(),n,(function(n,i){var o="ok"===n;o||T("update at "+t+" failed: "+n);var a=nr(e.serverSyncTree_,s,!o),u=a.length>0?wi(e,t):t;ei(e.eventQueue_,u,a),mi(0,r,n,i)})),A(n,(function(n){var r=Ci(e,we(t,n));wi(e,r)})),ei(e.eventQueue_,t,[])}}(e._repo,e._path,t,n.wrapCallback((function(){}))),n.promise}function Yi(e){return function(e,t){var n=sr(e.serverSyncTree_,t);return null!=n?Promise.resolve(n):e.server_.get(t).then((function(n){var r=st(n),i=rr(e.serverSyncTree_,t._path,r);return Zr(e.eventQueue_,t._path,i),Promise.resolve(r)}),(function(n){return gi(e,"get for query "+Object(o.C)(t)+" failed: "+n),Promise.reject(new Error(n))}))}((e=Object(o.n)(e))._repo,e).then((function(t){return new Ui(t,new Fi(e._repo,e._path),e._queryParams.getIndex())}))}var $i=function(){function e(e){this.callbackContext=e}return e.prototype.respondsTo=function(e){return"value"===e},e.prototype.createEvent=function(e,t){var n=t._queryParams.getIndex();return new Pi("value",this,new Ui(e.snapshotNode,new Fi(t._repo,t._path),n))},e.prototype.getEventRunner=function(e){var t=this;return"cancel"===e.getEventType()?function(){return t.callbackContext.onCancel(e.error)}:function(){return t.callbackContext.onValue(e.snapshot,null)}},e.prototype.createCancelEvent=function(e,t){return this.callbackContext.hasCancelCallback?new Ni(this,e,t):null},e.prototype.matches=function(t){return t instanceof e&&(!t.callbackContext||!this.callbackContext||t.callbackContext.matches(this.callbackContext))},e.prototype.hasAnyCallback=function(){return null!==this.callbackContext},e}(),Xi=function(){function e(e,t){this.eventType=e,this.callbackContext=t}return e.prototype.respondsTo=function(e){var t="children_added"===e?"child_added":e;return t="children_removed"===t?"child_removed":t,this.eventType===t},e.prototype.createCancelEvent=function(e,t){return this.callbackContext.hasCancelCallback?new Ni(this,e,t):null},e.prototype.createEvent=function(e,t){Object(o.e)(null!=e.childName,"Child events should have a childName.");var n=Vi(new Fi(t._repo,t._path),e.childName),r=t._queryParams.getIndex();return new Pi(e.type,this,new Ui(e.snapshotNode,n,r),e.prevName)},e.prototype.getEventRunner=function(e){var t=this;return"cancel"===e.getEventType()?function(){return t.callbackContext.onCancel(e.error)}:function(){return t.callbackContext.onValue(e.snapshot,e.prevName)}},e.prototype.matches=function(t){return t instanceof e&&(this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext)))},e.prototype.hasAnyCallback=function(){return!!this.callbackContext},e}();function Ji(e,t,n,r,i){var o;if("object"===typeof r&&(o=void 0,i=r),"function"===typeof r&&(o=r),i&&i.onlyOnce){var a=n,s=function(t,n){a(t,n),vi(e._repo,e,c)};s.userCallback=n.userCallback,s.context=n.context,n=s}var u=new Ri(n,o||void 0),c="value"===t?new $i(u):new Xi(t,u);return function(e,t,n){var r;r=".info"===ve(t._path)?or(e.infoSyncTree_,t,n):or(e.serverSyncTree_,t,n),Zr(e.eventQueue_,t._path,r)}(e._repo,e,c),function(){return vi(e._repo,e,c)}}function Zi(e,t,n,r){return Ji(e,"value",t,n,r)}function eo(e,t,n,r){return Ji(e,"child_added",t,n,r)}function to(e,t,n,r){return Ji(e,"child_changed",t,n,r)}function no(e,t,n,r){return Ji(e,"child_moved",t,n,r)}function ro(e,t,n,r){return Ji(e,"child_removed",t,n,r)}function io(e,t,n){var r=null,i=n?new Ri(n):null;"value"===t?r=new $i(i):t&&(r=new Xi(t,i)),vi(e._repo,e,r)}var oo=function(){},ao=function(e){function t(t,n){var r=e.call(this)||this;return r._value=t,r._key=n,r}return Object(a.b)(t,e),t.prototype._apply=function(e){Br("endAt",this._value,e._path,!0);var t=St(e._queryParams,this._value,this._key);if(Mi(t),Li(t),e._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Di(e._repo,e._path,t,e._orderByCalled)},t}(oo);function so(e,t){return Kr("endAt","key",t,!0),new ao(e,t)}var uo=function(e){function t(t,n){var r=e.call(this)||this;return r._value=t,r._key=n,r}return Object(a.b)(t,e),t.prototype._apply=function(e){Br("endBefore",this._value,e._path,!1);var t=function(e,t,n){var r;return e.index_===Fe?("string"===typeof t&&(t=dt(t)),r=St(e,t,n)):r=St(e,t,null==n?C:dt(n)),r.endBeforeSet_=!0,r}(e._queryParams,this._value,this._key);if(Mi(t),Li(t),e._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Di(e._repo,e._path,t,e._orderByCalled)},t}(oo);function co(e,t){return Kr("endBefore","key",t,!0),new uo(e,t)}var lo=function(e){function t(t,n){var r=e.call(this)||this;return r._value=t,r._key=n,r}return Object(a.b)(t,e),t.prototype._apply=function(e){Br("startAt",this._value,e._path,!0);var t=Et(e._queryParams,this._value,this._key);if(Mi(t),Li(t),e._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Di(e._repo,e._path,t,e._orderByCalled)},t}(oo);function ho(e,t){return void 0===e&&(e=null),Kr("startAt","key",t,!0),new lo(e,t)}var fo=function(e){function t(t,n){var r=e.call(this)||this;return r._value=t,r._key=n,r}return Object(a.b)(t,e),t.prototype._apply=function(e){Br("startAfter",this._value,e._path,!1);var t=function(e,t,n){var r;e.index_===Fe?("string"===typeof t&&(t=ft(t)),r=Et(e,t,n)):r=Et(e,t,null==n?k:ft(n));return r.startAfterSet_=!0,r}(e._queryParams,this._value,this._key);if(Mi(t),Li(t),e._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new Di(e._repo,e._path,t,e._orderByCalled)},t}(oo);function po(e,t){return Kr("startAfter","key",t,!0),new fo(e,t)}var vo=function(e){function t(t){var n=e.call(this)||this;return n._limit=t,n}return Object(a.b)(t,e),t.prototype._apply=function(e){if(e._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new Di(e._repo,e._path,function(e,t){var n=e.copy();return n.limitSet_=!0,n.limit_=t,n.viewFrom_="l",n}(e._queryParams,this._limit),e._orderByCalled)},t}(oo);function yo(e){if("number"!==typeof e||Math.floor(e)!==e||e<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new vo(e)}var go=function(e){function t(t){var n=e.call(this)||this;return n._limit=t,n}return Object(a.b)(t,e),t.prototype._apply=function(e){if(e._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new Di(e._repo,e._path,function(e,t){var n=e.copy();return n.limitSet_=!0,n.limit_=t,n.viewFrom_="r",n}(e._queryParams,this._limit),e._orderByCalled)},t}(oo);function mo(e){if("number"!==typeof e||Math.floor(e)!==e||e<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new go(e)}var bo=function(e){function t(t){var n=e.call(this)||this;return n._path=t,n}return Object(a.b)(t,e),t.prototype._apply=function(e){ji(e,"orderByChild");var t=new de(this._path);if(Ee(t))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");var n=new ut(t),r=Tt(e._queryParams,n);return Li(r),new Di(e._repo,e._path,r,!0)},t}(oo);function _o(e){if("$key"===e)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===e)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===e)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return Gr("orderByChild","path",e,!1),new bo(e)}var wo=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(a.b)(t,e),t.prototype._apply=function(e){ji(e,"orderByKey");var t=Tt(e._queryParams,Fe);return Li(t),new Di(e._repo,e._path,t,!0)},t}(oo);function Eo(){return new wo}var So=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(a.b)(t,e),t.prototype._apply=function(e){ji(e,"orderByPriority");var t=Tt(e._queryParams,Ze);return Li(t),new Di(e._repo,e._path,t,!0)},t}(oo);function To(){return new So}var Io=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(a.b)(t,e),t.prototype._apply=function(e){ji(e,"orderByValue");var t=Tt(e._queryParams,ct);return Li(t),new Di(e._repo,e._path,t,!0)},t}(oo);function Co(){return new Io}var ko=function(e){function t(t,n){var r=e.call(this)||this;return r._value=t,r._key=n,r}return Object(a.b)(t,e),t.prototype._apply=function(e){if(Br("equalTo",this._value,e._path,!1),e._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(e._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new ao(this._value,this._key)._apply(new lo(this._value,this._key)._apply(e))},t}(oo);function Oo(e,t){return Kr("equalTo","key",t,!0),new ko(e,t)}function xo(e){for(var t,n,r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];var s=Object(o.n)(e);try{for(var u=Object(a.e)(r),c=u.next();!c.done;c=u.next()){var l=c.value;s=l._apply(s)}}catch(h){t={error:h}}finally{try{c&&!c.done&&(n=u.return)&&n.call(u)}finally{if(t)throw t.error}}return s}!function(e){Object(o.e)(!An,"__referenceConstructor has already been defined"),An=e}(Fi),function(e){Object(o.e)(!qn,"__referenceConstructor has already been defined"),qn=e}(Fi);var Po={},No=!1;function Ro(t,n,r,i){var o=r||t.options.databaseURL;void 0===o&&(t.options.projectId||S("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),_("Using default host for project ",t.options.projectId),o=t.options.projectId+"-default-rtdb.firebaseio.com");var a,s=Oi(o,i),u=s.repoInfo,c=void 0;"undefined"!==typeof e&&(c=Object({NODE_ENV:"production",PUBLIC_URL:"/React-Forms-Project",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).FIREBASE_DATABASE_EMULATOR_HOST),c?(a=!0,o="http://"+c+"?ns="+u.namespace,u=(s=Oi(o,i)).repoInfo):a=!s.repoInfo.secure;var l=i&&a?new V:new B(t.name,t.options,n);Yr("Invalid Firebase Database URL",s),Ee(s.path)||S("Database URL must point to the root of a Firebase Database (not including a child path).");var h=function(e,t,n){var r=Po[t.name];r||(r={},Po[t.name]=r);var i=r[e.toURLString()];i&&S("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call.");return i=new ii(e,No,n),r[e.toURLString()]=i,i}(u,t,l);return new Ao(h,t)}var Ao=function(){function e(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}return Object.defineProperty(e.prototype,"_repo",{get:function(){return this._instanceStarted||(oi(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_root",{get:function(){return this._rootInternal||(this._rootInternal=new Fi(this._repo,pe())),this._rootInternal},enumerable:!1,configurable:!0}),e.prototype._delete=function(){return this._checkNotDeleted("delete"),function(e,t){var n=Po[t];n&&n[e.key]===e||S("Database "+t+"("+e.repoInfo_+") has already been deleted."),yi(e),delete n[e.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null,Promise.resolve()},e.prototype._checkNotDeleted=function(e){null===this._rootInternal&&S("Cannot call "+e+" on a deleted database.")},e}();function Do(e,t,n){(e=Object(o.n)(e))._checkNotDeleted("useEmulator"),e._instanceStarted&&S("Cannot call useEmulator() after instance has already been initialized."),function(e,t,n){e.repoInfo_=new G(t+":"+n,!1,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams),e.repoInfo_.nodeAdmin&&(e.authTokenProvider_=new V)}(e._repoInternal,t,n)}function jo(e){(e=Object(o.n)(e))._checkNotDeleted("goOffline"),yi(e._repo)}function Lo(e){var t;(e=Object(o.n)(e))._checkNotDeleted("goOnline"),(t=e._repo).persistentConnection_&&t.persistentConnection_.resume(ri)}function Mo(e,t){b(e,t)}var Fo={".sv":"timestamp"};var Uo=function(){function e(e,t){this.committed=e,this.snapshot=t}return e.prototype.toJSON=function(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}},e}();function qo(e,t,n){var r;if(e=Object(o.n)(e),Qr("Reference.transaction",e._path),".length"===e.key||".keys"===e.key)throw"Reference.transaction failed: "+e.key+" is a read-only object.";var i=null===(r=null===n||void 0===n?void 0:n.applyLocally)||void 0===r||r,a=new o.a,s=Zi(e,(function(){}));return function(e,t,n,r,i,a){gi(e,"transaction on "+t);var s={path:t,update:n,onComplete:r,status:null,order:p(),applyLocally:a,retryCount:0,unwatcher:i,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},u=bi(e,t,void 0);s.currentInputSnapshot=u;var c=s.update(u.val());if(void 0===c)s.unwatcher(),s.currentOutputSnapshotRaw=null,s.currentOutputSnapshotResolved=null,s.onComplete&&s.onComplete(null,!1,s.currentInputSnapshot);else{Vr("transaction failed: Data returned ",c,s.path),s.status=0;var l=kr(e.transactionQueueTree_,t),h=Or(l)||[];h.push(s),xr(l,h);var f=void 0;"object"===typeof c&&null!==c&&Object(o.i)(c,".priority")?(f=Object(o.z)(c,".priority"),Object(o.e)(qr(f),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):f=(ar(e.serverSyncTree_,t)||ot.EMPTY_NODE).getPriority().val();var d=si(e),v=st(c,f),y=Tr(v,u,d);s.currentOutputSnapshotRaw=v,s.currentOutputSnapshotResolved=y,s.currentWriteId=hi(e);var g=er(e.serverSyncTree_,t,y,s.currentWriteId,s.applyLocally);ei(e.eventQueue_,t,g),_i(e,e.transactionQueueTree_)}}(e._repo,e._path,t,(function(t,n,r){var i=null;t?a.reject(t):(i=new Ui(r,new Fi(e._repo,e._path),Ze),a.resolve(new Uo(n,i)))}),s,i),a.promise}var Bo=function(){function e(e){this._delegate=e}return e.prototype.cancel=function(e){Object(o.D)("OnDisconnect.cancel",0,1,arguments.length),Object(o.E)("OnDisconnect.cancel","onComplete",e,!0);var t=this._delegate.cancel();return e&&t.then((function(){return e(null)}),(function(t){return e(t)})),t},e.prototype.remove=function(e){Object(o.D)("OnDisconnect.remove",0,1,arguments.length),Object(o.E)("OnDisconnect.remove","onComplete",e,!0);var t=this._delegate.remove();return e&&t.then((function(){return e(null)}),(function(t){return e(t)})),t},e.prototype.set=function(e,t){Object(o.D)("OnDisconnect.set",1,2,arguments.length),Object(o.E)("OnDisconnect.set","onComplete",t,!0);var n=this._delegate.set(e);return t&&n.then((function(){return t(null)}),(function(e){return t(e)})),n},e.prototype.setWithPriority=function(e,t,n){Object(o.D)("OnDisconnect.setWithPriority",2,3,arguments.length),Object(o.E)("OnDisconnect.setWithPriority","onComplete",n,!0);var r=this._delegate.setWithPriority(e,t);return n&&r.then((function(){return n(null)}),(function(e){return n(e)})),r},e.prototype.update=function(e,t){if(Object(o.D)("OnDisconnect.update",1,2,arguments.length),Array.isArray(e)){for(var n={},r=0;r<e.length;++r)n[""+r]=e[r];e=n,T("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Object(o.E)("OnDisconnect.update","onComplete",t,!0);var i=this._delegate.update(e);return t&&i.then((function(){return t(null)}),(function(e){return t(e)})),i},e}(),Vo=function(){function e(e,t){this.committed=e,this.snapshot=t}return e.prototype.toJSON=function(){return Object(o.D)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}},e}(),Wo=function(){function e(e,t){this._database=e,this._delegate=t}return e.prototype.val=function(){return Object(o.D)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()},e.prototype.exportVal=function(){return Object(o.D)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()},e.prototype.toJSON=function(){return Object(o.D)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()},e.prototype.exists=function(){return Object(o.D)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()},e.prototype.child=function(t){return Object(o.D)("DataSnapshot.child",0,1,arguments.length),t=String(t),Gr("DataSnapshot.child","path",t,!1),new e(this._database,this._delegate.child(t))},e.prototype.hasChild=function(e){return Object(o.D)("DataSnapshot.hasChild",1,1,arguments.length),Gr("DataSnapshot.hasChild","path",e,!1),this._delegate.hasChild(e)},e.prototype.getPriority=function(){return Object(o.D)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority},e.prototype.forEach=function(t){var n=this;return Object(o.D)("DataSnapshot.forEach",1,1,arguments.length),Object(o.E)("DataSnapshot.forEach","action",t,!1),this._delegate.forEach((function(r){return t(new e(n._database,r))}))},e.prototype.hasChildren=function(){return Object(o.D)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()},Object.defineProperty(e.prototype,"key",{get:function(){return this._delegate.key},enumerable:!1,configurable:!0}),e.prototype.numChildren=function(){return Object(o.D)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size},e.prototype.getRef=function(){return Object(o.D)("DataSnapshot.ref",0,0,arguments.length),new Ho(this._database,this._delegate.ref)},Object.defineProperty(e.prototype,"ref",{get:function(){return this.getRef()},enumerable:!1,configurable:!0}),e}(),zo=function(){function e(e,t){this.database=e,this._delegate=t}return e.prototype.on=function(t,n,r,i){var a,s=this;Object(o.D)("Query.on",2,4,arguments.length),Object(o.E)("Query.on","callback",n,!1);var u=e.getCancelAndContextArgs_("Query.on",r,i),c=function(e,t){n.call(u.context,new Wo(s.database,e),t)};c.userCallback=n,c.context=u.context;var l=null===(a=u.cancel)||void 0===a?void 0:a.bind(u.context);switch(t){case"value":return Zi(this._delegate,c,l),n;case"child_added":return eo(this._delegate,c,l),n;case"child_removed":return ro(this._delegate,c,l),n;case"child_changed":return to(this._delegate,c,l),n;case"child_moved":return no(this._delegate,c,l),n;default:throw new Error(Object(o.m)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},e.prototype.off=function(e,t,n){if(Object(o.D)("Query.off",0,3,arguments.length),Hr("Query.off",e,!0),Object(o.E)("Query.off","callback",t,!0),Object(o.F)("Query.off","context",n,!0),t){var r=function(){};r.userCallback=t,r.context=n,io(this._delegate,e,r)}else io(this._delegate,e)},e.prototype.get=function(){var e=this;return Yi(this._delegate).then((function(t){return new Wo(e.database,t)}))},e.prototype.once=function(t,n,r,i){var a=this;Object(o.D)("Query.once",1,4,arguments.length),Object(o.E)("Query.once","callback",n,!0);var s=e.getCancelAndContextArgs_("Query.on",r,i),u=new o.a,c=function(e,t){var r=new Wo(a.database,e);n&&n.call(s.context,r,t),u.resolve(r)};c.userCallback=n,c.context=s.context;var l=function(e){s.cancel&&s.cancel.call(s.context,e),u.reject(e)};switch(t){case"value":Zi(this._delegate,c,l,{onlyOnce:!0});break;case"child_added":eo(this._delegate,c,l,{onlyOnce:!0});break;case"child_removed":ro(this._delegate,c,l,{onlyOnce:!0});break;case"child_changed":to(this._delegate,c,l,{onlyOnce:!0});break;case"child_moved":no(this._delegate,c,l,{onlyOnce:!0});break;default:throw new Error(Object(o.m)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return u.promise},e.prototype.limitToFirst=function(t){return Object(o.D)("Query.limitToFirst",1,1,arguments.length),new e(this.database,xo(this._delegate,yo(t)))},e.prototype.limitToLast=function(t){return Object(o.D)("Query.limitToLast",1,1,arguments.length),new e(this.database,xo(this._delegate,mo(t)))},e.prototype.orderByChild=function(t){return Object(o.D)("Query.orderByChild",1,1,arguments.length),new e(this.database,xo(this._delegate,_o(t)))},e.prototype.orderByKey=function(){return Object(o.D)("Query.orderByKey",0,0,arguments.length),new e(this.database,xo(this._delegate,Eo()))},e.prototype.orderByPriority=function(){return Object(o.D)("Query.orderByPriority",0,0,arguments.length),new e(this.database,xo(this._delegate,To()))},e.prototype.orderByValue=function(){return Object(o.D)("Query.orderByValue",0,0,arguments.length),new e(this.database,xo(this._delegate,Co()))},e.prototype.startAt=function(t,n){return void 0===t&&(t=null),Object(o.D)("Query.startAt",0,2,arguments.length),new e(this.database,xo(this._delegate,ho(t,n)))},e.prototype.startAfter=function(t,n){return void 0===t&&(t=null),Object(o.D)("Query.startAfter",0,2,arguments.length),new e(this.database,xo(this._delegate,po(t,n)))},e.prototype.endAt=function(t,n){return void 0===t&&(t=null),Object(o.D)("Query.endAt",0,2,arguments.length),new e(this.database,xo(this._delegate,so(t,n)))},e.prototype.endBefore=function(t,n){return void 0===t&&(t=null),Object(o.D)("Query.endBefore",0,2,arguments.length),new e(this.database,xo(this._delegate,co(t,n)))},e.prototype.equalTo=function(t,n){return Object(o.D)("Query.equalTo",1,2,arguments.length),new e(this.database,xo(this._delegate,Oo(t,n)))},e.prototype.toString=function(){return Object(o.D)("Query.toString",0,0,arguments.length),this._delegate.toString()},e.prototype.toJSON=function(){return Object(o.D)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()},e.prototype.isEqual=function(t){if(Object(o.D)("Query.isEqual",1,1,arguments.length),!(t instanceof e)){var n="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(n)}return this._delegate.isEqual(t._delegate)},e.getCancelAndContextArgs_=function(e,t,n){var r={cancel:void 0,context:void 0};if(t&&n)r.cancel=t,Object(o.E)(e,"cancel",r.cancel,!0),r.context=n,Object(o.F)(e,"context",r.context,!0);else if(t)if("object"===typeof t&&null!==t)r.context=t;else{if("function"!==typeof t)throw new Error(Object(o.m)(e,"cancelOrContext")+" must either be a cancel callback or a context object.");r.cancel=t}return r},Object.defineProperty(e.prototype,"ref",{get:function(){return new Ho(this.database,new Fi(this._delegate._repo,this._delegate._path))},enumerable:!1,configurable:!0}),e}(),Ho=function(e){function t(t,n){var r=e.call(this,t,new Di(n._repo,n._path,new wt,!1))||this;return r.database=t,r._delegate=n,r}return Object(a.b)(t,e),t.prototype.getKey=function(){return Object(o.D)("Reference.key",0,0,arguments.length),this._delegate.key},t.prototype.child=function(e){return Object(o.D)("Reference.child",1,1,arguments.length),"number"===typeof e&&(e=String(e)),new t(this.database,Vi(this._delegate,e))},t.prototype.getParent=function(){Object(o.D)("Reference.parent",0,0,arguments.length);var e=this._delegate.parent;return e?new t(this.database,e):null},t.prototype.getRoot=function(){return Object(o.D)("Reference.root",0,0,arguments.length),new t(this.database,this._delegate.root)},t.prototype.set=function(e,t){Object(o.D)("Reference.set",1,2,arguments.length),Object(o.E)("Reference.set","onComplete",t,!0);var n=Hi(this._delegate,e);return t&&n.then((function(){return t(null)}),(function(e){return t(e)})),n},t.prototype.update=function(e,t){if(Object(o.D)("Reference.update",1,2,arguments.length),Array.isArray(e)){for(var n={},r=0;r<e.length;++r)n[""+r]=e[r];e=n,T("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Qr("Reference.update",this._delegate._path),Object(o.E)("Reference.update","onComplete",t,!0);var i=Qi(this._delegate,e);return t&&i.then((function(){return t(null)}),(function(e){return t(e)})),i},t.prototype.setWithPriority=function(e,t,n){Object(o.D)("Reference.setWithPriority",2,3,arguments.length),Object(o.E)("Reference.setWithPriority","onComplete",n,!0);var r=Gi(this._delegate,e,t);return n&&r.then((function(){return n(null)}),(function(e){return n(e)})),r},t.prototype.remove=function(e){Object(o.D)("Reference.remove",0,1,arguments.length),Object(o.E)("Reference.remove","onComplete",e,!0);var t=zi(this._delegate);return e&&t.then((function(){return e(null)}),(function(t){return e(t)})),t},t.prototype.transaction=function(e,t,n){var r=this;Object(o.D)("Reference.transaction",1,3,arguments.length),Object(o.E)("Reference.transaction","transactionUpdate",e,!1),Object(o.E)("Reference.transaction","onComplete",t,!0),$r("Reference.transaction","applyLocally",n,!0);var i=qo(this._delegate,e,{applyLocally:n}).then((function(e){return new Vo(e.committed,new Wo(r.database,e.snapshot))}));return t&&i.then((function(e){return t(null,e.committed,e.snapshot)}),(function(e){return t(e,!1,null)})),i},t.prototype.setPriority=function(e,t){Object(o.D)("Reference.setPriority",1,2,arguments.length),Object(o.E)("Reference.setPriority","onComplete",t,!0);var n=Ki(this._delegate,e);return t&&n.then((function(){return t(null)}),(function(e){return t(e)})),n},t.prototype.push=function(e,n){var r=this;Object(o.D)("Reference.push",0,2,arguments.length),Object(o.E)("Reference.push","onComplete",n,!0);var i=Wi(this._delegate,e),a=i.then((function(e){return new t(r.database,e)}));n&&a.then((function(){return n(null)}),(function(e){return n(e)}));var s=new t(this.database,i);return s.then=a.then.bind(a),s.catch=a.catch.bind(a,void 0),s},t.prototype.onDisconnect=function(){return Qr("Reference.onDisconnect",this._delegate._path),new Bo(new Ai(this._delegate._repo,this._delegate._path))},Object.defineProperty(t.prototype,"key",{get:function(){return this.getKey()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return this.getParent()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){return this.getRoot()},enumerable:!1,configurable:!0}),t}(zo),Ko=function(){function e(e,t){var n=this;this._delegate=e,this.app=t,this.INTERNAL={delete:function(){return n._delegate._delete()}}}return e.prototype.useEmulator=function(e,t){Do(this._delegate,e,t)},e.prototype.ref=function(e){if(Object(o.D)("database.ref",0,1,arguments.length),e instanceof Ho){var t=Bi(this._delegate,e.toString());return new Ho(this,t)}t=qi(this._delegate,e);return new Ho(this,t)},e.prototype.refFromURL=function(e){var t="database.refFromURL";Object(o.D)(t,1,1,arguments.length);var n=Bi(this._delegate,e);return new Ho(this,n)},e.prototype.goOffline=function(){return Object(o.D)("database.goOffline",0,0,arguments.length),jo(this._delegate)},e.prototype.goOnline=function(){return Object(o.D)("database.goOnline",0,0,arguments.length),Lo(this._delegate)},e.ServerValue={TIMESTAMP:Fo,increment:function(e){return function(e){return{".sv":{increment:e}}}(e)}},e}();var Go=Object.freeze({__proto__:null,forceLongPolling:function(){se.forceDisallow(),ne.forceAllow()},forceWebSockets:function(){ne.forceDisallow()},isWebSocketsAvailable:function(){return se.isAvailable()},setSecurityDebugCallback:function(e,t){e._delegate._repo.persistentConnection_.securityDebugCallback_=t},stats:function(e,t){!function(e,t){if(void 0===t&&(t=!1),"undefined"!==typeof console){var n;t?(e.statsListener_||(e.statsListener_=new Dt(e.stats_)),n=e.statsListener_.get()):n=e.stats_.get();var r=Object.keys(n).reduce((function(e,t){return Math.max(t.length,e)}),0);A(n,(function(e,t){for(var n=e,i=e.length;i<r+2;i++)n+=" ";console.log(n+t)}))}}(e._delegate._repo,t)},statsIncrementCounter:function(e,t){!function(e,t){var n,r;e.stats_.incrementCounter(t),n=e.statsReporter_,r=t,n.statsToReport_[r]=!0}(e._delegate._repo,t)},dataUpdateCount:function(e){return e._delegate._repo.dataUpdateCount},interceptServerData:function(e,t){return function(e,t){e.interceptServerDataCallback_=t}(e._delegate._repo,t)},initStandalone:function(e){var t=e.app,n=e.url,r=e.version,o=e.customAuthImpl,a=e.namespace,s=e.nodeAdmin,u=void 0!==s&&s;oe(r);var c=new i.c("auth-internal",new i.b("database-standalone"));return c.setComponent(new i.a("auth-internal",(function(){return o}),"PRIVATE")),{instance:new Ko(Ro(t,c,n,u),t),namespace:a}}}),Qo=De;De.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)},De.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};var Yo=ce,$o=G,Xo=Object.freeze({__proto__:null,DataConnection:Qo,RealTimeConnection:Yo,hijackHash:function(e){var t=De.prototype.put;return De.prototype.put=function(n,r,i,o){void 0!==o&&(o=e()),t.call(this,n,r,i,o)},function(){De.prototype.put=t}},ConnectionTarget:$o,queryIdentifier:function(e){return e._delegate._queryIdentifier},forceRestClient:function(e){!function(e){No=e}(e)}}),Jo=Ko.ServerValue;!function(e){oe(e.SDK_VERSION);var n=e.INTERNAL.registerComponent(new i.a("database",(function(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal");return new Ko(Ro(r,i,n),r)}),"PUBLIC").setServiceProps({Reference:Ho,Query:zo,Database:Ko,DataSnapshot:Wo,enableLogging:Mo,INTERNAL:Go,ServerValue:Jo,TEST_ACCESS:Xo}).setMultipleInstances(!0));e.registerVersion("@firebase/database","0.9.12"),Object(o.t)()&&(t.exports=n)}(r.a)}).call(this,n(27),n(96)(e))},function(e,t){e.exports=function(e){if(!e.webpackPolyfill){var t=Object.create(e);t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),Object.defineProperty(t,"exports",{enumerable:!0}),t.webpackPolyfill=1}return t}},,function(e,t,n){"use strict";var r=n(26),i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};var o=function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function a(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(t){o(t)}}function s(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function s(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}Object.create;function u(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e}Object.create;var c=n(0),l=n(15),h="firebasestorage.googleapis.com",f=function(e){function t(n,r){var i=e.call(this,d(n),"Firebase Storage: "+r+" ("+d(n)+")")||this;return i.customData={serverResponse:null},i._baseMessage=i.message,Object.setPrototypeOf(i,t.prototype),i}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),t.prototype._codeEquals=function(e){return d(e)===this.code},Object.defineProperty(t.prototype,"serverResponse",{get:function(){return this.customData.serverResponse},set:function(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=this._baseMessage+"\n"+this.customData.serverResponse:this.message=this._baseMessage},enumerable:!1,configurable:!0}),t}(c.c);function d(e){return"storage/"+e}function p(){return new f("unknown","An unknown error occurred, please check the error payload for server response.")}function v(){return new f("canceled","User canceled the upload/download.")}function y(){return new f("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function g(e){return new f("invalid-argument",e)}function m(){return new f("app-deleted","The Firebase app was deleted.")}function b(e){return new f("invalid-root-operation","The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function _(e,t){return new f("invalid-format","String does not match format '"+e+"': "+t)}function w(e){throw new f("internal-error","Internal error: "+e)}var E={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},S=function(e,t){this.data=e,this.contentType=t||null};function T(e,t){switch(e){case E.RAW:return new S(I(t));case E.BASE64:case E.BASE64URL:return new S(C(e,t));case E.DATA_URL:return new S(function(e){var t=new k(e);return t.base64?C(E.BASE64,t.rest):function(e){var t;try{t=decodeURIComponent(e)}catch(n){throw _(E.DATA_URL,"Malformed data URL.")}return I(t)}(t.rest)}(t),new k(t).contentType)}throw p()}function I(e){for(var t=[],n=0;n<e.length;n++){var r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|63&r);else if(55296===(64512&r))if(n<e.length-1&&56320===(64512&e.charCodeAt(n+1)))r=65536|(1023&r)<<10|1023&e.charCodeAt(++n),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r);else t.push(239,191,189);else 56320===(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function C(e,t){switch(e){case E.BASE64:var n=-1!==t.indexOf("-"),r=-1!==t.indexOf("_");if(n||r)throw _(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case E.BASE64URL:var i=-1!==t.indexOf("+"),o=-1!==t.indexOf("/");if(i||o)throw _(e,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/")}var a;try{a=atob(t)}catch(c){throw _(e,"Invalid character found")}for(var s=new Uint8Array(a.length),u=0;u<a.length;u++)s[u]=a.charCodeAt(u);return s}var k=function(e){this.base64=!1,this.contentType=null;var t=e.match(/^data:([^,]+)?,/);if(null===t)throw _(E.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var n=t[1]||null;null!=n&&(this.base64=(r=n,i=";base64",r.length>=i.length&&r.substring(r.length-i.length)===i),this.contentType=this.base64?n.substring(0,n.length-";base64".length):n),this.rest=e.substring(e.indexOf(",")+1);var r,i};var O,x={STATE_CHANGED:"state_changed"},P={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function N(e){switch(e){case"running":case"pausing":case"canceling":return P.RUNNING;case"paused":return P.PAUSED;case"success":return P.SUCCESS;case"canceled":return P.CANCELED;case"error":default:return P.ERROR}}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(O||(O={}));var R=function(){function e(){var e=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=O.NO_ERROR,this.sendPromise_=new Promise((function(t){e.xhr_.addEventListener("abort",(function(){e.errorCode_=O.ABORT,t(e)})),e.xhr_.addEventListener("error",(function(){e.errorCode_=O.NETWORK_ERROR,t(e)})),e.xhr_.addEventListener("load",(function(){t(e)}))}))}return e.prototype.send=function(e,t,n,r){if(this.sent_)throw w("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(var i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_},e.prototype.getErrorCode=function(){if(!this.sent_)throw w("cannot .getErrorCode() before sending");return this.errorCode_},e.prototype.getStatus=function(){if(!this.sent_)throw w("cannot .getStatus() before sending");try{return this.xhr_.status}catch(e){return-1}},e.prototype.getResponseText=function(){if(!this.sent_)throw w("cannot .getResponseText() before sending");return this.xhr_.responseText},e.prototype.abort=function(){this.xhr_.abort()},e.prototype.getResponseHeader=function(e){return this.xhr_.getResponseHeader(e)},e.prototype.addUploadProgressListener=function(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)},e.prototype.removeUploadProgressListener=function(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)},e}(),A=function(){function e(){}return e.prototype.createXhrIo=function(){return new R},e}(),D=function(){function e(e,t){this.bucket=e,this.path_=t}return Object.defineProperty(e.prototype,"path",{get:function(){return this.path_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isRoot",{get:function(){return 0===this.path.length},enumerable:!1,configurable:!0}),e.prototype.fullServerUrl=function(){var e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)},e.prototype.bucketOnlyServerUrl=function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"},e.makeFromBucketSpec=function(t,n){var r;try{r=e.makeFromUrl(t,n)}catch(i){return new e(t,"")}if(""===r.path)return r;throw new f("invalid-default-bucket","Invalid default bucket '"+t+"'.")},e.makeFromUrl=function(t,n){var r=null,i="([A-Za-z0-9.\\-_]+)";var o=new RegExp("^gs://"+i+"(/(.*))?$","i");function a(e){e.path_=decodeURIComponent(e.path)}for(var s=n.replace(/[.]/g,"\\."),u=[{regex:o,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp("^https?://"+s+"/v[A-Za-z0-9_]+/b/"+i+"/o(/([^?#]*).*)?$","i"),indices:{bucket:1,path:3},postModify:a},{regex:new RegExp("^https?://"+(n===h?"(?:storage.googleapis.com|storage.cloud.google.com)":n)+"/"+i+"/([^?#]*)","i"),indices:{bucket:1,path:2},postModify:a}],c=0;c<u.length;c++){var l=u[c],d=l.regex.exec(t);if(d){var p=d[l.indices.bucket],v=d[l.indices.path];v||(v=""),r=new e(p,v),l.postModify(r);break}}if(null==r)throw function(e){return new f("invalid-url","Invalid URL '"+e+"'.")}(t);return r},e}(),j=function(){function e(e){this.promise_=Promise.reject(e)}return e.prototype.getPromise=function(){return this.promise_},e.prototype.cancel=function(e){},e}();function L(e){return"string"===typeof e||e instanceof String}function M(e){return F()&&e instanceof Blob}function F(){return"undefined"!==typeof Blob}function U(e,t,n,r){if(r<t)throw g("Invalid value for '"+e+"'. Expected "+t+" or greater.");if(r>n)throw g("Invalid value for '"+e+"'. Expected "+n+" or less.")}function q(e,t){var n=t.match(/^(\w+):\/\/.+/),r=t;return null==(null===n||void 0===n?void 0:n[1])&&(r="https://"+t),r+"/v0"+e}function B(e){var t=encodeURIComponent,n="?";for(var r in e){if(e.hasOwnProperty(r))n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1)}var V=function(){function e(e,t,n,r,i,o,a,s,u,c,l){var h=this;this.pendingXhr_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=e,this.method_=t,this.headers_=n,this.body_=r,this.successCodes_=i.slice(),this.additionalRetryCodes_=o.slice(),this.callback_=a,this.errorCallback_=s,this.progressCallback_=c,this.timeout_=u,this.pool_=l,this.promise_=new Promise((function(e,t){h.resolve_=e,h.reject_=t,h.start_()}))}return e.prototype.start_=function(){var e=this;function t(t,n){var r,i=e.resolve_,o=e.reject_,a=n.xhr;if(n.wasSuccessCode)try{var s=e.callback_(a,a.getResponseText());void 0!==s?i(s):i()}catch(u){o(u)}else null!==a?((r=p()).serverResponse=a.getResponseText(),e.errorCallback_?o(e.errorCallback_(a,r)):o(r)):n.canceled?o(r=e.appDelete_?m():v()):o(r=new f("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))}this.canceled_?t(0,new W(!1,null,!0)):this.backoffId_=function(e,t,n){var r=1,i=null,o=!1,a=0;function s(){return 2===a}var c=!1;function l(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];c||(c=!0,t.apply(null,e))}function h(t){i=setTimeout((function(){i=null,e(f,s())}),t)}function f(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(!c)if(e)l.call.apply(l,u([null,e],t));else{var i;s()||o?l.call.apply(l,u([null,e],t)):(r<64&&(r*=2),1===a?(a=2,i=0):i=1e3*(r+Math.random()),h(i))}}var d=!1;function p(e){d||(d=!0,c||(null!==i?(e||(a=2),clearTimeout(i),h(0)):e||(a=1)))}return h(0),setTimeout((function(){o=!0,p(!0)}),n),p}((function(t,n){if(n)t(!1,new W(!1,null,!0));else{var r=e.pool_.createXhrIo();e.pendingXhr_=r,null!==e.progressCallback_&&r.addUploadProgressListener(i),r.send(e.url_,e.method_,e.body_,e.headers_).then((function(n){null!==e.progressCallback_&&n.removeUploadProgressListener(i),e.pendingXhr_=null;var r=(n=n).getErrorCode()===O.NO_ERROR,o=n.getStatus();if(r&&!e.isRetryStatusCode_(o)){var a=-1!==e.successCodes_.indexOf(o);t(!0,new W(a,n))}else{var s=n.getErrorCode()===O.ABORT;t(!1,new W(!1,null,s))}}))}function i(t){var n=t.loaded,r=t.lengthComputable?t.total:-1;null!==e.progressCallback_&&e.progressCallback_(n,r)}}),t,this.timeout_)},e.prototype.getPromise=function(){return this.promise_},e.prototype.cancel=function(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingXhr_&&this.pendingXhr_.abort()},e.prototype.isRetryStatusCode_=function(e){var t=e>=500&&e<600,n=-1!==[408,429].indexOf(e),r=-1!==this.additionalRetryCodes_.indexOf(e);return t||n||r},e}(),W=function(e,t,n){this.wasSuccessCode=e,this.xhr=t,this.canceled=!!n};function z(){return"undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function H(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=z();if(void 0!==n){for(var r=new n,i=0;i<e.length;i++)r.append(e[i]);return r.getBlob()}if(F())return new Blob(e);throw new f("unsupported-environment","This browser doesn't seem to support creating Blobs")}var K=function(){function e(e,t){var n=0,r="";M(e)?(this.data_=e,n=e.size,r=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),n=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),n=e.length),this.size_=n,this.type_=r}return e.prototype.size=function(){return this.size_},e.prototype.type=function(){return this.type_},e.prototype.slice=function(t,n){if(M(this.data_)){var r=function(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}(this.data_,t,n);return null===r?null:new e(r)}return new e(new Uint8Array(this.data_.buffer,t,n-t),!0)},e.getBlob=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(F()){var r=t.map((function(t){return t instanceof e?t.data_:t}));return new e(H.apply(null,r))}var i=t.map((function(e){return L(e)?T(E.RAW,e).data:e.data_})),o=0;i.forEach((function(e){o+=e.byteLength}));var a=new Uint8Array(o),s=0;return i.forEach((function(e){for(var t=0;t<e.length;t++)a[s++]=e[t]})),new e(a,!0)},e.prototype.uploadData=function(){return this.data_},e}();function G(e){var t,n;try{t=JSON.parse(e)}catch(r){return null}return"object"!==typeof(n=t)||Array.isArray(n)?null:t}function Q(e){var t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function Y(e,t){return t}var $=function(e,t,n,r){this.server=e,this.local=t||e,this.writable=!!n,this.xform=r||Y},X=null;function J(){if(X)return X;var e=[];e.push(new $("bucket")),e.push(new $("generation")),e.push(new $("metageneration")),e.push(new $("name","fullPath",!0));var t=new $("name");t.xform=function(e,t){return function(e){return!L(e)||e.length<2?e:Q(e)}(t)},e.push(t);var n=new $("size");return n.xform=function(e,t){return void 0!==t?Number(t):t},e.push(n),e.push(new $("timeCreated")),e.push(new $("updated")),e.push(new $("md5Hash",null,!0)),e.push(new $("cacheControl",null,!0)),e.push(new $("contentDisposition",null,!0)),e.push(new $("contentEncoding",null,!0)),e.push(new $("contentLanguage",null,!0)),e.push(new $("contentType",null,!0)),e.push(new $("metadata","customMetadata",!0)),X=e}function Z(e,t,n){for(var r={type:"file"},i=n.length,o=0;o<i;o++){var a=n[o];r[a.local]=a.xform(r,t[a.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){var n=e.bucket,r=e.fullPath,i=new D(n,r);return t._makeStorageReference(i)}})}(r,e),r}function ee(e,t,n){var r=G(t);return null===r?null:Z(e,r,n)}function te(e,t){for(var n={},r=t.length,i=0;i<r;i++){var o=t[i];o.writable&&(n[o.server]=e[o.local])}return JSON.stringify(n)}function ne(e,t,n){var r=G(n);return null===r?null:function(e,t,n){var r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n.prefixes)for(var i=0,o=n.prefixes;i<o.length;i++){var a=o[i].replace(/\/$/,""),s=e._makeStorageReference(new D(t,a));r.prefixes.push(s)}if(n.items)for(var u=0,c=n.items;u<c.length;u++){var l=c[u];s=e._makeStorageReference(new D(t,l.name)),r.items.push(s)}return r}(e,t,r)}var re=function(e,t,n,r){this.url=e,this.method=t,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]};function ie(e){if(!e)throw p()}function oe(e,t){return function(n,r){var i=ee(e,r,t);return ie(null!==i),i}}function ae(e,t){return function(n,r){var i=ee(e,r,t);return ie(null!==i),function(e,t,n){var r=G(t);if(null===r)return null;if(!L(r.downloadTokens))return null;var i=r.downloadTokens;if(0===i.length)return null;var o=encodeURIComponent;return i.split(",").map((function(t){var r=e.bucket,i=e.fullPath;return q("/b/"+o(r)+"/o/"+o(i),n)+B({alt:"media",token:t})}))[0]}(i,r,e.host)}}function se(e){return function(t,n){var r,i,o;return 401===t.getStatus()?r=new f("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?(o=e.bucket,r=new f("quota-exceeded","Quota for bucket '"+o+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===t.getStatus()?(i=e.path,r=new f("unauthorized","User does not have permission to access '"+i+"'.")):r=n,r.serverResponse=n.serverResponse,r}}function ue(e){var t=se(e);return function(n,r){var i,o=t(n,r);return 404===n.getStatus()&&(i=e.path,o=new f("object-not-found","Object '"+i+"' does not exist.")),o.serverResponse=r.serverResponse,o}}function ce(e,t,n){var r=q(t.fullServerUrl(),e.host),i=e.maxOperationRetryTime,o=new re(r,"GET",oe(e,n),i);return o.errorHandler=ue(t),o}function le(e,t,n,r,i){var o={};t.isRoot?o.prefix="":o.prefix=t.path+"/",n&&n.length>0&&(o.delimiter=n),r&&(o.pageToken=r),i&&(o.maxResults=i);var a=q(t.bucketOnlyServerUrl(),e.host),s=e.maxOperationRetryTime,u=new re(a,"GET",function(e,t){return function(n,r){var i=ne(e,t,r);return ie(null!==i),i}}(e,t.bucket),s);return u.urlParams=o,u.errorHandler=se(t),u}function he(e,t,n){var r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=function(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}(null,t)),r}var fe=function(e,t,n,r){this.current=e,this.total=t,this.finalized=!!n,this.metadata=r||null};function de(e,t){var n=null;try{n=e.getResponseHeader("X-Goog-Upload-Status")}catch(r){ie(!1)}return ie(!!n&&-1!==(t||["active"]).indexOf(n)),n}var pe=262144;function ve(e,t,n,r,i,o,a,s){var u=new fe(0,0);if(a?(u.current=a.current,u.total=a.total):(u.current=0,u.total=r.size()),r.size()!==u.total)throw new f("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");var c=u.total-u.current,l=c;i>0&&(l=Math.min(l,i));var h=u.current,d=h+l,p={"X-Goog-Upload-Command":l===c?"upload, finalize":"upload","X-Goog-Upload-Offset":u.current},v=r.slice(h,d);if(null===v)throw y();var g=t.maxUploadRetryTime,m=new re(n,"POST",(function(e,n){var i,a=de(e,["active","final"]),s=u.current+l,c=r.size();return i="final"===a?oe(t,o)(e,n):null,new fe(s,c,"final"===a,i)}),g);return m.headers=p,m.body=v.uploadData(),m.progressCallback=s||null,m.errorHandler=se(e),m}var ye=function(e,t,n){if("function"===typeof e||null!=t||null!=n)this.next=e,this.error=t,this.complete=n;else{var r=e;this.next=r.next,this.error=r.error,this.complete=r.complete}};function ge(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];Promise.resolve().then((function(){return e.apply(void 0,t)}))}}var me=function(){function e(e,t,n){var r=this;void 0===n&&(n=null),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=n,this._mappings=J(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(e){r._request=void 0,r._chunkMultiplier=1,e._codeEquals("canceled")?(r._needToFetchStatus=!0,r.completeTransitions_()):(r._error=e,r._transition("error"))},this._metadataErrorHandler=function(e){r._request=void 0,e._codeEquals("canceled")?r.completeTransitions_():(r._error=e,r._transition("error"))},this._promise=new Promise((function(e,t){r._resolve=e,r._reject=t,r._start()})),this._promise.then(null,(function(){}))}return e.prototype._makeProgressCallback=function(){var e=this,t=this._transferred;return function(n){return e._updateProgress(t+n)}},e.prototype._shouldDoResumable=function(e){return e.size()>262144},e.prototype._start=function(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())},e.prototype._resolveToken=function(e){var t=this;this._ref.storage._getAuthToken().then((function(n){switch(t._state){case"running":e(n);break;case"canceling":t._transition("canceled");break;case"pausing":t._transition("paused")}}))},e.prototype._createResumable=function(){var e=this;this._resolveToken((function(t){var n=function(e,t,n,r,i){var o=t.bucketOnlyServerUrl(),a=he(t,r,i),s={name:a.fullPath},u=q(o,e.host),c={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":r.size(),"X-Goog-Upload-Header-Content-Type":a.contentType,"Content-Type":"application/json; charset=utf-8"},l=te(a,n),h=e.maxUploadRetryTime,f=new re(u,"POST",(function(e){var t;de(e);try{t=e.getResponseHeader("X-Goog-Upload-URL")}catch(n){ie(!1)}return ie(L(t)),t}),h);return f.urlParams=s,f.headers=c,f.body=l,f.errorHandler=se(t),f}(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),r=e._ref.storage._makeRequest(n,t);e._request=r,r.getPromise().then((function(t){e._request=void 0,e._uploadUrl=t,e._needToFetchStatus=!1,e.completeTransitions_()}),e._errorHandler)}))},e.prototype._fetchStatus=function(){var e=this,t=this._uploadUrl;this._resolveToken((function(n){var r=function(e,t,n,r){var i=e.maxUploadRetryTime,o=new re(n,"POST",(function(e){var t=de(e,["active","final"]),n=null;try{n=e.getResponseHeader("X-Goog-Upload-Size-Received")}catch(o){ie(!1)}n||ie(!1);var i=Number(n);return ie(!isNaN(i)),new fe(i,r.size(),"final"===t)}),i);return o.headers={"X-Goog-Upload-Command":"query"},o.errorHandler=se(t),o}(e._ref.storage,e._ref._location,t,e._blob),i=e._ref.storage._makeRequest(r,n);e._request=i,i.getPromise().then((function(t){t=t,e._request=void 0,e._updateProgress(t.current),e._needToFetchStatus=!1,t.finalized&&(e._needToFetchMetadata=!0),e.completeTransitions_()}),e._errorHandler)}))},e.prototype._continueUpload=function(){var e=this,t=pe*this._chunkMultiplier,n=new fe(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((function(i){var o;try{o=ve(e._ref._location,e._ref.storage,r,e._blob,t,e._mappings,n,e._makeProgressCallback())}catch(s){return e._error=s,void e._transition("error")}var a=e._ref.storage._makeRequest(o,i);e._request=a,a.getPromise().then((function(t){e._increaseMultiplier(),e._request=void 0,e._updateProgress(t.current),t.finalized?(e._metadata=t.metadata,e._transition("success")):e.completeTransitions_()}),e._errorHandler)}))},e.prototype._increaseMultiplier=function(){pe*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)},e.prototype._fetchMetadata=function(){var e=this;this._resolveToken((function(t){var n=ce(e._ref.storage,e._ref._location,e._mappings),r=e._ref.storage._makeRequest(n,t);e._request=r,r.getPromise().then((function(t){e._request=void 0,e._metadata=t,e._transition("success")}),e._metadataErrorHandler)}))},e.prototype._oneShotUpload=function(){var e=this;this._resolveToken((function(t){var n=function(e,t,n,r,i){var o=t.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"},s=function(){for(var e="",t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();a["Content-Type"]="multipart/related; boundary="+s;var u=he(t,r,i),c="--"+s+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+te(u,n)+"\r\n--"+s+"\r\nContent-Type: "+u.contentType+"\r\n\r\n",l="\r\n--"+s+"--",h=K.getBlob(c,r,l);if(null===h)throw y();var f={name:u.fullPath},d=q(o,e.host),p=e.maxUploadRetryTime,v=new re(d,"POST",oe(e,n),p);return v.urlParams=f,v.headers=a,v.body=h.uploadData(),v.errorHandler=se(t),v}(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),r=e._ref.storage._makeRequest(n,t);e._request=r,r.getPromise().then((function(t){e._request=void 0,e._metadata=t,e._updateProgress(e._blob.size()),e._transition("success")}),e._errorHandler)}))},e.prototype._updateProgress=function(e){var t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()},e.prototype._transition=function(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request&&this._request.cancel();break;case"running":var t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=v(),this._state=e,this._notifyObservers();break;case"error":case"success":this._state=e,this._notifyObservers()}},e.prototype.completeTransitions_=function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}},Object.defineProperty(e.prototype,"snapshot",{get:function(){var e=N(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}},enumerable:!1,configurable:!0}),e.prototype.on=function(e,t,n,r){var i=this,o=new ye(t,n,r);return this._addObserver(o),function(){i._removeObserver(o)}},e.prototype.then=function(e,t){return this._promise.then(e,t)},e.prototype.catch=function(e){return this.then(null,e)},e.prototype._addObserver=function(e){this._observers.push(e),this._notifyObserver(e)},e.prototype._removeObserver=function(e){var t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)},e.prototype._notifyObservers=function(){var e=this;this._finishPromise(),this._observers.slice().forEach((function(t){e._notifyObserver(t)}))},e.prototype._finishPromise=function(){if(void 0!==this._resolve){var e=!0;switch(N(this._state)){case P.SUCCESS:ge(this._resolve.bind(null,this.snapshot))();break;case P.CANCELED:case P.ERROR:ge(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}},e.prototype._notifyObserver=function(e){switch(N(this._state)){case P.RUNNING:case P.PAUSED:e.next&&ge(e.next.bind(e,this.snapshot))();break;case P.SUCCESS:e.complete&&ge(e.complete.bind(e))();break;case P.CANCELED:case P.ERROR:e.error&&ge(e.error.bind(e,this._error))();break;default:e.error&&ge(e.error.bind(e,this._error))()}},e.prototype.resume=function(){var e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e},e.prototype.pause=function(){var e="running"===this._state;return e&&this._transition("pausing"),e},e.prototype.cancel=function(){var e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e},e}(),be=function(){function e(e,t){this._service=e,this._location=t instanceof D?t:D.makeFromUrl(t,e.host)}return e.prototype.toString=function(){return"gs://"+this._location.bucket+"/"+this._location.path},e.prototype._newRef=function(t,n){return new e(t,n)},Object.defineProperty(e.prototype,"root",{get:function(){var e=new D(this._location.bucket,"");return this._newRef(this._service,e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bucket",{get:function(){return this._location.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fullPath",{get:function(){return this._location.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return Q(this._location.path)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"storage",{get:function(){return this._service},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=function(e){if(0===e.length)return null;var t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===t)return null;var n=new D(this._location.bucket,t);return new e(this._service,n)},enumerable:!1,configurable:!0}),e.prototype._throwIfRoot=function(e){if(""===this._location.path)throw b(e)},e}();function _e(e){var t={prefixes:[],items:[]};return we(e,t).then((function(){return t}))}function we(e,t,n){return a(this,void 0,void 0,(function(){var r,i,o;return s(this,(function(a){switch(a.label){case 0:return[4,Ee(e,{pageToken:n})];case 1:return r=a.sent(),(i=t.prefixes).push.apply(i,r.prefixes),(o=t.items).push.apply(o,r.items),null==r.nextPageToken?[3,3]:[4,we(e,t,r.nextPageToken)];case 2:a.sent(),a.label=3;case 3:return[2]}}))}))}function Ee(e,t){return a(this,void 0,void 0,(function(){var n,r,i;return s(this,(function(o){switch(o.label){case 0:return null!=t&&"number"===typeof t.maxResults&&U("options.maxResults",1,1e3,t.maxResults),[4,e.storage._getAuthToken()];case 1:return n=o.sent(),r=t||{},i=le(e.storage,e._location,"/",r.pageToken,r.maxResults),[2,e.storage._makeRequest(i,n).getPromise()]}}))}))}function Se(e,t){return a(this,void 0,void 0,(function(){var n,r;return s(this,(function(i){switch(i.label){case 0:return e._throwIfRoot("updateMetadata"),[4,e.storage._getAuthToken()];case 1:return n=i.sent(),r=function(e,t,n,r){var i=q(t.fullServerUrl(),e.host),o=te(n,r),a=e.maxOperationRetryTime,s=new re(i,"PATCH",oe(e,r),a);return s.headers={"Content-Type":"application/json; charset=utf-8"},s.body=o,s.errorHandler=ue(t),s}(e.storage,e._location,t,J()),[2,e.storage._makeRequest(r,n).getPromise()]}}))}))}function Te(e){return a(this,void 0,void 0,(function(){var t,n;return s(this,(function(r){switch(r.label){case 0:return e._throwIfRoot("getDownloadURL"),[4,e.storage._getAuthToken()];case 1:return t=r.sent(),n=function(e,t,n){var r=q(t.fullServerUrl(),e.host),i=e.maxOperationRetryTime,o=new re(r,"GET",ae(e,n),i);return o.errorHandler=ue(t),o}(e.storage,e._location,J()),[2,e.storage._makeRequest(n,t).getPromise().then((function(e){if(null===e)throw new f("no-download-url","The given file does not have any download URLs.");return e}))]}}))}))}function Ie(e){return a(this,void 0,void 0,(function(){var t,n;return s(this,(function(r){switch(r.label){case 0:return e._throwIfRoot("deleteObject"),[4,e.storage._getAuthToken()];case 1:return t=r.sent(),n=function(e,t){var n=q(t.fullServerUrl(),e.host),r=e.maxOperationRetryTime,i=new re(n,"DELETE",(function(e,t){}),r);return i.successCodes=[200,204],i.errorHandler=ue(t),i}(e.storage,e._location),[2,e.storage._makeRequest(n,t).getPromise()]}}))}))}function Ce(e,t){var n=function(e,t){var n=t.split("/").filter((function(e){return e.length>0})).join("/");return 0===e.length?n:e+"/"+n}(e._location.path,t),r=new D(e._location.bucket,n);return new be(e.storage,r)}function ke(e){return/^[A-Za-z]+:\/\//.test(e)}function Oe(e,t){if(e instanceof Ne){var n=e;if(null==n._bucket)throw new f("no-default-bucket","No default bucket found. Did you set the 'storageBucket' property when initializing the app?");var r=new be(n,n._bucket);return null!=t?Oe(r,t):r}if(void 0!==t){if(t.includes(".."))throw g('`path` param cannot contain ".."');return Ce(e,t)}return e}function xe(e,t){if(t&&ke(t)){if(e instanceof Ne)return new be(e,t);throw g("To use ref(service, url), the first argument must be a Storage instance.")}return Oe(e,t)}function Pe(e,t){var n=null===t||void 0===t?void 0:t.storageBucket;return null==n?null:D.makeFromBucketSpec(n,e)}var Ne=function(){function e(e,t,n,r,i){this.app=e,this._authProvider=t,this._pool=n,this._url=r,this._firebaseVersion=i,this._bucket=null,this._host=h,this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?D.makeFromBucketSpec(r,this._host):Pe(this._host,this.app.options)}return Object.defineProperty(e.prototype,"host",{get:function(){return this._host},set:function(e){this._host=e,null!=this._url?this._bucket=D.makeFromBucketSpec(this._url,e):this._bucket=Pe(e,this.app.options)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxUploadRetryTime",{get:function(){return this._maxUploadRetryTime},set:function(e){U("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxOperationRetryTime",{get:function(){return this._maxOperationRetryTime},set:function(e){U("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e},enumerable:!1,configurable:!0}),e.prototype._getAuthToken=function(){return a(this,void 0,void 0,(function(){var e,t;return s(this,(function(n){switch(n.label){case 0:return(e=this._authProvider.getImmediate({optional:!0}))?[4,e.getToken()]:[3,2];case 1:if(null!==(t=n.sent()))return[2,t.accessToken];n.label=2;case 2:return[2,null]}}))}))},e.prototype._delete=function(){return this._deleted=!0,this._requests.forEach((function(e){return e.cancel()})),this._requests.clear(),Promise.resolve()},e.prototype._makeStorageReference=function(e){return new be(this,e)},e.prototype._makeRequest=function(e,t){var n=this;if(this._deleted)return new j(m());var r=function(e,t,n,r,i){var o=B(e.urlParams),a=e.url+o,s=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(s,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(s,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!==t&&void 0!==t?t:"AppManager")}(s,i),new V(a,e.method,s,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,r)}(e,this._appId,t,this._pool,this._firebaseVersion);return this._requests.add(r),r.getPromise().then((function(){return n._requests.delete(r)}),(function(){return n._requests.delete(r)})),r},e}();function Re(e,t,n){return function(e,t,n){return e._throwIfRoot("uploadBytesResumable"),new me(e,new K(t),n)}(e=Object(c.n)(e),t,n)}function Ae(e){return function(e){return a(this,void 0,void 0,(function(){var t,n;return s(this,(function(r){switch(r.label){case 0:return e._throwIfRoot("getMetadata"),[4,e.storage._getAuthToken()];case 1:return t=r.sent(),n=ce(e.storage,e._location,J()),[2,e.storage._makeRequest(n,t).getPromise()]}}))}))}(e=Object(c.n)(e))}function De(e,t){return xe(e=Object(c.n)(e),t)}var je=function(){function e(e,t,n){this._delegate=e,this.task=t,this.ref=n}return Object.defineProperty(e.prototype,"bytesTransferred",{get:function(){return this._delegate.bytesTransferred},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"state",{get:function(){return this._delegate.state},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"totalBytes",{get:function(){return this._delegate.totalBytes},enumerable:!1,configurable:!0}),e}(),Le=function(){function e(e,t){this._delegate=e,this._ref=t,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}return Object.defineProperty(e.prototype,"snapshot",{get:function(){return new je(this._delegate.snapshot,this,this._ref)},enumerable:!1,configurable:!0}),e.prototype.then=function(e,t){var n=this;return this._delegate.then((function(t){if(e)return e(new je(t,n,n._ref))}),t)},e.prototype.on=function(e,t,n,r){var i=this,o=void 0;return t&&(o="function"===typeof t?function(e){return t(new je(e,i,i._ref))}:{next:t.next?function(e){return t.next(new je(e,i,i._ref))}:void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,o,n||void 0,r||void 0)},e}(),Me=function(){function e(e,t){this._delegate=e,this._service=t}return Object.defineProperty(e.prototype,"prefixes",{get:function(){var e=this;return this._delegate.prefixes.map((function(t){return new Fe(t,e._service)}))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"items",{get:function(){var e=this;return this._delegate.items.map((function(t){return new Fe(t,e._service)}))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"nextPageToken",{get:function(){return this._delegate.nextPageToken||null},enumerable:!1,configurable:!0}),e}(),Fe=function(){function e(e,t){this._delegate=e,this.storage=t}return Object.defineProperty(e.prototype,"name",{get:function(){return this._delegate.name},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bucket",{get:function(){return this._delegate.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fullPath",{get:function(){return this._delegate.fullPath},enumerable:!1,configurable:!0}),e.prototype.toString=function(){return this._delegate.toString()},e.prototype.child=function(t){return new e(function(e,t){return Ce(e,t)}(this._delegate,t),this.storage)},Object.defineProperty(e.prototype,"root",{get:function(){return new e(this._delegate.root,this.storage)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._delegate.parent;return null==t?null:new e(t,this.storage)},enumerable:!1,configurable:!0}),e.prototype.put=function(e,t){return this._throwIfRoot("put"),new Le(Re(this._delegate,e,t),this)},e.prototype.putString=function(e,t,n){void 0===t&&(t=E.RAW),this._throwIfRoot("putString");var r=T(t,e),i=o({},n);return null==i.contentType&&null!=r.contentType&&(i.contentType=r.contentType),new Le(new me(this._delegate,new K(r.data,!0),i),this)},e.prototype.listAll=function(){var e,t=this;return(e=this._delegate,_e(e=Object(c.n)(e))).then((function(e){return new Me(e,t.storage)}))},e.prototype.list=function(e){var t=this;return function(e,t){return Ee(e=Object(c.n)(e),t)}(this._delegate,e||void 0).then((function(e){return new Me(e,t.storage)}))},e.prototype.getMetadata=function(){return Ae(this._delegate)},e.prototype.updateMetadata=function(e){return function(e,t){return Se(e=Object(c.n)(e),t)}(this._delegate,e)},e.prototype.getDownloadURL=function(){return e=this._delegate,Te(e=Object(c.n)(e));var e},e.prototype.delete=function(){return this._throwIfRoot("delete"),e=this._delegate,Ie(e=Object(c.n)(e));var e},e.prototype._throwIfRoot=function(e){if(""===this._delegate._location.path)throw b(e)},e}(),Ue=function(){function e(e,t){var n=this;this.app=e,this._delegate=t,this.INTERNAL={delete:function(){return n._delegate._delete()}}}return Object.defineProperty(e.prototype,"maxOperationRetryTime",{get:function(){return this._delegate.maxOperationRetryTime},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxUploadRetryTime",{get:function(){return this._delegate.maxUploadRetryTime},enumerable:!1,configurable:!0}),e.prototype.ref=function(e){if(ke(e))throw g("ref() expected a child path but got a URL, use refFromURL instead.");return new Fe(De(this._delegate,e),this)},e.prototype.refFromURL=function(e){if(!ke(e))throw g("refFromURL() expected a full URL but got a child path, use ref() instead.");try{D.makeFromUrl(e,this._delegate.host)}catch(t){throw g("refFromUrl() expected a valid full URL but got an invalid one.")}return new Fe(De(this._delegate,e),this)},e.prototype.setMaxUploadRetryTime=function(e){this._delegate.maxUploadRetryTime=e},e.prototype.setMaxOperationRetryTime=function(e){this._delegate.maxOperationRetryTime=e},e.prototype.useEmulator=function(e,t){!function(e,t,n){e.host="http://"+t+":"+n}(this._delegate,e,t)},e}();function qe(e,t){var n=t.instanceIdentifier,i=e.getProvider("app").getImmediate(),o=e.getProvider("auth-internal");return new Ue(i,new Ne(i,o,new A,n,r.a.SDK_VERSION))}!function(e){var t={TaskState:P,TaskEvent:x,StringFormat:E,Storage:Ne,Reference:Fe};e.INTERNAL.registerComponent(new l.a("storage",qe,"PUBLIC").setServiceProps(t).setMultipleInstances(!0)),e.registerVersion("@firebase/storage","0.5.1")}(r.a)}]]);
//# sourceMappingURL=2.8da29a4f.chunk.js.map